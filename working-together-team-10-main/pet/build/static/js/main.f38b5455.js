/*! For license information please see main.f38b5455.js.LICENSE.txt */
(()=>{var e={8196:e=>{var t={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};e.exports=function(e,n){return"number"!==typeof n||t[e]?n:n+"px"}},6434:(e,t,n)=>{var a=n(620),r=n(3153),o={float:"cssFloat"},s=n(8196);function i(e,t,n){var i=o[t];if("undefined"===typeof i&&(i=function(e){var t=r(e),n=a(t);return o[t]=o[e]=o[n]=n,n}(t)),i){if(void 0===n)return e.style[i];e.style[i]=s(i,n)}}function l(){2===arguments.length?"string"===typeof arguments[1]?arguments[0].style.cssText=arguments[1]:function(e,t){for(var n in t)t.hasOwnProperty(n)&&i(e,n,t[n])}(arguments[0],arguments[1]):i(arguments[0],arguments[1],arguments[2])}e.exports=l,e.exports.set=l,e.exports.get=function(e,t){return Array.isArray(t)?t.reduce((function(t,n){return t[n]=i(e,n||""),t}),{}):i(e,t||"")}},2740:e=>{"use strict";e.exports=function(e,t,n,a,r,o,s,i){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,a,r,o,s,i],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},7353:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(T){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function a(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=a;var r={},o={};function s(e,t){var n,a,s;return t?(s=0<=(e>>>=0)&&e<256)&&(a=o[e])?a:(n=l(e,(0|e)<0?-1:0,!0),s&&(o[e]=n),n):(s=-128<=(e|=0)&&e<128)&&(a=r[e])?a:(n=l(e,e<0?-1:0,!1),s&&(r[e]=n),n)}function i(e,t){if(isNaN(e))return t?y:g;if(t){if(e<0)return y;if(e>=p)return k}else{if(e<=-f)return S;if(e+1>=f)return x}return e<0?i(-e,t).neg():l(e%h|0,e/h|0,t)}function l(e,t,a){return new n(e,t,a)}n.fromInt=s,n.fromNumber=i,n.fromBits=l;var c=Math.pow;function u(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var a;if((a=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===a)return u(e.substring(1),t,n).neg();for(var r=i(c(n,8)),o=g,s=0;s<e.length;s+=8){var l=Math.min(8,e.length-s),d=parseInt(e.substring(s,s+l),n);if(l<8){var h=i(c(n,l));o=o.mul(h).add(i(d))}else o=(o=o.mul(r)).add(i(d))}return o.unsigned=t,o}function d(e,t){return"number"===typeof e?i(e,t):"string"===typeof e?u(e,t):l(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=u,n.fromValue=d;var h=4294967296,p=h*h,f=p/2,m=s(1<<24),g=s(0);n.ZERO=g;var y=s(0,!0);n.UZERO=y;var b=s(1);n.ONE=b;var v=s(1,!0);n.UONE=v;var w=s(-1);n.NEG_ONE=w;var x=l(-1,2147483647,!1);n.MAX_VALUE=x;var k=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=k;var S=l(0,-2147483648,!1);n.MIN_VALUE=S;var N=n.prototype;N.toInt=function(){return this.unsigned?this.low>>>0:this.low},N.toNumber=function(){return this.unsigned?(this.high>>>0)*h+(this.low>>>0):this.high*h+(this.low>>>0)},N.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=i(e),n=this.div(t),a=n.mul(t).sub(this);return n.toString(e)+a.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var r=i(c(e,6),this.unsigned),o=this,s="";;){var l=o.div(r),u=(o.sub(l.mul(r)).toInt()>>>0).toString(e);if((o=l).isZero())return u+s;for(;u.length<6;)u="0"+u;s=""+u+s}},N.getHighBits=function(){return this.high},N.getHighBitsUnsigned=function(){return this.high>>>0},N.getLowBits=function(){return this.low},N.getLowBitsUnsigned=function(){return this.low>>>0},N.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},N.isZero=function(){return 0===this.high&&0===this.low},N.eqz=N.isZero,N.isNegative=function(){return!this.unsigned&&this.high<0},N.isPositive=function(){return this.unsigned||this.high>=0},N.isOdd=function(){return 1===(1&this.low)},N.isEven=function(){return 0===(1&this.low)},N.equals=function(e){return a(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},N.eq=N.equals,N.notEquals=function(e){return!this.eq(e)},N.neq=N.notEquals,N.ne=N.notEquals,N.lessThan=function(e){return this.comp(e)<0},N.lt=N.lessThan,N.lessThanOrEqual=function(e){return this.comp(e)<=0},N.lte=N.lessThanOrEqual,N.le=N.lessThanOrEqual,N.greaterThan=function(e){return this.comp(e)>0},N.gt=N.greaterThan,N.greaterThanOrEqual=function(e){return this.comp(e)>=0},N.gte=N.greaterThanOrEqual,N.ge=N.greaterThanOrEqual,N.compare=function(e){if(a(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},N.comp=N.compare,N.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(b)},N.neg=N.negate,N.add=function(e){a(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,r=this.low>>>16,o=65535&this.low,s=e.high>>>16,i=65535&e.high,c=e.low>>>16,u=0,h=0,p=0,f=0;return p+=(f+=o+(65535&e.low))>>>16,h+=(p+=r+c)>>>16,u+=(h+=n+i)>>>16,u+=t+s,l((p&=65535)<<16|(f&=65535),(u&=65535)<<16|(h&=65535),this.unsigned)},N.subtract=function(e){return a(e)||(e=d(e)),this.add(e.neg())},N.sub=N.subtract,N.multiply=function(e){if(this.isZero())return g;if(a(e)||(e=d(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(S))return e.isOdd()?S:g;if(e.eq(S))return this.isOdd()?S:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return i(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,r=65535&this.high,o=this.low>>>16,s=65535&this.low,c=e.high>>>16,u=65535&e.high,h=e.low>>>16,p=65535&e.low,f=0,y=0,b=0,v=0;return b+=(v+=s*p)>>>16,y+=(b+=o*p)>>>16,b&=65535,y+=(b+=s*h)>>>16,f+=(y+=r*p)>>>16,y&=65535,f+=(y+=o*h)>>>16,y&=65535,f+=(y+=s*u)>>>16,f+=n*p+r*h+o*u+s*c,l((b&=65535)<<16|(v&=65535),(f&=65535)<<16|(y&=65535),this.unsigned)},N.mul=N.multiply,N.divide=function(e){if(a(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,r,o;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?y:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return y;if(e.gt(this.shru(1)))return v;o=y}else{if(this.eq(S))return e.eq(b)||e.eq(w)?S:e.eq(S)?b:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?b:w:(r=this.sub(e.mul(n)),o=n.add(r.div(e)));if(e.eq(S))return this.unsigned?y:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=g}for(r=this;r.gte(e);){n=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var s=Math.ceil(Math.log(n)/Math.LN2),u=s<=48?1:c(2,s-48),h=i(n),p=h.mul(e);p.isNegative()||p.gt(r);)p=(h=i(n-=u,this.unsigned)).mul(e);h.isZero()&&(h=b),o=o.add(h),r=r.sub(p)}return o},N.div=N.divide,N.modulo=function(e){return a(e)||(e=d(e)),t?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},N.mod=N.modulo,N.rem=N.modulo,N.not=function(){return l(~this.low,~this.high,this.unsigned)},N.and=function(e){return a(e)||(e=d(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},N.or=function(e){return a(e)||(e=d(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},N.xor=function(e){return a(e)||(e=d(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},N.shiftLeft=function(e){return a(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},N.shl=N.shiftLeft,N.shiftRight=function(e){return a(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},N.shr=N.shiftRight,N.shiftRightUnsigned=function(e){if(a(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},N.shru=N.shiftRightUnsigned,N.shr_u=N.shiftRightUnsigned,N.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},N.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},N.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},N.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},N.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,a){return a?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},7588:function(e){(function(){var t,n,a,r,o,s;"undefined"!==typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!==typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-o)/1e6},n=process.hrtime,r=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),s=1e9*process.uptime(),o=r-s):Date.now?(e.exports=function(){return Date.now()-a},a=Date.now()):(e.exports=function(){return(new Date).getTime()-a},a=(new Date).getTime())}).call(this)},620:e=>{var t=null,n=["Webkit","Moz","O","ms"];e.exports=function(e){t||(t=document.createElement("div"));var a=t.style;if(e in a)return e;for(var r=e.charAt(0).toUpperCase()+e.slice(1),o=n.length;o>=0;o--){var s=n[o]+r;if(s in a)return s}return!1}},9197:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.default)((function(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];var r=null;return t.forEach((function(e){if(null==r){var t=e.apply(void 0,n);null!=t&&(r=t)}})),r}))};var a,r=n(3534),o=(a=r)&&a.__esModule?a:{default:a};e.exports=t.default},3534:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,a,r,o,s){var i=r||"<<anonymous>>",l=s||a;if(null==n[a])return t?new Error("Required "+o+" `"+l+"` was not specified in `"+i+"`."):null;for(var c=arguments.length,u=Array(c>6?c-6:0),d=6;d<c;d++)u[d-6]=arguments[d];return e.apply(void 0,[n,a,i,o,l].concat(u))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},1497:(e,t,n)=>{"use strict";var a=n(3218);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,s){if(s!==a){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},5173:(e,t,n)=>{e.exports=n(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},8073:(e,t,n)=>{for(var a=n(7588),r="undefined"===typeof window?n.g:window,o=["moz","webkit"],s="AnimationFrame",i=r["request"+s],l=r["cancel"+s]||r["cancelRequest"+s],c=0;!i&&c<o.length;c++)i=r[o[c]+"Request"+s],l=r[o[c]+"Cancel"+s]||r[o[c]+"CancelRequest"+s];if(!i||!l){var u=0,d=0,h=[];i=function(e){if(0===h.length){var t=a(),n=Math.max(0,16.666666666666668-(t-u));u=n+t,setTimeout((function(){var e=h.slice(0);h.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(n){setTimeout((function(){throw n}),0)}}),Math.round(n))}return h.push({handle:++d,callback:e,cancelled:!1}),d},l=function(e){for(var t=0;t<h.length;t++)h[t].handle===e&&(h[t].cancelled=!0)}}e.exports=function(e){return i.call(r,e)},e.exports.cancel=function(){l.apply(r,arguments)},e.exports.polyfill=function(e){e||(e=r),e.requestAnimationFrame=i,e.cancelAnimationFrame=l}},2195:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.renderViewDefault=function(e){return s.default.createElement("div",e)},t.renderTrackHorizontalDefault=function(e){var t=e.style,n=i(e,["style"]),r=a({},t,{right:2,bottom:2,left:2,borderRadius:3});return s.default.createElement("div",a({style:r},n))},t.renderTrackVerticalDefault=function(e){var t=e.style,n=i(e,["style"]),r=a({},t,{right:2,bottom:2,top:2,borderRadius:3});return s.default.createElement("div",a({style:r},n))},t.renderThumbHorizontalDefault=function(e){var t=e.style,n=i(e,["style"]),r=a({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return s.default.createElement("div",a({style:r},n))},t.renderThumbVerticalDefault=function(e){var t=e.style,n=i(e,["style"]),r=a({},t,{cursor:"pointer",borderRadius:"inherit",backgroundColor:"rgba(0,0,0,.2)"});return s.default.createElement("div",a({style:r},n))};var r,o=n(5043),s=(r=o)&&r.__esModule?r:{default:r};function i(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}},1427:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(8073),s=y(o),i=y(n(6434)),l=n(5043),c=y(n(5173)),u=y(n(3696)),d=y(n(1391)),h=y(n(1480)),p=y(n(6537)),f=y(n(2994)),m=n(7837),g=n(2195);function y(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,r=Array(a>1?a-1:0),o=1;o<a;o++)r[o-1]=arguments[o];var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(n=t.__proto__||Object.getPrototypeOf(t)).call.apply(n,[this,e].concat(r)));return s.getScrollLeft=s.getScrollLeft.bind(s),s.getScrollTop=s.getScrollTop.bind(s),s.getScrollWidth=s.getScrollWidth.bind(s),s.getScrollHeight=s.getScrollHeight.bind(s),s.getClientWidth=s.getClientWidth.bind(s),s.getClientHeight=s.getClientHeight.bind(s),s.getValues=s.getValues.bind(s),s.getThumbHorizontalWidth=s.getThumbHorizontalWidth.bind(s),s.getThumbVerticalHeight=s.getThumbVerticalHeight.bind(s),s.getScrollLeftForOffset=s.getScrollLeftForOffset.bind(s),s.getScrollTopForOffset=s.getScrollTopForOffset.bind(s),s.scrollLeft=s.scrollLeft.bind(s),s.scrollTop=s.scrollTop.bind(s),s.scrollToLeft=s.scrollToLeft.bind(s),s.scrollToTop=s.scrollToTop.bind(s),s.scrollToRight=s.scrollToRight.bind(s),s.scrollToBottom=s.scrollToBottom.bind(s),s.handleTrackMouseEnter=s.handleTrackMouseEnter.bind(s),s.handleTrackMouseLeave=s.handleTrackMouseLeave.bind(s),s.handleHorizontalTrackMouseDown=s.handleHorizontalTrackMouseDown.bind(s),s.handleVerticalTrackMouseDown=s.handleVerticalTrackMouseDown.bind(s),s.handleHorizontalThumbMouseDown=s.handleHorizontalThumbMouseDown.bind(s),s.handleVerticalThumbMouseDown=s.handleVerticalThumbMouseDown.bind(s),s.handleWindowResize=s.handleWindowResize.bind(s),s.handleScroll=s.handleScroll.bind(s),s.handleDrag=s.handleDrag.bind(s),s.handleDragEnd=s.handleDragEnd.bind(s),s.state={didMountUniversal:!1},s}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.addListeners(),this.update(),this.componentDidMountUniversal()}},{key:"componentDidMountUniversal",value:function(){this.props.universal&&this.setState({didMountUniversal:!0})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.removeListeners(),(0,o.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}},{key:"getScrollLeft",value:function(){return this.view?this.view.scrollLeft:0}},{key:"getScrollTop",value:function(){return this.view?this.view.scrollTop:0}},{key:"getScrollWidth",value:function(){return this.view?this.view.scrollWidth:0}},{key:"getScrollHeight",value:function(){return this.view?this.view.scrollHeight:0}},{key:"getClientWidth",value:function(){return this.view?this.view.clientWidth:0}},{key:"getClientHeight",value:function(){return this.view?this.view.clientHeight:0}},{key:"getValues",value:function(){var e=this.view||{},t=e.scrollLeft,n=void 0===t?0:t,a=e.scrollTop,r=void 0===a?0:a,o=e.scrollWidth,s=void 0===o?0:o,i=e.scrollHeight,l=void 0===i?0:i,c=e.clientWidth,u=void 0===c?0:c,d=e.clientHeight,h=void 0===d?0:d;return{left:n/(s-u)||0,top:r/(l-h)||0,scrollLeft:n,scrollTop:r,scrollWidth:s,scrollHeight:l,clientWidth:u,clientHeight:h}}},{key:"getThumbHorizontalWidth",value:function(){var e=this.props,t=e.thumbSize,n=e.thumbMinSize,a=this.view,r=a.scrollWidth,o=a.clientWidth,s=(0,p.default)(this.trackHorizontal),i=Math.ceil(o/r*s);return s===i?0:t||Math.max(i,n)}},{key:"getThumbVerticalHeight",value:function(){var e=this.props,t=e.thumbSize,n=e.thumbMinSize,a=this.view,r=a.scrollHeight,o=a.clientHeight,s=(0,f.default)(this.trackVertical),i=Math.ceil(o/r*s);return s===i?0:t||Math.max(i,n)}},{key:"getScrollLeftForOffset",value:function(e){var t=this.view,n=t.scrollWidth,a=t.clientWidth;return e/((0,p.default)(this.trackHorizontal)-this.getThumbHorizontalWidth())*(n-a)}},{key:"getScrollTopForOffset",value:function(e){var t=this.view,n=t.scrollHeight,a=t.clientHeight;return e/((0,f.default)(this.trackVertical)-this.getThumbVerticalHeight())*(n-a)}},{key:"scrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollLeft=e)}},{key:"scrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view&&(this.view.scrollTop=e)}},{key:"scrollToLeft",value:function(){this.view&&(this.view.scrollLeft=0)}},{key:"scrollToTop",value:function(){this.view&&(this.view.scrollTop=0)}},{key:"scrollToRight",value:function(){this.view&&(this.view.scrollLeft=this.view.scrollWidth)}},{key:"scrollToBottom",value:function(){this.view&&(this.view.scrollTop=this.view.scrollHeight)}},{key:"addListeners",value:function(){if("undefined"!==typeof document&&this.view){var e=this.view,t=this.trackHorizontal,n=this.trackVertical,a=this.thumbHorizontal,r=this.thumbVertical;e.addEventListener("scroll",this.handleScroll),(0,d.default)()&&(t.addEventListener("mouseenter",this.handleTrackMouseEnter),t.addEventListener("mouseleave",this.handleTrackMouseLeave),t.addEventListener("mousedown",this.handleHorizontalTrackMouseDown),n.addEventListener("mouseenter",this.handleTrackMouseEnter),n.addEventListener("mouseleave",this.handleTrackMouseLeave),n.addEventListener("mousedown",this.handleVerticalTrackMouseDown),a.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),r.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}}},{key:"removeListeners",value:function(){if("undefined"!==typeof document&&this.view){var e=this.view,t=this.trackHorizontal,n=this.trackVertical,a=this.thumbHorizontal,r=this.thumbVertical;e.removeEventListener("scroll",this.handleScroll),(0,d.default)()&&(t.removeEventListener("mouseenter",this.handleTrackMouseEnter),t.removeEventListener("mouseleave",this.handleTrackMouseLeave),t.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown),n.removeEventListener("mouseenter",this.handleTrackMouseEnter),n.removeEventListener("mouseleave",this.handleTrackMouseLeave),n.removeEventListener("mousedown",this.handleVerticalTrackMouseDown),a.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),r.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}}},{key:"handleScroll",value:function(e){var t=this,n=this.props,a=n.onScroll,r=n.onScrollFrame;a&&a(e),this.update((function(e){var n=e.scrollLeft,a=e.scrollTop;t.viewScrollLeft=n,t.viewScrollTop=a,r&&r(e)})),this.detectScrolling()}},{key:"handleScrollStart",value:function(){var e=this.props.onScrollStart;e&&e(),this.handleScrollStartAutoHide()}},{key:"handleScrollStartAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleScrollStop",value:function(){var e=this.props.onScrollStop;e&&e(),this.handleScrollStopAutoHide()}},{key:"handleScrollStopAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleWindowResize",value:function(){this.update()}},{key:"handleHorizontalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,n=e.clientX,a=t.getBoundingClientRect().left,r=this.getThumbHorizontalWidth(),o=Math.abs(a-n)-r/2;this.view.scrollLeft=this.getScrollLeftForOffset(o)}},{key:"handleVerticalTrackMouseDown",value:function(e){e.preventDefault();var t=e.target,n=e.clientY,a=t.getBoundingClientRect().top,r=this.getThumbVerticalHeight(),o=Math.abs(a-n)-r/2;this.view.scrollTop=this.getScrollTopForOffset(o)}},{key:"handleHorizontalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,n=e.clientX,a=t.offsetWidth,r=t.getBoundingClientRect().left;this.prevPageX=a-(n-r)}},{key:"handleVerticalThumbMouseDown",value:function(e){e.preventDefault(),this.handleDragStart(e);var t=e.target,n=e.clientY,a=t.offsetHeight,r=t.getBoundingClientRect().top;this.prevPageY=a-(n-r)}},{key:"setupDragging",value:function(){(0,i.default)(document.body,m.disableSelectStyle),document.addEventListener("mousemove",this.handleDrag),document.addEventListener("mouseup",this.handleDragEnd),document.onselectstart=h.default}},{key:"teardownDragging",value:function(){(0,i.default)(document.body,m.disableSelectStyleReset),document.removeEventListener("mousemove",this.handleDrag),document.removeEventListener("mouseup",this.handleDragEnd),document.onselectstart=void 0}},{key:"handleDragStart",value:function(e){this.dragging=!0,e.stopImmediatePropagation(),this.setupDragging()}},{key:"handleDrag",value:function(e){if(this.prevPageX){var t=e.clientX,n=-this.trackHorizontal.getBoundingClientRect().left+t-(this.getThumbHorizontalWidth()-this.prevPageX);this.view.scrollLeft=this.getScrollLeftForOffset(n)}if(this.prevPageY){var a=e.clientY,r=-this.trackVertical.getBoundingClientRect().top+a-(this.getThumbVerticalHeight()-this.prevPageY);this.view.scrollTop=this.getScrollTopForOffset(r)}return!1}},{key:"handleDragEnd",value:function(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}},{key:"handleDragEndAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"handleTrackMouseEnter",value:function(){this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide()}},{key:"handleTrackMouseEnterAutoHide",value:function(){this.props.autoHide&&this.showTracks()}},{key:"handleTrackMouseLeave",value:function(){this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide()}},{key:"handleTrackMouseLeaveAutoHide",value:function(){this.props.autoHide&&this.hideTracks()}},{key:"showTracks",value:function(){clearTimeout(this.hideTracksTimeout),(0,i.default)(this.trackHorizontal,{opacity:1}),(0,i.default)(this.trackVertical,{opacity:1})}},{key:"hideTracks",value:function(){var e=this;if(!this.dragging&&!this.scrolling&&!this.trackMouseOver){var t=this.props.autoHideTimeout;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout((function(){(0,i.default)(e.trackHorizontal,{opacity:0}),(0,i.default)(e.trackVertical,{opacity:0})}),t)}}},{key:"detectScrolling",value:function(){var e=this;this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval((function(){e.lastViewScrollLeft===e.viewScrollLeft&&e.lastViewScrollTop===e.viewScrollTop&&(clearInterval(e.detectScrollingInterval),e.scrolling=!1,e.handleScrollStop()),e.lastViewScrollLeft=e.viewScrollLeft,e.lastViewScrollTop=e.viewScrollTop}),100))}},{key:"raf",value:function(e){var t=this;this.requestFrame&&s.default.cancel(this.requestFrame),this.requestFrame=(0,s.default)((function(){t.requestFrame=void 0,e()}))}},{key:"update",value:function(e){var t=this;this.raf((function(){return t._update(e)}))}},{key:"_update",value:function(e){var t=this.props,n=t.onUpdate,a=t.hideTracksWhenNotNeeded,r=this.getValues();if((0,d.default)()){var o=r.scrollLeft,s=r.clientWidth,l=r.scrollWidth,c=(0,p.default)(this.trackHorizontal),u=this.getThumbHorizontalWidth(),h={width:u,transform:"translateX("+o/(l-s)*(c-u)+"px)"},m=r.scrollTop,g=r.clientHeight,y=r.scrollHeight,b=(0,f.default)(this.trackVertical),v=this.getThumbVerticalHeight(),w={height:v,transform:"translateY("+m/(y-g)*(b-v)+"px)"};if(a){var x={visibility:l>s?"visible":"hidden"},k={visibility:y>g?"visible":"hidden"};(0,i.default)(this.trackHorizontal,x),(0,i.default)(this.trackVertical,k)}(0,i.default)(this.thumbHorizontal,h),(0,i.default)(this.thumbVertical,w)}n&&n(r),"function"===typeof e&&e(r)}},{key:"render",value:function(){var e=this,t=(0,d.default)(),n=this.props,r=(n.onScroll,n.onScrollFrame,n.onScrollStart,n.onScrollStop,n.onUpdate,n.renderView),o=n.renderTrackHorizontal,s=n.renderTrackVertical,i=n.renderThumbHorizontal,c=n.renderThumbVertical,h=n.tagName,p=(n.hideTracksWhenNotNeeded,n.autoHide),f=(n.autoHideTimeout,n.autoHideDuration),g=(n.thumbSize,n.thumbMinSize,n.universal),y=n.autoHeight,b=n.autoHeightMin,v=n.autoHeightMax,w=n.style,x=n.children,k=function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(n,["onScroll","onScrollFrame","onScrollStart","onScrollStop","onUpdate","renderView","renderTrackHorizontal","renderTrackVertical","renderThumbHorizontal","renderThumbVertical","tagName","hideTracksWhenNotNeeded","autoHide","autoHideTimeout","autoHideDuration","thumbSize","thumbMinSize","universal","autoHeight","autoHeightMin","autoHeightMax","style","children"]),S=this.state.didMountUniversal,N=a({},m.containerStyleDefault,y&&a({},m.containerStyleAutoHeight,{minHeight:b,maxHeight:v}),w),T=a({},m.viewStyleDefault,{marginRight:t?-t:0,marginBottom:t?-t:0},y&&a({},m.viewStyleAutoHeight,{minHeight:(0,u.default)(b)?"calc("+b+" + "+t+"px)":b+t,maxHeight:(0,u.default)(v)?"calc("+v+" + "+t+"px)":v+t}),y&&g&&!S&&{minHeight:b,maxHeight:v},g&&!S&&m.viewStyleUniversalInitial),C={transition:"opacity "+f+"ms",opacity:0},I=a({},m.trackHorizontalStyleDefault,p&&C,(!t||g&&!S)&&{display:"none"}),E=a({},m.trackVerticalStyleDefault,p&&C,(!t||g&&!S)&&{display:"none"});return(0,l.createElement)(h,a({},k,{style:N,ref:function(t){e.container=t}}),[(0,l.cloneElement)(r({style:T}),{key:"view",ref:function(t){e.view=t}},x),(0,l.cloneElement)(o({style:I}),{key:"trackHorizontal",ref:function(t){e.trackHorizontal=t}},(0,l.cloneElement)(i({style:m.thumbHorizontalStyleDefault}),{ref:function(t){e.thumbHorizontal=t}})),(0,l.cloneElement)(s({style:E}),{key:"trackVertical",ref:function(t){e.trackVertical=t}},(0,l.cloneElement)(c({style:m.thumbVerticalStyleDefault}),{ref:function(t){e.thumbVertical=t}}))])}}]),t}(l.Component);t.default=b,b.propTypes={onScroll:c.default.func,onScrollFrame:c.default.func,onScrollStart:c.default.func,onScrollStop:c.default.func,onUpdate:c.default.func,renderView:c.default.func,renderTrackHorizontal:c.default.func,renderTrackVertical:c.default.func,renderThumbHorizontal:c.default.func,renderThumbVertical:c.default.func,tagName:c.default.string,thumbSize:c.default.number,thumbMinSize:c.default.number,hideTracksWhenNotNeeded:c.default.bool,autoHide:c.default.bool,autoHideTimeout:c.default.number,autoHideDuration:c.default.number,autoHeight:c.default.bool,autoHeightMin:c.default.oneOfType([c.default.number,c.default.string]),autoHeightMax:c.default.oneOfType([c.default.number,c.default.string]),universal:c.default.bool,style:c.default.object,children:c.default.node},b.defaultProps={renderView:g.renderViewDefault,renderTrackHorizontal:g.renderTrackHorizontalDefault,renderTrackVertical:g.renderTrackVerticalDefault,renderThumbHorizontal:g.renderThumbHorizontalDefault,renderThumbVertical:g.renderThumbVerticalDefault,tagName:"div",thumbMinSize:30,hideTracksWhenNotNeeded:!1,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,universal:!1}},7837:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%"},t.containerStyleAutoHeight={height:"auto"},t.viewStyleDefault={position:"absolute",top:0,left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"},t.viewStyleAutoHeight={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0},t.viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0},t.trackHorizontalStyleDefault={position:"absolute",height:6},t.trackVerticalStyleDefault={position:"absolute",width:6},t.thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"},t.thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"},t.disableSelectStyle={userSelect:"none"},t.disableSelectStyleReset={userSelect:""}},6483:(e,t,n)=>{"use strict";t.ur=void 0;var a,r=n(1427),o=(a=r)&&a.__esModule?a:{default:a};o.default,t.ur=o.default},2994:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.clientHeight,n=getComputedStyle(e),a=n.paddingTop,r=n.paddingBottom;return t-parseFloat(a)-parseFloat(r)}},6537:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.clientWidth,n=getComputedStyle(e),a=n.paddingLeft,r=n.paddingRight;return t-parseFloat(a)-parseFloat(r)}},1391:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!1!==s)return s;if("undefined"!==typeof document){var e=document.createElement("div");(0,o.default)(e,{width:100,height:100,position:"absolute",top:-9999,overflow:"scroll",MsOverflowStyle:"scrollbar"}),document.body.appendChild(e),s=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}else s=0;return s||0};var a,r=n(6434),o=(a=r)&&a.__esModule?a:{default:a};var s=!1},3696:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"===typeof e}},1480:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return!1}},2730:(e,t,n)=>{"use strict";var a=n(5043),r=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,i={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,a,r,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function v(e,t,n,a){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,a){if(null===t||"undefined"===typeof t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,a)&&(n=null),a||null===r?function(e){return!!d.call(f,e)||!d.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,a=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),I=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var F=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}var M,P=Object.assign;function z(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function B(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),o=a.stack.split("\n"),s=r.length-1,i=o.length-1;1<=s&&0<=i&&r[s]!==o[i];)i--;for(;1<=s&&0<=i;s--,i--)if(r[s]!==o[i]){if(1!==s||1!==i)do{if(s--,0>--i||r[s]!==o[i]){var l="\n"+r[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=i);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function W(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case T:return"Profiler";case N:return"StrictMode";case A:return"Suspense";case _:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){a=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=G(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return P({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function J(e,t){Z(e,t);var n=H(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return P({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function oe(e,t){var n=H(t.value),a=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),r=me(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,r):e[n]=r}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=P({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,Ne=null;function Te(e){if(e=vr(e)){if("function"!==typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=xr(t),ke(e.stateNode,e.type,t))}}function Ce(e){Se?Ne?Ne.push(e):Ne=[e]:Se=e}function Ie(){if(Se){var e=Se,t=Ne;if(Ne=Se=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ee(e,t){return e(t)}function Ae(){}var _e=!1;function Re(e,t,n){if(_e)return e(t,n);_e=!0;try{return Ee(e,t,n)}finally{_e=!1,(null!==Se||null!==Ne)&&(Ae(),Ie())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var a=xr(n);if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Oe=!1;if(u)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(ue){Oe=!1}function Le(e,t,n,a,r,o,s,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Pe=null,ze=!1,je=null,Be={onError:function(e){Me=!0,Pe=e}};function We(e,t,n,a,r,o,s,i,l){Me=!1,Pe=null,Le.apply(Be,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ue(e)!==e)throw Error(o(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(a=r.return)){n=a;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return He(r),e;if(s===a)return He(r),t;s=s.sibling}throw Error(o(188))}if(n.return!==a.return)n=r,a=s;else{for(var i=!1,l=r.child;l;){if(l===n){i=!0,n=r,a=s;break}if(l===a){i=!0,a=r,n=s;break}l=l.sibling}if(!i){for(l=s.child;l;){if(l===n){i=!0,n=s,a=r;break}if(l===a){i=!0,a=s,n=r;break}l=l.sibling}if(!i)throw Error(o(189))}}if(n.alternate!==a)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ke=r.unstable_scheduleCallback,Xe=r.unstable_cancelCallback,Ye=r.unstable_shouldYield,Qe=r.unstable_requestPaint,Ze=r.unstable_now,Je=r.unstable_getCurrentPriorityLevel,$e=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,at=r.unstable_IdlePriority,rt=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(it(e)/lt|0)|0},it=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var a=0,r=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var i=s&~r;0!==i?a=dt(i):0!==(o&=s)&&(a=dt(o))}else 0!==(s=n&~r)?a=dt(s):0!==o&&(a=dt(o));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&r)&&((r=a&-a)>=(o=t&-t)||16===r&&0!==(4194240&o)))return t;if(0!==(4&a)&&(a|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)r=1<<(n=31-st(t)),a|=e[n],t&=~r;return a}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-st(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}var vt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,kt,St,Nt,Tt,Ct=!1,It=[],Et=null,At=null,_t=null,Rt=new Map,Dt=new Map,Ot=[],Ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Mt(e,t,n,a,r,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:o,targetContainers:[r]},null!==t&&(null!==(t=vr(t))&&kt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Pt(e){var t=br(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Tt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vr(n))&&kt(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);we=a,n.target.dispatchEvent(a),we=null,t.shift()}return!0}function jt(e,t,n){zt(e)&&n.delete(t)}function Bt(){Ct=!1,null!==Et&&zt(Et)&&(Et=null),null!==At&&zt(At)&&(At=null),null!==_t&&zt(_t)&&(_t=null),Rt.forEach(jt),Dt.forEach(jt)}function Wt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return Wt(t,e)}if(0<It.length){Wt(It[0],e);for(var n=1;n<It.length;n++){var a=It[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==Et&&Wt(Et,e),null!==At&&Wt(At,e),null!==_t&&Wt(_t,e),Rt.forEach(t),Dt.forEach(t),n=0;n<Ot.length;n++)(a=Ot[n]).blockedOn===e&&(a.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Pt(n),null===n.blockedOn&&Ot.shift()}var Vt=w.ReactCurrentBatchConfig,Ht=!0;function Gt(e,t,n,a){var r=vt,o=Vt.transition;Vt.transition=null;try{vt=1,Kt(e,t,n,a)}finally{vt=r,Vt.transition=o}}function qt(e,t,n,a){var r=vt,o=Vt.transition;Vt.transition=null;try{vt=4,Kt(e,t,n,a)}finally{vt=r,Vt.transition=o}}function Kt(e,t,n,a){if(Ht){var r=Yt(e,t,n,a);if(null===r)Ha(e,t,a,Xt,n),Lt(e,a);else if(function(e,t,n,a,r){switch(t){case"focusin":return Et=Mt(Et,e,t,n,a,r),!0;case"dragenter":return At=Mt(At,e,t,n,a,r),!0;case"mouseover":return _t=Mt(_t,e,t,n,a,r),!0;case"pointerover":var o=r.pointerId;return Rt.set(o,Mt(Rt.get(o)||null,e,t,n,a,r)),!0;case"gotpointercapture":return o=r.pointerId,Dt.set(o,Mt(Dt.get(o)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a))a.stopPropagation();else if(Lt(e,a),4&t&&-1<Ft.indexOf(e)){for(;null!==r;){var o=vr(r);if(null!==o&&xt(o),null===(o=Yt(e,t,n,a))&&Ha(e,t,a,Xt,n),o===r)break;r=o}null!==r&&a.stopPropagation()}else Ha(e,t,a,null,n)}}var Xt=null;function Yt(e,t,n,a){if(Xt=null,null!==(e=br(e=xe(a))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Zt=null,Jt=null,$t=null;function en(){if($t)return $t;var e,t,n=Jt,a=n.length,r="value"in Zt?Zt.value:Zt.textContent,o=r.length;for(e=0;e<a&&n[e]===r[e];e++);var s=a-e;for(t=1;t<=s&&n[a-t]===r[o-t];t++);return $t=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function an(){return!1}function rn(e){function t(t,n,a,r,o){for(var s in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:an,this.isPropagationStopped=an,this}return P(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=rn(cn),dn=P({},cn,{view:0,detail:0}),hn=rn(dn),pn=P({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),fn=rn(pn),mn=rn(P({},pn,{dataTransfer:0})),gn=rn(P({},dn,{relatedTarget:0})),yn=rn(P({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=P({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=rn(bn),wn=rn(P({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Tn(){return Nn}var Cn=P({},dn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=rn(Cn),En=rn(P({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=rn(P({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),_n=rn(P({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=P({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=rn(Rn),On=[9,13,27,32],Fn=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,Pn=u&&(!Fn||Ln&&8<Ln&&11>=Ln),zn=String.fromCharCode(32),jn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Gn(e,t,n,a){Ce(a),0<(t=qa(t,"onChange")).length&&(n=new un("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var qn=null,Kn=null;function Xn(e){za(e,0)}function Yn(e){if(K(wr(e)))return e}function Qn(e,t){if("change"===e)return t}var Zn=!1;if(u){var Jn;if(u){var $n="oninput"in document;if(!$n){var ea=document.createElement("div");ea.setAttribute("oninput","return;"),$n="function"===typeof ea.oninput}Jn=$n}else Jn=!1;Zn=Jn&&(!document.documentMode||9<document.documentMode)}function ta(){qn&&(qn.detachEvent("onpropertychange",na),Kn=qn=null)}function na(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Gn(t,Kn,e,xe(e)),Re(Xn,t)}}function aa(e,t,n){"focusin"===e?(ta(),Kn=n,(qn=t).attachEvent("onpropertychange",na)):"focusout"===e&&ta()}function ra(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function oa(e,t){if("click"===e)return Yn(t)}function sa(e,t){if("input"===e||"change"===e)return Yn(t)}var ia="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function la(e,t){if(ia(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!d.call(t,r)||!ia(e[r],t[r]))return!1}return!0}function ca(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ua(e,t){var n,a=ca(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ca(a)}}function da(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?da(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ha(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function pa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fa(e){var t=ha(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&da(n.ownerDocument.documentElement,n)){if(null!==a&&pa(n))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(a.start,r);a=void 0===a.end?o:Math.min(a.end,r),!e.extend&&o>a&&(r=a,a=o,o=r),r=ua(n,o);var s=ua(n,a);r&&s&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),o>a?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ma=u&&"documentMode"in document&&11>=document.documentMode,ga=null,ya=null,ba=null,va=!1;function wa(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;va||null==ga||ga!==X(a)||("selectionStart"in(a=ga)&&pa(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},ba&&la(ba,a)||(ba=a,0<(a=qa(ya,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=ga)))}function xa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ka={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionend:xa("Transition","TransitionEnd")},Sa={},Na={};function Ta(e){if(Sa[e])return Sa[e];if(!ka[e])return e;var t,n=ka[e];for(t in n)if(n.hasOwnProperty(t)&&t in Na)return Sa[e]=n[t];return e}u&&(Na=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);var Ca=Ta("animationend"),Ia=Ta("animationiteration"),Ea=Ta("animationstart"),Aa=Ta("transitionend"),_a=new Map,Ra="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Da(e,t){_a.set(e,t),l(t,[e])}for(var Oa=0;Oa<Ra.length;Oa++){var Fa=Ra[Oa];Da(Fa.toLowerCase(),"on"+(Fa[0].toUpperCase()+Fa.slice(1)))}Da(Ca,"onAnimationEnd"),Da(Ia,"onAnimationIteration"),Da(Ea,"onAnimationStart"),Da("dblclick","onDoubleClick"),Da("focusin","onFocus"),Da("focusout","onBlur"),Da(Aa,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var La="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ma=new Set("cancel close invalid load scroll toggle".split(" ").concat(La));function Pa(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,a,r,s,i,l,c){if(We.apply(this,arguments),Me){if(!Me)throw Error(o(198));var u=Pe;Me=!1,Pe=null,ze||(ze=!0,je=u)}}(a,t,void 0,e),e.currentTarget=null}function za(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var o=void 0;if(t)for(var s=a.length-1;0<=s;s--){var i=a[s],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==o&&r.isPropagationStopped())break e;Pa(r,i,c),o=l}else for(s=0;s<a.length;s++){if(l=(i=a[s]).instance,c=i.currentTarget,i=i.listener,l!==o&&r.isPropagationStopped())break e;Pa(r,i,c),o=l}}}if(ze)throw e=je,ze=!1,je=null,e}function ja(e,t){var n=t[mr];void 0===n&&(n=t[mr]=new Set);var a=e+"__bubble";n.has(a)||(Va(t,e,2,!1),n.add(a))}function Ba(e,t,n){var a=0;t&&(a|=4),Va(n,e,a,t)}var Wa="_reactListening"+Math.random().toString(36).slice(2);function Ua(e){if(!e[Wa]){e[Wa]=!0,s.forEach((function(t){"selectionchange"!==t&&(Ma.has(t)||Ba(t,!1,e),Ba(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wa]||(t[Wa]=!0,Ba("selectionchange",!1,t))}}function Va(e,t,n,a){switch(Qt(t)){case 1:var r=Gt;break;case 4:r=qt;break;default:r=Kt}n=r.bind(null,t,n,e),r=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Ha(e,t,n,a,r){var o=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var s=a.tag;if(3===s||4===s){var i=a.stateNode.containerInfo;if(i===r||8===i.nodeType&&i.parentNode===r)break;if(4===s)for(s=a.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;s=s.return}for(;null!==i;){if(null===(s=br(i)))return;if(5===(l=s.tag)||6===l){a=o=s;continue e}i=i.parentNode}}a=a.return}Re((function(){var a=o,r=xe(n),s=[];e:{var i=_a.get(e);if(void 0!==i){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Ca:case Ia:case Ea:l=yn;break;case Aa:l=_n;break;case"scroll":l=hn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==i?i+"Capture":null:i;u=[];for(var p,f=a;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=De(f,h))&&u.push(Ga(f,m,p)))),d)break;f=f.return}0<u.length&&(i=new l(i,c,null,n,r),s.push({event:i,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!br(c)&&!c[fr])&&(l||i)&&(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=a,null!==(c=(c=n.relatedTarget||n.toElement)?br(c):null)&&(c!==(d=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=a),l!==c)){if(u=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=En,m="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?i:wr(l),p=null==c?i:wr(c),(i=new u(m,f+"leave",l,n,r)).target=d,i.relatedTarget=p,m=null,br(r)===a&&((u=new u(h,f+"enter",c,n,r)).target=p,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,f=0,p=u=l;p;p=Ka(p))f++;for(p=0,m=h;m;m=Ka(m))p++;for(;0<f-p;)u=Ka(u),f--;for(;0<p-f;)h=Ka(h),p--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Ka(u),h=Ka(h)}u=null}else u=null;null!==l&&Xa(s,i,l,u,!1),null!==c&&null!==d&&Xa(s,d,c,u,!0)}if("select"===(l=(i=a?wr(a):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var g=Qn;else if(Hn(i))if(Zn)g=sa;else{g=ra;var y=aa}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=oa);switch(g&&(g=g(e,a))?Gn(s,g,n,r):(y&&y(e,i,a),"focusout"===e&&(y=i._wrapperState)&&y.controlled&&"number"===i.type&&ee(i,"number",i.value)),y=a?wr(a):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(ga=y,ya=a,ba=null);break;case"focusout":ba=ya=ga=null;break;case"mousedown":va=!0;break;case"contextmenu":case"mouseup":case"dragend":va=!1,wa(s,n,r);break;case"selectionchange":if(ma)break;case"keydown":case"keyup":wa(s,n,r)}var b;if(Fn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Un?Bn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Pn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==v?"onCompositionEnd"===v&&Un&&(b=en()):(Jt="value"in(Zt=r)?Zt.value:Zt.textContent,Un=!0)),0<(y=qa(a,v)).length&&(v=new wn(v,e,null,n,r),s.push({event:v,listeners:y}),b?v.data=b:null!==(b=Wn(n))&&(v.data=b))),(b=Mn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(jn=!0,zn);case"textInput":return(e=t.data)===zn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Fn&&Bn(e,t)?(e=en(),$t=Jt=Zt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(a=qa(a,"onBeforeInput")).length&&(r=new wn("onBeforeInput","beforeinput",null,n,r),s.push({event:r,listeners:a}),r.data=b))}za(s,t)}))}function Ga(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qa(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=De(e,n))&&a.unshift(Ga(e,o,r)),null!=(o=De(e,t))&&a.push(Ga(e,o,r))),e=e.return}return a}function Ka(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xa(e,t,n,a,r){for(var o=t._reactName,s=[];null!==n&&n!==a;){var i=n,l=i.alternate,c=i.stateNode;if(null!==l&&l===a)break;5===i.tag&&null!==c&&(i=c,r?null!=(l=De(n,o))&&s.unshift(Ga(n,l,i)):r||null!=(l=De(n,o))&&s.push(Ga(n,l,i))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Ya=/\r\n?/g,Qa=/\u0000|\uFFFD/g;function Za(e){return("string"===typeof e?e:""+e).replace(Ya,"\n").replace(Qa,"")}function Ja(e,t,n){if(t=Za(t),Za(e)!==t&&n)throw Error(o(425))}function $a(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ar="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,or="function"===typeof Promise?Promise:void 0,sr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof or?function(e){return or.resolve(null).then(e).catch(ir)}:ar;function ir(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===a)return e.removeChild(r),void Ut(t);a--}else"$"!==n&&"$?"!==n&&"$!"!==n||a++;n=r}while(n);Ut(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ur(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var dr=Math.random().toString(36).slice(2),hr="__reactFiber$"+dr,pr="__reactProps$"+dr,fr="__reactContainer$"+dr,mr="__reactEvents$"+dr,gr="__reactListeners$"+dr,yr="__reactHandles$"+dr;function br(e){var t=e[hr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fr]||n[hr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ur(e);null!==e;){if(n=e[hr])return n;e=ur(e)}return t}n=(e=n).parentNode}return null}function vr(e){return!(e=e[hr]||e[fr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function xr(e){return e[pr]||null}var kr=[],Sr=-1;function Nr(e){return{current:e}}function Tr(e){0>Sr||(e.current=kr[Sr],kr[Sr]=null,Sr--)}function Cr(e,t){Sr++,kr[Sr]=e.current,e.current=t}var Ir={},Er=Nr(Ir),Ar=Nr(!1),_r=Ir;function Rr(e,t){var n=e.type.contextTypes;if(!n)return Ir;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Dr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Or(){Tr(Ar),Tr(Er)}function Fr(e,t,n){if(Er.current!==Ir)throw Error(o(168));Cr(Er,t),Cr(Ar,n)}function Lr(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return n;for(var r in a=a.getChildContext())if(!(r in t))throw Error(o(108,V(e)||"Unknown",r));return P({},n,a)}function Mr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ir,_r=Er.current,Cr(Er,e),Cr(Ar,Ar.current),!0}function Pr(e,t,n){var a=e.stateNode;if(!a)throw Error(o(169));n?(e=Lr(e,t,_r),a.__reactInternalMemoizedMergedChildContext=e,Tr(Ar),Tr(Er),Cr(Er,e)):Tr(Ar),Cr(Ar,n)}var zr=null,jr=!1,Br=!1;function Wr(e){null===zr?zr=[e]:zr.push(e)}function Ur(){if(!Br&&null!==zr){Br=!0;var e=0,t=vt;try{var n=zr;for(vt=1;e<n.length;e++){var a=n[e];do{a=a(!0)}while(null!==a)}zr=null,jr=!1}catch(r){throw null!==zr&&(zr=zr.slice(e+1)),Ke($e,Ur),r}finally{vt=t,Br=!1}}return null}var Vr=[],Hr=0,Gr=null,qr=0,Kr=[],Xr=0,Yr=null,Qr=1,Zr="";function Jr(e,t){Vr[Hr++]=qr,Vr[Hr++]=Gr,Gr=e,qr=t}function $r(e,t,n){Kr[Xr++]=Qr,Kr[Xr++]=Zr,Kr[Xr++]=Yr,Yr=e;var a=Qr;e=Zr;var r=32-st(a)-1;a&=~(1<<r),n+=1;var o=32-st(t)+r;if(30<o){var s=r-r%5;o=(a&(1<<s)-1).toString(32),a>>=s,r-=s,Qr=1<<32-st(t)+r|n<<r|a,Zr=o+e}else Qr=1<<o|n<<r|a,Zr=e}function eo(e){null!==e.return&&(Jr(e,1),$r(e,1,0))}function to(e){for(;e===Gr;)Gr=Vr[--Hr],Vr[Hr]=null,qr=Vr[--Hr],Vr[Hr]=null;for(;e===Yr;)Yr=Kr[--Xr],Kr[Xr]=null,Zr=Kr[--Xr],Kr[Xr]=null,Qr=Kr[--Xr],Kr[Xr]=null}var no=null,ao=null,ro=!1,oo=null;function so(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function io(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ao=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ao=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yr?{id:Qr,overflow:Zr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ao=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(ro){var t=ao;if(t){var n=t;if(!io(e,t)){if(lo(e))throw Error(o(418));t=cr(n.nextSibling);var a=no;t&&io(e,t)?so(a,n):(e.flags=-4097&e.flags|2,ro=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ro=!1,no=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!ro)return uo(e),ro=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=ao)){if(lo(e))throw po(),Error(o(418));for(;t;)so(e,t),t=cr(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ao=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ao=null}}else ao=no?cr(e.stateNode.nextSibling):null;return!0}function po(){for(var e=ao;e;)e=cr(e.nextSibling)}function fo(){ao=no=null,ro=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function yo(e,t){if(e&&e.defaultProps){for(var n in t=P({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var bo=Nr(null),vo=null,wo=null,xo=null;function ko(){xo=wo=vo=null}function So(e){var t=bo.current;Tr(bo),e._currentValue=t}function No(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function To(e,t){vo=e,xo=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wi=!0),e.firstContext=null)}function Co(e){var t=e._currentValue;if(xo!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===vo)throw Error(o(308));wo=e,vo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var Io=null;function Eo(e){null===Io?Io=[e]:Io.push(e)}function Ao(e,t,n,a){var r=t.interleaved;return null===r?(n.next=n,Eo(t)):(n.next=r.next,r.next=n),t.interleaved=n,_o(e,a)}function _o(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ro=!1;function Do(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lo(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&Al)){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,_o(e,n)}return null===(r=a.interleaved)?(t.next=t,Eo(a)):(t.next=r.next,r.next=t),a.interleaved=t,_o(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,bt(e,n)}}function Po(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zo(e,t,n,a){var r=e.updateQueue;Ro=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,i=r.shared.pending;if(null!==i){r.shared.pending=null;var l=i,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((i=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===i?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=r.baseState;for(s=0,u=c=l=null,i=o;;){var h=i.lane,p=i.eventTime;if((a&h)===h){null!==u&&(u=u.next={eventTime:p,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var f=e,m=i;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){d=f.call(p,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,d,h):f)||void 0===h)break e;d=P({},d,h);break e;case 2:Ro=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(h=r.effects)?r.effects=[i]:h.push(i))}else p={eventTime:p,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=h;if(null===(i=i.next)){if(null===(i=r.shared.pending))break;i=(h=i).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}if(null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do{s|=r.lane,r=r.next}while(r!==t)}else null===o&&(r.shared.lanes=0);Pl|=s,e.lanes=s,e.memoizedState=d}}function jo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],r=a.callback;if(null!==r){if(a.callback=null,a=n,"function"!==typeof r)throw Error(o(191,r));r.call(a)}}}var Bo=(new a.Component).refs;function Wo(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:P({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Uo={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=tc(),r=nc(e),o=Fo(a,r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,r))&&(ac(t,e,r,a),Mo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=tc(),r=nc(e),o=Fo(a,r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,r))&&(ac(t,e,r,a),Mo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),a=nc(e),r=Fo(n,a);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Lo(e,r,a))&&(ac(t,e,a,n),Mo(t,e,a))}};function Vo(e,t,n,a,r,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!la(n,a)||!la(r,o))}function Ho(e,t,n){var a=!1,r=Ir,o=t.contextType;return"object"===typeof o&&null!==o?o=Co(o):(r=Dr(t)?_r:Er.current,o=(a=null!==(a=t.contextTypes)&&void 0!==a)?Rr(e,r):Ir),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Uo,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function Go(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&Uo.enqueueReplaceState(t,t.state,null)}function qo(e,t,n,a){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=Bo,Do(e);var o=t.contextType;"object"===typeof o&&null!==o?r.context=Co(o):(o=Dr(t)?_r:Er.current,r.context=Rr(e,o)),r.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Wo(e,t,o,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Uo.enqueueReplaceState(r,r.state,null),zo(e,n,r,a),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function Ko(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var a=n.stateNode}if(!a)throw Error(o(147,e));var r=a,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=r.refs;t===Bo&&(t=r.refs={}),null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Xo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yo(e){return(0,e._init)(e._payload)}function Qo(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Fc(e,t)).index=0,e.sibling=null,e}function s(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=2,n):a:(t.flags|=2,n):(t.flags|=1048576,n)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,a){return null===t||6!==t.tag?((t=zc(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,a){var o=n.type;return o===S?d(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===D&&Yo(o)===t.type)?((a=r(t,n.props)).ref=Ko(e,t,n),a.return=e,a):((a=Lc(n.type,n.key,n.props,null,e.mode,a)).ref=Ko(e,t,n),a.return=e,a)}function u(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,a,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,a,o)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ko(e,null,t),n.return=e,n;case k:return(t=jc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Xo(e,t)}return null}function p(e,t,n,a){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===r?c(e,t,n,a):null;case k:return n.key===r?u(e,t,n,a):null;case D:return p(e,t,(r=n._init)(n._payload),a)}if(te(n)||L(n))return null!==r?null:d(e,t,n,a,null);Xo(e,n)}return null}function f(e,t,n,a,r){if("string"===typeof a&&""!==a||"number"===typeof a)return l(t,e=e.get(n)||null,""+a,r);if("object"===typeof a&&null!==a){switch(a.$$typeof){case x:return c(t,e=e.get(null===a.key?n:a.key)||null,a,r);case k:return u(t,e=e.get(null===a.key?n:a.key)||null,a,r);case D:return f(e,t,n,(0,a._init)(a._payload),r)}if(te(a)||L(a))return d(t,e=e.get(n)||null,a,r,null);Xo(t,a)}return null}function m(r,o,i,l){for(var c=null,u=null,d=o,m=o=0,g=null;null!==d&&m<i.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=p(r,d,i[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(r,d),o=s(y,o,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===i.length)return n(r,d),ro&&Jr(r,m),c;if(null===d){for(;m<i.length;m++)null!==(d=h(r,i[m],l))&&(o=s(d,o,m),null===u?c=d:u.sibling=d,u=d);return ro&&Jr(r,m),c}for(d=a(r,d);m<i.length;m++)null!==(g=f(d,r,m,i[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=s(g,o,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(r,e)})),ro&&Jr(r,m),c}function g(r,i,l,c){var u=L(l);if("function"!==typeof u)throw Error(o(150));if(null==(l=u.call(l)))throw Error(o(151));for(var d=u=null,m=i,g=i=0,y=null,b=l.next();null!==m&&!b.done;g++,b=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var v=p(r,m,b.value,c);if(null===v){null===m&&(m=y);break}e&&m&&null===v.alternate&&t(r,m),i=s(v,i,g),null===d?u=v:d.sibling=v,d=v,m=y}if(b.done)return n(r,m),ro&&Jr(r,g),u;if(null===m){for(;!b.done;g++,b=l.next())null!==(b=h(r,b.value,c))&&(i=s(b,i,g),null===d?u=b:d.sibling=b,d=b);return ro&&Jr(r,g),u}for(m=a(r,m);!b.done;g++,b=l.next())null!==(b=f(m,r,g,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),i=s(b,i,g),null===d?u=b:d.sibling=b,d=b);return e&&m.forEach((function(e){return t(r,e)})),ro&&Jr(r,g),u}return function e(a,o,s,l){if("object"===typeof s&&null!==s&&s.type===S&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case x:e:{for(var c=s.key,u=o;null!==u;){if(u.key===c){if((c=s.type)===S){if(7===u.tag){n(a,u.sibling),(o=r(u,s.props.children)).return=a,a=o;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Yo(c)===u.type){n(a,u.sibling),(o=r(u,s.props)).ref=Ko(a,u,s),o.return=a,a=o;break e}n(a,u);break}t(a,u),u=u.sibling}s.type===S?((o=Mc(s.props.children,a.mode,l,s.key)).return=a,a=o):((l=Lc(s.type,s.key,s.props,null,a.mode,l)).ref=Ko(a,o,s),l.return=a,a=l)}return i(a);case k:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(a,o.sibling),(o=r(o,s.children||[])).return=a,a=o;break e}n(a,o);break}t(a,o),o=o.sibling}(o=jc(s,a.mode,l)).return=a,a=o}return i(a);case D:return e(a,o,(u=s._init)(s._payload),l)}if(te(s))return m(a,o,s,l);if(L(s))return g(a,o,s,l);Xo(a,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(a,o.sibling),(o=r(o,s)).return=a,a=o):(n(a,o),(o=zc(s,a.mode,l)).return=a,a=o),i(a)):n(a,o)}}var Zo=Qo(!0),Jo=Qo(!1),$o={},es=Nr($o),ts=Nr($o),ns=Nr($o);function as(e){if(e===$o)throw Error(o(174));return e}function rs(e,t){switch(Cr(ns,t),Cr(ts,e),Cr(es,$o),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Tr(es),Cr(es,t)}function os(){Tr(es),Tr(ts),Tr(ns)}function ss(e){as(ns.current);var t=as(es.current),n=le(t,e.type);t!==n&&(Cr(ts,e),Cr(es,n))}function is(e){ts.current===e&&(Tr(es),Tr(ts))}var ls=Nr(0);function cs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var us=[];function ds(){for(var e=0;e<us.length;e++)us[e]._workInProgressVersionPrimary=null;us.length=0}var hs=w.ReactCurrentDispatcher,ps=w.ReactCurrentBatchConfig,fs=0,ms=null,gs=null,ys=null,bs=!1,vs=!1,ws=0,xs=0;function ks(){throw Error(o(321))}function Ss(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ia(e[n],t[n]))return!1;return!0}function Ns(e,t,n,a,r,s){if(fs=s,ms=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hs.current=null===e||null===e.memoizedState?ii:li,e=n(a,r),vs){s=0;do{if(vs=!1,ws=0,25<=s)throw Error(o(301));s+=1,ys=gs=null,t.updateQueue=null,hs.current=ci,e=n(a,r)}while(vs)}if(hs.current=si,t=null!==gs&&null!==gs.next,fs=0,ys=gs=ms=null,bs=!1,t)throw Error(o(300));return e}function Ts(){var e=0!==ws;return ws=0,e}function Cs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ys?ms.memoizedState=ys=e:ys=ys.next=e,ys}function Is(){if(null===gs){var e=ms.alternate;e=null!==e?e.memoizedState:null}else e=gs.next;var t=null===ys?ms.memoizedState:ys.next;if(null!==t)ys=t,gs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(gs=e).memoizedState,baseState:gs.baseState,baseQueue:gs.baseQueue,queue:gs.queue,next:null},null===ys?ms.memoizedState=ys=e:ys=ys.next=e}return ys}function Es(e,t){return"function"===typeof t?t(e):t}function As(e){var t=Is(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var a=gs,r=a.baseQueue,s=n.pending;if(null!==s){if(null!==r){var i=r.next;r.next=s.next,s.next=i}a.baseQueue=r=s,n.pending=null}if(null!==r){s=r.next,a=a.baseState;var l=i=null,c=null,u=s;do{var d=u.lane;if((fs&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),a=u.hasEagerState?u.eagerState:e(a,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,i=a):c=c.next=h,ms.lanes|=d,Pl|=d}u=u.next}while(null!==u&&u!==s);null===c?i=a:c.next=l,ia(a,t.memoizedState)||(wi=!0),t.memoizedState=a,t.baseState=i,t.baseQueue=c,n.lastRenderedState=a}if(null!==(e=n.interleaved)){r=e;do{s=r.lane,ms.lanes|=s,Pl|=s,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _s(e){var t=Is(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,s=t.memoizedState;if(null!==r){n.pending=null;var i=r=r.next;do{s=e(s,i.action),i=i.next}while(i!==r);ia(s,t.memoizedState)||(wi=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function Rs(){}function Ds(e,t){var n=ms,a=Is(),r=t(),s=!ia(a.memoizedState,r);if(s&&(a.memoizedState=r,wi=!0),a=a.queue,Hs(Ls.bind(null,n,a,e),[e]),a.getSnapshot!==t||s||null!==ys&&1&ys.memoizedState.tag){if(n.flags|=2048,js(9,Fs.bind(null,n,a,r,t),void 0,null),null===_l)throw Error(o(349));0!==(30&fs)||Os(n,t,r)}return r}function Os(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Fs(e,t,n,a){t.value=n,t.getSnapshot=a,Ms(t)&&Ps(e)}function Ls(e,t,n){return n((function(){Ms(t)&&Ps(e)}))}function Ms(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ia(e,n)}catch(a){return!0}}function Ps(e){var t=_o(e,1);null!==t&&ac(t,e,1,-1)}function zs(e){var t=Cs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:e},t.queue=e,e=e.dispatch=ni.bind(null,ms,e),[t.memoizedState,e]}function js(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=ms.updateQueue)?(t={lastEffect:null,stores:null},ms.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Bs(){return Is().memoizedState}function Ws(e,t,n,a){var r=Cs();ms.flags|=e,r.memoizedState=js(1|t,n,void 0,void 0===a?null:a)}function Us(e,t,n,a){var r=Is();a=void 0===a?null:a;var o=void 0;if(null!==gs){var s=gs.memoizedState;if(o=s.destroy,null!==a&&Ss(a,s.deps))return void(r.memoizedState=js(t,n,o,a))}ms.flags|=e,r.memoizedState=js(1|t,n,o,a)}function Vs(e,t){return Ws(8390656,8,e,t)}function Hs(e,t){return Us(2048,8,e,t)}function Gs(e,t){return Us(4,2,e,t)}function qs(e,t){return Us(4,4,e,t)}function Ks(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Us(4,4,Ks.bind(null,t,e),n)}function Ys(){}function Qs(e,t){var n=Is();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&Ss(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Zs(e,t){var n=Is();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&Ss(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Js(e,t,n){return 0===(21&fs)?(e.baseState&&(e.baseState=!1,wi=!0),e.memoizedState=n):(ia(n,t)||(n=mt(),ms.lanes|=n,Pl|=n,e.baseState=!0),t)}function $s(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var a=ps.transition;ps.transition={};try{e(!1),t()}finally{vt=n,ps.transition=a}}function ei(){return Is().memoizedState}function ti(e,t,n){var a=nc(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},ai(e))ri(t,n);else if(null!==(n=Ao(e,t,n,a))){ac(n,e,a,tc()),oi(n,t,a)}}function ni(e,t,n){var a=nc(e),r={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(ai(e))ri(t,r);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,i=o(s,n);if(r.hasEagerState=!0,r.eagerState=i,ia(i,s)){var l=t.interleaved;return null===l?(r.next=r,Eo(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Ao(e,t,r,a))&&(ac(n,e,a,r=tc()),oi(n,t,a))}}function ai(e){var t=e.alternate;return e===ms||null!==t&&t===ms}function ri(e,t){vs=bs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function oi(e,t,n){if(0!==(4194240&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,bt(e,n)}}var si={readContext:Co,useCallback:ks,useContext:ks,useEffect:ks,useImperativeHandle:ks,useInsertionEffect:ks,useLayoutEffect:ks,useMemo:ks,useReducer:ks,useRef:ks,useState:ks,useDebugValue:ks,useDeferredValue:ks,useTransition:ks,useMutableSource:ks,useSyncExternalStore:ks,useId:ks,unstable_isNewReconciler:!1},ii={readContext:Co,useCallback:function(e,t){return Cs().memoizedState=[e,void 0===t?null:t],e},useContext:Co,useEffect:Vs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ws(4194308,4,Ks.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ws(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ws(4,2,e,t)},useMemo:function(e,t){var n=Cs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=Cs();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=ti.bind(null,ms,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},Cs().memoizedState=e},useState:zs,useDebugValue:Ys,useDeferredValue:function(e){return Cs().memoizedState=e},useTransition:function(){var e=zs(!1),t=e[0];return e=$s.bind(null,e[1]),Cs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=ms,r=Cs();if(ro){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===_l)throw Error(o(349));0!==(30&fs)||Os(a,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Vs(Ls.bind(null,a,s,e),[e]),a.flags|=2048,js(9,Fs.bind(null,a,s,n,t),void 0,null),n},useId:function(){var e=Cs(),t=_l.identifierPrefix;if(ro){var n=Zr;t=":"+t+"R"+(n=(Qr&~(1<<32-st(Qr)-1)).toString(32)+n),0<(n=ws++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=xs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},li={readContext:Co,useCallback:Qs,useContext:Co,useEffect:Hs,useImperativeHandle:Xs,useInsertionEffect:Gs,useLayoutEffect:qs,useMemo:Zs,useReducer:As,useRef:Bs,useState:function(){return As(Es)},useDebugValue:Ys,useDeferredValue:function(e){return Js(Is(),gs.memoizedState,e)},useTransition:function(){return[As(Es)[0],Is().memoizedState]},useMutableSource:Rs,useSyncExternalStore:Ds,useId:ei,unstable_isNewReconciler:!1},ci={readContext:Co,useCallback:Qs,useContext:Co,useEffect:Hs,useImperativeHandle:Xs,useInsertionEffect:Gs,useLayoutEffect:qs,useMemo:Zs,useReducer:_s,useRef:Bs,useState:function(){return _s(Es)},useDebugValue:Ys,useDeferredValue:function(e){var t=Is();return null===gs?t.memoizedState=e:Js(t,gs.memoizedState,e)},useTransition:function(){return[_s(Es)[0],Is().memoizedState]},useMutableSource:Rs,useSyncExternalStore:Ds,useId:ei,unstable_isNewReconciler:!1};function ui(e,t){try{var n="",a=t;do{n+=W(a),a=a.return}while(a);var r=n}catch(o){r="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:r,digest:null}}function di(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hi(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var pi="function"===typeof WeakMap?WeakMap:Map;function fi(e,t,n){(n=Fo(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Gl||(Gl=!0,ql=a),hi(0,t)},n}function mi(e,t,n){(n=Fo(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var r=t.value;n.payload=function(){return a(r)},n.callback=function(){hi(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hi(0,t),"function"!==typeof a&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gi(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new pi;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(r.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function yi(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bi(e,t,n,a,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fo(-1,1)).tag=2,Lo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var vi=w.ReactCurrentOwner,wi=!1;function xi(e,t,n,a){t.child=null===e?Jo(t,null,n,a):Zo(t,e.child,n,a)}function ki(e,t,n,a,r){n=n.render;var o=t.ref;return To(t,r),a=Ns(e,t,n,a,o,r),n=Ts(),null===e||wi?(ro&&n&&eo(t),t.flags|=1,xi(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Gi(e,t,r))}function Si(e,t,n,a,r){if(null===e){var o=n.type;return"function"!==typeof o||Oc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ni(e,t,o,a,r))}if(o=e.child,0===(e.lanes&r)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:la)(s,a)&&e.ref===t.ref)return Gi(e,t,r)}return t.flags|=1,(e=Fc(o,a)).ref=t.ref,e.return=t,t.child=e}function Ni(e,t,n,a,r){if(null!==e){var o=e.memoizedProps;if(la(o,a)&&e.ref===t.ref){if(wi=!1,t.pendingProps=a=o,0===(e.lanes&r))return t.lanes=e.lanes,Gi(e,t,r);0!==(131072&e.flags)&&(wi=!0)}}return Ii(e,t,n,a,r)}function Ti(e,t,n){var a=t.pendingProps,r=a.children,o=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(Fl,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cr(Fl,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==o?o.baseLanes:n,Cr(Fl,Ol),Ol|=a}else null!==o?(a=o.baseLanes|n,t.memoizedState=null):a=n,Cr(Fl,Ol),Ol|=a;return xi(e,t,r,n),t.child}function Ci(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ii(e,t,n,a,r){var o=Dr(n)?_r:Er.current;return o=Rr(t,o),To(t,r),n=Ns(e,t,n,a,o,r),a=Ts(),null===e||wi?(ro&&a&&eo(t),t.flags|=1,xi(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Gi(e,t,r))}function Ei(e,t,n,a,r){if(Dr(n)){var o=!0;Mr(t)}else o=!1;if(To(t,r),null===t.stateNode)Hi(e,t),Ho(t,n,a),qo(t,n,a,r),a=!0;else if(null===e){var s=t.stateNode,i=t.memoizedProps;s.props=i;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Co(c):c=Rr(t,c=Dr(n)?_r:Er.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==a||l!==c)&&Go(t,s,a,c),Ro=!1;var h=t.memoizedState;s.state=h,zo(t,a,s,r),l=t.memoizedState,i!==a||h!==l||Ar.current||Ro?("function"===typeof u&&(Wo(t,n,u,a),l=t.memoizedState),(i=Ro||Vo(t,n,i,a,h,l,c))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=l),s.props=a,s.state=l,s.context=c,a=i):("function"===typeof s.componentDidMount&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,Oo(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:yo(t.type,i),s.props=c,d=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Co(l):l=Rr(t,l=Dr(n)?_r:Er.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(i!==d||h!==l)&&Go(t,s,a,l),Ro=!1,h=t.memoizedState,s.state=h,zo(t,a,s,r);var f=t.memoizedState;i!==d||h!==f||Ar.current||Ro?("function"===typeof p&&(Wo(t,n,p,a),f=t.memoizedState),(c=Ro||Vo(t,n,c,a,h,f,l)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(a,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(a,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=f),s.props=a,s.state=f,s.context=l,a=c):("function"!==typeof s.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),a=!1)}return Ai(e,t,n,a,o,r)}function Ai(e,t,n,a,r,o){Ci(e,t);var s=0!==(128&t.flags);if(!a&&!s)return r&&Pr(t,n,!1),Gi(e,t,o);a=t.stateNode,vi.current=t;var i=s&&"function"!==typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&s?(t.child=Zo(t,e.child,null,o),t.child=Zo(t,null,i,o)):xi(e,t,i,o),t.memoizedState=a.state,r&&Pr(t,n,!0),t.child}function _i(e){var t=e.stateNode;t.pendingContext?Fr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fr(0,t.context,!1),rs(e,t.containerInfo)}function Ri(e,t,n,a,r){return fo(),mo(r),t.flags|=256,xi(e,t,n,a),t.child}var Di,Oi,Fi,Li,Mi={dehydrated:null,treeContext:null,retryLane:0};function Pi(e){return{baseLanes:e,cachePool:null,transitions:null}}function zi(e,t,n){var a,r=t.pendingProps,s=ls.current,i=!1,l=0!==(128&t.flags);if((a=l)||(a=(null===e||null!==e.memoizedState)&&0!==(2&s)),a?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Cr(ls,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,i?(r=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Pc(l,r,0,null),e=Mc(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Pi(n),t.memoizedState=Mi,e):ji(t,l));if(null!==(s=e.memoizedState)&&null!==(a=s.dehydrated))return function(e,t,n,a,r,s,i){if(n)return 256&t.flags?(t.flags&=-257,Bi(e,t,i,a=di(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=a.fallback,r=t.mode,a=Pc({mode:"visible",children:a.children},r,0,null),(s=Mc(s,r,i,null)).flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,0!==(1&t.mode)&&Zo(t,e.child,null,i),t.child.memoizedState=Pi(i),t.memoizedState=Mi,s);if(0===(1&t.mode))return Bi(e,t,i,null);if("$!"===r.data){if(a=r.nextSibling&&r.nextSibling.dataset)var l=a.dgst;return a=l,Bi(e,t,i,a=di(s=Error(o(419)),a,void 0))}if(l=0!==(i&e.childLanes),wi||l){if(null!==(a=_l)){switch(i&-i){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(a.suspendedLanes|i))?0:r)&&r!==s.retryLane&&(s.retryLane=r,_o(e,r),ac(a,e,r,-1))}return gc(),Bi(e,t,i,a=di(Error(o(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,ao=cr(r.nextSibling),no=t,ro=!0,oo=null,null!==e&&(Kr[Xr++]=Qr,Kr[Xr++]=Zr,Kr[Xr++]=Yr,Qr=e.id,Zr=e.overflow,Yr=t),t=ji(t,a.children),t.flags|=4096,t)}(e,t,l,r,a,s,n);if(i){i=r.fallback,l=t.mode,a=(s=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==s?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Fc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==a?i=Fc(a,i):(i=Mc(i,l,n,null)).flags|=2,i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,l=null===(l=e.child.memoizedState)?Pi(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Mi,r}return e=(i=e.child).sibling,r=Fc(i,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ji(e,t){return(t=Pc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bi(e,t,n,a){return null!==a&&mo(a),Zo(t,e.child,null,n),(e=ji(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wi(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),No(e.return,t,n)}function Ui(e,t,n,a,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=a,o.tail=n,o.tailMode=r)}function Vi(e,t,n){var a=t.pendingProps,r=a.revealOrder,o=a.tail;if(xi(e,t,a.children,n),0!==(2&(a=ls.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wi(e,n,t);else if(19===e.tag)Wi(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Cr(ls,a),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===cs(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ui(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===cs(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ui(t,!0,n,null,o);break;case"together":Ui(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hi(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gi(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Pl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Fc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qi(e,t){if(!ro)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ki(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=14680064&r.subtreeFlags,a|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Xi(e,t,n){var a=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ki(t),null;case 1:case 17:return Dr(t.type)&&Or(),Ki(t),null;case 3:return a=t.stateNode,os(),Tr(Ar),Tr(Er),ds(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ic(oo),oo=null))),Oi(e,t),Ki(t),null;case 5:is(t);var r=as(ns.current);if(n=t.type,null!==e&&null!=t.stateNode)Fi(e,t,n,a,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(o(166));return Ki(t),null}if(e=as(es.current),ho(t)){a=t.stateNode,n=t.type;var s=t.memoizedProps;switch(a[hr]=t,a[pr]=s,e=0!==(1&t.mode),n){case"dialog":ja("cancel",a),ja("close",a);break;case"iframe":case"object":case"embed":ja("load",a);break;case"video":case"audio":for(r=0;r<La.length;r++)ja(La[r],a);break;case"source":ja("error",a);break;case"img":case"image":case"link":ja("error",a),ja("load",a);break;case"details":ja("toggle",a);break;case"input":Q(a,s),ja("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!s.multiple},ja("invalid",a);break;case"textarea":re(a,s),ja("invalid",a)}for(var l in be(n,s),r=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?a.textContent!==c&&(!0!==s.suppressHydrationWarning&&Ja(a.textContent,c,e),r=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Ja(a.textContent,c,e),r=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&ja("scroll",a)}switch(n){case"input":q(a),$(a,s,!0);break;case"textarea":q(a),se(a);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(a.onclick=$a)}a=r,t.updateQueue=a,null!==a&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=l.createElement(n,{is:a.is}):(e=l.createElement(n),"select"===n&&(l=e,a.multiple?l.multiple=!0:a.size&&(l.size=a.size))):e=l.createElementNS(e,n),e[hr]=t,e[pr]=a,Di(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,a),n){case"dialog":ja("cancel",e),ja("close",e),r=a;break;case"iframe":case"object":case"embed":ja("load",e),r=a;break;case"video":case"audio":for(r=0;r<La.length;r++)ja(La[r],e);r=a;break;case"source":ja("error",e),r=a;break;case"img":case"image":case"link":ja("error",e),ja("load",e),r=a;break;case"details":ja("toggle",e),r=a;break;case"input":Q(e,a),r=Y(e,a),ja("invalid",e);break;case"option":default:r=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},r=P({},a,{value:void 0}),ja("invalid",e);break;case"textarea":re(e,a),r=ae(e,a),ja("invalid",e)}for(s in be(n,r),c=r)if(c.hasOwnProperty(s)){var u=c[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(i.hasOwnProperty(s)?null!=u&&"onScroll"===s&&ja("scroll",e):null!=u&&v(e,s,u,l))}switch(n){case"input":q(e),$(e,a,!1);break;case"textarea":q(e),se(e);break;case"option":null!=a.value&&e.setAttribute("value",""+H(a.value));break;case"select":e.multiple=!!a.multiple,null!=(s=a.value)?ne(e,!!a.multiple,s,!1):null!=a.defaultValue&&ne(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=$a)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ki(t),null;case 6:if(e&&null!=t.stateNode)Li(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(o(166));if(n=as(ns.current),as(es.current),ho(t)){if(a=t.stateNode,n=t.memoizedProps,a[hr]=t,(s=a.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Ja(a.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ja(a.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[hr]=t,t.stateNode=a}return Ki(t),null;case 13:if(Tr(ls),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ro&&null!==ao&&0!==(1&t.mode)&&0===(128&t.flags))po(),fo(),t.flags|=98560,s=!1;else if(s=ho(t),null!==a&&null!==a.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[hr]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ki(t),s=!1}else null!==oo&&(ic(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ls.current)?0===Ll&&(Ll=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ki(t),null);case 4:return os(),Oi(e,t),null===e&&Ua(t.stateNode.containerInfo),Ki(t),null;case 10:return So(t.type._context),Ki(t),null;case 19:if(Tr(ls),null===(s=t.memoizedState))return Ki(t),null;if(a=0!==(128&t.flags),null===(l=s.rendering))if(a)qi(s,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=cs(e))){for(t.flags|=128,qi(s,!1),null!==(a=l.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;null!==n;)e=a,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Cr(ls,1&ls.current|2),t.child}e=e.sibling}null!==s.tail&&Ze()>Vl&&(t.flags|=128,a=!0,qi(s,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=cs(l))){if(t.flags|=128,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qi(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ro)return Ki(t),null}else 2*Ze()-s.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,a=!0,qi(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ze(),t.sibling=null,n=ls.current,Cr(ls,a?1&n|2:1&n),t):(Ki(t),null);case 22:case 23:return hc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Ki(t),6&t.subtreeFlags&&(t.flags|=8192)):Ki(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Yi(e,t){switch(to(t),t.tag){case 1:return Dr(t.type)&&Or(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return os(),Tr(Ar),Tr(Er),ds(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return is(t),null;case 13:if(Tr(ls),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Tr(ls),null;case 4:return os(),null;case 10:return So(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Di=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oi=function(){},Fi=function(e,t,n,a){var r=e.memoizedProps;if(r!==a){e=t.stateNode,as(es.current);var o,s=null;switch(n){case"input":r=Y(e,r),a=Y(e,a),s=[];break;case"select":r=P({},r,{value:void 0}),a=P({},a,{value:void 0}),s=[];break;case"textarea":r=ae(e,r),a=ae(e,a),s=[];break;default:"function"!==typeof r.onClick&&"function"===typeof a.onClick&&(e.onclick=$a)}for(u in be(n,a),n=null,r)if(!a.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(i.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in a){var c=a[u];if(l=null!=r?r[u]:void 0,a.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(i.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&ja("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Li=function(e,t,n,a){n!==a&&(t.flags|=4)};var Qi=!1,Zi=!1,Ji="function"===typeof WeakSet?WeakSet:Set,$i=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(a){Tc(e,t,a)}else n.current=null}function tl(e,t,n){try{n()}catch(a){Tc(e,t,a)}}var nl=!1;function al(e,t,n){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var r=a=a.next;do{if((r.tag&e)===e){var o=r.destroy;r.destroy=void 0,void 0!==o&&tl(t,n,o)}r=r.next}while(r!==a)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hr],delete t[pr],delete t[mr],delete t[gr],delete t[yr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$a));else if(4!==a&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function pl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(rt,n)}catch(i){}switch(n.tag){case 5:Zi||el(n,t);case 6:var a=dl,r=hl;dl=null,pl(e,t,n),hl=r,null!==(dl=a)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Ut(e)):lr(dl,n.stateNode));break;case 4:a=dl,r=hl,dl=n.stateNode.containerInfo,hl=!0,pl(e,t,n),dl=a,hl=r;break;case 0:case 11:case 14:case 15:if(!Zi&&(null!==(a=n.updateQueue)&&null!==(a=a.lastEffect))){r=a=a.next;do{var o=r,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&tl(n,t,s),r=r.next}while(r!==a)}pl(e,t,n);break;case 1:if(!Zi&&(el(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(i){Tc(n,t,i)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Zi=(a=Zi)||null!==n.memoizedState,pl(e,t,n),Zi=a):pl(e,t,n);break;default:pl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ji),t.forEach((function(t){var a=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var r=n[a];try{var s=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(o(160));fl(s,i,r),dl=null,hl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){Tc(r,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),bl(e),4&a){try{al(3,e,e.return),rl(3,e)}catch(g){Tc(e,e.return,g)}try{al(5,e,e.return)}catch(g){Tc(e,e.return,g)}}break;case 1:gl(t,e),bl(e),512&a&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),bl(e),512&a&&null!==n&&el(n,n.return),32&e.flags){var r=e.stateNode;try{he(r,"")}catch(g){Tc(e,e.return,g)}}if(4&a&&null!=(r=e.stateNode)){var s=e.memoizedProps,i=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Z(r,s),ve(l,i);var u=ve(l,s);for(i=0;i<c.length;i+=2){var d=c[i],h=c[i+1];"style"===d?ge(r,h):"dangerouslySetInnerHTML"===d?de(r,h):"children"===d?he(r,h):v(r,d,h,u)}switch(l){case"input":J(r,s);break;case"textarea":oe(r,s);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(r,!!s.multiple,f,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(r,!!s.multiple,s.defaultValue,!0):ne(r,!!s.multiple,s.multiple?[]:"",!1))}r[pr]=s}catch(g){Tc(e,e.return,g)}}break;case 6:if(gl(t,e),bl(e),4&a){if(null===e.stateNode)throw Error(o(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(g){Tc(e,e.return,g)}}break;case 3:if(gl(t,e),bl(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){Tc(e,e.return,g)}break;case 4:default:gl(t,e),bl(e);break;case 13:gl(t,e),bl(e),8192&(r=e.child).flags&&(s=null!==r.memoizedState,r.stateNode.isHidden=s,!s||null!==r.alternate&&null!==r.alternate.memoizedState||(Ul=Ze())),4&a&&ml(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Zi=(u=Zi)||d,gl(t,e),Zi=u):gl(t,e),bl(e),8192&a){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for($i=e,d=e.child;null!==d;){for(h=$i=d;null!==$i;){switch(f=(p=$i).child,p.tag){case 0:case 11:case 14:case 15:al(4,p,p.return);break;case 1:el(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){a=p,n=p.return;try{t=a,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Tc(a,n,g)}}break;case 5:el(p,p.return);break;case 22:if(null!==p.memoizedState){kl(h);continue}}null!==f?(f.return=p,$i=f):kl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{r=h.stateNode,u?"function"===typeof(s=r.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,i=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",i))}catch(g){Tc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Tc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:gl(t,e),bl(e),4&a&&ml(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var a=n;break e}n=n.return}throw Error(o(160))}switch(a.tag){case 5:var r=a.stateNode;32&a.flags&&(he(r,""),a.flags&=-33),ul(e,ll(e),r);break;case 3:case 4:var s=a.stateNode.containerInfo;cl(e,ll(e),s);break;default:throw Error(o(161))}}catch(i){Tc(e,e.return,i)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){$i=e,wl(e,t,n)}function wl(e,t,n){for(var a=0!==(1&e.mode);null!==$i;){var r=$i,o=r.child;if(22===r.tag&&a){var s=null!==r.memoizedState||Qi;if(!s){var i=r.alternate,l=null!==i&&null!==i.memoizedState||Zi;i=Qi;var c=Zi;if(Qi=s,(Zi=l)&&!c)for($i=r;null!==$i;)l=(s=$i).child,22===s.tag&&null!==s.memoizedState?Sl(r):null!==l?(l.return=s,$i=l):Sl(r);for(;null!==o;)$i=o,wl(o,t,n),o=o.sibling;$i=r,Qi=i,Zi=c}xl(e)}else 0!==(8772&r.subtreeFlags)&&null!==o?(o.return=r,$i=o):xl(e)}}function xl(e){for(;null!==$i;){var t=$i;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zi||rl(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Zi)if(null===n)a.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);a.componentDidUpdate(r,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&jo(t,s,a);break;case 3:var i=t.updateQueue;if(null!==i){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}jo(t,i,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ut(h)}}}break;default:throw Error(o(163))}Zi||512&t.flags&&ol(t)}catch(p){Tc(t,t.return,p)}}if(t===e){$i=null;break}if(null!==(n=t.sibling)){n.return=t.return,$i=n;break}$i=t.return}}function kl(e){for(;null!==$i;){var t=$i;if(t===e){$i=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$i=n;break}$i=t.return}}function Sl(e){for(;null!==$i;){var t=$i;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Tc(t,n,l)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var r=t.return;try{a.componentDidMount()}catch(l){Tc(t,r,l)}}var o=t.return;try{ol(t)}catch(l){Tc(t,o,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){Tc(t,s,l)}}}catch(l){Tc(t,t.return,l)}if(t===e){$i=null;break}var i=t.sibling;if(null!==i){i.return=t.return,$i=i;break}$i=t.return}}var Nl,Tl=Math.ceil,Cl=w.ReactCurrentDispatcher,Il=w.ReactCurrentOwner,El=w.ReactCurrentBatchConfig,Al=0,_l=null,Rl=null,Dl=0,Ol=0,Fl=Nr(0),Ll=0,Ml=null,Pl=0,zl=0,jl=0,Bl=null,Wl=null,Ul=0,Vl=1/0,Hl=null,Gl=!1,ql=null,Kl=null,Xl=!1,Yl=null,Ql=0,Zl=0,Jl=null,$l=-1,ec=0;function tc(){return 0!==(6&Al)?Ze():-1!==$l?$l:$l=Ze()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Dl?Dl&-Dl:null!==go.transition?(0===ec&&(ec=mt()),ec):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function ac(e,t,n,a){if(50<Zl)throw Zl=0,Jl=null,Error(o(185));yt(e,n,a),0!==(2&Al)&&e===_l||(e===_l&&(0===(2&Al)&&(zl|=n),4===Ll&&lc(e,Dl)),rc(e,a),1===n&&0===Al&&0===(1&t.mode)&&(Vl=Ze()+500,jr&&Ur()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),i=1<<s,l=r[s];-1===l?0!==(i&n)&&0===(i&a)||(r[s]=pt(i,t)):l<=t&&(e.expiredLanes|=i),o&=~i}}(e,t);var a=ht(e,e===_l?Dl:0);if(0===a)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){jr=!0,Wr(e)}(cc.bind(null,e)):Wr(cc.bind(null,e)),sr((function(){0===(6&Al)&&Ur()})),n=null;else{switch(wt(a)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=at}n=_c(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if($l=-1,ec=0,0!==(6&Al))throw Error(o(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var a=ht(e,e===_l?Dl:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=yc(e,a);else{t=a;var r=Al;Al|=2;var s=mc();for(_l===e&&Dl===t||(Hl=null,Vl=Ze()+500,pc(e,t));;)try{vc();break}catch(l){fc(e,l)}ko(),Cl.current=s,Al=r,null!==Rl?t=0:(_l=null,Dl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(r=ft(e))&&(a=r,t=sc(e,r))),1===t)throw n=Ml,pc(e,0),lc(e,a),rc(e,Ze()),n;if(6===t)lc(e,a);else{if(r=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var a=0;a<n.length;a++){var r=n[a],o=r.getSnapshot;r=r.value;try{if(!ia(o(),r))return!1}catch(i){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=yc(e,a))&&(0!==(s=ft(e))&&(a=s,t=sc(e,s))),1===t))throw n=Ml,pc(e,0),lc(e,a),rc(e,Ze()),n;switch(e.finishedWork=r,e.finishedLanes=a,t){case 0:case 1:throw Error(o(345));case 2:case 5:kc(e,Wl,Hl);break;case 3:if(lc(e,a),(130023424&a)===a&&10<(t=Ul+500-Ze())){if(0!==ht(e,0))break;if(((r=e.suspendedLanes)&a)!==a){tc(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ar(kc.bind(null,e,Wl,Hl),t);break}kc(e,Wl,Hl);break;case 4:if(lc(e,a),(4194240&a)===a)break;for(t=e.eventTimes,r=-1;0<a;){var i=31-st(a);s=1<<i,(i=t[i])>r&&(r=i),a&=~s}if(a=r,10<(a=(120>(a=Ze()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Tl(a/1960))-a)){e.timeoutHandle=ar(kc.bind(null,e,Wl,Hl),a);break}kc(e,Wl,Hl);break;default:throw Error(o(329))}}}return rc(e,Ze()),e.callbackNode===n?oc.bind(null,e):null}function sc(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Wl,Wl=n,null!==t&&ic(t)),e}function ic(e){null===Wl?Wl=e:Wl.push.apply(Wl,e)}function lc(e,t){for(t&=~jl,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),a=1<<n;e[n]=-1,t&=~a}}function cc(e){if(0!==(6&Al))throw Error(o(327));Sc();var t=ht(e,0);if(0===(1&t))return rc(e,Ze()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var a=ft(e);0!==a&&(t=a,n=sc(e,a))}if(1===n)throw n=Ml,pc(e,0),lc(e,t),rc(e,Ze()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,Wl,Hl),rc(e,Ze()),null}function uc(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(Vl=Ze()+500,jr&&Ur())}}function dc(e){null!==Yl&&0===Yl.tag&&0===(6&Al)&&Sc();var t=Al;Al|=1;var n=El.transition,a=vt;try{if(El.transition=null,vt=1,e)return e()}finally{vt=a,El.transition=n,0===(6&(Al=t))&&Ur()}}function hc(){Ol=Fl.current,Tr(Fl)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Rl)for(n=Rl.return;null!==n;){var a=n;switch(to(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Or();break;case 3:os(),Tr(Ar),Tr(Er),ds();break;case 5:is(a);break;case 4:os();break;case 13:case 19:Tr(ls);break;case 10:So(a.type._context);break;case 22:case 23:hc()}n=n.return}if(_l=e,Rl=e=Fc(e.current,null),Dl=Ol=t,Ll=0,Ml=null,jl=zl=Pl=0,Wl=Bl=null,null!==Io){for(t=0;t<Io.length;t++)if(null!==(a=(n=Io[t]).interleaved)){n.interleaved=null;var r=a.next,o=n.pending;if(null!==o){var s=o.next;o.next=r,a.next=s}n.pending=a}Io=null}return e}function fc(e,t){for(;;){var n=Rl;try{if(ko(),hs.current=si,bs){for(var a=ms.memoizedState;null!==a;){var r=a.queue;null!==r&&(r.pending=null),a=a.next}bs=!1}if(fs=0,ys=gs=ms=null,vs=!1,ws=0,Il.current=null,null===n||null===n.return){Ll=1,Ml=t,Rl=null;break}e:{var s=e,i=n.return,l=n,c=t;if(t=Dl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=yi(i);if(null!==f){f.flags&=-257,bi(f,i,l,0,t),1&f.mode&&gi(s,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){gi(s,u,t),gc();break e}c=Error(o(426))}else if(ro&&1&l.mode){var y=yi(i);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),bi(y,i,l,0,t),mo(ui(c,l));break e}}s=c=ui(c,l),4!==Ll&&(Ll=2),null===Bl?Bl=[s]:Bl.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Po(s,fi(0,c,t));break e;case 1:l=c;var b=s.type,v=s.stateNode;if(0===(128&s.flags)&&("function"===typeof b.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Kl||!Kl.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t,Po(s,mi(s,l,t));break e}}s=s.return}while(null!==s)}xc(n)}catch(w){t=w,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function mc(){var e=Cl.current;return Cl.current=si,null===e?si:e}function gc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===_l||0===(268435455&Pl)&&0===(268435455&zl)||lc(_l,Dl)}function yc(e,t){var n=Al;Al|=2;var a=mc();for(_l===e&&Dl===t||(Hl=null,pc(e,t));;)try{bc();break}catch(r){fc(e,r)}if(ko(),Al=n,Cl.current=a,null!==Rl)throw Error(o(261));return _l=null,Dl=0,Ll}function bc(){for(;null!==Rl;)wc(Rl)}function vc(){for(;null!==Rl&&!Ye();)wc(Rl)}function wc(e){var t=Nl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?xc(e):Rl=t,Il.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xi(n,t,Ol)))return void(Rl=n)}else{if(null!==(n=Yi(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return Ll=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===Ll&&(Ll=5)}function kc(e,t,n){var a=vt,r=El.transition;try{El.transition=null,vt=1,function(e,t,n,a){do{Sc()}while(null!==Yl);if(0!==(6&Al))throw Error(o(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-st(n),o=1<<r;t[r]=0,a[r]=-1,e[r]=-1,n&=~o}}(e,s),e===_l&&(Rl=_l=null,Dl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,_c(tt,(function(){return Sc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=El.transition,El.transition=null;var i=vt;vt=1;var l=Al;Al|=4,Il.current=null,function(e,t){if(er=Ht,pa(e=ha())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var r=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch(x){n=null;break e}var i=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==r&&3!==h.nodeType||(l=i+r),h!==s||0!==a&&3!==h.nodeType||(c=i+a),3===h.nodeType&&(i+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===r&&(l=i),p===s&&++d===a&&(c=i),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Ht=!1,$i=t;null!==$i;)if(e=(t=$i).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$i=e;else for(;null!==$i;){t=$i;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?g:yo(t.type,g),y);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(x){Tc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,$i=e;break}$i=t.return}m=nl,nl=!1}(e,n),yl(n,e),fa(tr),Ht=!!er,tr=er=null,e.current=n,vl(n,e,r),Qe(),Al=l,vt=i,El.transition=s}else e.current=n;if(Xl&&(Xl=!1,Yl=e,Ql=r),s=e.pendingLanes,0===s&&(Kl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ze()),null!==t)for(a=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],a(r.value,{componentStack:r.stack,digest:r.digest});if(Gl)throw Gl=!1,e=ql,ql=null,e;0!==(1&Ql)&&0!==e.tag&&Sc(),s=e.pendingLanes,0!==(1&s)?e===Jl?Zl++:(Zl=0,Jl=e):Zl=0,Ur()}(e,t,n,a)}finally{El.transition=r,vt=a}return null}function Sc(){if(null!==Yl){var e=wt(Ql),t=El.transition,n=vt;try{if(El.transition=null,vt=16>e?16:e,null===Yl)var a=!1;else{if(e=Yl,Yl=null,Ql=0,0!==(6&Al))throw Error(o(331));var r=Al;for(Al|=4,$i=e.current;null!==$i;){var s=$i,i=s.child;if(0!==(16&$i.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($i=u;null!==$i;){var d=$i;switch(d.tag){case 0:case 11:case 15:al(8,d,s)}var h=d.child;if(null!==h)h.return=d,$i=h;else for(;null!==$i;){var p=(d=$i).sibling,f=d.return;if(sl(d),d===u){$i=null;break}if(null!==p){p.return=f,$i=p;break}$i=f}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}$i=s}}if(0!==(2064&s.subtreeFlags)&&null!==i)i.return=s,$i=i;else e:for(;null!==$i;){if(0!==(2048&(s=$i).flags))switch(s.tag){case 0:case 11:case 15:al(9,s,s.return)}var b=s.sibling;if(null!==b){b.return=s.return,$i=b;break e}$i=s.return}}var v=e.current;for($i=v;null!==$i;){var w=(i=$i).child;if(0!==(2064&i.subtreeFlags)&&null!==w)w.return=i,$i=w;else e:for(i=v;null!==$i;){if(0!==(2048&(l=$i).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(k){Tc(l,l.return,k)}if(l===i){$i=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,$i=x;break e}$i=l.return}}if(Al=r,Ur(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(rt,e)}catch(k){}a=!0}return a}finally{vt=n,El.transition=t}}return!1}function Nc(e,t,n){e=Lo(e,t=fi(0,t=ui(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),rc(e,t))}function Tc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Kl||!Kl.has(a))){t=Lo(t,e=mi(t,e=ui(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Cc(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,_l===e&&(Dl&n)===n&&(4===Ll||3===Ll&&(130023424&Dl)===Dl&&500>Ze()-Ul?pc(e,0):jl|=n),rc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=_o(e,t))&&(yt(e,t,n),rc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(o(314))}null!==a&&a.delete(t),Ic(e,n)}function _c(e,t){return Ke(e,t)}function Rc(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,a){return new Rc(e,t,n,a)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,a,r,s){var i=2;if(a=e,"function"===typeof e)Oc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case S:return Mc(n.children,r,s,t);case N:i=8,r|=8;break;case T:return(e=Dc(12,n,t,2|r)).elementType=T,e.lanes=s,e;case A:return(e=Dc(13,n,t,r)).elementType=A,e.lanes=s,e;case _:return(e=Dc(19,n,t,r)).elementType=_,e.lanes=s,e;case O:return Pc(n,r,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:i=10;break e;case I:i=9;break e;case E:i=11;break e;case R:i=14;break e;case D:i=16,a=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Dc(i,n,t,r)).elementType=e,t.type=a,t.lanes=s,t}function Mc(e,t,n,a){return(e=Dc(7,e,a,t)).lanes=n,e}function Pc(e,t,n,a){return(e=Dc(22,e,a,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function zc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,a,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=a,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Wc(e,t,n,a,r,o,s,i,l){return e=new Bc(e,t,n,i,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Dc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Do(o),e}function Uc(e){if(!e)return Ir;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Dr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Dr(n))return Lr(e,n,t)}return t}function Vc(e,t,n,a,r,o,s,i,l){return(e=Wc(n,a,!0,e,0,o,0,i,l)).context=Uc(null),n=e.current,(o=Fo(a=tc(),r=nc(n))).callback=void 0!==t&&null!==t?t:null,Lo(n,o,r),e.current.lanes=r,yt(e,r,a),rc(e,a),e}function Hc(e,t,n,a){var r=t.current,o=tc(),s=nc(r);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fo(o,s)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=Lo(r,t,s))&&(ac(e,r,s,o),Mo(e,r,s)),s}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ar.current)wi=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wi=!1,function(e,t,n){switch(t.tag){case 3:_i(t),fo();break;case 5:ss(t);break;case 1:Dr(t.type)&&Mr(t);break;case 4:rs(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,r=t.memoizedProps.value;Cr(bo,a._currentValue),a._currentValue=r;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(Cr(ls,1&ls.current),t.flags|=128,null):0!==(n&t.child.childLanes)?zi(e,t,n):(Cr(ls,1&ls.current),null!==(e=Gi(e,t,n))?e.sibling:null);Cr(ls,1&ls.current);break;case 19:if(a=0!==(n&t.childLanes),0!==(128&e.flags)){if(a)return Vi(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Cr(ls,ls.current),a)break;return null;case 22:case 23:return t.lanes=0,Ti(e,t,n)}return Gi(e,t,n)}(e,t,n);wi=0!==(131072&e.flags)}else wi=!1,ro&&0!==(1048576&t.flags)&&$r(t,qr,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Hi(e,t),e=t.pendingProps;var r=Rr(t,Er.current);To(t,n),r=Ns(null,t,a,e,r,n);var s=Ts();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Dr(a)?(s=!0,Mr(t)):s=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Do(t),r.updater=Uo,t.stateNode=r,r._reactInternals=t,qo(t,a,e,n),t=Ai(null,t,a,!0,s,n)):(t.tag=0,ro&&s&&eo(t),xi(null,t,r,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Hi(e,t),e=t.pendingProps,a=(r=a._init)(a._payload),t.type=a,r=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===R)return 14}return 2}(a),e=yo(a,e),r){case 0:t=Ii(null,t,a,e,n);break e;case 1:t=Ei(null,t,a,e,n);break e;case 11:t=ki(null,t,a,e,n);break e;case 14:t=Si(null,t,a,yo(a.type,e),n);break e}throw Error(o(306,a,""))}return t;case 0:return a=t.type,r=t.pendingProps,Ii(e,t,a,r=t.elementType===a?r:yo(a,r),n);case 1:return a=t.type,r=t.pendingProps,Ei(e,t,a,r=t.elementType===a?r:yo(a,r),n);case 3:e:{if(_i(t),null===e)throw Error(o(387));a=t.pendingProps,r=(s=t.memoizedState).element,Oo(e,t),zo(t,a,null,n);var i=t.memoizedState;if(a=i.element,s.isDehydrated){if(s={element:a,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ri(e,t,a,n,r=ui(Error(o(423)),t));break e}if(a!==r){t=Ri(e,t,a,n,r=ui(Error(o(424)),t));break e}for(ao=cr(t.stateNode.containerInfo.firstChild),no=t,ro=!0,oo=null,n=Jo(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),a===r){t=Gi(e,t,n);break e}xi(e,t,a,n)}t=t.child}return t;case 5:return ss(t),null===e&&co(t),a=t.type,r=t.pendingProps,s=null!==e?e.memoizedProps:null,i=r.children,nr(a,r)?i=null:null!==s&&nr(a,s)&&(t.flags|=32),Ci(e,t),xi(e,t,i,n),t.child;case 6:return null===e&&co(t),null;case 13:return zi(e,t,n);case 4:return rs(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=Zo(t,null,a,n):xi(e,t,a,n),t.child;case 11:return a=t.type,r=t.pendingProps,ki(e,t,a,r=t.elementType===a?r:yo(a,r),n);case 7:return xi(e,t,t.pendingProps,n),t.child;case 8:case 12:return xi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,r=t.pendingProps,s=t.memoizedProps,i=r.value,Cr(bo,a._currentValue),a._currentValue=i,null!==s)if(ia(s.value,i)){if(s.children===r.children&&!Ar.current){t=Gi(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){i=s.child;for(var c=l.firstContext;null!==c;){if(c.context===a){if(1===s.tag){(c=Fo(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),No(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)i=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(i=s.return))throw Error(o(341));i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),No(i,n,t),i=s.sibling}else i=s.child;if(null!==i)i.return=s;else for(i=s;null!==i;){if(i===t){i=null;break}if(null!==(s=i.sibling)){s.return=i.return,i=s;break}i=i.return}s=i}xi(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,a=t.pendingProps.children,To(t,n),a=a(r=Co(r)),t.flags|=1,xi(e,t,a,n),t.child;case 14:return r=yo(a=t.type,t.pendingProps),Si(e,t,a,r=yo(a.type,r),n);case 15:return Ni(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:yo(a,r),Hi(e,t),t.tag=1,Dr(a)?(e=!0,Mr(t)):e=!1,To(t,n),Ho(t,a,r),qo(t,a,r,n),Ai(null,t,a,!0,e,n);case 19:return Vi(e,t,n);case 22:return Ti(e,t,n)}throw Error(o(156,t.tag))};var Xc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function eu(e,t,n,a,r){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof r){var i=r;r=function(){var e=Gc(s);i.call(e)}}Hc(t,s,e,r)}else s=function(e,t,n,a,r){if(r){if("function"===typeof a){var o=a;a=function(){var e=Gc(s);o.call(e)}}var s=Vc(t,a,e,0,null,!1,0,"",$c);return e._reactRootContainer=s,e[fr]=s.current,Ua(8===e.nodeType?e.parentNode:e),dc(),s}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof a){var i=a;a=function(){var e=Gc(l);i.call(e)}}var l=Wc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[fr]=l.current,Ua(8===e.nodeType?e.parentNode:e),dc((function(){Hc(t,l,n,a)})),l}(n,t,e,r,a);return Gc(s)}Qc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hc(e,t,null,null)},Qc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Hc(null,e,null,null)})),t[fr]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Pt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(bt(t,1|n),rc(t,Ze()),0===(6&Al)&&(Vl=Ze()+500,Ur()))}break;case 13:dc((function(){var t=_o(e,1);if(null!==t){var n=tc();ac(t,e,1,n)}})),Kc(e,1)}},kt=function(e){if(13===e.tag){var t=_o(e,134217728);if(null!==t)ac(t,e,134217728,tc());Kc(e,134217728)}},St=function(e){if(13===e.tag){var t=nc(e),n=_o(e,t);if(null!==n)ac(n,e,t,tc());Kc(e,t)}},Nt=function(){return vt},Tt=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},ke=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=xr(a);if(!r)throw Error(o(90));K(a),J(a,r)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=uc,Ae=dc;var tu={usingClientEntryPoint:!1,Events:[vr,wr,xr,Ce,Ie,uc]},nu={findFiberByHostInstance:br,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},au={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{rt=ru.inject(au),ot=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zc(t))throw Error(o(200));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zc(e))throw Error(o(299));var n=!1,a="",r=Xc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Wc(e,1,!1,null,0,n,0,a,r),e[fr]=t.current,Ua(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zc(e))throw Error(o(405));var a=null!=n&&n.hydratedSources||null,r=!1,s="",i=Xc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,r,0,s,i),e[fr]=t.current,Ua(e),a)for(e=0;e<a.length;e++)r=(r=(n=a[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Qc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(o(40));return!!e._reactRootContainer&&(dc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[fr]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Jc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,a)},t.version="18.2.0-next-9e3b772b8-20220608"},4391:(e,t,n)=>{"use strict";var a=n(7950);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},526:(e,t,n)=>{"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=i(n(5043)),s=i(n(5173));function i(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=!1,u=!1,d=!1,h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onScriptLoaded=function(){t.stripeHandler||(t.stripeHandler=StripeCheckout.configure({key:n.props.stripeKey}),n.hasPendingClick&&n.showStripeDialog())},n.onScriptError=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];n.hideLoadingDialog(),n.props.onScriptError&&n.props.onScriptError.apply(n,t)},n.onClosed=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];n._isMounted&&n.setState({open:!1}),n.props.closed&&n.props.closed.apply(n,t)},n.onOpened=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];n.setState({open:!0}),n.props.opened&&n.props.opened.apply(n,t)},n.getConfig=function(){return["token","image","name","description","amount","locale","currency","panelLabel","zipCode","shippingAddress","billingAddress","email","allowRememberMe","bitcoin","alipay","alipayReusable"].reduce((function(e,t){return a({},e,n.props.hasOwnProperty(t)&&l({},t,n.props[t]))}),{opened:n.onOpened,closed:n.onClosed})},n.onClick=function(){if(!n.props.disabled)if(d)try{throw new Error("Tried to call onClick, but StripeCheckout failed to load")}catch(e){}else t.stripeHandler?n.showStripeDialog():(n.showLoadingDialog(),n.hasPendingClick=!0)},n.handleOnMouseDown=function(){n.setState({buttonActive:!0})},n.handleOnMouseUp=function(){n.setState({buttonActive:!1})},n.state={open:!1,buttonActive:!1},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this;if(this._isMounted=!0,!u&&!c){c=!0;var t=document.createElement("script");"function"===typeof this.props.onScriptTagCreated&&this.props.onScriptTagCreated(t),t.src="https://checkout.stripe.com/checkout.js",t.async=1,this.loadPromise=function(){var n=!1,a=new Promise((function(n,a){t.onload=function(){u=!0,c=!1,n(),e.onScriptLoaded()},t.onerror=function(t){d=!0,c=!1,a(t),e.onScriptError(t)}}));return{promise:new Promise((function(e,t){a.then((function(){return n?t({isCanceled:!0}):e()})),a.catch((function(e){return t(n?{isCanceled:!0}:e)}))})),cancel:function(){n=!0}}}(),this.loadPromise.promise.then(this.onScriptLoaded).catch(this.onScriptError),document.body.appendChild(t)}}},{key:"componentDidUpdate",value:function(){c||this.updateStripeHandler()}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.loadPromise&&this.loadPromise.cancel(),t.stripeHandler&&this.state.open&&t.stripeHandler.close()}},{key:"updateStripeHandler",value:function(){t.stripeHandler&&!this.props.reconfigureOnUpdate||(t.stripeHandler=StripeCheckout.configure({key:this.props.stripeKey}))}},{key:"showLoadingDialog",value:function(){if(this.props.showLoadingDialog){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.props.showLoadingDialog.apply(this,t)}}},{key:"hideLoadingDialog",value:function(){if(this.props.hideLoadingDialog){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.props.hideLoadingDialog.apply(this,t)}}},{key:"showStripeDialog",value:function(){this.hideLoadingDialog(),t.stripeHandler.open(this.getConfig())}},{key:"renderDefaultStripeButton",value:function(){return o.default.createElement("button",a({},l({},this.props.triggerEvent,this.onClick),{className:this.props.className,onMouseDown:this.handleOnMouseDown,onFocus:this.handleOnMouseDown,onMouseUp:this.handleOnMouseUp,onMouseOut:this.handleOnMouseUp,onBlur:this.handleOnMouseUp,style:a({},{overflow:"hidden",display:"inline-block",background:"linear-gradient(#28a0e5,#015e94)",border:0,padding:1,textDecoration:"none",borderRadius:5,boxShadow:"0 1px 0 rgba(0,0,0,0.2)",cursor:"pointer",visibility:"visible",userSelect:"none"},this.state.buttonActive&&{background:"#005d93"},this.props.style)}),o.default.createElement("span",{style:a({},{backgroundImage:"linear-gradient(#7dc5ee,#008cdd 85%,#30a2e4)",fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:14,position:"relative",padding:"0 12px",display:"block",height:30,lineHeight:"30px",color:"#fff",fontWeight:"bold",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",textShadow:"0 -1px 0 rgba(0,0,0,0.25)",borderRadius:4},this.state.buttonActive&&{color:"#eee",boxShadow:"inset 0 1px 0 rgba(0,0,0,0.1)",backgroundImage:"linear-gradient(#008cdd,#008cdd 85%,#239adf)"},this.props.textStyle)},this.props.label))}},{key:"renderDisabledButton",value:function(){return o.default.createElement("button",{disabled:!0,style:{background:"rgba(0,0,0,0.2)",overflow:"hidden",display:"inline-block",border:0,padding:1,textDecoration:"none",borderRadius:5,userSelect:"none"}},o.default.createElement("span",{style:{boxShadow:"inset 0 1px 0 rgba(255,255,255,0.25)",fontFamily:'"Helvetica Neue",Helvetica,Arial,sans-serif',fontSize:14,position:"relative",padding:"0 12px",display:"block",height:30,lineHeight:"30px",borderRadius:4,color:"#999",background:"#f8f9fa",textShadow:"0 1px 0 rgba(255,255,255,0.5)"}},this.props.label))}},{key:"render",value:function(){!0!==this.props.desktopShowModal||this.state.open?!1===this.props.desktopShowModal&&this.state.open&&t.stripeHandler.close():this.onClick();var e=this.props.ComponentClass;return this.props.children?o.default.createElement(e,a({},l({},this.props.triggerEvent,this.onClick),{children:this.props.children})):this.props.disabled?this.renderDisabledButton():this.renderDefaultStripeButton()}}]),t}(o.default.Component);h.defaultProps={className:"StripeCheckout",label:"Pay With Card",locale:"auto",ComponentClass:"span",reconfigureOnUpdate:!1,triggerEvent:"onClick"},h.propTypes={desktopShowModal:s.default.bool,triggerEvent:s.default.oneOf(["onClick","onTouchTap","onTouchStart"]),label:s.default.string,style:s.default.object,textStyle:s.default.object,disabled:s.default.bool,ComponentClass:s.default.string,showLoadingDialog:s.default.func,hideLoadingDialog:s.default.func,onScriptError:s.default.func,onScriptTagCreated:s.default.func,reconfigureOnUpdate:s.default.bool,stripeKey:s.default.string.isRequired,token:s.default.func.isRequired,name:s.default.string,description:s.default.string,image:s.default.string,amount:s.default.number,locale:s.default.oneOf(["auto","zh","da","nl","en","fr","de","it","ja","no","es","sv"]),currency:s.default.oneOf(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BIF","BMD","BND","BOB","BRL","BSD","BWP","BZD","CAD","CDF","CHF","CLP","CNY","COP","CRC","CVE","CZK","DJF","DKK","DOP","DZD","EEK","EGP","ETB","EUR","FJD","FKP","GBP","GEL","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","ISK","JMD","JPY","KES","KGS","KHR","KMF","KRW","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LTL","LVL","MAD","MDL","MGA","MKD","MNT","MOP","MRO","MUR","MVR","MWK","MXN","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SEK","SGD","SHP","SLL","SOS","SRD","STD","SVC","SZL","THB","TJS","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","UYU","UZS","VND","VUV","WST","XAF","XCD","XOF","XPF","YER","ZAR","ZMW"]),panelLabel:s.default.string,zipCode:s.default.bool,billingAddress:s.default.bool,shippingAddress:s.default.bool,email:s.default.string,allowRememberMe:s.default.bool,bitcoin:s.default.bool,alipay:s.default.oneOf(["auto",!0,!1]),alipayReusable:s.default.bool,opened:s.default.func,closed:s.default.func},h._isMounted=!1,t.A=h},1153:(e,t,n)=>{"use strict";var a=n(5043),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var a,o={},c=null,u=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,a)&&!l.hasOwnProperty(a)&&(o[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===o[a]&&(o[a]=t[a]);return{$$typeof:r,type:e,key:c,ref:u,props:o,_owner:i.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function b(){}function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var w=v.prototype=new b;w.constructor=v,m(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,a){var r,o={},s=null,i=null;if(null!=t)for(r in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(s=""+t.key),t)k.call(t,r)&&!N.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=a;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:n,type:e,key:s,ref:i,props:o,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,r,o,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case a:l=!0}}if(l)return s=s(l=e),e=""===o?"."+E(l,0):o,x(s)?(r="",null!=e&&(r=e.replace(I,"$&/")+"/"),A(s,t,r,"",(function(e){return e}))):null!=s&&(C(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",x(e))for(var c=0;c<e.length;c++){var u=o+E(i=e[c],c);l+=A(i,t,r,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(i=e.next()).done;)l+=A(i=i.value,t,r,u=o+E(i,c++),s);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function _(e,t,n){if(null==e)return e;var a=[],r=0;return A(e,a,"","",(function(e){return t.call(n,e,r++)})),a}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},O={transition:null},F={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};t.Children={map:_,forEach:function(e,t,n){_(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return _(e,(function(){t++})),t},toArray:function(e){return _(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=r,t.Profiler=s,t.PureComponent=v,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=m({},e.props),o=e.key,s=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,i=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!N.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=a;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:e.type,key:o,ref:s,props:r,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},579:(e,t,n)=>{"use strict";e.exports=n(1153)},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,r=e[a];if(!(0<o(r,t)))break e;e[a]=t,e[n]=r,n=a}}function a(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,r=e.length,s=r>>>1;a<s;){var i=2*(a+1)-1,l=e[i],c=i+1,u=e[c];if(0>o(l,n))c<r&&0>o(u,l)?(e[a]=u,e[c]=n,a=c):(e[a]=l,e[i]=n,a=i);else{if(!(c<r&&0>o(u,n)))break e;e[a]=u,e[c]=n,a=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=a(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=a(u)}}function x(e){if(g=!1,w(e),!m)if(null!==a(c))m=!0,O(k);else{var t=a(u);null!==t&&F(x,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,b(C),C=-1),f=!0;var o=p;try{for(w(n),h=a(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var i=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof i?h.callback=i:h===a(c)&&r(c),w(n)}else r(c);h=a(c)}if(null!==h)var l=!0;else{var d=a(u);null!==d&&F(x,d.startTime-n),l=!1}return l}finally{h=null,p=o,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,N=!1,T=null,C=-1,I=5,E=-1;function A(){return!(t.unstable_now()-E<I)}function _(){if(null!==T){var e=t.unstable_now();E=e;var n=!0;try{n=T(!0,e)}finally{n?S():(N=!1,T=null)}}else N=!1}if("function"===typeof v)S=function(){v(_)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,D=R.port2;R.port1.onmessage=_,S=function(){D.postMessage(null)}}else S=function(){y(_,0)};function O(e){T=e,N||(N=!0,S())}function F(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,O(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:o,expirationTime:i=o+i,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===a(c)&&e===a(u)&&(g?(b(C),C=-1):g=!0,F(x,o-s))):(e.sortIndex=i,n(c,e),m||f||(m=!0,O(k))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},4334:(e,t,n)=>{var a=n(7359),r=n(7066),o=n(9016),s=n(9538),i=n(6288),l=n(5262),c=n(2430);c.alea=a,c.xor128=r,c.xorwow=o,c.xorshift7=s,c.xor4096=i,c.tychei=l,e.exports=c},7359:function(e,t,n){var a;!function(e,r,o){function s(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var a=.02519603282416938*(e+=t.charCodeAt(n));a-=e=a>>>0,e=(a*=e)>>>0,e+=4294967296*(a-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function i(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function l(e,t){var n=new s(e),a=t&&t.state,r=n.next;return r.int32=function(){return 4294967296*n.next()|0},r.double=function(){return r()+11102230246251565e-32*(2097152*r()|0)},r.quick=r,a&&("object"==typeof a&&i(a,n),r.state=function(){return i(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0===(a=function(){return l}.call(t,n,t,r))||(r.exports=a):this.alea=l}(0,e=n.nmd(e),n.amdD)},5262:function(e,t,n){var a;!function(e,r,o){function s(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,a=t.d,r=t.a;return e=e<<25^e>>>7^n,n=n-a|0,a=a<<24^a>>>8^r,r=r-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-a|0,t.d=a<<16^n>>>16^r,t.a=r-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var a=0;a<n.length+20;a++)t.b^=0|n.charCodeAt(a),t.next()}function i(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function l(e,t){var n=new s(e),a=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,a&&("object"==typeof a&&i(a,n),r.state=function(){return i(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0===(a=function(){return l}.call(t,n,t,r))||(r.exports=a):this.tychei=l}(0,e=n.nmd(e),n.amdD)},7066:function(e,t,n){var a;!function(e,r,o){function s(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var a=0;a<n.length+64;a++)t.x^=0|n.charCodeAt(a),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function l(e,t){var n=new s(e),a=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,a&&("object"==typeof a&&i(a,n),r.state=function(){return i(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0===(a=function(){return l}.call(t,n,t,r))||(r.exports=a):this.xor128=l}(0,e=n.nmd(e),n.amdD)},6288:function(e,t,n){var a;!function(e,r,o){function s(e){var t=this;t.next=function(){var e,n,a=t.w,r=t.X,o=t.i;return t.w=a=a+1640531527|0,n=r[o+34&127],e=r[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=r[o]=n^e,t.i=o,n+(a^a>>>16)|0},function(e,t){var n,a,r,o,s,i=[],l=128;for(t===(0|t)?(a=t,t=null):(t+="\0",a=0,l=Math.max(l,t.length)),r=0,o=-32;o<l;++o)t&&(a^=t.charCodeAt((o+32)%t.length)),0===o&&(s=a),a^=a<<10,a^=a>>>15,a^=a<<4,a^=a>>>13,o>=0&&(s=s+1640531527|0,r=0==(n=i[127&o]^=a+s)?r+1:0);for(r>=128&&(i[127&(t&&t.length||0)]=-1),r=127,o=512;o>0;--o)a=i[r+34&127],n=i[r=r+1&127],a^=a<<13,n^=n<<17,a^=a>>>15,n^=n>>>12,i[r]=a^n;e.w=s,e.X=i,e.i=r}(t,e)}function i(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function l(e,t){null==e&&(e=+new Date);var n=new s(e),a=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,a&&(a.X&&i(a,n),r.state=function(){return i(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0===(a=function(){return l}.call(t,n,t,r))||(r.exports=a):this.xor4096=l}(0,e=n.nmd(e),n.amdD)},9538:function(e,t,n){var a;!function(e,r,o){function s(e){var t=this;t.next=function(){var e,n,a=t.x,r=t.i;return e=a[r],n=(e^=e>>>7)^e<<24,n^=(e=a[r+1&7])^e>>>10,n^=(e=a[r+3&7])^e>>>3,n^=(e=a[r+4&7])^e<<7,e=a[r+7&7],n^=(e^=e<<13)^e<<9,a[r]=n,t.i=r+1&7,n},function(e,t){var n,a=[];if(t===(0|t))a[0]=t;else for(t=""+t,n=0;n<t.length;++n)a[7&n]=a[7&n]<<15^t.charCodeAt(n)+a[n+1&7]<<13;for(;a.length<8;)a.push(0);for(n=0;n<8&&0===a[n];++n);for(8==n?a[7]=-1:a[n],e.x=a,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function i(e,t){return t.x=e.x.slice(),t.i=e.i,t}function l(e,t){null==e&&(e=+new Date);var n=new s(e),a=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,a&&(a.x&&i(a,n),r.state=function(){return i(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0===(a=function(){return l}.call(t,n,t,r))||(r.exports=a):this.xorshift7=l}(0,e=n.nmd(e),n.amdD)},9016:function(e,t,n){var a;!function(e,r,o){function s(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var a=0;a<n.length+64;a++)t.x^=0|n.charCodeAt(a),a==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function i(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function l(e,t){var n=new s(e),a=t&&t.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},r.int32=n.next,r.quick=r,a&&("object"==typeof a&&i(a,n),r.state=function(){return i(n,{})}),r}r&&r.exports?r.exports=l:n.amdD&&n.amdO?void 0===(a=function(){return l}.call(t,n,t,r))||(r.exports=a):this.xorwow=l}(0,e=n.nmd(e),n.amdD)},2430:function(e,t,n){var a;!function(r,o,s){var i,l=256,c=s.pow(l,6),u=s.pow(2,52),d=2*u,h=l-1;function p(e,t,n){var a=[],h=y(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,b(o)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(l):(e=new Uint8Array(l),(r.crypto||r.msCrypto).getRandomValues(e)),b(e)}catch(a){var t=r.navigator,n=t&&t.plugins;return[+new Date,r,n,r.screen,b(o)]}}():e,3),a),p=new f(a),v=function(){for(var e=p.g(6),t=c,n=0;e<u;)e=(e+n)*l,t*=l,n=p.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return v.int32=function(){return 0|p.g(4)},v.quick=function(){return p.g(4)/4294967296},v.double=v,y(b(p.S),o),(t.pass||n||function(e,t,n,a){return a&&(a.S&&m(a,p),e.state=function(){return m(p,{})}),n?(s.random=e,t):e})(v,h,"global"in t?t.global:this==s,t.state)}function f(e){var t,n=e.length,a=this,r=0,o=a.i=a.j=0,s=a.S=[];for(n||(e=[n++]);r<l;)s[r]=r++;for(r=0;r<l;r++)s[r]=s[o=h&o+e[r%n]+(t=s[r])],s[o]=t;(a.g=function(e){for(var t,n=0,r=a.i,o=a.j,s=a.S;e--;)t=s[r=h&r+1],n=n*l+s[h&(s[r]=s[o=h&o+t])+(s[o]=t)];return a.i=r,a.j=o,n})(l)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,a=[],r=typeof e;if(t&&"object"==r)for(n in e)try{a.push(g(e[n],t-1))}catch(o){}return a.length?a:"string"==r?e:e+"\0"}function y(e,t){for(var n,a=e+"",r=0;r<a.length;)t[h&r]=h&(n^=19*t[h&r])+a.charCodeAt(r++);return b(t)}function b(e){return String.fromCharCode.apply(0,e)}if(y(s.random(),o),e.exports){e.exports=p;try{i=n(1234)}catch(v){}}else void 0===(a=function(){return p}.call(t,n,t,e))||(e.exports=a)}("undefined"!==typeof self?self:this,[],Math)},3153:(e,t,n)=>{var a=n(9073);e.exports=function(e){return a(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))}},1346:e=>{e.exports=function(e){return t.test(e)?e.toLowerCase():n.test(e)?(function(e){return e.replace(r,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():a.test(e)?function(e){return e.replace(o,(function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()};var t=/\s/,n=/(_|-|\.|:)/,a=/([a-z][A-Z]|[A-Z][a-z])/;var r=/[\W_]+(.|$)/g;var o=/(.)([A-Z]+)/g},9073:(e,t,n)=>{var a=n(1346);e.exports=function(e){return a(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()}},6440:e=>{"use strict";var t=function(){};e.exports=t},5817:()=>{},8590:()=>{},4530:()=>{},8108:()=>{},551:()=>{},1234:()=>{},8139:(e,t)=>{var n;!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,o(n)))}return e}function o(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)a.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(a,r){if(1&r&&(a=this(a)),8&r)return a;if("object"===typeof a&&a){if(4&r&&a.__esModule)return a;if(16&r&&"function"===typeof a.then)return a}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&r&&a;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>s[e]=()=>a[e]));return s.default=()=>a,n.d(o,s),o}})(),n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{"use strict";var e={};n.r(e),n.d(e,{afterMain:()=>Uo,afterRead:()=>jo,afterWrite:()=>Go,applyStyles:()=>Jo,arrow:()=>bs,auto:()=>Io,basePlacements:()=>Eo,beforeMain:()=>Bo,beforeRead:()=>Po,beforeWrite:()=>Vo,bottom:()=>No,clippingParents:()=>Ro,computeStyles:()=>ks,createPopper:()=>$s,createPopperBase:()=>Js,createPopperLite:()=>ei,detectOverflow:()=>zs,end:()=>_o,eventListeners:()=>Ns,flip:()=>js,hide:()=>Us,left:()=>Co,main:()=>Wo,modifierPhases:()=>qo,offset:()=>Vs,placements:()=>Mo,popper:()=>Oo,popperGenerator:()=>Zs,popperOffsets:()=>Hs,preventOverflow:()=>Gs,read:()=>zo,reference:()=>Fo,right:()=>To,start:()=>Ao,top:()=>So,variationPlacements:()=>Lo,viewport:()=>Do,write:()=>Ho});var t={};n.r(t),n.d(t,{hasBrowserEnv:()=>Of,hasStandardBrowserEnv:()=>Ff,hasStandardBrowserWebWorkerEnv:()=>Mf});var a={};n.r(a),n.d(a,{arraysEqual:()=>bg,arraysEqualWithNull:()=>yg,assert:()=>hg,assertNonNegativeIntegerDimensions:()=>Xg,assertNonNull:()=>fg,assertShapesMatch:()=>pg,bytesFromStringArray:()=>Fg,bytesPerElement:()=>Og,checkConversionForErrors:()=>_g,clamp:()=>sg,computeStrides:()=>Wg,convertBackendValuesAndArrayBuffer:()=>Hg,createScalarValue:()=>Jw,createShuffledIndices:()=>kg,decodeString:()=>ax,distSquared:()=>dg,encodeString:()=>nx,fetch:()=>tx,fingerPrint64:()=>Zw,flatten:()=>ox,getArrayFromDType:()=>Ag,getTypedArrayFromDType:()=>Eg,hasEncodingLoss:()=>Dg,hexToLong:()=>Bw,indexToLoc:()=>Qg,inferDtype:()=>zg,inferFromImplicitShape:()=>Tg,isBoolean:()=>Mg,isFunction:()=>jg,isInt:()=>vg,isNumber:()=>Pg,isPromise:()=>Zg,isScalarShape:()=>gg,isString:()=>Lg,isTypedArray:()=>rx,isValidDtype:()=>Rg,locToIndex:()=>Yg,makeOnesTypedArray:()=>Gg,makeZerosNestedTypedArray:()=>Kg,makeZerosTypedArray:()=>qg,nearestDivisor:()=>Bg,nearestLargerEven:()=>ig,now:()=>ex,parseAxisParam:()=>Cg,randUniform:()=>ug,repeatedTry:()=>Ng,rightPad:()=>Sg,shuffle:()=>rg,shuffleCombo:()=>og,sizeFromShape:()=>mg,sizeToSquarishShape:()=>xg,squeezeShape:()=>Ig,sum:()=>cg,swap:()=>lg,tanh:()=>wg,toNestedArray:()=>Vg,toTypedArray:()=>$w});var r={};n.r(r),n.d(r,{assertTypesMatch:()=>Lx,getTensorsInContainer:()=>Px,isTensorInList:()=>Mx,makeTypesMatch:()=>Fx});var o={};n.r(o),n.d(o,{isBrowser:()=>Xx,isMobile:()=>Kx,mockIsMobile:()=>qx});var s={};n.r(s),n.d(s,{Serializable:()=>JS,SerializationMap:()=>$S,getRegisteredName:()=>tN,registerClass:()=>eN});var i={};n.r(i),n.d(i,{assertAndGetBroadcastShape:()=>hN,getBroadcastDims:()=>uN,getReductionAxes:()=>dN});var l={};n.r(l),n.d(l,{CompositeArrayBuffer:()=>ik,browserFiles:()=>kN,browserHTTPRequest:()=>RN,concatenateArrayBuffers:()=>Bk,copyModel:()=>TS,decodeWeights:()=>Rk,decodeWeightsStream:()=>Mk,encodeWeights:()=>_k,fromMemory:()=>LN,fromMemorySync:()=>MN,getLoadHandlers:()=>Zk,getModelArtifactsForJSON:()=>Hk,getModelArtifactsForJSONSync:()=>Vk,getModelArtifactsInfoForJSON:()=>Gk,getSaveHandlers:()=>Qk,getWeightSpecs:()=>qk,http:()=>_N,isHTTPScheme:()=>EN,listModels:()=>SS,loadWeights:()=>TN,moveModel:()=>CS,registerLoadRouter:()=>Yk,registerSaveRouter:()=>Xk,removeModel:()=>NS,weightsLoaderFactory:()=>CN,withSaveHandler:()=>PN,withSaveHandlerSync:()=>zN});var c={};n.r(c),n.d(c,{confusionMatrix:()=>GN});var u={};n.r(u),n.d(u,{draw:()=>eT,fromPixels:()=>tT,fromPixelsAsync:()=>ZN,toPixels:()=>$N});var d={};n.r(d),n.d(d,{prepareAndValidate:()=>nT});var h={};n.r(h),n.d(h,{calculateShapes:()=>oT,validateInput:()=>rT,validateUpdateShape:()=>aT});var p={};n.r(p),n.d(p,{assertParamsValid:()=>lT,computeFlatOffset:()=>xT,computeOutShape:()=>uT,getNormalizedAxes:()=>fT,isSliceContinous:()=>wT,maskToAxes:()=>cT,parseSliceParams:()=>kT,sliceInfo:()=>ST,startForAxis:()=>bT,startIndicesWithElidedDims:()=>mT,stopForAxis:()=>vT,stopIndicesWithElidedDims:()=>gT,stridesForAxis:()=>yT,stridesWithElidedDims:()=>dT});var f={};n.r(f),n.d(f,{TEST_EPSILON_FLOAT16:()=>CT,createVideoElement:()=>PT,encodeStrings:()=>MT,expectArrayBuffersEqual:()=>LT,expectArraysClose:()=>IT,expectArraysEqual:()=>RT,expectNumbersClose:()=>DT,expectPromiseToFail:()=>_T,expectValuesInRange:()=>FT,play:()=>zT,testEpsilon:()=>ET});var m={};n.r(m),n.d(m,{conv2d:()=>VA,depthwiseConv2d:()=>qA,matMul:()=>KA});var g={};n.r(g),n.d(g,{collectGatherOpShapeInfo:()=>aD,computeOutShape:()=>nD,segOpComputeOptimalWindowSize:()=>tD});var y={};n.r(y),n.d(y,{ERF_A1:()=>vR,ERF_A2:()=>wR,ERF_A3:()=>xR,ERF_A4:()=>kR,ERF_A5:()=>SR,ERF_P:()=>bR,PARALLELIZE_THRESHOLD:()=>lR,RowPartitionType:()=>aR,SELU_SCALE:()=>yR,SELU_SCALEALPHA:()=>gR,applyActivation:()=>WA,assertAndGetBroadcastShape:()=>hN,assertAxesAreInnerMostDims:()=>dI,assertParamsConsistent:()=>tR,assignToTypedArray:()=>AR,axesAreInnerMostDims:()=>iI,calculateShapes:()=>oT,checkEinsumDimSizes:()=>zR,checkPadOnDimRoundingMode:()=>pC,combineLocations:()=>lI,combineRaggedTensorToTensorShapes:()=>rR,complexWithEvenIndex:()=>CR,complexWithOddIndex:()=>IR,computeConv2DInfo:()=>nC,computeConv3DInfo:()=>aC,computeDefaultPad:()=>rC,computeDilation2DInfo:()=>$T,computeOptimalWindowSize:()=>cR,computeOutAndReduceShapes:()=>cI,computeOutShape:()=>nR,computePool2DInfo:()=>eC,computePool3DInfo:()=>tC,convertConv2DDataFormat:()=>hC,decodeEinsumEquation:()=>MR,eitherStridesOrDilationsAreOne:()=>uC,expandShapeToKeepDim:()=>uI,exponent:()=>RR,exponents:()=>_R,fromStringArrayToUint8:()=>oD,fromUint8ToStringArray:()=>rD,getAxesPermutation:()=>hI,getBroadcastDims:()=>uN,getComplexWithIndex:()=>ER,getEinsumComputePath:()=>jR,getEinsumPermutation:()=>PR,getFusedBiasGradient:()=>BA,getFusedDyActivation:()=>jA,getImageCenter:()=>uR,getInnerMostAxes:()=>fI,getPermuted:()=>hR,getRaggedRank:()=>sR,getReductionAxes:()=>dN,getReshaped:()=>dR,getReshapedPermuted:()=>pR,getRowPartitionTypesHelper:()=>oR,getSliceBeginCoords:()=>fR,getSliceSize:()=>mR,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>VR,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>HR,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>GR,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>XR,getSparseReshapeInputOutputMismatchErrorMessage:()=>QR,getSparseReshapeInputOutputMultipleErrorMessage:()=>YR,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>qR,getSparseReshapeNegativeOutputDimErrorMessage:()=>KR,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>eD,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>ZR,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>JR,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>$R,getUndoAxesPermutation:()=>pI,isIdentityPermutation:()=>BR,log:()=>Tw,mergeRealAndImagArrays:()=>NR,prepareAndValidate:()=>nT,prepareSplitSize:()=>UR,segment_util:()=>g,shouldFuse:()=>UA,slice_util:()=>p,splitRealAndImagArrays:()=>TR,stridesOrDilationsArePositive:()=>dC,tupleValuesAreOne:()=>cC,upcastType:()=>_x,validateDefaultValueShape:()=>iR,validateInput:()=>rT,validateUpdateShape:()=>aT,warn:()=>Nw});var b={};n.r(b),n.d(b,{nonMaxSuppressionV3Impl:()=>i_,nonMaxSuppressionV4Impl:()=>l_,nonMaxSuppressionV5Impl:()=>c_,whereImpl:()=>IA});var v={};n.r(v),n.d(v,{Abs:()=>sy,Acos:()=>iy,Acosh:()=>ly,AdadeltaOptimizer:()=>aN,AdagradOptimizer:()=>oN,AdamOptimizer:()=>lN,AdamaxOptimizer:()=>fN,Add:()=>cy,AddN:()=>uy,All:()=>dy,Any:()=>hy,ArgMax:()=>py,ArgMin:()=>fy,Asin:()=>my,Asinh:()=>gy,Atan:()=>yy,Atan2:()=>vy,Atanh:()=>by,AvgPool:()=>wy,AvgPool3D:()=>ky,AvgPool3DGrad:()=>Sy,AvgPoolGrad:()=>xy,BatchMatMul:()=>Ny,BatchToSpaceND:()=>Ty,Bincount:()=>Cy,BitwiseAnd:()=>Iy,BroadcastArgs:()=>Ay,BroadcastTo:()=>Ey,Cast:()=>_y,Ceil:()=>Ry,ClipByValue:()=>Dy,Complex:()=>Oy,ComplexAbs:()=>Fy,Concat:()=>Ly,Conv2D:()=>My,Conv2DBackpropFilter:()=>Py,Conv2DBackpropInput:()=>zy,Conv3D:()=>jy,Conv3DBackpropFilterV2:()=>By,Conv3DBackpropInputV2:()=>Wy,Cos:()=>Uy,Cosh:()=>Vy,CropAndResize:()=>qy,Cumprod:()=>Hy,Cumsum:()=>Gy,DataStorage:()=>tg,DenseBincount:()=>Ky,DepthToSpace:()=>Xy,DepthwiseConv2dNative:()=>Yy,DepthwiseConv2dNativeBackpropFilter:()=>Qy,DepthwiseConv2dNativeBackpropInput:()=>Zy,Diag:()=>Jy,Dilation2D:()=>$y,Dilation2DBackpropFilter:()=>tb,Dilation2DBackpropInput:()=>eb,Draw:()=>nb,ENV:()=>ay,Einsum:()=>rb,Elu:()=>ob,EluGrad:()=>sb,Environment:()=>$g,Equal:()=>lb,Erf:()=>ib,Exp:()=>cb,ExpandDims:()=>ub,Expm1:()=>db,FFT:()=>hb,Fill:()=>pb,FlipLeftRight:()=>fb,Floor:()=>mb,FloorDiv:()=>gb,FromPixels:()=>vw,FusedBatchNorm:()=>yb,FusedConv2D:()=>kw,FusedDepthwiseConv2D:()=>Sw,GatherNd:()=>vb,GatherV2:()=>bb,Greater:()=>wb,GreaterEqual:()=>xb,IFFT:()=>Sb,Identity:()=>kb,Imag:()=>Nb,IsFinite:()=>Tb,IsInf:()=>Cb,IsNan:()=>Ib,KernelBackend:()=>ng,LRN:()=>Bb,LRNGrad:()=>Wb,LeakyRelu:()=>Eb,Less:()=>Ab,LessEqual:()=>_b,LinSpace:()=>Rb,Log:()=>Db,Log1p:()=>Ob,LogSoftmax:()=>zb,LogicalAnd:()=>Fb,LogicalNot:()=>Lb,LogicalOr:()=>Mb,LogicalXor:()=>Pb,LowerBound:()=>jb,MatrixBandPart:()=>Ub,Max:()=>Vb,MaxPool:()=>Gb,MaxPool3D:()=>Kb,MaxPool3DGrad:()=>Xb,MaxPoolGrad:()=>qb,MaxPoolWithArgmax:()=>Yb,Maximum:()=>Hb,Mean:()=>Qb,Min:()=>Zb,Minimum:()=>Jb,MirrorPad:()=>$b,Mod:()=>ev,MomentumOptimizer:()=>gN,Multinomial:()=>tv,Multiply:()=>nv,Neg:()=>av,NonMaxSuppressionV3:()=>ov,NonMaxSuppressionV4:()=>sv,NonMaxSuppressionV5:()=>iv,NotEqual:()=>rv,OP_SCOPE_SUFFIX:()=>tk,OneHot:()=>cv,OnesLike:()=>lv,Optimizer:()=>nN,OptimizerConstructors:()=>BT,Pack:()=>uv,PadV2:()=>dv,Pool:()=>hv,Pow:()=>pv,Prelu:()=>fv,Prod:()=>mv,RMSPropOptimizer:()=>yN,RaggedGather:()=>gv,RaggedRange:()=>yv,RaggedTensorToTensor:()=>bv,Range:()=>vv,Rank:()=>Nx,Real:()=>wv,RealDiv:()=>ab,Reciprocal:()=>xv,Reduction:()=>I_,Relu:()=>kv,Relu6:()=>Ev,Reshape:()=>Sv,ResizeBilinear:()=>Cv,ResizeBilinearGrad:()=>Iv,ResizeNearestNeighbor:()=>Nv,ResizeNearestNeighborGrad:()=>Tv,Reverse:()=>Av,RotateWithOffset:()=>ww,Round:()=>_v,Rsqrt:()=>Rv,SGDOptimizer:()=>mN,ScatterNd:()=>Dv,SearchSorted:()=>Fv,Select:()=>Lv,Selu:()=>Mv,Sigmoid:()=>Wv,Sign:()=>Bv,Sin:()=>zv,Sinh:()=>jv,Slice:()=>Pv,Softmax:()=>Kv,Softplus:()=>Uv,SpaceToBatchND:()=>Gv,SparseFillEmptyRows:()=>Xv,SparseReshape:()=>Yv,SparseSegmentMean:()=>Qv,SparseSegmentSum:()=>Zv,SparseToDense:()=>Jv,SplitV:()=>qv,Sqrt:()=>Vv,Square:()=>ew,SquaredDifference:()=>$v,StaticRegexReplace:()=>tw,Step:()=>bw,StridedSlice:()=>nw,StringNGrams:()=>aw,StringSplit:()=>rw,StringToHashBucketFast:()=>ow,Sub:()=>sw,Sum:()=>Hv,Tan:()=>iw,Tanh:()=>lw,Tensor:()=>xx,TensorBuffer:()=>yx,TensorScatterUpdate:()=>Ov,Tile:()=>cw,TopK:()=>uw,Transform:()=>dw,Transpose:()=>hw,Unique:()=>pw,Unpack:()=>fw,UnsortedSegmentSum:()=>mw,UpperBound:()=>gw,Variable:()=>Sx,ZerosLike:()=>yw,_FusedMatMul:()=>xw,abs:()=>cN,acos:()=>WT,acosh:()=>UT,add:()=>LS,addN:()=>VT,all:()=>HT,any:()=>GT,argMax:()=>qT,argMin:()=>KT,asin:()=>XT,asinh:()=>YT,atan:()=>QT,atan2:()=>ZT,atanh:()=>JT,avgPool:()=>mC,avgPool3d:()=>gC,backend:()=>Ik,backend_util:()=>y,basicLSTMCell:()=>xC,batchNorm:()=>SC,batchNorm2d:()=>NC,batchNorm3d:()=>TC,batchNorm4d:()=>CC,batchToSpaceND:()=>kC,bincount:()=>IC,bitwiseAnd:()=>EC,booleanMaskAsync:()=>AA,broadcastArgs:()=>AC,broadcastTo:()=>_C,broadcast_util:()=>i,browser:()=>u,buffer:()=>RS,cast:()=>DS,ceil:()=>RC,clipByValue:()=>DC,clone:()=>OS,complex:()=>ak,concat:()=>yC,concat1d:()=>OC,concat2d:()=>FC,concat3d:()=>LC,concat4d:()=>MC,conv1d:()=>zC,conv2d:()=>PC,conv2dTranspose:()=>BC,conv3d:()=>WC,conv3dTranspose:()=>VC,copyRegisteredKernels:()=>Lw,cos:()=>HC,cosh:()=>GC,cosineWindow:()=>MA,cumprod:()=>qC,cumsum:()=>KC,customGrad:()=>KS,denseBincount:()=>XC,deprecationWarn:()=>dk,depthToSpace:()=>YC,depthwiseConv2d:()=>QC,device_util:()=>o,diag:()=>ZC,dilation2d:()=>JC,disableDeprecationWarnings:()=>uk,dispose:()=>yk,disposeVariables:()=>hk,div:()=>PS,divNoNan:()=>tI,dot:()=>nI,dropout:()=>FA,einsum:()=>aI,elu:()=>rI,enableDebugMode:()=>ck,enableProdMode:()=>lk,enclosingPowerOfTwo:()=>LA,engine:()=>pk,ensureShape:()=>oI,env:()=>ty,equal:()=>$C,erf:()=>sI,euclideanNorm:()=>wI,exp:()=>xI,expandDims:()=>kI,expm1:()=>SI,eye:()=>TI,fft:()=>aA,fill:()=>rN,findBackend:()=>Nk,findBackendFactory:()=>Tk,floor:()=>CI,floorDiv:()=>MS,fused:()=>m,gather:()=>II,gatherND:()=>OA,gather_util:()=>d,getBackend:()=>kk,getGradient:()=>Aw,getKernel:()=>Ew,getKernelsForBackend:()=>_w,grad:()=>US,grads:()=>VS,greater:()=>EI,greaterEqual:()=>AI,ifft:()=>rA,imag:()=>WN,image:()=>K_,inTopKAsync:()=>PA,io:()=>l,irfft:()=>oA,isFinite:()=>_I,isInf:()=>RI,isNaN:()=>DI,keep:()=>bk,kernel_impls:()=>b,leakyRelu:()=>OI,less:()=>FI,lessEqual:()=>LI,linalg:()=>X_,linspace:()=>MI,localResponseNormalization:()=>PI,log:()=>zI,log1p:()=>jI,logSigmoid:()=>WI,logSoftmax:()=>UI,logSumExp:()=>VI,logicalAnd:()=>HI,logicalNot:()=>GI,logicalOr:()=>qI,logicalXor:()=>KI,losses:()=>Y_,lowerBound:()=>QI,matMul:()=>jN,math:()=>c,max:()=>mI,maxPool:()=>ZI,maxPool3d:()=>JI,maxPoolWithArgmax:()=>$I,maximum:()=>pN,mean:()=>eE,memory:()=>fk,meshgrid:()=>aE,min:()=>gI,minimum:()=>rE,mirrorPad:()=>oE,mod:()=>sE,moments:()=>iE,movingAverage:()=>_A,mul:()=>zS,multiRNNCell:()=>lE,multinomial:()=>cE,neg:()=>UN,nextFrame:()=>eR,norm:()=>vI,notEqual:()=>uE,oneHot:()=>BN,ones:()=>nE,onesLike:()=>dE,op:()=>nk,outerProduct:()=>hE,pad:()=>pE,pad1d:()=>fE,pad2d:()=>mE,pad3d:()=>gE,pad4d:()=>yE,pool:()=>vE,pow:()=>sN,prelu:()=>wE,print:()=>FS,prod:()=>xE,profile:()=>mk,raggedGather:()=>kE,raggedRange:()=>SE,raggedTensorToTensor:()=>NE,rand:()=>TE,randomGamma:()=>_E,randomNormal:()=>RE,randomStandardNormal:()=>DE,randomUniform:()=>OE,randomUniformInt:()=>FE,range:()=>LE,ready:()=>xk,real:()=>VN,reciprocal:()=>ME,registerBackend:()=>Ck,registerGradient:()=>Dw,registerKernel:()=>Rw,relu:()=>PE,relu6:()=>zE,removeBackend:()=>Sk,reshape:()=>fC,reverse:()=>jE,reverse1d:()=>BE,reverse2d:()=>WE,reverse3d:()=>UE,reverse4d:()=>VE,rfft:()=>iA,round:()=>HE,rsqrt:()=>GE,scalar:()=>YS,scatterND:()=>RA,scatter_util:()=>h,searchSorted:()=>YI,selu:()=>qE,separableConv2d:()=>KE,serialization:()=>s,setBackend:()=>wk,setPlatform:()=>Ek,setdiff1dAsync:()=>XE,sigmoid:()=>bC,sign:()=>YE,signal:()=>q_,sin:()=>QE,sinh:()=>ZE,slice:()=>vC,slice1d:()=>JE,slice2d:()=>$E,slice3d:()=>eA,slice4d:()=>tA,slice_util:()=>p,softmax:()=>nA,softplus:()=>BI,spaceToBatchND:()=>bE,sparse:()=>Q_,sparseToDense:()=>DA,spectral:()=>G_,split:()=>sA,sqrt:()=>jS,square:()=>BS,squaredDifference:()=>lA,squeeze:()=>cA,stack:()=>uA,step:()=>dA,stridedSlice:()=>hA,string:()=>Z_,sub:()=>iN,sum:()=>yI,sumOutType:()=>Rx,tan:()=>pA,tanh:()=>wC,tensor:()=>ok,tensor1d:()=>fA,tensor2d:()=>mA,tensor3d:()=>qN,tensor4d:()=>gA,tensor5d:()=>yA,tensor6d:()=>bA,tensorScatterUpdate:()=>vA,tensor_util:()=>r,test_util:()=>f,tidy:()=>gk,tile:()=>NI,time:()=>vk,topk:()=>wA,train:()=>J_,transpose:()=>HN,truncatedNormal:()=>xA,unique:()=>kA,unregisterGradient:()=>Fw,unregisterKernel:()=>Ow,unsortedSegmentSum:()=>SA,unstack:()=>NA,upcastType:()=>_x,upperBound:()=>TA,util:()=>a,valueAndGrad:()=>HS,valueAndGrads:()=>GS,variable:()=>CA,variableGrads:()=>qS,version_core:()=>jT,where:()=>eI,whereAsync:()=>EA,zeros:()=>tE,zerosLike:()=>WS});var w={};n.r(w),n.d(w,{json:()=>bD});var x={};n.r(x),n.d(x,{json:()=>vD});var k={};n.r(k),n.d(k,{json:()=>wD});var S={};n.r(S),n.d(S,{json:()=>xD});var N={};n.r(N),n.d(N,{json:()=>kD});var T={};n.r(T),n.d(T,{json:()=>SD});var C={};n.r(C),n.d(C,{json:()=>ND});var I={};n.r(I),n.d(I,{json:()=>TD});var E={};n.r(E),n.d(E,{json:()=>CD});var A={};n.r(A),n.d(A,{json:()=>ID});var _={};n.r(_),n.d(_,{json:()=>ED});var R={};n.r(R),n.d(R,{json:()=>AD});var D={};n.r(D),n.d(D,{json:()=>_D});var O={};n.r(O),n.d(O,{json:()=>RD});var F={};n.r(F),n.d(F,{json:()=>DD});var L={};n.r(L),n.d(L,{json:()=>OD});var M={};n.r(M),n.d(M,{json:()=>FD});var P={};n.r(P),n.d(P,{json:()=>LD});var z={};n.r(z),n.d(z,{json:()=>MD});var j={};n.r(j),n.d(j,{OP_SCOPE_SUFFIX:()=>tk,abs:()=>cN,acos:()=>WT,acosh:()=>UT,add:()=>LS,addN:()=>VT,all:()=>HT,any:()=>GT,argMax:()=>qT,argMin:()=>KT,asin:()=>XT,asinh:()=>YT,atan:()=>QT,atan2:()=>ZT,atanh:()=>JT,avgPool:()=>mC,avgPool3d:()=>gC,basicLSTMCell:()=>xC,batchNorm:()=>SC,batchNorm2d:()=>NC,batchNorm3d:()=>TC,batchNorm4d:()=>CC,batchToSpaceND:()=>kC,bincount:()=>IC,bitwiseAnd:()=>EC,booleanMaskAsync:()=>AA,broadcastArgs:()=>AC,broadcastTo:()=>_C,buffer:()=>RS,cast:()=>DS,ceil:()=>RC,clipByValue:()=>DC,clone:()=>OS,complex:()=>ak,concat:()=>yC,concat1d:()=>OC,concat2d:()=>FC,concat3d:()=>LC,concat4d:()=>MC,conv1d:()=>zC,conv2d:()=>PC,conv2dTranspose:()=>BC,conv3d:()=>WC,conv3dTranspose:()=>VC,cos:()=>HC,cosh:()=>GC,cosineWindow:()=>MA,cumprod:()=>qC,cumsum:()=>KC,denseBincount:()=>XC,depthToSpace:()=>YC,depthwiseConv2d:()=>QC,diag:()=>ZC,dilation2d:()=>JC,div:()=>PS,divNoNan:()=>tI,dot:()=>nI,dropout:()=>FA,einsum:()=>aI,elu:()=>rI,enclosingPowerOfTwo:()=>LA,ensureShape:()=>oI,equal:()=>$C,erf:()=>sI,euclideanNorm:()=>wI,exp:()=>xI,expandDims:()=>kI,expm1:()=>SI,eye:()=>TI,fft:()=>aA,fill:()=>rN,floor:()=>CI,floorDiv:()=>MS,fused:()=>m,gather:()=>II,gatherND:()=>OA,greater:()=>EI,greaterEqual:()=>AI,ifft:()=>rA,imag:()=>WN,image:()=>K_,inTopKAsync:()=>PA,irfft:()=>oA,isFinite:()=>_I,isInf:()=>RI,isNaN:()=>DI,leakyRelu:()=>OI,less:()=>FI,lessEqual:()=>LI,linalg:()=>X_,linspace:()=>MI,localResponseNormalization:()=>PI,log:()=>zI,log1p:()=>jI,logSigmoid:()=>WI,logSoftmax:()=>UI,logSumExp:()=>VI,logicalAnd:()=>HI,logicalNot:()=>GI,logicalOr:()=>qI,logicalXor:()=>KI,losses:()=>Y_,lowerBound:()=>QI,matMul:()=>jN,max:()=>mI,maxPool:()=>ZI,maxPool3d:()=>JI,maxPoolWithArgmax:()=>$I,maximum:()=>pN,mean:()=>eE,meshgrid:()=>aE,min:()=>gI,minimum:()=>rE,mirrorPad:()=>oE,mod:()=>sE,moments:()=>iE,movingAverage:()=>_A,mul:()=>zS,multiRNNCell:()=>lE,multinomial:()=>cE,neg:()=>UN,norm:()=>vI,notEqual:()=>uE,oneHot:()=>BN,ones:()=>nE,onesLike:()=>dE,op:()=>nk,outerProduct:()=>hE,pad:()=>pE,pad1d:()=>fE,pad2d:()=>mE,pad3d:()=>gE,pad4d:()=>yE,pool:()=>vE,pow:()=>sN,prelu:()=>wE,print:()=>FS,prod:()=>xE,raggedGather:()=>kE,raggedRange:()=>SE,raggedTensorToTensor:()=>NE,rand:()=>TE,randomGamma:()=>_E,randomNormal:()=>RE,randomStandardNormal:()=>DE,randomUniform:()=>OE,randomUniformInt:()=>FE,range:()=>LE,real:()=>VN,reciprocal:()=>ME,relu:()=>PE,relu6:()=>zE,reshape:()=>fC,reverse:()=>jE,reverse1d:()=>BE,reverse2d:()=>WE,reverse3d:()=>UE,reverse4d:()=>VE,rfft:()=>iA,round:()=>HE,rsqrt:()=>GE,scalar:()=>YS,scatterND:()=>RA,searchSorted:()=>YI,selu:()=>qE,separableConv2d:()=>KE,setdiff1dAsync:()=>XE,sigmoid:()=>bC,sign:()=>YE,signal:()=>q_,sin:()=>QE,sinh:()=>ZE,slice:()=>vC,slice1d:()=>JE,slice2d:()=>$E,slice3d:()=>eA,slice4d:()=>tA,softmax:()=>nA,softplus:()=>BI,spaceToBatchND:()=>bE,sparse:()=>Q_,sparseToDense:()=>DA,spectral:()=>G_,split:()=>sA,sqrt:()=>jS,square:()=>BS,squaredDifference:()=>lA,squeeze:()=>cA,stack:()=>uA,step:()=>dA,stridedSlice:()=>hA,string:()=>Z_,sub:()=>iN,sum:()=>yI,tan:()=>pA,tanh:()=>wC,tensor:()=>ok,tensor1d:()=>fA,tensor2d:()=>mA,tensor3d:()=>qN,tensor4d:()=>gA,tensor5d:()=>yA,tensor6d:()=>bA,tensorScatterUpdate:()=>vA,tile:()=>NI,topk:()=>wA,transpose:()=>HN,truncatedNormal:()=>xA,unique:()=>kA,unsortedSegmentSum:()=>SA,unstack:()=>NA,upperBound:()=>TA,variable:()=>CA,where:()=>eI,whereAsync:()=>EA,zeros:()=>tE,zerosLike:()=>WS});var B={};n.r(B),n.d(B,{addImpl:()=>tU,bincountImpl:()=>KU,bincountReduceImpl:()=>XU,bitwiseAndImpl:()=>QU,castImpl:()=>QW,ceilImpl:()=>eV,concatImpl:()=>sV,equalImpl:()=>HV,expImpl:()=>tH,expm1Impl:()=>sH,floorImpl:()=>SH,gatherNdImpl:()=>RH,gatherV2Impl:()=>OH,greaterEqualImpl:()=>zH,greaterImpl:()=>LH,lessEqualImpl:()=>ZH,lessImpl:()=>XH,linSpaceImpl:()=>eG,logImpl:()=>nG,maxImpl:()=>yG,maximumImpl:()=>wG,minimumImpl:()=>_G,multiplyImpl:()=>MV,negImpl:()=>BG,notEqualImpl:()=>XG,prodImpl:()=>iq,raggedGatherImpl:()=>hq,raggedRangeImpl:()=>mq,raggedTensorToTensorImpl:()=>xq,rangeImpl:()=>Sq,rsqrtImpl:()=>Lq,scatterImpl:()=>zq,sigmoidImpl:()=>WW,simpleAbsImpl:()=>uU,sliceImpl:()=>VU,sparseFillEmptyRowsImpl:()=>rK,sparseReshapeImpl:()=>sK,sparseSegmentReductionImpl:()=>lK,sqrtImpl:()=>pK,staticRegexReplaceImpl:()=>wK,stridedSliceImpl:()=>TK,stringNGramsImpl:()=>EK,stringSplitImpl:()=>RK,stringToHashBucketFastImpl:()=>OK,subImpl:()=>hH,tileImpl:()=>jK,topKImpl:()=>VK,transposeImpl:()=>yU,uniqueImpl:()=>QK});var W=n(5043),U=n.t(W,2),V=n(4391),H=n(8139),G=n.n(H);const q=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},K=W.createContext(null);function X(){return X=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},X.apply(this,arguments)}function Y(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}n(2740);function Q(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Z(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function J(e,t){return Object.keys(t).reduce((function(n,a){var r,o=n,s=o[Q(a)],i=o[a],l=Y(o,[Q(a),a].map(Z)),c=t[a],u=function(e,t,n){var a=(0,W.useRef)(void 0!==e),r=(0,W.useState)(t),o=r[0],s=r[1],i=void 0!==e,l=a.current;return a.current=i,!i&&l&&o!==t&&s(t),[i?e:o,(0,W.useCallback)((function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];n&&n.apply(void 0,[e].concat(a)),s(e)}),[n])]}(i,s,e[c]),d=u[0],h=u[1];return X({},l,((r={})[a]=d,r[c]=h,r))}),e)}function $(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function ee(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function te(e,t){try{var n=this.props,a=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,a)}finally{this.props=n,this.state=a}}$.__suppressDeprecationWarning=!0,ee.__suppressDeprecationWarning=!0,te.__suppressDeprecationWarning=!0;var ne=n(579);const ae=["xxl","xl","lg","md","sm","xs"],re="xs",oe=W.createContext({prefixes:{},breakpoints:ae,minBreakpoint:re}),{Consumer:se,Provider:ie}=oe;function le(e,t){const{prefixes:n}=(0,W.useContext)(oe);return e||n[t]||t}function ce(){const{breakpoints:e}=(0,W.useContext)(oe);return e}function ue(){const{minBreakpoint:e}=(0,W.useContext)(oe);return e}function de(){const{dir:e}=(0,W.useContext)(oe);return"rtl"===e}const he=W.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,as:r,...o}=e;n=le(n,"navbar-brand");const s=r||(o.href?"a":"span");return(0,ne.jsx)(s,{...o,ref:t,className:G()(a,n)})}));he.displayName="NavbarBrand";const pe=he;function fe(e){return e&&e.ownerDocument||document}function me(e,t){return function(e){var t=fe(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var ge=/([A-Z])/g;var ye=/^ms-/;function be(e){return function(e){return e.replace(ge,"-$1").toLowerCase()}(e).replace(ye,"-ms-")}var ve=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const we=function(e,t){var n="",a="";if("string"===typeof t)return e.style.getPropertyValue(be(t))||me(e).getPropertyValue(be(t));Object.keys(t).forEach((function(r){var o=t[r];o||0===o?!function(e){return!(!e||!ve.test(e))}(r)?n+=be(r)+": "+o+";":a+=r+"("+o+") ":e.style.removeProperty(be(r))})),a&&(n+="transform: "+a+";"),e.style.cssText+=";"+n};function xe(e,t){return xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xe(e,t)}var ke=n(7950),Se=n.t(ke,2);const Ne=!1,Te=W.createContext(null);var Ce="unmounted",Ie="exited",Ee="entering",Ae="entered",_e="exiting",Re=function(e){var t,n;function a(t,n){var a;a=e.call(this,t,n)||this;var r,o=n&&!n.isMounting?t.enter:t.appear;return a.appearStatus=null,t.in?o?(r=Ie,a.appearStatus=Ee):r=Ae:r=t.unmountOnExit||t.mountOnEnter?Ce:Ie,a.state={status:r},a.nextCallback=null,a}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,xe(t,n),a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Ce?{status:Ie}:null};var r=a.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Ee&&n!==Ae&&(t=Ee):n!==Ee&&n!==Ae||(t=_e)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,a=this.props.timeout;return e=t=n=a,null!=a&&"number"!==typeof a&&(e=a.exit,t=a.enter,n=void 0!==a.appear?a.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Ee){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:ke.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ie&&this.setState({status:Ce})},r.performEnter=function(e){var t=this,n=this.props.enter,a=this.context?this.context.isMounting:e,r=this.props.nodeRef?[a]:[ke.findDOMNode(this),a],o=r[0],s=r[1],i=this.getTimeouts(),l=a?i.appear:i.enter;!e&&!n||Ne?this.safeSetState({status:Ae},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:Ee},(function(){t.props.onEntering(o,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:Ae},(function(){t.props.onEntered(o,s)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),a=this.props.nodeRef?void 0:ke.findDOMNode(this);t&&!Ne?(this.props.onExit(a),this.safeSetState({status:_e},(function(){e.props.onExiting(a),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Ie},(function(){e.props.onExited(a)}))}))}))):this.safeSetState({status:Ie},(function(){e.props.onExited(a)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(a){n&&(n=!1,t.nextCallback=null,e(a))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:ke.findDOMNode(this),a=null==e&&!this.props.addEndListener;if(n&&!a){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=r[0],s=r[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===Ce)return null;var t=this.props,n=t.children,a=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Y(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return W.createElement(Te.Provider,{value:null},"function"===typeof n?n(e,a):W.cloneElement(W.Children.only(n),a))},a}(W.Component);function De(){}Re.contextType=Te,Re.propTypes={},Re.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:De,onEntering:De,onEntered:De,onExit:De,onExiting:De,onExited:De},Re.UNMOUNTED=Ce,Re.EXITED=Ie,Re.ENTERING=Ee,Re.ENTERED=Ae,Re.EXITING=_e;const Oe=Re,Fe=!("undefined"===typeof window||!window.document||!window.document.createElement);var Le=!1,Me=!1;try{var Pe={get passive(){return Le=!0},get once(){return Me=Le=!0}};Fe&&(window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,!0))}catch(a4){}const ze=function(e,t,n,a){if(a&&"boolean"!==typeof a&&!Me){var r=a.once,o=a.capture,s=n;!Me&&r&&(s=n.__once||function e(a){this.removeEventListener(t,e,o),n.call(this,a)},n.__once=s),e.addEventListener(t,s,Le?a:o)}e.addEventListener(t,n,a)};const je=function(e,t,n,a){var r=a&&"boolean"!==typeof a?a.capture:a;e.removeEventListener(t,n,r),n.__once&&e.removeEventListener(t,n.__once,r)};const Be=function(e,t,n,a){return ze(e,t,n,a),function(){je(e,t,n,a)}};function We(e,t,n){void 0===n&&(n=5);var a=!1,r=setTimeout((function(){a||function(e,t,n,a){if(void 0===n&&(n=!1),void 0===a&&(a=!0),e){var r=document.createEvent("HTMLEvents");r.initEvent(t,n,a),e.dispatchEvent(r)}}(e,"transitionend",!0)}),t+n),o=Be(e,"transitionend",(function(){a=!0}),{once:!0});return function(){clearTimeout(r),o()}}function Ue(e,t,n,a){null==n&&(n=function(e){var t=we(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var r=We(e,n,a),o=Be(e,"transitionend",t);return function(){r(),o()}}function Ve(e,t){const n=we(e,t)||"",a=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*a}function He(e,t){const n=Ve(e,"transitionDuration"),a=Ve(e,"transitionDelay"),r=Ue(e,(n=>{n.target===e&&(r(),t(n))}),n+a)}const Ge=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e=>null!=e)).reduce(((e,t)=>{if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];e.apply(this,a),t.apply(this,a)}}),null)};function qe(e){e.offsetHeight}const Ke=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const Xe=function(e,t){return(0,W.useMemo)((()=>function(e,t){const n=Ke(e),a=Ke(t);return e=>{n&&n(e),a&&a(e)}}(e,t)),[e,t])};const Ye=W.forwardRef(((e,t)=>{let{onEnter:n,onEntering:a,onEntered:r,onExit:o,onExiting:s,onExited:i,addEndListener:l,children:c,childRef:u,...d}=e;const h=(0,W.useRef)(null),p=Xe(h,u),f=e=>{var t;p((t=e)&&"setState"in t?ke.findDOMNode(t):null!=t?t:null)},m=e=>t=>{e&&h.current&&e(h.current,t)},g=(0,W.useCallback)(m(n),[n]),y=(0,W.useCallback)(m(a),[a]),b=(0,W.useCallback)(m(r),[r]),v=(0,W.useCallback)(m(o),[o]),w=(0,W.useCallback)(m(s),[s]),x=(0,W.useCallback)(m(i),[i]),k=(0,W.useCallback)(m(l),[l]);return(0,ne.jsx)(Oe,{ref:t,...d,onEnter:g,onEntered:b,onEntering:y,onExit:v,onExited:x,onExiting:w,addEndListener:k,nodeRef:h,children:"function"===typeof c?(e,t)=>c(e,{...t,ref:f}):W.cloneElement(c,{ref:f})})})),Qe={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Ze(e,t){const n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],a=Qe[e];return n+parseInt(we(t,a[0]),10)+parseInt(we(t,a[1]),10)}const Je={[Ie]:"collapse",[_e]:"collapsing",[Ee]:"collapsing",[Ae]:"collapse show"},$e=W.forwardRef(((e,t)=>{let{onEnter:n,onEntering:a,onEntered:r,onExit:o,onExiting:s,className:i,children:l,dimension:c="height",in:u=!1,timeout:d=300,mountOnEnter:h=!1,unmountOnExit:p=!1,appear:f=!1,getDimensionValue:m=Ze,...g}=e;const y="function"===typeof c?c():c,b=(0,W.useMemo)((()=>Ge((e=>{e.style[y]="0"}),n)),[y,n]),v=(0,W.useMemo)((()=>Ge((e=>{const t="scroll".concat(y[0].toUpperCase()).concat(y.slice(1));e.style[y]="".concat(e[t],"px")}),a)),[y,a]),w=(0,W.useMemo)((()=>Ge((e=>{e.style[y]=null}),r)),[y,r]),x=(0,W.useMemo)((()=>Ge((e=>{e.style[y]="".concat(m(y,e),"px"),qe(e)}),o)),[o,m,y]),k=(0,W.useMemo)((()=>Ge((e=>{e.style[y]=null}),s)),[y,s]);return(0,ne.jsx)(Ye,{ref:t,addEndListener:He,...g,"aria-expanded":g.role?u:null,onEnter:b,onEntering:v,onEntered:w,onExit:x,onExiting:k,childRef:l.ref,in:u,timeout:d,mountOnEnter:h,unmountOnExit:p,appear:f,children:(e,t)=>W.cloneElement(l,{...t,className:G()(i,l.props.className,Je[e],"width"===y&&"collapse-horizontal")})})})),et=W.createContext(null);et.displayName="NavbarContext";const tt=et,nt=W.forwardRef(((e,t)=>{let{children:n,bsPrefix:a,...r}=e;a=le(a,"navbar-collapse");const o=(0,W.useContext)(tt);return(0,ne.jsx)($e,{in:!(!o||!o.expanded),...r,children:(0,ne.jsx)("div",{ref:t,className:a,children:n})})}));nt.displayName="NavbarCollapse";const at=nt;const rt=function(e){const t=(0,W.useRef)(e);return(0,W.useEffect)((()=>{t.current=e}),[e]),t};function ot(e){const t=rt(e);return(0,W.useCallback)((function(){return t.current&&t.current(...arguments)}),[t])}const st=W.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,children:r,label:o="Toggle navigation",as:s="button",onClick:i,...l}=e;n=le(n,"navbar-toggler");const{onToggle:c,expanded:u}=(0,W.useContext)(tt)||{},d=ot((e=>{i&&i(e),c&&c()}));return"button"===s&&(l.type="button"),(0,ne.jsx)(s,{...l,ref:t,onClick:d,"aria-label":o,className:G()(a,n,!u&&"collapsed"),children:r||(0,ne.jsx)("span",{className:"".concat(n,"-icon")})})}));st.displayName="NavbarToggle";const it=st,lt="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,ct="undefined"!==typeof document||lt?W.useLayoutEffect:W.useEffect,ut=new WeakMap,dt=(e,t)=>{if(!e||!t)return;const n=ut.get(t)||new Map;ut.set(t,n);let a=n.get(e);return a||(a=t.matchMedia(e),a.refCount=0,n.set(a.media,a)),a};function ht(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window;const n=dt(e,t),[a,r]=(0,W.useState)((()=>!!n&&n.matches));return ct((()=>{let n=dt(e,t);if(!n)return r(!1);let a=ut.get(t);const o=()=>{r(n.matches)};return n.refCount++,n.addListener(o),o(),()=>{n.removeListener(o),n.refCount--,n.refCount<=0&&(null==a||a.delete(n.media)),n=void 0}}),[e]),a}const pt=function(e){const t=Object.keys(e);function n(e,t){return e===t?t:e?"".concat(e," and ").concat(t):t}function a(n){const a=function(e){return t[Math.min(t.indexOf(e)+1,t.length-1)]}(n);let r=e[a];return r="number"===typeof r?"".concat(r-.2,"px"):"calc(".concat(r," - 0.2px)"),"(max-width: ".concat(r,")")}return function(t,r,o){let s;return"object"===typeof t?(s=t,o=r,r=!0):s={[t]:r=r||!0},ht((0,W.useMemo)((()=>Object.entries(s).reduce(((t,r)=>{let[o,s]=r;return"up"!==s&&!0!==s||(t=n(t,function(t){let n=e[t];return"number"===typeof n&&(n="".concat(n,"px")),"(min-width: ".concat(n,")")}(o))),"down"!==s&&!0!==s||(t=n(t,a(o))),t}),"")),[JSON.stringify(s)]),o)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function ft(e){void 0===e&&(e=fe());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(a4){return e.body}}function mt(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function gt(){const e=(0,W.useRef)(!0),t=(0,W.useRef)((()=>e.current));return(0,W.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),t.current}function yt(e){const t=function(e){const t=(0,W.useRef)(e);return t.current=e,t}(e);(0,W.useEffect)((()=>()=>t.current()),[])}const bt="data-rr-ui-";function vt(e){return"".concat(bt).concat(e)}const wt=vt("modal-open");const xt=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",a=this.getElement();e.style={overflow:a.style.overflow,[n]:a.style[n]},e.scrollBarWidth&&(t[n]="".concat(parseInt(we(a,n)||"0",10)+e.scrollBarWidth,"px")),a.setAttribute(wt,""),we(a,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(wt),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},kt=(0,W.createContext)(Fe?window:void 0);kt.Provider;function St(){return(0,W.useContext)(kt)}const Nt=(e,t)=>Fe?null==e?(t||fe()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const Tt=function(e){let{children:t,in:n,onExited:a,mountOnEnter:r,unmountOnExit:o}=e;const s=(0,W.useRef)(null),i=(0,W.useRef)(n),l=ot(a);(0,W.useEffect)((()=>{n?i.current=!0:l(s.current)}),[n,l]);const c=Xe(s,t.ref),u=(0,W.cloneElement)(t,{ref:c});return n?u:o||!i.current&&r?null:u};const Ct=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function It(e){let{onEnter:t,onEntering:n,onEntered:a,onExit:r,onExiting:o,onExited:s,addEndListener:i,children:l}=e,c=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,Ct);const{major:u}=function(){const e=W.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}(),d=u>=19?l.props.ref:l.ref,h=(0,W.useRef)(null),p=Xe(h,"function"===typeof l?null:d),f=e=>t=>{e&&h.current&&e(h.current,t)},m=(0,W.useCallback)(f(t),[t]),g=(0,W.useCallback)(f(n),[n]),y=(0,W.useCallback)(f(a),[a]),b=(0,W.useCallback)(f(r),[r]),v=(0,W.useCallback)(f(o),[o]),w=(0,W.useCallback)(f(s),[s]),x=(0,W.useCallback)(f(i),[i]);return Object.assign({},c,{nodeRef:h},t&&{onEnter:m},n&&{onEntering:g},a&&{onEntered:y},r&&{onExit:b},o&&{onExiting:v},s&&{onExited:w},i&&{addEndListener:x},{children:"function"===typeof l?(e,t)=>l(e,Object.assign({},t,{ref:p})):(0,W.cloneElement)(l,{ref:p})})}const Et=["component"];const At=W.forwardRef(((e,t)=>{let{component:n}=e;const a=It(function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,Et));return(0,ne.jsx)(n,Object.assign({ref:t},a))}));function _t(e){let{children:t,in:n,onExited:a,onEntered:r,transition:o}=e;const[s,i]=(0,W.useState)(!n);n&&s&&i(!1);const l=function(e){let{in:t,onTransition:n}=e;const a=(0,W.useRef)(null),r=(0,W.useRef)(!0),o=ot(n);return ct((()=>{if(!a.current)return;let e=!1;return o({in:t,element:a.current,initial:r.current,isStale:()=>e}),()=>{e=!0}}),[t,o]),ct((()=>(r.current=!1,()=>{r.current=!0})),[]),a}({in:!!n,onTransition:e=>{Promise.resolve(o(e)).then((()=>{e.isStale()||(e.in?null==r||r(e.element,e.initial):(i(!0),null==a||a(e.element)))}),(t=>{throw e.in||i(!0),t}))}}),c=Xe(l,t.ref);return s&&!n?null:(0,W.cloneElement)(t,{ref:c})}function Rt(e,t,n){return e?(0,ne.jsx)(At,Object.assign({},n,{component:e})):t?(0,ne.jsx)(_t,Object.assign({},n,{transition:t})):(0,ne.jsx)(Tt,Object.assign({},n))}const Dt=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let Ot;function Ft(e){const t=St(),n=e||function(e){return Ot||(Ot=new xt({ownerDocument:null==e?void 0:e.document})),Ot}(t),a=(0,W.useRef)({dialog:null,backdrop:null});return Object.assign(a.current,{add:()=>n.add(a.current),remove:()=>n.remove(a.current),isTopModal:()=>n.isTopModal(a.current),setDialogRef:(0,W.useCallback)((e=>{a.current.dialog=e}),[]),setBackdropRef:(0,W.useCallback)((e=>{a.current.backdrop=e}),[])})}const Lt=(0,W.forwardRef)(((e,t)=>{let{show:n=!1,role:a="dialog",className:r,style:o,children:s,backdrop:i=!0,keyboard:l=!0,onBackdropClick:c,onEscapeKeyDown:u,transition:d,runTransition:h,backdropTransition:p,runBackdropTransition:f,autoFocus:m=!0,enforceFocus:g=!0,restoreFocus:y=!0,restoreFocusOptions:b,renderDialog:v,renderBackdrop:w=(e=>(0,ne.jsx)("div",Object.assign({},e))),manager:x,container:k,onShow:S,onHide:N=(()=>{}),onExit:T,onExited:C,onExiting:I,onEnter:E,onEntering:A,onEntered:_}=e,R=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,Dt);const D=St(),O=function(e,t){const n=St(),[a,r]=(0,W.useState)((()=>Nt(e,null==n?void 0:n.document)));if(!a){const t=Nt(e);t&&r(t)}return(0,W.useEffect)((()=>{t&&a&&t(a)}),[t,a]),(0,W.useEffect)((()=>{const t=Nt(e);t!==a&&r(t)}),[e,a]),a}(k),F=Ft(x),L=gt(),M=function(e){const t=(0,W.useRef)(null);return(0,W.useEffect)((()=>{t.current=e})),t.current}(n),[P,z]=(0,W.useState)(!n),j=(0,W.useRef)(null);(0,W.useImperativeHandle)(t,(()=>F),[F]),Fe&&!M&&n&&(j.current=ft(null==D?void 0:D.document)),n&&P&&z(!1);const B=ot((()=>{if(F.add(),K.current=Be(document,"keydown",G),q.current=Be(document,"focus",(()=>setTimeout(V)),!0),S&&S(),m){var e,t;const n=ft(null!=(e=null==(t=F.dialog)?void 0:t.ownerDocument)?e:null==D?void 0:D.document);F.dialog&&n&&!mt(F.dialog,n)&&(j.current=n,F.dialog.focus())}})),U=ot((()=>{var e;(F.remove(),null==K.current||K.current(),null==q.current||q.current(),y)&&(null==(e=j.current)||null==e.focus||e.focus(b),j.current=null)}));(0,W.useEffect)((()=>{n&&O&&B()}),[n,O,B]),(0,W.useEffect)((()=>{P&&U()}),[P,U]),yt((()=>{U()}));const V=ot((()=>{if(!g||!L()||!F.isTopModal())return;const e=ft(null==D?void 0:D.document);F.dialog&&e&&!mt(F.dialog,e)&&F.dialog.focus()})),H=ot((e=>{e.target===e.currentTarget&&(null==c||c(e),!0===i&&N())})),G=ot((e=>{l&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&F.isTopModal()&&(null==u||u(e),e.defaultPrevented||N())})),q=(0,W.useRef)(),K=(0,W.useRef)();if(!O)return null;const X=Object.assign({role:a,ref:F.setDialogRef,"aria-modal":"dialog"===a||void 0},R,{style:o,className:r,tabIndex:-1});let Y=v?v(X):(0,ne.jsx)("div",Object.assign({},X,{children:W.cloneElement(s,{role:"document"})}));Y=Rt(d,h,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:T,onExiting:I,onExited:function(){z(!0),null==C||C(...arguments)},onEnter:E,onEntering:A,onEntered:_,children:Y});let Q=null;return i&&(Q=w({ref:F.setBackdropRef,onClick:H}),Q=Rt(p,f,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Q})),(0,ne.jsx)(ne.Fragment,{children:ke.createPortal((0,ne.jsxs)(ne.Fragment,{children:[Q,Y]}),O)})}));Lt.displayName="Modal";const Mt=Object.assign(Lt,{Manager:xt}),Pt={[Ee]:"show",[Ae]:"show"},zt=W.forwardRef(((e,t)=>{let{className:n,children:a,transitionClasses:r={},onEnter:o,...s}=e;const i={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},l=(0,W.useCallback)(((e,t)=>{qe(e),null==o||o(e,t)}),[o]);return(0,ne.jsx)(Ye,{ref:t,addEndListener:He,...i,onEnter:l,childRef:a.ref,children:(e,t)=>W.cloneElement(a,{...t,className:G()("fade",n,a.props.className,Pt[e],r[e])})})}));zt.displayName="Fade";const jt=zt,Bt=W.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:r="div",...o}=e;return a=le(a,"offcanvas-body"),(0,ne.jsx)(r,{ref:t,className:G()(n,a),...o})}));Bt.displayName="OffcanvasBody";const Wt=Bt,Ut={[Ee]:"show",[Ae]:"show"},Vt=W.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,children:r,in:o=!1,mountOnEnter:s=!1,unmountOnExit:i=!1,appear:l=!1,...c}=e;return n=le(n,"offcanvas"),(0,ne.jsx)(Ye,{ref:t,addEndListener:He,in:o,mountOnEnter:s,unmountOnExit:i,appear:l,...c,childRef:r.ref,children:(e,t)=>W.cloneElement(r,{...t,className:G()(a,r.props.className,(e===Ee||e===_e)&&"".concat(n,"-toggling"),Ut[e])})})}));Vt.displayName="OffcanvasToggling";const Ht=Vt,Gt=W.createContext({onHide(){}});var qt=n(5173),Kt=n.n(qt);const Xt={"aria-label":Kt().string,onClick:Kt().func,variant:Kt().oneOf(["white"])},Yt=W.forwardRef(((e,t)=>{let{className:n,variant:a,"aria-label":r="Close",...o}=e;return(0,ne.jsx)("button",{ref:t,type:"button",className:G()("btn-close",a&&"btn-close-".concat(a),n),"aria-label":r,...o})}));Yt.displayName="CloseButton",Yt.propTypes=Xt;const Qt=Yt,Zt=W.forwardRef(((e,t)=>{let{closeLabel:n="Close",closeVariant:a,closeButton:r=!1,onHide:o,children:s,...i}=e;const l=(0,W.useContext)(Gt),c=ot((()=>{null==l||l.onHide(),null==o||o()}));return(0,ne.jsxs)("div",{ref:t,...i,children:[s,r&&(0,ne.jsx)(Qt,{"aria-label":n,variant:a,onClick:c})]})})),Jt=Zt,$t=W.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,closeLabel:r="Close",closeButton:o=!1,...s}=e;return n=le(n,"offcanvas-header"),(0,ne.jsx)(Jt,{ref:t,...s,className:G()(a,n),closeLabel:r,closeButton:o})}));$t.displayName="OffcanvasHeader";const en=$t,tn=e=>W.forwardRef(((t,n)=>(0,ne.jsx)("div",{...t,ref:n,className:G()(t.className,e)}))),nn=tn("h5"),an=W.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:r=nn,...o}=e;return a=le(a,"offcanvas-title"),(0,ne.jsx)(r,{ref:t,className:G()(n,a),...o})}));an.displayName="OffcanvasTitle";const rn=an;var on=Function.prototype.bind.call(Function.prototype.call,[].slice);function sn(e,t){return on(e.querySelectorAll(t))}function ln(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const cn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",un=".sticky-top",dn=".navbar-toggler";class hn extends xt{adjustAndStore(e,t,n){const a=t.style[e];t.dataset[e]=a,we(t,{[e]:"".concat(parseFloat(we(t,e))+n,"px")})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],we(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,a;if(a="modal-open",(n=t).classList?n.classList.add(a):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,a)||("string"===typeof n.className?n.className=n.className+" "+a:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+a)),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";sn(t,cn).forEach((t=>this.adjustAndStore(r,t,e.scrollBarWidth))),sn(t,un).forEach((t=>this.adjustAndStore(o,t,-e.scrollBarWidth))),sn(t,dn).forEach((t=>this.adjustAndStore(o,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,a;a="modal-open",(n=t).classList?n.classList.remove(a):"string"===typeof n.className?n.className=ln(n.className,a):n.setAttribute("class",ln(n.className&&n.className.baseVal||"",a));const r=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";sn(t,cn).forEach((e=>this.restore(r,e))),sn(t,un).forEach((e=>this.restore(o,e))),sn(t,dn).forEach((e=>this.restore(o,e)))}}let pn;function fn(e){return pn||(pn=new hn(e)),pn}const mn=hn;function gn(e){return(0,ne.jsx)(Ht,{...e})}function yn(e){return(0,ne.jsx)(jt,{...e})}const bn=W.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,children:r,"aria-labelledby":o,placement:s="start",responsive:i,show:l=!1,backdrop:c=!0,keyboard:u=!0,scroll:d=!1,onEscapeKeyDown:h,onShow:p,onHide:f,container:m,autoFocus:g=!0,enforceFocus:y=!0,restoreFocus:b=!0,restoreFocusOptions:v,onEntered:w,onExit:x,onExiting:k,onEnter:S,onEntering:N,onExited:T,backdropClassName:C,manager:I,renderStaticNode:E=!1,...A}=e;const _=(0,W.useRef)();n=le(n,"offcanvas");const{onToggle:R}=(0,W.useContext)(tt)||{},[D,O]=(0,W.useState)(!1),F=pt(i||"xs","up");(0,W.useEffect)((()=>{O(i?l&&!F:l)}),[l,i,F]);const L=ot((()=>{null==R||R(),null==f||f()})),M=(0,W.useMemo)((()=>({onHide:L})),[L]);const P=(0,W.useCallback)((e=>(0,ne.jsx)("div",{...e,className:G()("".concat(n,"-backdrop"),C)})),[C,n]),z=e=>(0,ne.jsx)("div",{...e,...A,className:G()(a,i?"".concat(n,"-").concat(i):n,"".concat(n,"-").concat(s)),"aria-labelledby":o,children:r});return(0,ne.jsxs)(ne.Fragment,{children:[!D&&(i||E)&&z({}),(0,ne.jsx)(Gt.Provider,{value:M,children:(0,ne.jsx)(Mt,{show:D,ref:t,backdrop:c,container:m,keyboard:u,autoFocus:g,enforceFocus:y&&!d,restoreFocus:b,restoreFocusOptions:v,onEscapeKeyDown:h,onShow:p,onHide:L,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];null==S||S(e,...n)},onEntering:N,onEntered:w,onExit:x,onExiting:k,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];null==T||T(...n)},manager:I||(d?(_.current||(_.current=new mn({handleContainerOverflow:!1})),_.current):fn()),transition:gn,backdropTransition:yn,renderBackdrop:P,renderDialog:z})})]})}));bn.displayName="Offcanvas";const vn=Object.assign(bn,{Body:Wt,Header:en,Title:rn}),wn=W.forwardRef(((e,t)=>{const n=(0,W.useContext)(tt);return(0,ne.jsx)(vn,{ref:t,show:!(null==n||!n.expanded),...e,renderStaticNode:!0})}));wn.displayName="NavbarOffcanvas";const xn=wn,kn=W.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:r="span",...o}=e;return a=le(a,"navbar-text"),(0,ne.jsx)(r,{ref:t,className:G()(n,a),...o})}));kn.displayName="NavbarText";const Sn=kn,Nn=W.forwardRef(((e,t)=>{const{bsPrefix:n,expand:a=!0,variant:r="light",bg:o,fixed:s,sticky:i,className:l,as:c="nav",expanded:u,onToggle:d,onSelect:h,collapseOnSelect:p=!1,...f}=J(e,{expanded:"onToggle"}),m=le(n,"navbar"),g=(0,W.useCallback)((function(){null==h||h(...arguments),p&&u&&(null==d||d(!1))}),[h,p,u,d]);void 0===f.role&&"nav"!==c&&(f.role="navigation");let y="".concat(m,"-expand");"string"===typeof a&&(y="".concat(y,"-").concat(a));const b=(0,W.useMemo)((()=>({onToggle:()=>null==d?void 0:d(!u),bsPrefix:m,expanded:!!u,expand:a})),[m,u,a,d]);return(0,ne.jsx)(tt.Provider,{value:b,children:(0,ne.jsx)(K.Provider,{value:g,children:(0,ne.jsx)(c,{ref:t,...f,className:G()(l,m,a&&y,r&&"".concat(m,"-").concat(r),o&&"bg-".concat(o),i&&"sticky-".concat(i),s&&"fixed-".concat(s))})})})}));Nn.displayName="Navbar";const Tn=Object.assign(Nn,{Brand:pe,Collapse:at,Offcanvas:xn,Text:Sn,Toggle:it});n(9197);const Cn=W.createContext(null);Cn.displayName="NavContext";const In=Cn,En=W.createContext(null),An=["as","disabled"];function _n(e){let{tagName:t,disabled:n,href:a,target:r,rel:o,role:s,onClick:i,tabIndex:l=0,type:c}=e;t||(t=null!=a||null!=r||null!=o?"a":"button");const u={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},u];const d=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(a))&&e.preventDefault(),n?e.stopPropagation():null==i||i(e)};return"a"===t&&(a||(a="#"),n&&(a=void 0)),[{role:null!=s?s:"button",disabled:void 0,tabIndex:n?void 0:l,href:a,target:"a"===t?r:void 0,"aria-disabled":n||void 0,rel:"a"===t?o:void 0,onClick:d,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),d(e))}},u]}const Rn=W.forwardRef(((e,t)=>{let{as:n,disabled:a}=e,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,An);const[o,{tagName:s}]=_n(Object.assign({tagName:n,disabled:a},r));return(0,ne.jsx)(s,Object.assign({},r,o,{ref:t}))}));Rn.displayName="Button";const Dn=Rn,On=["as","active","eventKey"];function Fn(e){let{key:t,onClick:n,active:a,id:r,role:o,disabled:s}=e;const i=(0,W.useContext)(K),l=(0,W.useContext)(In),c=(0,W.useContext)(En);let u=a;const d={role:o};if(l){o||"tablist"!==l.role||(d.role="tab");const e=l.getControllerId(null!=t?t:null),n=l.getControlledId(null!=t?t:null);d[vt("event-key")]=t,d.id=e||r,u=null==a&&null!=t?l.activeKey===t:a,!u&&(null!=c&&c.unmountOnExit||null!=c&&c.mountOnEnter)||(d["aria-controls"]=n)}return"tab"===d.role&&(d["aria-selected"]=u,u||(d.tabIndex=-1),s&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=ot((e=>{s||(null==n||n(e),null!=t&&i&&!e.isPropagationStopped()&&i(t,e))})),[d,{isActive:u}]}const Ln=W.forwardRef(((e,t)=>{let{as:n=Dn,active:a,eventKey:r}=e,o=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,On);const[s,i]=Fn(Object.assign({key:q(r,o.href),active:a},o));return s[vt("active")]=i.isActive,(0,ne.jsx)(n,Object.assign({},o,s,{ref:t}))}));Ln.displayName="NavItem";const Mn=Ln,Pn=["as","onSelect","activeKey","role","onKeyDown"];const zn=()=>{},jn=vt("event-key"),Bn=W.forwardRef(((e,t)=>{let{as:n="div",onSelect:a,activeKey:r,role:o,onKeyDown:s}=e,i=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,Pn);const l=function(){const[,e]=(0,W.useReducer)((e=>!e),!1);return e}(),c=(0,W.useRef)(!1),u=(0,W.useContext)(K),d=(0,W.useContext)(En);let h,p;d&&(o=o||"tablist",r=d.activeKey,h=d.getControlledId,p=d.getControllerId);const f=(0,W.useRef)(null),m=e=>{const t=f.current;if(!t)return null;const n=sn(t,"[".concat(jn,"]:not([aria-disabled=true])")),a=t.querySelector("[aria-selected=true]");if(!a||a!==document.activeElement)return null;const r=n.indexOf(a);if(-1===r)return null;let o=r+e;return o>=n.length&&(o=0),o<0&&(o=n.length-1),n[o]},g=(e,t)=>{null!=e&&(null==a||a(e,t),null==u||u(e,t))};(0,W.useEffect)((()=>{if(f.current&&c.current){const e=f.current.querySelector("[".concat(jn,"][aria-selected=true]"));null==e||e.focus()}c.current=!1}));const y=Xe(t,f);return(0,ne.jsx)(K.Provider,{value:g,children:(0,ne.jsx)(In.Provider,{value:{role:o,activeKey:q(r),getControlledId:h||zn,getControllerId:p||zn},children:(0,ne.jsx)(n,Object.assign({},i,{onKeyDown:e=>{if(null==s||s(e),!d)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=m(-1);break;case"ArrowRight":case"ArrowDown":t=m(1);break;default:return}var n;t&&(e.preventDefault(),g(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),c.current=!0,l())},ref:y,role:o}))})})}));Bn.displayName="Nav";const Wn=Object.assign(Bn,{Item:Mn}),Un=W.createContext(null);Un.displayName="CardHeaderContext";const Vn=Un,Hn=W.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:r="div",...o}=e;return a=le(a,"nav-item"),(0,ne.jsx)(r,{ref:t,className:G()(n,a),...o})}));Hn.displayName="NavItem";const Gn=Hn;new WeakMap;const qn=["onKeyDown"];const Kn=W.forwardRef(((e,t)=>{let{onKeyDown:n}=e,a=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,qn);const[r]=_n(Object.assign({tagName:"a"},a)),o=ot((e=>{r.onKeyDown(e),null==n||n(e)}));return(s=a.href)&&"#"!==s.trim()&&"button"!==a.role?(0,ne.jsx)("a",Object.assign({ref:t},a,{onKeyDown:n})):(0,ne.jsx)("a",Object.assign({ref:t},a,r,{onKeyDown:o}));var s}));Kn.displayName="Anchor";const Xn=Kn,Yn=W.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,as:r=Xn,active:o,eventKey:s,disabled:i=!1,...l}=e;n=le(n,"nav-link");const[c,u]=Fn({key:q(s,l.href),active:o,disabled:i,...l});return(0,ne.jsx)(r,{...l,...c,ref:t,disabled:i,className:G()(a,n,i&&"disabled",u.isActive&&"active")})}));Yn.displayName="NavLink";const Qn=Yn,Zn=W.forwardRef(((e,t)=>{const{as:n="div",bsPrefix:a,variant:r,fill:o=!1,justify:s=!1,navbar:i,navbarScroll:l,className:c,activeKey:u,...d}=J(e,{activeKey:"onSelect"}),h=le(a,"nav");let p,f,m=!1;const g=(0,W.useContext)(tt),y=(0,W.useContext)(Vn);return g?(p=g.bsPrefix,m=null==i||i):y&&({cardHeaderBsPrefix:f}=y),(0,ne.jsx)(Wn,{as:n,ref:t,activeKey:u,className:G()(c,{[h]:!m,["".concat(p,"-nav")]:m,["".concat(p,"-nav-scroll")]:m&&l,["".concat(f,"-").concat(r)]:!!f,["".concat(h,"-").concat(r)]:!!r,["".concat(h,"-fill")]:o,["".concat(h,"-justified")]:s}),...d})}));Zn.displayName="Nav";const Jn=Object.assign(Zn,{Item:Gn,Link:Qn});var $n;function ea(e){if((!$n&&0!==$n||e)&&Fe){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),$n=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return $n}const ta=W.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:r="div",...o}=e;return a=le(a,"modal-body"),(0,ne.jsx)(r,{ref:t,className:G()(n,a),...o})}));ta.displayName="ModalBody";const na=ta,aa=W.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,contentClassName:r,centered:o,size:s,fullscreen:i,children:l,scrollable:c,...u}=e;n=le(n,"modal");const d="".concat(n,"-dialog"),h="string"===typeof i?"".concat(n,"-fullscreen-").concat(i):"".concat(n,"-fullscreen");return(0,ne.jsx)("div",{...u,ref:t,className:G()(d,a,s&&"".concat(n,"-").concat(s),o&&"".concat(d,"-centered"),c&&"".concat(d,"-scrollable"),i&&h),children:(0,ne.jsx)("div",{className:G()("".concat(n,"-content"),r),children:l})})}));aa.displayName="ModalDialog";const ra=aa,oa=W.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:r="div",...o}=e;return a=le(a,"modal-footer"),(0,ne.jsx)(r,{ref:t,className:G()(n,a),...o})}));oa.displayName="ModalFooter";const sa=oa,ia=W.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,closeLabel:r="Close",closeButton:o=!1,...s}=e;return n=le(n,"modal-header"),(0,ne.jsx)(Jt,{ref:t,...s,className:G()(a,n),closeLabel:r,closeButton:o})}));ia.displayName="ModalHeader";const la=ia,ca=tn("h4"),ua=W.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:r=ca,...o}=e;return a=le(a,"modal-title"),(0,ne.jsx)(r,{ref:t,className:G()(n,a),...o})}));ua.displayName="ModalTitle";const da=ua;function ha(e){return(0,ne.jsx)(jt,{...e,timeout:null})}function pa(e){return(0,ne.jsx)(jt,{...e,timeout:null})}const fa=W.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,style:r,dialogClassName:o,contentClassName:s,children:i,dialogAs:l=ra,"data-bs-theme":c,"aria-labelledby":u,"aria-describedby":d,"aria-label":h,show:p=!1,animation:f=!0,backdrop:m=!0,keyboard:g=!0,onEscapeKeyDown:y,onShow:b,onHide:v,container:w,autoFocus:x=!0,enforceFocus:k=!0,restoreFocus:S=!0,restoreFocusOptions:N,onEntered:T,onExit:C,onExiting:I,onEnter:E,onEntering:A,onExited:_,backdropClassName:R,manager:D,...O}=e;const[F,L]=(0,W.useState)({}),[M,P]=(0,W.useState)(!1),z=(0,W.useRef)(!1),j=(0,W.useRef)(!1),B=(0,W.useRef)(null),[U,V]=(0,W.useState)(null),H=Xe(t,V),q=ot(v),K=de();n=le(n,"modal");const X=(0,W.useMemo)((()=>({onHide:q})),[q]);function Y(){return D||fn({isRTL:K})}function Q(e){if(!Fe)return;const t=Y().getScrollbarWidth()>0,n=e.scrollHeight>fe(e).documentElement.clientHeight;L({paddingRight:t&&!n?ea():void 0,paddingLeft:!t&&n?ea():void 0})}const Z=ot((()=>{U&&Q(U.dialog)}));yt((()=>{je(window,"resize",Z),null==B.current||B.current()}));const J=()=>{z.current=!0},$=e=>{z.current&&U&&e.target===U.dialog&&(j.current=!0),z.current=!1},ee=()=>{P(!0),B.current=Ue(U.dialog,(()=>{P(!1)}))},te=e=>{"static"!==m?j.current||e.target!==e.currentTarget?j.current=!1:null==v||v():(e=>{e.target===e.currentTarget&&ee()})(e)},ae=(0,W.useCallback)((e=>(0,ne.jsx)("div",{...e,className:G()("".concat(n,"-backdrop"),R,!f&&"show")})),[f,R,n]),re={...r,...F};re.display="block";return(0,ne.jsx)(Gt.Provider,{value:X,children:(0,ne.jsx)(Mt,{show:p,ref:H,backdrop:m,container:w,keyboard:!0,autoFocus:x,enforceFocus:k,restoreFocus:S,restoreFocusOptions:N,onEscapeKeyDown:e=>{g?null==y||y(e):(e.preventDefault(),"static"===m&&ee())},onShow:b,onHide:v,onEnter:(e,t)=>{e&&Q(e),null==E||E(e,t)},onEntering:(e,t)=>{null==A||A(e,t),ze(window,"resize",Z)},onEntered:T,onExit:e=>{null==B.current||B.current(),null==C||C(e)},onExiting:I,onExited:e=>{e&&(e.style.display=""),null==_||_(e),je(window,"resize",Z)},manager:Y(),transition:f?ha:void 0,backdropTransition:f?pa:void 0,renderBackdrop:ae,renderDialog:e=>(0,ne.jsx)("div",{role:"dialog",...e,style:re,className:G()(a,n,M&&"".concat(n,"-static"),!f&&"show"),onClick:m?te:void 0,onMouseUp:$,"data-bs-theme":c,"aria-label":h,"aria-labelledby":u,"aria-describedby":d,children:(0,ne.jsx)(l,{...O,onMouseDown:J,className:o,contentClassName:s,children:i})})})})}));fa.displayName="Modal";const ma=Object.assign(fa,{Body:na,Header:la,Title:da,Footer:sa,Dialog:ra,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),ga=n.p+"static/media/Dog-Logo.9b016acdb8e8aa97697f.png",ya=W.forwardRef(((e,t)=>{let{as:n,bsPrefix:a,variant:r="primary",size:o,active:s=!1,disabled:i=!1,className:l,...c}=e;const u=le(a,"btn"),[d,{tagName:h}]=_n({tagName:n,disabled:i,...c}),p=h;return(0,ne.jsx)(p,{...d,...c,ref:t,disabled:i,className:G()(l,u,s&&"active",r&&"".concat(u,"-").concat(r),o&&"".concat(u,"-").concat(o),c.href&&i&&"disabled")})}));ya.displayName="Button";const ba=ya,va={type:Kt().string,tooltip:Kt().bool,as:Kt().elementType},wa=W.forwardRef(((e,t)=>{let{as:n="div",className:a,type:r="valid",tooltip:o=!1,...s}=e;return(0,ne.jsx)(n,{...s,ref:t,className:G()(a,"".concat(r,"-").concat(o?"tooltip":"feedback"))})}));wa.displayName="Feedback",wa.propTypes=va;const xa=wa,ka=W.createContext({}),Sa=W.forwardRef(((e,t)=>{let{id:n,bsPrefix:a,className:r,type:o="checkbox",isValid:s=!1,isInvalid:i=!1,as:l="input",...c}=e;const{controlId:u}=(0,W.useContext)(ka);return a=le(a,"form-check-input"),(0,ne.jsx)(l,{...c,ref:t,type:o,id:n||u,className:G()(r,a,s&&"is-valid",i&&"is-invalid")})}));Sa.displayName="FormCheckInput";const Na=Sa,Ta=W.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,htmlFor:r,...o}=e;const{controlId:s}=(0,W.useContext)(ka);return n=le(n,"form-check-label"),(0,ne.jsx)("label",{...o,ref:t,htmlFor:r||s,className:G()(a,n)})}));Ta.displayName="FormCheckLabel";const Ca=Ta;function Ia(e,t){let n=0;return W.Children.map(e,(e=>W.isValidElement(e)?t(e,n++):e))}const Ea=W.forwardRef(((e,t)=>{let{id:n,bsPrefix:a,bsSwitchPrefix:r,inline:o=!1,reverse:s=!1,disabled:i=!1,isValid:l=!1,isInvalid:c=!1,feedbackTooltip:u=!1,feedback:d,feedbackType:h,className:p,style:f,title:m="",type:g="checkbox",label:y,children:b,as:v="input",...w}=e;a=le(a,"form-check"),r=le(r,"form-switch");const{controlId:x}=(0,W.useContext)(ka),k=(0,W.useMemo)((()=>({controlId:n||x})),[x,n]),S=!b&&null!=y&&!1!==y||function(e,t){return W.Children.toArray(e).some((e=>W.isValidElement(e)&&e.type===t))}(b,Ca),N=(0,ne.jsx)(Na,{...w,type:"switch"===g?"checkbox":g,ref:t,isValid:l,isInvalid:c,disabled:i,as:v});return(0,ne.jsx)(ka.Provider,{value:k,children:(0,ne.jsx)("div",{style:f,className:G()(p,S&&a,o&&"".concat(a,"-inline"),s&&"".concat(a,"-reverse"),"switch"===g&&r),children:b||(0,ne.jsxs)(ne.Fragment,{children:[N,S&&(0,ne.jsx)(Ca,{title:m,children:y}),d&&(0,ne.jsx)(xa,{type:h,tooltip:u,children:d})]})})})}));Ea.displayName="FormCheck";const Aa=Object.assign(Ea,{Input:Na,Label:Ca});n(6440);const _a=W.forwardRef(((e,t)=>{let{bsPrefix:n,type:a,size:r,htmlSize:o,id:s,className:i,isValid:l=!1,isInvalid:c=!1,plaintext:u,readOnly:d,as:h="input",...p}=e;const{controlId:f}=(0,W.useContext)(ka);return n=le(n,"form-control"),(0,ne.jsx)(h,{...p,type:a,size:o,ref:t,readOnly:d,id:s||f,className:G()(i,u?"".concat(n,"-plaintext"):n,r&&"".concat(n,"-").concat(r),"color"===a&&"".concat(n,"-color"),l&&"is-valid",c&&"is-invalid")})}));_a.displayName="FormControl";const Ra=Object.assign(_a,{Feedback:xa}),Da=W.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:r="div",...o}=e;return a=le(a,"form-floating"),(0,ne.jsx)(r,{ref:t,className:G()(n,a),...o})}));Da.displayName="FormFloating";const Oa=Da,Fa=W.forwardRef(((e,t)=>{let{controlId:n,as:a="div",...r}=e;const o=(0,W.useMemo)((()=>({controlId:n})),[n]);return(0,ne.jsx)(ka.Provider,{value:o,children:(0,ne.jsx)(a,{...r,ref:t})})}));Fa.displayName="FormGroup";const La=Fa;const Ma=W.forwardRef(((e,t)=>{const[{className:n,...a},{as:r="div",bsPrefix:o,spans:s}]=function(e){let{as:t,bsPrefix:n,className:a,...r}=e;n=le(n,"col");const o=ce(),s=ue(),i=[],l=[];return o.forEach((e=>{const t=r[e];let a,o,c;delete r[e],"object"===typeof t&&null!=t?({span:a,offset:o,order:c}=t):a=t;const u=e!==s?"-".concat(e):"";a&&i.push(!0===a?"".concat(n).concat(u):"".concat(n).concat(u,"-").concat(a)),null!=c&&l.push("order".concat(u,"-").concat(c)),null!=o&&l.push("offset".concat(u,"-").concat(o))})),[{...r,className:G()(a,...i,...l)},{as:t,bsPrefix:n,spans:i}]}(e);return(0,ne.jsx)(r,{...a,ref:t,className:G()(n,!s.length&&o)})}));Ma.displayName="Col";const Pa=Ma,za=W.forwardRef(((e,t)=>{let{as:n="label",bsPrefix:a,column:r=!1,visuallyHidden:o=!1,className:s,htmlFor:i,...l}=e;const{controlId:c}=(0,W.useContext)(ka);a=le(a,"form-label");let u="col-form-label";"string"===typeof r&&(u="".concat(u," ").concat(u,"-").concat(r));const d=G()(s,a,o&&"visually-hidden",r&&u);return i=i||c,r?(0,ne.jsx)(Pa,{ref:t,as:"label",className:d,htmlFor:i,...l}):(0,ne.jsx)(n,{ref:t,className:d,htmlFor:i,...l})}));za.displayName="FormLabel";const ja=za,Ba=W.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,id:r,...o}=e;const{controlId:s}=(0,W.useContext)(ka);return n=le(n,"form-range"),(0,ne.jsx)("input",{...o,type:"range",ref:t,className:G()(a,n),id:r||s})}));Ba.displayName="FormRange";const Wa=Ba,Ua=W.forwardRef(((e,t)=>{let{bsPrefix:n,size:a,htmlSize:r,className:o,isValid:s=!1,isInvalid:i=!1,id:l,...c}=e;const{controlId:u}=(0,W.useContext)(ka);return n=le(n,"form-select"),(0,ne.jsx)("select",{...c,size:r,ref:t,className:G()(o,n,a&&"".concat(n,"-").concat(a),s&&"is-valid",i&&"is-invalid"),id:l||u})}));Ua.displayName="FormSelect";const Va=Ua,Ha=W.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,as:r="small",muted:o,...s}=e;return n=le(n,"form-text"),(0,ne.jsx)(r,{...s,ref:t,className:G()(a,n,o&&"text-muted")})}));Ha.displayName="FormText";const Ga=Ha,qa=W.forwardRef(((e,t)=>(0,ne.jsx)(Aa,{...e,ref:t,type:"switch"})));qa.displayName="Switch";const Ka=Object.assign(qa,{Input:Aa.Input,Label:Aa.Label}),Xa=W.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,children:r,controlId:o,label:s,...i}=e;return n=le(n,"form-floating"),(0,ne.jsxs)(La,{ref:t,className:G()(a,n),controlId:o,...i,children:[r,(0,ne.jsx)("label",{htmlFor:o,children:s})]})}));Xa.displayName="FloatingLabel";const Ya=Xa,Qa={_ref:Kt().any,validated:Kt().bool,as:Kt().elementType},Za=W.forwardRef(((e,t)=>{let{className:n,validated:a,as:r="form",...o}=e;return(0,ne.jsx)(r,{...o,ref:t,className:G()(n,a&&"was-validated")})}));Za.displayName="Form",Za.propTypes=Qa;const Ja=Object.assign(Za,{Group:La,Control:Ra,Floating:Oa,Check:Aa,Switch:Ka,Label:ja,Text:Ga,Range:Wa,Select:Va,FloatingLabel:Ya});function $a(){return $a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},$a.apply(this,arguments)}var er;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(er||(er={}));const tr="popstate";function nr(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function ar(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(a4){}}}function rr(e,t){return{usr:e.state,key:e.key,idx:t}}function or(e,t,n,a){return void 0===n&&(n=null),$a({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?ir(t):t,{state:n,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function sr(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function ir(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function lr(e,t,n,a){void 0===a&&(a={});let{window:r=document.defaultView,v5Compat:o=!1}=a,s=r.history,i=er.Pop,l=null,c=u();function u(){return(s.state||{idx:null}).idx}function d(){i=er.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:i,location:p.location,delta:t})}function h(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,n="string"===typeof e?e:sr(e);return n=n.replace(/ $/,"%20"),nr(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,s.replaceState($a({},s.state,{idx:c}),""));let p={get action(){return i},get location(){return e(r,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(tr,d),l=e,()=>{r.removeEventListener(tr,d),l=null}},createHref:e=>t(r,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){i=er.Push;let a=or(p.location,e,t);n&&n(a,e),c=u()+1;let d=rr(a,c),h=p.createHref(a);try{s.pushState(d,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;r.location.assign(h)}o&&l&&l({action:i,location:p.location,delta:1})},replace:function(e,t){i=er.Replace;let a=or(p.location,e,t);n&&n(a,e),c=u();let r=rr(a,c),d=p.createHref(a);s.replaceState(r,"",d),o&&l&&l({action:i,location:p.location,delta:0})},go:e=>s.go(e)};return p}var cr;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(cr||(cr={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function ur(e,t,n){void 0===n&&(n="/");let a=Nr(("string"===typeof t?ir(t):t).pathname||"/",n);if(null==a)return null;let r=dr(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(r);let o=null;for(let s=0;null==o&&s<r.length;++s){let e=Sr(a);o=xr(r[s],e)}return o}function dr(e,t,n,a){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===a&&(a="");let r=(e,r,o)=>{let s={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};s.relativePath.startsWith("/")&&(nr(s.relativePath.startsWith(a),'Absolute route path "'+s.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(a.length));let i=Ar([a,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(nr(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),dr(e.children,t,l,i)),(null!=e.path||e.index)&&t.push({path:i,score:wr(i,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let a of hr(e.path))r(e,t,a);else r(e,t)})),t}function hr(e){let t=e.split("/");if(0===t.length)return[];let[n,...a]=t,r=n.endsWith("?"),o=n.replace(/\?$/,"");if(0===a.length)return r?[o,""]:[o];let s=hr(a.join("/")),i=[];return i.push(...s.map((e=>""===e?o:[o,e].join("/")))),r&&i.push(...s),i.map((t=>e.startsWith("/")&&""===t?"/":t))}const pr=/^:[\w-]+$/,fr=3,mr=2,gr=1,yr=10,br=-2,vr=e=>"*"===e;function wr(e,t){let n=e.split("/"),a=n.length;return n.some(vr)&&(a+=br),t&&(a+=mr),n.filter((e=>!vr(e))).reduce(((e,t)=>e+(pr.test(t)?fr:""===t?gr:yr)),a)}function xr(e,t){let{routesMeta:n}=e,a={},r="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],i=s===n.length-1,l="/"===r?t:t.slice(r.length)||"/",c=kr({path:e.relativePath,caseSensitive:e.caseSensitive,end:i},l);if(!c)return null;Object.assign(a,c.params);let u=e.route;o.push({params:a,pathname:Ar([r,c.pathname]),pathnameBase:_r(Ar([r,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(r=Ar([r,c.pathnameBase]))}return o}function kr(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);ar("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(a.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(a.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let o=new RegExp(r,t?void 0:"i");return[o,a]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let o=r[0],s=o.replace(/(.)\/+$/,"$1"),i=r.slice(1);return{params:a.reduce(((e,t,n)=>{let{paramName:a,isOptional:r}=t;if("*"===a){let e=i[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const l=i[n];return e[a]=r&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function Sr(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return ar(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Nr(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&"/"!==a?null:e.slice(n)||"/"}function Tr(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Cr(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function Ir(e,t){let n=Cr(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function Er(e,t,n,a){let r;void 0===a&&(a=!1),"string"===typeof e?r=ir(e):(r=$a({},e),nr(!r.pathname||!r.pathname.includes("?"),Tr("?","pathname","search",r)),nr(!r.pathname||!r.pathname.includes("#"),Tr("#","pathname","hash",r)),nr(!r.search||!r.search.includes("#"),Tr("#","search","hash",r)));let o,s=""===e||""===r.pathname,i=s?"/":r.pathname;if(null==i)o=n;else{let e=t.length-1;if(!a&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:a="",hash:r=""}="string"===typeof e?ir(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:Rr(a),hash:Dr(r)}}(r,o),c=i&&"/"!==i&&i.endsWith("/"),u=(s||"."===i)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const Ar=e=>e.join("/").replace(/\/\/+/g,"/"),_r=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Rr=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Dr=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function Or(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const Fr=["post","put","patch","delete"],Lr=(new Set(Fr),["get",...Fr]);new Set(Lr),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Mr(){return Mr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Mr.apply(this,arguments)}const Pr=W.createContext(null);const zr=W.createContext(null);const jr=W.createContext(null);const Br=W.createContext(null);const Wr=W.createContext({outlet:null,matches:[],isDataRoute:!1});const Ur=W.createContext(null);function Vr(){return null!=W.useContext(Br)}function Hr(){return Vr()||nr(!1),W.useContext(Br).location}function Gr(e){W.useContext(jr).static||W.useLayoutEffect(e)}function qr(){let{isDataRoute:e}=W.useContext(Wr);return e?function(){let{router:e}=to($r.UseNavigateStable),t=ao(eo.UseNavigateStable),n=W.useRef(!1);Gr((()=>{n.current=!0}));let a=W.useCallback((function(a,r){void 0===r&&(r={}),n.current&&("number"===typeof a?e.navigate(a):e.navigate(a,Mr({fromRouteId:t},r)))}),[e,t]);return a}():function(){Vr()||nr(!1);let e=W.useContext(Pr),{basename:t,future:n,navigator:a}=W.useContext(jr),{matches:r}=W.useContext(Wr),{pathname:o}=Hr(),s=JSON.stringify(Ir(r,n.v7_relativeSplatPath)),i=W.useRef(!1);Gr((()=>{i.current=!0}));let l=W.useCallback((function(n,r){if(void 0===r&&(r={}),!i.current)return;if("number"===typeof n)return void a.go(n);let l=Er(n,JSON.parse(s),o,"path"===r.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Ar([t,l.pathname])),(r.replace?a.replace:a.push)(l,r.state,r)}),[t,a,s,o,e]);return l}()}function Kr(e,t,n,a){Vr()||nr(!1);let{navigator:r}=W.useContext(jr),{matches:o}=W.useContext(Wr),s=o[o.length-1],i=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/");s&&s.route;let c,u=Hr();if(t){var d;let e="string"===typeof t?ir(t):t;"/"===l||(null==(d=e.pathname)?void 0:d.startsWith(l))||nr(!1),c=e}else c=u;let h=c.pathname||"/",p=h;if("/"!==l){let e=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(e.length).join("/")}let f=ur(e,{pathname:p});let m=Jr(f&&f.map((e=>Object.assign({},e,{params:Object.assign({},i,e.params),pathname:Ar([l,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:Ar([l,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,n,a);return t&&m?W.createElement(Br.Provider,{value:{location:Mr({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:er.Pop}},m):m}function Xr(){let e=function(){var e;let t=W.useContext(Ur),n=no(eo.UseRouteError),a=ao(eo.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[a]}(),t=Or(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:a};return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},t),n?W.createElement("pre",{style:r},n):null,null)}const Yr=W.createElement(Xr,null);class Qr extends W.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?W.createElement(Wr.Provider,{value:this.props.routeContext},W.createElement(Ur.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Zr(e){let{routeContext:t,match:n,children:a}=e,r=W.useContext(Pr);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),W.createElement(Wr.Provider,{value:t},a)}function Jr(e,t,n,a){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===a&&(a=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}let s=e,i=null==(r=n)?void 0:r.errors;if(null!=i){let e=s.findIndex((e=>e.route.id&&(null==i?void 0:i[e.route.id])));e>=0||nr(!1),s=s.slice(0,Math.min(s.length,e+1))}let l=!1,c=-1;if(n&&a&&a.v7_partialHydration)for(let u=0;u<s.length;u++){let e=s[u];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=u),e.route.id){let{loaderData:t,errors:a}=n,r=e.route.loader&&void 0===t[e.route.id]&&(!a||void 0===a[e.route.id]);if(e.route.lazy||r){l=!0,s=c>=0?s.slice(0,c+1):[s[0]];break}}}return s.reduceRight(((e,a,r)=>{let o,u=!1,d=null,h=null;var p;n&&(o=i&&a.route.id?i[a.route.id]:void 0,d=a.route.errorElement||Yr,l&&(c<0&&0===r?(p="route-fallback",!1||ro[p]||(ro[p]=!0),u=!0,h=null):c===r&&(u=!0,h=a.route.hydrateFallbackElement||null)));let f=t.concat(s.slice(0,r+1)),m=()=>{let t;return t=o?d:u?h:a.route.Component?W.createElement(a.route.Component,null):a.route.element?a.route.element:e,W.createElement(Zr,{match:a,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===r)?W.createElement(Qr,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()}),null)}var $r=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($r||{}),eo=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(eo||{});function to(e){let t=W.useContext(Pr);return t||nr(!1),t}function no(e){let t=W.useContext(zr);return t||nr(!1),t}function ao(e){let t=function(e){let t=W.useContext(Wr);return t||nr(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||nr(!1),n.route.id}const ro={};U.startTransition;function oo(e){nr(!1)}function so(e){let{basename:t="/",children:n=null,location:a,navigationType:r=er.Pop,navigator:o,static:s=!1,future:i}=e;Vr()&&nr(!1);let l=t.replace(/^\/*/,"/"),c=W.useMemo((()=>({basename:l,navigator:o,static:s,future:Mr({v7_relativeSplatPath:!1},i)})),[l,i,o,s]);"string"===typeof a&&(a=ir(a));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:f="default"}=a,m=W.useMemo((()=>{let e=Nr(u,l);return null==e?null:{location:{pathname:e,search:d,hash:h,state:p,key:f},navigationType:r}}),[l,u,d,h,p,f,r]);return null==m?null:W.createElement(jr.Provider,{value:c},W.createElement(Br.Provider,{children:n,value:m}))}function io(e){let{children:t,location:n}=e;return Kr(lo(t),n)}new Promise((()=>{}));W.Component;function lo(e,t){void 0===t&&(t=[]);let n=[];return W.Children.forEach(e,((e,a)=>{if(!W.isValidElement(e))return;let r=[...t,a];if(e.type===W.Fragment)return void n.push.apply(n,lo(e.props.children,r));e.type!==oo&&nr(!1),e.props.index&&e.props.children&&nr(!1);let o={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=lo(e.props.children,r)),n.push(o)})),n}const co=function(){const[e,t]=(0,W.useState)(!1),n=()=>t(!1),a=qr();return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)("i",{className:"fas fa-sign-in-alt login",onClick:()=>{a("/Sign-in")},children:"  Login"}),(0,ne.jsxs)(ma,{show:e,onHide:n,children:[(0,ne.jsx)(ma.Header,{closeButton:!0,children:(0,ne.jsx)(ma.Title,{children:"Welcome to Dog Care Application"})}),(0,ne.jsx)(ma.Body,{children:(0,ne.jsxs)(Ja,{children:[(0,ne.jsxs)(Ja.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,ne.jsx)(Ja.Label,{children:"Email address"}),(0,ne.jsx)(Ja.Control,{type:"email",placeholder:"Enter your Email Address",autoFocus:!0})]}),(0,ne.jsxs)(Ja.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,ne.jsx)(Ja.Label,{children:"Password"}),(0,ne.jsx)(Ja.Control,{type:"password",placeholder:"Enter your Password",autoFocus:!0})]})]})}),(0,ne.jsx)(ma.Footer,{children:(0,ne.jsx)(ba,{variant:"primary",onClick:n,children:"Login"})})]})]})};const uo=function(){const[e,t]=(0,W.useState)(!1),n=()=>t(!1),a=qr();return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)("i",{className:"fas fa-user-plus signup",onClick:()=>{a("/Sign-up")},children:"  SIGNUP"}),(0,ne.jsxs)(ma,{show:e,onHide:n,children:[(0,ne.jsx)(ma.Header,{closeButton:!0,children:(0,ne.jsx)(ma.Title,{children:"Welcome to Dog Care Application"})}),(0,ne.jsx)(ma.Body,{children:(0,ne.jsxs)(Ja,{children:[(0,ne.jsxs)(Ja.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,ne.jsx)(Ja.Label,{children:"First Name"}),(0,ne.jsx)(Ja.Control,{type:"text",placeholder:"Enter your First Name",autoFocus:!0})]}),(0,ne.jsxs)(Ja.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,ne.jsx)(Ja.Label,{children:"Last Name"}),(0,ne.jsx)(Ja.Control,{type:"text",placeholder:"Enter your Last Name",autoFocus:!0})]}),(0,ne.jsxs)(Ja.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,ne.jsx)(Ja.Label,{children:"Email address"}),(0,ne.jsx)(Ja.Control,{type:"email",placeholder:"Enter your Email Address",autoFocus:!0})]}),(0,ne.jsxs)(Ja.Group,{className:"mb-3",controlId:"exampleForm.ControlInput1",children:[(0,ne.jsx)(Ja.Label,{children:"Password"}),(0,ne.jsx)(Ja.Control,{type:"password",placeholder:"Enter your Password",autoFocus:!0})]})]})}),(0,ne.jsx)(ma.Footer,{children:(0,ne.jsx)(ba,{variant:"primary",onClick:n,children:"Signup"})})]})]})},ho=e=>{let{cartItems:t,handleCheckout:n,addItemToCart:a,handleClose:r}=e;const o=qr(),s=t.reduce(((e,t)=>e+t.quantity*t.price),0);return(0,ne.jsxs)("div",{children:[(0,ne.jsxs)("div",{className:"cart-container",children:[(0,ne.jsx)("div",{className:"cart-items",children:t.map((e=>(0,ne.jsxs)("div",{className:"cart-item",children:[(0,ne.jsxs)("div",{className:"cart-item-details",children:[(0,ne.jsx)("h3",{className:"cart-item-name",children:e.name}),(0,ne.jsxs)("p",{className:"cart-item-price",children:["Price: $",e.price]}),(0,ne.jsxs)("div",{className:"cart-item-quantity-controls",children:[(0,ne.jsx)("button",{onClick:()=>(e=>{const n=t.map((t=>t.id===e&&t.quantity>1?{...t,quantity:t.quantity-1}:t));a(n)})(e.id),children:"-"}),(0,ne.jsx)("p",{className:"cart-item-quantity",children:e.quantity}),(0,ne.jsx)("button",{onClick:()=>(e=>{const n=t.map((t=>t.id===e?{...t,quantity:t.quantity+1}:t));a(n)})(e.id),children:"+"})]}),(0,ne.jsxs)("p",{className:"cart-item-total",children:["Total: $",e.price*e.quantity]})]}),(0,ne.jsx)("button",{onClick:()=>(e=>{const n=t.filter((t=>t.id!==e));a(n)})(e.id),className:"delete-item-button",children:"\ud83d\uddd1"})]},e.id)))}),(0,ne.jsx)("div",{className:"cart-total",children:(0,ne.jsxs)("h3",{children:["Total: $",s]})})]}),(0,ne.jsx)("div",{className:"cart-header",children:(0,ne.jsx)("button",{onClick:()=>{return e="/payment",r(),void o(e);var e},className:"checkout-button",children:"Buy Now"})})]})};n.p;const po=W.forwardRef(((e,t)=>{let{bsPrefix:n,fluid:a=!1,as:r="div",className:o,...s}=e;const i=le(n,"container"),l="string"===typeof a?"-".concat(a):"-fluid";return(0,ne.jsx)(r,{ref:t,...s,className:G()(o,a?"".concat(i).concat(l):i)})}));po.displayName="Container";const fo=po,mo=W.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,as:r="div",...o}=e;const s=le(n,"row"),i=ce(),l=ue(),c="".concat(s,"-cols"),u=[];return i.forEach((e=>{const t=o[e];let n;delete o[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const a=e!==l?"-".concat(e):"";null!=n&&u.push("".concat(c).concat(a,"-").concat(n))})),(0,ne.jsx)(r,{ref:t,...o,className:G()(a,s,...u)})}));mo.displayName="Row";const go=mo,yo=()=>(0,ne.jsx)(fo,{fluid:!0,className:"header-container",children:(0,ne.jsxs)(go,{children:[(0,ne.jsx)(Pa,{children:(0,ne.jsx)("div",{className:"marquee-container",children:(0,ne.jsx)("p",{className:"marquee-text",children:"New Products Launch Alert !! Check our Products in Breeds page"})})}),(0,ne.jsx)(Pa,{className:"contact-details",children:(0,ne.jsx)("p",{children:"Customer Support: 98765 012345 | Time: 9:30AM to 7:00 PM"})})]})}),bo=e=>{const{product:t,setProduct:n,cartItems:a,addItemToCart:r,showCart:o,setShowCart:s,User:i}=e,l=qr(),[c,u]=(0,W.useState)(!0),d=e=>{l(e)},h=()=>{s(!1)};return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)("div",{className:"marquee-header",children:(0,ne.jsx)(yo,{})}),(0,ne.jsxs)(Tn,{bg:"dark",variant:"dark",sticky:"top",children:[(0,ne.jsxs)(pe,{children:[(0,ne.jsx)("img",{src:ga,className:"Logo-style"}),"Dog Care"]}),(0,ne.jsxs)("div",{class:"nav-content",children:[(0,ne.jsxs)(Jn,{children:[(0,ne.jsx)(Jn.Link,{onClick:()=>d("/home"),children:"HOME"}),(0,ne.jsx)(Jn.Link,{onClick:()=>d("/breeds"),children:"BREEDS "}),(0,ne.jsx)(Jn.Link,{onClick:()=>d("/Pawsonality"),children:"PAWSONALITY"}),(0,ne.jsx)(Jn.Link,{onClick:()=>d("/Memorials"),children:"PET MEMORIALS"}),(0,ne.jsx)(Jn.Link,{onClick:()=>d("/ImageClassification"),children:"RETRIEVE BREED"}),(0,ne.jsx)(Jn.Link,{onClick:()=>d("/Wikipedia"),children:"SEARCH ENGINE"}),(0,ne.jsx)(Jn.Link,{onClick:()=>d("/BlogPage"),children:"BLOGS"}),(0,ne.jsx)(Jn.Link,{onClick:()=>d("/ContactUs"),children:"CONTACT US"}),(0,ne.jsx)("i",{className:"fas fa-shopping-cart cart",onClick:()=>{s(!0)},children:"Cart"}),""!==i?(0,ne.jsxs)(Jn.Link,{onClick:()=>{d("/")},children:[(0,ne.jsxs)("b",{children:["Welcome, ",i]}),(0,ne.jsx)("button",{onClick:()=>{u(!1),l("/login")},children:"Logout"})]}):null,(0,ne.jsxs)("div",{className:"logSign",children:[(0,ne.jsx)(uo,{})," ","",(0,ne.jsx)("b",{style:{fontSize:"28px",marginLeft:"-15px"},children:"/"}),(0,ne.jsx)(co,{})]})]}),(0,ne.jsxs)(ma,{show:o,onHide:h,children:[(0,ne.jsx)(ma.Header,{closeButton:!0,children:(0,ne.jsx)(ma.Title,{children:"Pawsonality Cart"})}),(0,ne.jsx)(ho,{cartItems:a,addItemToCart:r,handleClose:h})]})]})]})]})};new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);try{window.__reactRouterVersion="6"}catch(a4){}new Map;const vo=U.startTransition;Se.flushSync,U.useId;function wo(e){let{basename:t,children:n,future:a,window:r}=e,o=W.useRef();null==o.current&&(o.current=function(e){return void 0===e&&(e={}),lr((function(e,t){let{pathname:n,search:a,hash:r}=e.location;return or("",{pathname:n,search:a,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:sr(t)}),null,e)}({window:r,v5Compat:!0}));let s=o.current,[i,l]=W.useState({action:s.action,location:s.location}),{v7_startTransition:c}=a||{},u=W.useCallback((e=>{c&&vo?vo((()=>l(e))):l(e)}),[l,c]);return W.useLayoutEffect((()=>s.listen(u)),[s,u]),W.createElement(so,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:s,future:a})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var xo,ko;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(xo||(xo={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(ko||(ko={}));var So="top",No="bottom",To="right",Co="left",Io="auto",Eo=[So,No,To,Co],Ao="start",_o="end",Ro="clippingParents",Do="viewport",Oo="popper",Fo="reference",Lo=Eo.reduce((function(e,t){return e.concat([t+"-"+Ao,t+"-"+_o])}),[]),Mo=[].concat(Eo,[Io]).reduce((function(e,t){return e.concat([t,t+"-"+Ao,t+"-"+_o])}),[]),Po="beforeRead",zo="read",jo="afterRead",Bo="beforeMain",Wo="main",Uo="afterMain",Vo="beforeWrite",Ho="write",Go="afterWrite",qo=[Po,zo,jo,Bo,Wo,Uo,Vo,Ho,Go];function Ko(e){return e?(e.nodeName||"").toLowerCase():null}function Xo(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Yo(e){return e instanceof Xo(e).Element||e instanceof Element}function Qo(e){return e instanceof Xo(e).HTMLElement||e instanceof HTMLElement}function Zo(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Xo(e).ShadowRoot||e instanceof ShadowRoot)}const Jo={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},a=t.attributes[e]||{},r=t.elements[e];Qo(r)&&Ko(r)&&(Object.assign(r.style,n),Object.keys(a).forEach((function(e){var t=a[e];!1===t?r.removeAttribute(e):r.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var a=t.elements[e],r=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});Qo(a)&&Ko(a)&&(Object.assign(a.style,o),Object.keys(r).forEach((function(e){a.removeAttribute(e)})))}))}},requires:["computeStyles"]};function $o(e){return e.split("-")[0]}var es=Math.max,ts=Math.min,ns=Math.round;function as(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function rs(){return!/^((?!chrome|android).)*safari/i.test(as())}function os(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var a=e.getBoundingClientRect(),r=1,o=1;t&&Qo(e)&&(r=e.offsetWidth>0&&ns(a.width)/e.offsetWidth||1,o=e.offsetHeight>0&&ns(a.height)/e.offsetHeight||1);var s=(Yo(e)?Xo(e):window).visualViewport,i=!rs()&&n,l=(a.left+(i&&s?s.offsetLeft:0))/r,c=(a.top+(i&&s?s.offsetTop:0))/o,u=a.width/r,d=a.height/o;return{width:u,height:d,top:c,right:l+u,bottom:c+d,left:l,x:l,y:c}}function ss(e){var t=os(e),n=e.offsetWidth,a=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-a)<=1&&(a=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:a}}function is(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Zo(n)){var a=t;do{if(a&&e.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function ls(e){return Xo(e).getComputedStyle(e)}function cs(e){return["table","td","th"].indexOf(Ko(e))>=0}function us(e){return((Yo(e)?e.ownerDocument:e.document)||window.document).documentElement}function ds(e){return"html"===Ko(e)?e:e.assignedSlot||e.parentNode||(Zo(e)?e.host:null)||us(e)}function hs(e){return Qo(e)&&"fixed"!==ls(e).position?e.offsetParent:null}function ps(e){for(var t=Xo(e),n=hs(e);n&&cs(n)&&"static"===ls(n).position;)n=hs(n);return n&&("html"===Ko(n)||"body"===Ko(n)&&"static"===ls(n).position)?t:n||function(e){var t=/firefox/i.test(as());if(/Trident/i.test(as())&&Qo(e)&&"fixed"===ls(e).position)return null;var n=ds(e);for(Zo(n)&&(n=n.host);Qo(n)&&["html","body"].indexOf(Ko(n))<0;){var a=ls(n);if("none"!==a.transform||"none"!==a.perspective||"paint"===a.contain||-1!==["transform","perspective"].indexOf(a.willChange)||t&&"filter"===a.willChange||t&&a.filter&&"none"!==a.filter)return n;n=n.parentNode}return null}(e)||t}function fs(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ms(e,t,n){return es(e,ts(t,n))}function gs(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function ys(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}const bs={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,a=e.name,r=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,i=$o(n.placement),l=fs(i),c=[Co,To].indexOf(i)>=0?"height":"width";if(o&&s){var u=function(e,t){return gs("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:ys(e,Eo))}(r.padding,n),d=ss(o),h="y"===l?So:Co,p="y"===l?No:To,f=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],m=s[l]-n.rects.reference[l],g=ps(o),y=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,b=f/2-m/2,v=u[h],w=y-d[c]-u[p],x=y/2-d[c]/2+b,k=ms(v,x,w),S=l;n.modifiersData[a]=((t={})[S]=k,t.centerOffset=k-x,t)}},effect:function(e){var t=e.state,n=e.options.element,a=void 0===n?"[data-popper-arrow]":n;null!=a&&("string"!==typeof a||(a=t.elements.popper.querySelector(a)))&&is(t.elements.popper,a)&&(t.elements.arrow=a)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function vs(e){return e.split("-")[1]}var ws={top:"auto",right:"auto",bottom:"auto",left:"auto"};function xs(e){var t,n=e.popper,a=e.popperRect,r=e.placement,o=e.variation,s=e.offsets,i=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=s.x,p=void 0===h?0:h,f=s.y,m=void 0===f?0:f,g="function"===typeof u?u({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var y=s.hasOwnProperty("x"),b=s.hasOwnProperty("y"),v=Co,w=So,x=window;if(c){var k=ps(n),S="clientHeight",N="clientWidth";if(k===Xo(n)&&"static"!==ls(k=us(n)).position&&"absolute"===i&&(S="scrollHeight",N="scrollWidth"),r===So||(r===Co||r===To)&&o===_o)w=No,m-=(d&&k===x&&x.visualViewport?x.visualViewport.height:k[S])-a.height,m*=l?1:-1;if(r===Co||(r===So||r===No)&&o===_o)v=To,p-=(d&&k===x&&x.visualViewport?x.visualViewport.width:k[N])-a.width,p*=l?1:-1}var T,C=Object.assign({position:i},c&&ws),I=!0===u?function(e,t){var n=e.x,a=e.y,r=t.devicePixelRatio||1;return{x:ns(n*r)/r||0,y:ns(a*r)/r||0}}({x:p,y:m},Xo(n)):{x:p,y:m};return p=I.x,m=I.y,l?Object.assign({},C,((T={})[w]=b?"0":"",T[v]=y?"0":"",T.transform=(x.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",T)):Object.assign({},C,((t={})[w]=b?m+"px":"",t[v]=y?p+"px":"",t.transform="",t))}const ks={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,a=n.gpuAcceleration,r=void 0===a||a,o=n.adaptive,s=void 0===o||o,i=n.roundOffsets,l=void 0===i||i,c={placement:$o(t.placement),variation:vs(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,xs(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,xs(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Ss={passive:!0};const Ns={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,a=e.options,r=a.scroll,o=void 0===r||r,s=a.resize,i=void 0===s||s,l=Xo(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,Ss)})),i&&l.addEventListener("resize",n.update,Ss),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,Ss)})),i&&l.removeEventListener("resize",n.update,Ss)}},data:{}};var Ts={left:"right",right:"left",bottom:"top",top:"bottom"};function Cs(e){return e.replace(/left|right|bottom|top/g,(function(e){return Ts[e]}))}var Is={start:"end",end:"start"};function Es(e){return e.replace(/start|end/g,(function(e){return Is[e]}))}function As(e){var t=Xo(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function _s(e){return os(us(e)).left+As(e).scrollLeft}function Rs(e){var t=ls(e),n=t.overflow,a=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+a)}function Ds(e){return["html","body","#document"].indexOf(Ko(e))>=0?e.ownerDocument.body:Qo(e)&&Rs(e)?e:Ds(ds(e))}function Os(e,t){var n;void 0===t&&(t=[]);var a=Ds(e),r=a===(null==(n=e.ownerDocument)?void 0:n.body),o=Xo(a),s=r?[o].concat(o.visualViewport||[],Rs(a)?a:[]):a,i=t.concat(s);return r?i:i.concat(Os(ds(s)))}function Fs(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Ls(e,t,n){return t===Do?Fs(function(e,t){var n=Xo(e),a=us(e),r=n.visualViewport,o=a.clientWidth,s=a.clientHeight,i=0,l=0;if(r){o=r.width,s=r.height;var c=rs();(c||!c&&"fixed"===t)&&(i=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:i+_s(e),y:l}}(e,n)):Yo(t)?function(e,t){var n=os(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Fs(function(e){var t,n=us(e),a=As(e),r=null==(t=e.ownerDocument)?void 0:t.body,o=es(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=es(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),i=-a.scrollLeft+_s(e),l=-a.scrollTop;return"rtl"===ls(r||n).direction&&(i+=es(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:i,y:l}}(us(e)))}function Ms(e,t,n,a){var r="clippingParents"===t?function(e){var t=Os(ds(e)),n=["absolute","fixed"].indexOf(ls(e).position)>=0&&Qo(e)?ps(e):e;return Yo(n)?t.filter((function(e){return Yo(e)&&is(e,n)&&"body"!==Ko(e)})):[]}(e):[].concat(t),o=[].concat(r,[n]),s=o[0],i=o.reduce((function(t,n){var r=Ls(e,n,a);return t.top=es(r.top,t.top),t.right=ts(r.right,t.right),t.bottom=ts(r.bottom,t.bottom),t.left=es(r.left,t.left),t}),Ls(e,s,a));return i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}function Ps(e){var t,n=e.reference,a=e.element,r=e.placement,o=r?$o(r):null,s=r?vs(r):null,i=n.x+n.width/2-a.width/2,l=n.y+n.height/2-a.height/2;switch(o){case So:t={x:i,y:n.y-a.height};break;case No:t={x:i,y:n.y+n.height};break;case To:t={x:n.x+n.width,y:l};break;case Co:t={x:n.x-a.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?fs(o):null;if(null!=c){var u="y"===c?"height":"width";switch(s){case Ao:t[c]=t[c]-(n[u]/2-a[u]/2);break;case _o:t[c]=t[c]+(n[u]/2-a[u]/2)}}return t}function zs(e,t){void 0===t&&(t={});var n=t,a=n.placement,r=void 0===a?e.placement:a,o=n.strategy,s=void 0===o?e.strategy:o,i=n.boundary,l=void 0===i?Ro:i,c=n.rootBoundary,u=void 0===c?Do:c,d=n.elementContext,h=void 0===d?Oo:d,p=n.altBoundary,f=void 0!==p&&p,m=n.padding,g=void 0===m?0:m,y=gs("number"!==typeof g?g:ys(g,Eo)),b=h===Oo?Fo:Oo,v=e.rects.popper,w=e.elements[f?b:h],x=Ms(Yo(w)?w:w.contextElement||us(e.elements.popper),l,u,s),k=os(e.elements.reference),S=Ps({reference:k,element:v,strategy:"absolute",placement:r}),N=Fs(Object.assign({},v,S)),T=h===Oo?N:k,C={top:x.top-T.top+y.top,bottom:T.bottom-x.bottom+y.bottom,left:x.left-T.left+y.left,right:T.right-x.right+y.right},I=e.modifiersData.offset;if(h===Oo&&I){var E=I[r];Object.keys(C).forEach((function(e){var t=[To,No].indexOf(e)>=0?1:-1,n=[So,No].indexOf(e)>=0?"y":"x";C[e]+=E[n]*t}))}return C}const js={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,a=e.name;if(!t.modifiersData[a]._skip){for(var r=n.mainAxis,o=void 0===r||r,s=n.altAxis,i=void 0===s||s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=void 0===p||p,m=n.allowedAutoPlacements,g=t.options.placement,y=$o(g),b=l||(y===g||!f?[Cs(g)]:function(e){if($o(e)===Io)return[];var t=Cs(e);return[Es(e),t,Es(t)]}(g)),v=[g].concat(b).reduce((function(e,n){return e.concat($o(n)===Io?function(e,t){void 0===t&&(t={});var n=t,a=n.placement,r=n.boundary,o=n.rootBoundary,s=n.padding,i=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?Mo:l,u=vs(a),d=u?i?Lo:Lo.filter((function(e){return vs(e)===u})):Eo,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=zs(e,{placement:n,boundary:r,rootBoundary:o,padding:s})[$o(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:u,rootBoundary:d,padding:c,flipVariations:f,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,x=t.rects.popper,k=new Map,S=!0,N=v[0],T=0;T<v.length;T++){var C=v[T],I=$o(C),E=vs(C)===Ao,A=[So,No].indexOf(I)>=0,_=A?"width":"height",R=zs(t,{placement:C,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),D=A?E?To:Co:E?No:So;w[_]>x[_]&&(D=Cs(D));var O=Cs(D),F=[];if(o&&F.push(R[I]<=0),i&&F.push(R[D]<=0,R[O]<=0),F.every((function(e){return e}))){N=C,S=!1;break}k.set(C,F)}if(S)for(var L=function(e){var t=v.find((function(t){var n=k.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return N=t,"break"},M=f?3:1;M>0;M--){if("break"===L(M))break}t.placement!==N&&(t.modifiersData[a]._skip=!0,t.placement=N,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Bs(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Ws(e){return[So,To,No,Co].some((function(t){return e[t]>=0}))}const Us={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,a=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,s=zs(t,{elementContext:"reference"}),i=zs(t,{altBoundary:!0}),l=Bs(s,a),c=Bs(i,r,o),u=Ws(l),d=Ws(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}};const Vs={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,a=e.name,r=n.offset,o=void 0===r?[0,0]:r,s=Mo.reduce((function(e,n){return e[n]=function(e,t,n){var a=$o(e),r=[Co,So].indexOf(a)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],i=o[1];return s=s||0,i=(i||0)*r,[Co,To].indexOf(a)>=0?{x:i,y:s}:{x:s,y:i}}(n,t.rects,o),e}),{}),i=s[t.placement],l=i.x,c=i.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[a]=s}};const Hs={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Ps({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}};const Gs={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,a=e.name,r=n.mainAxis,o=void 0===r||r,s=n.altAxis,i=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,p=void 0===h||h,f=n.tetherOffset,m=void 0===f?0:f,g=zs(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),y=$o(t.placement),b=vs(t.placement),v=!b,w=fs(y),x="x"===w?"y":"x",k=t.modifiersData.popperOffsets,S=t.rects.reference,N=t.rects.popper,T="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,C="number"===typeof T?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),I=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,E={x:0,y:0};if(k){if(o){var A,_="y"===w?So:Co,R="y"===w?No:To,D="y"===w?"height":"width",O=k[w],F=O+g[_],L=O-g[R],M=p?-N[D]/2:0,P=b===Ao?S[D]:N[D],z=b===Ao?-N[D]:-S[D],j=t.elements.arrow,B=p&&j?ss(j):{width:0,height:0},W=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=W[_],V=W[R],H=ms(0,S[D],B[D]),G=v?S[D]/2-M-H-U-C.mainAxis:P-H-U-C.mainAxis,q=v?-S[D]/2+M+H+V+C.mainAxis:z+H+V+C.mainAxis,K=t.elements.arrow&&ps(t.elements.arrow),X=K?"y"===w?K.clientTop||0:K.clientLeft||0:0,Y=null!=(A=null==I?void 0:I[w])?A:0,Q=O+q-Y,Z=ms(p?ts(F,O+G-Y-X):F,O,p?es(L,Q):L);k[w]=Z,E[w]=Z-O}if(i){var J,$="x"===w?So:Co,ee="x"===w?No:To,te=k[x],ne="y"===x?"height":"width",ae=te+g[$],re=te-g[ee],oe=-1!==[So,Co].indexOf(y),se=null!=(J=null==I?void 0:I[x])?J:0,ie=oe?ae:te-S[ne]-N[ne]-se+C.altAxis,le=oe?te+S[ne]+N[ne]-se-C.altAxis:re,ce=p&&oe?function(e,t,n){var a=ms(e,t,n);return a>n?n:a}(ie,te,le):ms(p?ie:ae,te,p?le:re);k[x]=ce,E[x]=ce-te}t.modifiersData[a]=E}},requiresIfExists:["offset"]};function qs(e,t,n){void 0===n&&(n=!1);var a=Qo(t),r=Qo(t)&&function(e){var t=e.getBoundingClientRect(),n=ns(t.width)/e.offsetWidth||1,a=ns(t.height)/e.offsetHeight||1;return 1!==n||1!==a}(t),o=us(t),s=os(e,r,n),i={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(a||!a&&!n)&&(("body"!==Ko(t)||Rs(o))&&(i=function(e){return e!==Xo(e)&&Qo(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:As(e);var t}(t)),Qo(t)?((l=os(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=_s(o))),{x:s.left+i.scrollLeft-l.x,y:s.top+i.scrollTop-l.y,width:s.width,height:s.height}}function Ks(e){var t=new Map,n=new Set,a=[];function r(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var a=t.get(e);a&&r(a)}})),a.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||r(e)})),a}function Xs(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Ys={placement:"bottom",modifiers:[],strategy:"absolute"};function Qs(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Zs(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,a=void 0===n?[]:n,r=t.defaultOptions,o=void 0===r?Ys:r;return function(e,t,n){void 0===n&&(n=o);var r={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ys,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],i=!1,l={state:r,setOptions:function(n){var i="function"===typeof n?n(r.options):n;c(),r.options=Object.assign({},o,r.options,i),r.scrollParents={reference:Yo(e)?Os(e):e.contextElement?Os(e.contextElement):[],popper:Os(t)};var u=function(e){var t=Ks(e);return qo.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(a,r.options.modifiers)));return r.orderedModifiers=u.filter((function(e){return e.enabled})),r.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,a=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var i=o({state:r,name:t,instance:l,options:a}),c=function(){};s.push(i||c)}})),l.update()},forceUpdate:function(){if(!i){var e=r.elements,t=e.reference,n=e.popper;if(Qs(t,n)){r.rects={reference:qs(t,ps(n),"fixed"===r.options.strategy),popper:ss(n)},r.reset=!1,r.placement=r.options.placement,r.orderedModifiers.forEach((function(e){return r.modifiersData[e.name]=Object.assign({},e.data)}));for(var a=0;a<r.orderedModifiers.length;a++)if(!0!==r.reset){var o=r.orderedModifiers[a],s=o.fn,c=o.options,u=void 0===c?{}:c,d=o.name;"function"===typeof s&&(r=s({state:r,options:u,name:d,instance:l})||r)}else r.reset=!1,a=-1}}},update:Xs((function(){return new Promise((function(e){l.forceUpdate(),e(r)}))})),destroy:function(){c(),i=!0}};if(!Qs(e,t))return l;function c(){s.forEach((function(e){return e()})),s=[]}return l.setOptions(n).then((function(e){!i&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var Js=Zs(),$s=Zs({defaultModifiers:[Ns,Hs,ks,Jo,Vs,js,Gs,bs,Us]}),ei=Zs({defaultModifiers:[Ns,Hs,ks,Jo]});const ti=new Map,ni={set(e,t,n){ti.has(e)||ti.set(e,new Map);const a=ti.get(e);a.has(t)||0===a.size?a.set(t,n):console.error("Bootstrap doesn't allow more than one instance per element. Bound instance: ".concat(Array.from(a.keys())[0],"."))},get:(e,t)=>ti.has(e)&&ti.get(e).get(t)||null,remove(e,t){if(!ti.has(e))return;const n=ti.get(e);n.delete(t),0===n.size&&ti.delete(e)}},ai="transitionend",ri=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,((e,t)=>"#".concat(CSS.escape(t))))),e),oi=e=>{e.dispatchEvent(new Event(ai))},si=e=>!(!e||"object"!==typeof e)&&("undefined"!==typeof e.jquery&&(e=e[0]),"undefined"!==typeof e.nodeType),ii=e=>si(e)?e.jquery?e[0]:e:"string"===typeof e&&e.length>0?document.querySelector(ri(e)):null,li=e=>{if(!si(e)||0===e.getClientRects().length)return!1;const t="visible"===getComputedStyle(e).getPropertyValue("visibility"),n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const t=e.closest("summary");if(t&&t.parentNode!==n)return!1;if(null===t)return!1}return t},ci=e=>!e||e.nodeType!==Node.ELEMENT_NODE||(!!e.classList.contains("disabled")||("undefined"!==typeof e.disabled?e.disabled:e.hasAttribute("disabled")&&"false"!==e.getAttribute("disabled"))),ui=e=>{if(!document.documentElement.attachShadow)return null;if("function"===typeof e.getRootNode){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?ui(e.parentNode):null},di=()=>{},hi=e=>{e.offsetHeight},pi=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,fi=[],mi=()=>"rtl"===document.documentElement.dir,gi=e=>{var t;t=()=>{const t=pi();if(t){const n=e.NAME,a=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=a,e.jQueryInterface)}},"loading"===document.readyState?(fi.length||document.addEventListener("DOMContentLoaded",(()=>{for(const e of fi)e()})),fi.push(t)):t()},yi=function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;return"function"===typeof e?e(...arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]):t},bi=function(e,t){if(!(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]))return void yi(e);const n=(e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const a=Number.parseFloat(t),r=Number.parseFloat(n);return a||r?(t=t.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(t)+Number.parseFloat(n))):0})(t)+5;let a=!1;const r=n=>{let{target:o}=n;o===t&&(a=!0,t.removeEventListener(ai,r),yi(e))};t.addEventListener(ai,r),setTimeout((()=>{a||oi(t)}),n)},vi=(e,t,n,a)=>{const r=e.length;let o=e.indexOf(t);return-1===o?!n&&a?e[r-1]:e[0]:(o+=n?1:-1,a&&(o=(o+r)%r),e[Math.max(0,Math.min(o,r-1))])},wi=/[^.]*(?=\..*)\.|.*/,xi=/\..*/,ki=/::\d+$/,Si={};let Ni=1;const Ti={mouseenter:"mouseover",mouseleave:"mouseout"},Ci=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Ii(e,t){return t&&"".concat(t,"::").concat(Ni++)||e.uidEvent||Ni++}function Ei(e){const t=Ii(e);return e.uidEvent=t,Si[t]=Si[t]||{},Si[t]}function Ai(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object.values(e).find((e=>e.callable===t&&e.delegationSelector===n))}function _i(e,t,n){const a="string"===typeof t,r=a?n:t||n;let o=Fi(e);return Ci.has(o)||(o=e),[a,r,o]}function Ri(e,t,n,a,r){if("string"!==typeof t||!e)return;let[o,s,i]=_i(t,n,a);if(t in Ti){const e=e=>function(t){if(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))return e.call(this,t)};s=e(s)}const l=Ei(e),c=l[i]||(l[i]={}),u=Ai(c,s,o?n:null);if(u)return void(u.oneOff=u.oneOff&&r);const d=Ii(s,t.replace(wi,"")),h=o?function(e,t,n){return function a(r){const o=e.querySelectorAll(t);for(let{target:s}=r;s&&s!==this;s=s.parentNode)for(const i of o)if(i===s)return Mi(r,{delegateTarget:s}),a.oneOff&&Li.off(e,r.type,t,n),n.apply(s,[r])}}(e,n,s):function(e,t){return function n(a){return Mi(a,{delegateTarget:e}),n.oneOff&&Li.off(e,a.type,t),t.apply(e,[a])}}(e,s);h.delegationSelector=o?n:null,h.callable=s,h.oneOff=r,h.uidEvent=d,c[d]=h,e.addEventListener(i,h,o)}function Di(e,t,n,a,r){const o=Ai(t[n],a,r);o&&(e.removeEventListener(n,o,Boolean(r)),delete t[n][o.uidEvent])}function Oi(e,t,n,a){const r=t[n]||{};for(const[o,s]of Object.entries(r))o.includes(a)&&Di(e,t,n,s.callable,s.delegationSelector)}function Fi(e){return e=e.replace(xi,""),Ti[e]||e}const Li={on(e,t,n,a){Ri(e,t,n,a,!1)},one(e,t,n,a){Ri(e,t,n,a,!0)},off(e,t,n,a){if("string"!==typeof t||!e)return;const[r,o,s]=_i(t,n,a),i=s!==t,l=Ei(e),c=l[s]||{},u=t.startsWith(".");if("undefined"===typeof o){if(u)for(const n of Object.keys(l))Oi(e,l,n,t.slice(1));for(const[n,a]of Object.entries(c)){const r=n.replace(ki,"");i&&!t.includes(r)||Di(e,l,s,a.callable,a.delegationSelector)}}else{if(!Object.keys(c).length)return;Di(e,l,s,o,r?n:null)}},trigger(e,t,n){if("string"!==typeof t||!e)return null;const a=pi();let r=null,o=!0,s=!0,i=!1;t!==Fi(t)&&a&&(r=a.Event(t,n),a(e).trigger(r),o=!r.isPropagationStopped(),s=!r.isImmediatePropagationStopped(),i=r.isDefaultPrevented());const l=Mi(new Event(t,{bubbles:o,cancelable:!0}),n);return i&&l.preventDefault(),s&&e.dispatchEvent(l),l.defaultPrevented&&r&&r.preventDefault(),l}};function Mi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const[a,r]of Object.entries(t))try{e[a]=r}catch(n){Object.defineProperty(e,a,{configurable:!0,get:()=>r})}return e}function Pi(e){if("true"===e)return!0;if("false"===e)return!1;if(e===Number(e).toString())return Number(e);if(""===e||"null"===e)return null;if("string"!==typeof e)return e;try{return JSON.parse(decodeURIComponent(e))}catch(t){return e}}function zi(e){return e.replace(/[A-Z]/g,(e=>"-".concat(e.toLowerCase())))}const ji={setDataAttribute(e,t,n){e.setAttribute("data-bs-".concat(zi(t)),n)},removeDataAttribute(e,t){e.removeAttribute("data-bs-".concat(zi(t)))},getDataAttributes(e){if(!e)return{};const t={},n=Object.keys(e.dataset).filter((e=>e.startsWith("bs")&&!e.startsWith("bsConfig")));for(const a of n){let n=a.replace(/^bs/,"");n=n.charAt(0).toLowerCase()+n.slice(1,n.length),t[n]=Pi(e.dataset[a])}return t},getDataAttribute:(e,t)=>Pi(e.getAttribute("data-bs-".concat(zi(t))))};class Bi{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const n=si(t)?ji.getDataAttribute(t,"config"):{};return{...this.constructor.Default,..."object"===typeof n?n:{},...si(t)?ji.getDataAttributes(t):{},..."object"===typeof e?e:{}}}_typeCheckConfig(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.constructor.DefaultType;for(const[a,r]of Object.entries(t)){const t=e[a],o=si(t)?"element":null===(n=t)||void 0===n?"".concat(n):Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(r).test(o))throw new TypeError("".concat(this.constructor.NAME.toUpperCase(),': Option "').concat(a,'" provided type "').concat(o,'" but expected type "').concat(r,'".'))}var n}}class Wi extends Bi{constructor(e,t){super(),(e=ii(e))&&(this._element=e,this._config=this._getConfig(t),ni.set(this._element,this.constructor.DATA_KEY,this))}dispose(){ni.remove(this._element,this.constructor.DATA_KEY),Li.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t){bi(e,t,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return ni.get(ii(e),this.DATA_KEY)}static getOrCreateInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getInstance(e)||new this(e,"object"===typeof t?t:null)}static get VERSION(){return"5.3.2"}static get DATA_KEY(){return"bs.".concat(this.NAME)}static get EVENT_KEY(){return".".concat(this.DATA_KEY)}static eventName(e){return"".concat(e).concat(this.EVENT_KEY)}}const Ui=e=>{let t=e.getAttribute("data-bs-target");if(!t||"#"===t){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n="#".concat(n.split("#")[1])),t=n&&"#"!==n?ri(n.trim()):null}return t},Vi={find(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;return Element.prototype.querySelector.call(t,e)},children:(e,t)=>[].concat(...e.children).filter((e=>e.matches(t))),parents(e,t){const n=[];let a=e.parentNode.closest(t);for(;a;)n.push(a),a=a.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((e=>"".concat(e,':not([tabindex^="-"])'))).join(",");return this.find(t,e).filter((e=>!ci(e)&&li(e)))},getSelectorFromElement(e){const t=Ui(e);return t&&Vi.findOne(t)?t:null},getElementFromSelector(e){const t=Ui(e);return t?Vi.findOne(t):null},getMultipleElementsFromSelector(e){const t=Ui(e);return t?Vi.find(t):[]}},Hi=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hide";const n="click.dismiss".concat(e.EVENT_KEY),a=e.NAME;Li.on(document,n,'[data-bs-dismiss="'.concat(a,'"]'),(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),ci(this))return;const r=Vi.getElementFromSelector(this)||this.closest(".".concat(a));e.getOrCreateInstance(r)[t]()}))},Gi=".".concat("bs.alert"),qi="close".concat(Gi),Ki="closed".concat(Gi);class Xi extends Wi{static get NAME(){return"alert"}close(){if(Li.trigger(this._element,qi).defaultPrevented)return;this._element.classList.remove("show");const e=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,e)}_destroyElement(){this._element.remove(),Li.trigger(this._element,Ki),this.dispose()}static jQueryInterface(e){return this.each((function(){const t=Xi.getOrCreateInstance(this);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}}))}}Hi(Xi,"close"),gi(Xi);const Yi=".".concat("bs.button"),Qi='[data-bs-toggle="button"]',Zi="click".concat(Yi).concat(".data-api");class Ji extends Wi{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(e){return this.each((function(){const t=Ji.getOrCreateInstance(this);"toggle"===e&&t[e]()}))}}Li.on(document,Zi,Qi,(e=>{e.preventDefault();const t=e.target.closest(Qi);Ji.getOrCreateInstance(t).toggle()})),gi(Ji);const $i=".bs.swipe",el="touchstart".concat($i),tl="touchmove".concat($i),nl="touchend".concat($i),al="pointerdown".concat($i),rl="pointerup".concat($i),ol={endCallback:null,leftCallback:null,rightCallback:null},sl={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class il extends Bi{constructor(e,t){super(),this._element=e,e&&il.isSupported()&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=Boolean(window.PointerEvent),this._initEvents())}static get Default(){return ol}static get DefaultType(){return sl}static get NAME(){return"swipe"}dispose(){Li.off(this._element,$i)}_start(e){this._supportPointerEvents?this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX):this._deltaX=e.touches[0].clientX}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),yi(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=40)return;const t=e/this._deltaX;this._deltaX=0,t&&yi(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(Li.on(this._element,al,(e=>this._start(e))),Li.on(this._element,rl,(e=>this._end(e))),this._element.classList.add("pointer-event")):(Li.on(this._element,el,(e=>this._start(e))),Li.on(this._element,tl,(e=>this._move(e))),Li.on(this._element,nl,(e=>this._end(e))))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&("pen"===e.pointerType||"touch"===e.pointerType)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ll=".".concat("bs.carousel"),cl=".data-api",ul="next",dl="prev",hl="left",pl="right",fl="slide".concat(ll),ml="slid".concat(ll),gl="keydown".concat(ll),yl="mouseenter".concat(ll),bl="mouseleave".concat(ll),vl="dragstart".concat(ll),wl="load".concat(ll).concat(cl),xl="click".concat(ll).concat(cl),kl="carousel",Sl="active",Nl=".active",Tl=".carousel-item",Cl=Nl+Tl,Il={ArrowLeft:pl,ArrowRight:hl},El={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Al={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class _l extends Wi{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Vi.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===kl&&this.cycle()}static get Default(){return El}static get DefaultType(){return Al}static get NAME(){return"carousel"}next(){this._slide(ul)}nextWhenVisible(){!document.hidden&&li(this._element)&&this.next()}prev(){this._slide(dl)}pause(){this._isSliding&&oi(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval((()=>this.nextWhenVisible()),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?Li.one(this._element,ml,(()=>this.cycle())):this.cycle())}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding)return void Li.one(this._element,ml,(()=>this.to(e)));const n=this._getItemIndex(this._getActive());if(n===e)return;const a=e>n?ul:dl;this._slide(a,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&Li.on(this._element,gl,(e=>this._keydown(e))),"hover"===this._config.pause&&(Li.on(this._element,yl,(()=>this.pause())),Li.on(this._element,bl,(()=>this._maybeEnableCycle()))),this._config.touch&&il.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const t of Vi.find(".carousel-item img",this._element))Li.on(t,vl,(e=>e.preventDefault()));const e={leftCallback:()=>this._slide(this._directionToOrder(hl)),rightCallback:()=>this._slide(this._directionToOrder(pl)),endCallback:()=>{"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((()=>this._maybeEnableCycle()),500+this._config.interval))}};this._swipeHelper=new il(this._element,e)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=Il[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=Vi.findOne(Nl,this._indicatorsElement);t.classList.remove(Sl),t.removeAttribute("aria-current");const n=Vi.findOne('[data-bs-slide-to="'.concat(e,'"]'),this._indicatorsElement);n&&(n.classList.add(Sl),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this._isSliding)return;const n=this._getActive(),a=e===ul,r=t||vi(this._getItems(),n,a,this._config.wrap);if(r===n)return;const o=this._getItemIndex(r),s=t=>Li.trigger(this._element,t,{relatedTarget:r,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:o});if(s(fl).defaultPrevented)return;if(!n||!r)return;const i=Boolean(this._interval);this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=r;const l=a?"carousel-item-start":"carousel-item-end",c=a?"carousel-item-next":"carousel-item-prev";r.classList.add(c),hi(r),n.classList.add(l),r.classList.add(l);this._queueCallback((()=>{r.classList.remove(l,c),r.classList.add(Sl),n.classList.remove(Sl,c,l),this._isSliding=!1,s(ml)}),n,this._isAnimated()),i&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Vi.findOne(Cl,this._element)}_getItems(){return Vi.find(Tl,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return mi()?e===hl?dl:ul:e===hl?ul:dl}_orderToDirection(e){return mi()?e===dl?hl:pl:e===dl?pl:hl}static jQueryInterface(e){return this.each((function(){const t=_l.getOrCreateInstance(this,e);if("number"!==typeof e){if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}else t.to(e)}))}}Li.on(document,xl,"[data-bs-slide], [data-bs-slide-to]",(function(e){const t=Vi.getElementFromSelector(this);if(!t||!t.classList.contains(kl))return;e.preventDefault();const n=_l.getOrCreateInstance(t),a=this.getAttribute("data-bs-slide-to");return a?(n.to(a),void n._maybeEnableCycle()):"next"===ji.getDataAttribute(this,"slide")?(n.next(),void n._maybeEnableCycle()):(n.prev(),void n._maybeEnableCycle())})),Li.on(window,wl,(()=>{const e=Vi.find('[data-bs-ride="carousel"]');for(const t of e)_l.getOrCreateInstance(t)})),gi(_l);const Rl=".".concat("bs.collapse"),Dl="show".concat(Rl),Ol="shown".concat(Rl),Fl="hide".concat(Rl),Ll="hidden".concat(Rl),Ml="click".concat(Rl).concat(".data-api"),Pl="show",zl="collapse",jl="collapsing",Bl=":scope .".concat(zl," .").concat(zl),Wl='[data-bs-toggle="collapse"]',Ul={parent:null,toggle:!0},Vl={parent:"(null|element)",toggle:"boolean"};class Hl extends Wi{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const n=Vi.find(Wl);for(const a of n){const e=Vi.getSelectorFromElement(a),t=Vi.find(e).filter((e=>e===this._element));null!==e&&t.length&&this._triggerArray.push(a)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ul}static get DefaultType(){return Vl}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter((e=>e!==this._element)).map((e=>Hl.getOrCreateInstance(e,{toggle:!1})))),e.length&&e[0]._isTransitioning)return;if(Li.trigger(this._element,Dl).defaultPrevented)return;for(const r of e)r.hide();const t=this._getDimension();this._element.classList.remove(zl),this._element.classList.add(jl),this._element.style[t]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const n=t[0].toUpperCase()+t.slice(1),a="scroll".concat(n);this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(jl),this._element.classList.add(zl,Pl),this._element.style[t]="",Li.trigger(this._element,Ol)}),this._element,!0),this._element.style[t]="".concat(this._element[a],"px")}hide(){if(this._isTransitioning||!this._isShown())return;if(Li.trigger(this._element,Fl).defaultPrevented)return;const e=this._getDimension();this._element.style[e]="".concat(this._element.getBoundingClientRect()[e],"px"),hi(this._element),this._element.classList.add(jl),this._element.classList.remove(zl,Pl);for(const t of this._triggerArray){const e=Vi.getElementFromSelector(t);e&&!this._isShown(e)&&this._addAriaAndCollapsedClass([t],!1)}this._isTransitioning=!0;this._element.style[e]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(jl),this._element.classList.add(zl),Li.trigger(this._element,Ll)}),this._element,!0)}_isShown(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._element).classList.contains(Pl)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=ii(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Wl);for(const t of e){const e=Vi.getElementFromSelector(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}}_getFirstLevelChildren(e){const t=Vi.find(Bl,this._config.parent);return Vi.find(e,this._config.parent).filter((e=>!t.includes(e)))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const n of e)n.classList.toggle("collapsed",!t),n.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return"string"===typeof e&&/show|hide/.test(e)&&(t.toggle=!1),this.each((function(){const n=Hl.getOrCreateInstance(this,t);if("string"===typeof e){if("undefined"===typeof n[e])throw new TypeError('No method named "'.concat(e,'"'));n[e]()}}))}}Li.on(document,Ml,Wl,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();for(const t of Vi.getMultipleElementsFromSelector(this))Hl.getOrCreateInstance(t,{toggle:!1}).toggle()})),gi(Hl);const Gl="dropdown",ql=".".concat("bs.dropdown"),Kl=".data-api",Xl="ArrowUp",Yl="ArrowDown",Ql="hide".concat(ql),Zl="hidden".concat(ql),Jl="show".concat(ql),$l="shown".concat(ql),ec="click".concat(ql).concat(Kl),tc="keydown".concat(ql).concat(Kl),nc="keyup".concat(ql).concat(Kl),ac="show",rc='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',oc="".concat(rc,".").concat(ac),sc=".dropdown-menu",ic=mi()?"top-end":"top-start",lc=mi()?"top-start":"top-end",cc=mi()?"bottom-end":"bottom-start",uc=mi()?"bottom-start":"bottom-end",dc=mi()?"left-start":"right-start",hc=mi()?"right-start":"left-start",pc={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},fc={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class mc extends Wi{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=Vi.next(this._element,sc)[0]||Vi.prev(this._element,sc)[0]||Vi.findOne(sc,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return pc}static get DefaultType(){return fc}static get NAME(){return Gl}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ci(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!Li.trigger(this._element,Jl,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const e of[].concat(...document.body.children))Li.on(e,"mouseover",di);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(ac),this._element.classList.add(ac),Li.trigger(this._element,$l,e)}}hide(){if(ci(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!Li.trigger(this._element,Ql,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))Li.off(e,"mouseover",di);this._popper&&this._popper.destroy(),this._menu.classList.remove(ac),this._element.classList.remove(ac),this._element.setAttribute("aria-expanded","false"),ji.removeDataAttribute(this._menu,"popper"),Li.trigger(this._element,Zl,e)}}_getConfig(e){if("object"===typeof(e=super._getConfig(e)).reference&&!si(e.reference)&&"function"!==typeof e.reference.getBoundingClientRect)throw new TypeError("".concat(Gl.toUpperCase(),': Option "reference" provided type "object" without a required "getBoundingClientRect" method.'));return e}_createPopper(){if("undefined"===typeof e)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;"parent"===this._config.reference?t=this._parent:si(this._config.reference)?t=ii(this._config.reference):"object"===typeof this._config.reference&&(t=this._config.reference);const n=this._getPopperConfig();this._popper=$s(t,this._menu,n)}_isShown(){return this._menu.classList.contains(ac)}_getPlacement(){const e=this._parent;if(e.classList.contains("dropend"))return dc;if(e.classList.contains("dropstart"))return hc;if(e.classList.contains("dropup-center"))return"top";if(e.classList.contains("dropdown-center"))return"bottom";const t="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return e.classList.contains("dropup")?t?lc:ic:t?uc:cc}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:e}=this._config;return"string"===typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"===typeof e?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||"static"===this._config.display)&&(ji.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...yi(this._config.popperConfig,[e])}}_selectMenuItem(e){let{key:t,target:n}=e;const a=Vi.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter((e=>li(e)));a.length&&vi(a,n,t===Yl,!a.includes(n)).focus()}static jQueryInterface(e){return this.each((function(){const t=mc.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}static clearMenus(e){if(2===e.button||"keyup"===e.type&&"Tab"!==e.key)return;const t=Vi.find(oc);for(const n of t){const t=mc.getInstance(n);if(!t||!1===t._config.autoClose)continue;const a=e.composedPath(),r=a.includes(t._menu);if(a.includes(t._element)||"inside"===t._config.autoClose&&!r||"outside"===t._config.autoClose&&r)continue;if(t._menu.contains(e.target)&&("keyup"===e.type&&"Tab"===e.key||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const o={relatedTarget:t._element};"click"===e.type&&(o.clickEvent=e),t._completeHide(o)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),n="Escape"===e.key,a=[Xl,Yl].includes(e.key);if(!a&&!n)return;if(t&&!n)return;e.preventDefault();const r=this.matches(rc)?this:Vi.prev(this,rc)[0]||Vi.next(this,rc)[0]||Vi.findOne(rc,e.delegateTarget.parentNode),o=mc.getOrCreateInstance(r);if(a)return e.stopPropagation(),o.show(),void o._selectMenuItem(e);o._isShown()&&(e.stopPropagation(),o.hide(),r.focus())}}Li.on(document,tc,rc,mc.dataApiKeydownHandler),Li.on(document,tc,sc,mc.dataApiKeydownHandler),Li.on(document,ec,mc.clearMenus),Li.on(document,nc,mc.clearMenus),Li.on(document,ec,rc,(function(e){e.preventDefault(),mc.getOrCreateInstance(this).toggle()})),gi(mc);const gc="backdrop",yc="show",bc="mousedown.bs.".concat(gc),vc={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},wc={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class xc extends Bi{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return vc}static get DefaultType(){return wc}static get NAME(){return gc}show(e){if(!this._config.isVisible)return void yi(e);this._append();const t=this._getElement();this._config.isAnimated&&hi(t),t.classList.add(yc),this._emulateAnimation((()=>{yi(e)}))}hide(e){this._config.isVisible?(this._getElement().classList.remove(yc),this._emulateAnimation((()=>{this.dispose(),yi(e)}))):yi(e)}dispose(){this._isAppended&&(Li.off(this._element,bc),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add("fade"),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=ii(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),Li.on(e,bc,(()=>{yi(this._config.clickCallback)})),this._isAppended=!0}_emulateAnimation(e){bi(e,this._getElement(),this._config.isAnimated)}}const kc=".".concat("bs.focustrap"),Sc="focusin".concat(kc),Nc="keydown.tab".concat(kc),Tc="backward",Cc={autofocus:!0,trapElement:null},Ic={autofocus:"boolean",trapElement:"element"};class Ec extends Bi{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Cc}static get DefaultType(){return Ic}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),Li.off(document,kc),Li.on(document,Sc,(e=>this._handleFocusin(e))),Li.on(document,Nc,(e=>this._handleKeydown(e))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,Li.off(document,kc))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const n=Vi.focusableChildren(t);0===n.length?t.focus():this._lastTabNavDirection===Tc?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){"Tab"===e.key&&(this._lastTabNavDirection=e.shiftKey?Tc:"forward")}}const Ac=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",_c=".sticky-top",Rc="padding-right",Dc="margin-right";class Oc{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Rc,(t=>t+e)),this._setElementAttributes(Ac,Rc,(t=>t+e)),this._setElementAttributes(_c,Dc,(t=>t-e))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Rc),this._resetElementAttributes(Ac,Rc),this._resetElementAttributes(_c,Dc)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){const a=this.getWidth();this._applyManipulationCallback(e,(e=>{if(e!==this._element&&window.innerWidth>e.clientWidth+a)return;this._saveInitialAttribute(e,t);const r=window.getComputedStyle(e).getPropertyValue(t);e.style.setProperty(t,"".concat(n(Number.parseFloat(r)),"px"))}))}_saveInitialAttribute(e,t){const n=e.style.getPropertyValue(t);n&&ji.setDataAttribute(e,t,n)}_resetElementAttributes(e,t){this._applyManipulationCallback(e,(e=>{const n=ji.getDataAttribute(e,t);null!==n?(ji.removeDataAttribute(e,t),e.style.setProperty(t,n)):e.style.removeProperty(t)}))}_applyManipulationCallback(e,t){if(si(e))t(e);else for(const n of Vi.find(e,this._element))t(n)}}const Fc=".".concat("bs.modal"),Lc="hide".concat(Fc),Mc="hidePrevented".concat(Fc),Pc="hidden".concat(Fc),zc="show".concat(Fc),jc="shown".concat(Fc),Bc="resize".concat(Fc),Wc="click.dismiss".concat(Fc),Uc="mousedown.dismiss".concat(Fc),Vc="keydown.dismiss".concat(Fc),Hc="click".concat(Fc).concat(".data-api"),Gc="modal-open",qc="show",Kc="modal-static",Xc={backdrop:!0,focus:!0,keyboard:!0},Yc={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Qc extends Wi{constructor(e,t){super(e,t),this._dialog=Vi.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Oc,this._addEventListeners()}static get Default(){return Xc}static get DefaultType(){return Yc}static get NAME(){return"modal"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||this._isTransitioning)return;Li.trigger(this._element,zc,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Gc),this._adjustDialog(),this._backdrop.show((()=>this._showElement(e))))}hide(){if(!this._isShown||this._isTransitioning)return;Li.trigger(this._element,Lc).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(qc),this._queueCallback((()=>this._hideModal()),this._element,this._isAnimated()))}dispose(){Li.off(window,Fc),Li.off(this._dialog,Fc),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new xc({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Ec({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=Vi.findOne(".modal-body",this._dialog);t&&(t.scrollTop=0),hi(this._element),this._element.classList.add(qc);this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,Li.trigger(this._element,jc,{relatedTarget:e})}),this._dialog,this._isAnimated())}_addEventListeners(){Li.on(this._element,Vc,(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())})),Li.on(window,Bc,(()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()})),Li.on(this._element,Uc,(e=>{Li.one(this._element,Wc,(t=>{this._element===e.target&&this._element===t.target&&("static"!==this._config.backdrop?this._config.backdrop&&this.hide():this._triggerBackdropTransition())}))}))}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(Gc),this._resetAdjustments(),this._scrollBar.reset(),Li.trigger(this._element,Pc)}))}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(Li.trigger(this._element,Mc).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._element.style.overflowY;"hidden"===t||this._element.classList.contains(Kc)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(Kc),this._queueCallback((()=>{this._element.classList.remove(Kc),this._queueCallback((()=>{this._element.style.overflowY=t}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;if(n&&!e){const e=mi()?"paddingLeft":"paddingRight";this._element.style[e]="".concat(t,"px")}if(!n&&e){const e=mi()?"paddingRight":"paddingLeft";this._element.style[e]="".concat(t,"px")}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each((function(){const n=Qc.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof n[e])throw new TypeError('No method named "'.concat(e,'"'));n[e](t)}}))}}Li.on(document,Hc,'[data-bs-toggle="modal"]',(function(e){const t=Vi.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),Li.one(t,zc,(e=>{e.defaultPrevented||Li.one(t,Pc,(()=>{li(this)&&this.focus()}))}));const n=Vi.findOne(".modal.show");n&&Qc.getInstance(n).hide();Qc.getOrCreateInstance(t).toggle(this)})),Hi(Qc),gi(Qc);const Zc=".".concat("bs.offcanvas"),Jc=".data-api",$c="load".concat(Zc).concat(Jc),eu="show",tu="showing",nu="hiding",au=".offcanvas.show",ru="show".concat(Zc),ou="shown".concat(Zc),su="hide".concat(Zc),iu="hidePrevented".concat(Zc),lu="hidden".concat(Zc),cu="resize".concat(Zc),uu="click".concat(Zc).concat(Jc),du="keydown.dismiss".concat(Zc),hu={backdrop:!0,keyboard:!0,scroll:!1},pu={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class fu extends Wi{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return hu}static get DefaultType(){return pu}static get NAME(){return"offcanvas"}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown)return;if(Li.trigger(this._element,ru,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||(new Oc).hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(tu);this._queueCallback((()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(eu),this._element.classList.remove(tu),Li.trigger(this._element,ou,{relatedTarget:e})}),this._element,!0)}hide(){if(!this._isShown)return;if(Li.trigger(this._element,su).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(nu),this._backdrop.hide();this._queueCallback((()=>{this._element.classList.remove(eu,nu),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||(new Oc).reset(),Li.trigger(this._element,lu)}),this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=Boolean(this._config.backdrop);return new xc({className:"offcanvas-backdrop",isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?()=>{"static"!==this._config.backdrop?this.hide():Li.trigger(this._element,iu)}:null})}_initializeFocusTrap(){return new Ec({trapElement:this._element})}_addEventListeners(){Li.on(this._element,du,(e=>{"Escape"===e.key&&(this._config.keyboard?this.hide():Li.trigger(this._element,iu))}))}static jQueryInterface(e){return this.each((function(){const t=fu.getOrCreateInstance(this,e);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}}))}}Li.on(document,uu,'[data-bs-toggle="offcanvas"]',(function(e){const t=Vi.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),ci(this))return;Li.one(t,lu,(()=>{li(this)&&this.focus()}));const n=Vi.findOne(au);n&&n!==t&&fu.getInstance(n).hide();fu.getOrCreateInstance(t).toggle(this)})),Li.on(window,$c,(()=>{for(const e of Vi.find(au))fu.getOrCreateInstance(e).show()})),Li.on(window,cu,(()=>{for(const e of Vi.find("[aria-modal][class*=show][class*=offcanvas-]"))"fixed"!==getComputedStyle(e).position&&fu.getOrCreateInstance(e).hide()})),Hi(fu),gi(fu);const mu={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},gu=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),yu=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,bu=(e,t)=>{const n=e.nodeName.toLowerCase();return t.includes(n)?!gu.has(n)||Boolean(yu.test(e.nodeValue)):t.filter((e=>e instanceof RegExp)).some((e=>e.test(n)))};const vu={allowList:mu,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},wu={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},xu={entry:"(string|element|function|null)",selector:"(string|element)"};class ku extends Bi{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return vu}static get DefaultType(){return wu}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map((e=>this._resolvePossibleFunction(e))).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[a,r]of Object.entries(this._config.content))this._setContent(e,r,a);const t=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&t.classList.add(...n.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,n]of Object.entries(e))super._typeCheckConfig({selector:t,entry:n},xu)}_setContent(e,t,n){const a=Vi.findOne(n,e);a&&((t=this._resolvePossibleFunction(t))?si(t)?this._putElementInTemplate(ii(t),a):this._config.html?a.innerHTML=this._maybeSanitize(t):a.textContent=t:a.remove())}_maybeSanitize(e){return this._config.sanitize?function(e,t,n){if(!e.length)return e;if(n&&"function"===typeof n)return n(e);const a=(new window.DOMParser).parseFromString(e,"text/html"),r=[].concat(...a.body.querySelectorAll("*"));for(const o of r){const e=o.nodeName.toLowerCase();if(!Object.keys(t).includes(e)){o.remove();continue}const n=[].concat(...o.attributes),a=[].concat(t["*"]||[],t[e]||[]);for(const t of n)bu(t,a)||o.removeAttribute(t.nodeName)}return a.body.innerHTML}(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return yi(e,[this])}_putElementInTemplate(e,t){if(this._config.html)return t.innerHTML="",void t.append(e);t.textContent=e.textContent}}const Su=new Set(["sanitize","allowList","sanitizeFn"]),Nu="fade",Tu="show",Cu=".".concat("modal"),Iu="hide.bs.modal",Eu="hover",Au="focus",_u={AUTO:"auto",TOP:"top",RIGHT:mi()?"left":"right",BOTTOM:"bottom",LEFT:mi()?"right":"left"},Ru={allowList:mu,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Du={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Ou extends Wi{constructor(t,n){if("undefined"===typeof e)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ru}static get DefaultType(){return Du}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),Li.off(this._element.closest(Cu),Iu,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const e=Li.trigger(this._element,this.constructor.eventName("show")),t=(ui(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!t)return;this._disposePopper();const n=this._getTipElement();this._element.setAttribute("aria-describedby",n.getAttribute("id"));const{container:a}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(a.append(n),Li.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(n),n.classList.add(Tu),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))Li.on(r,"mouseover",di);this._queueCallback((()=>{Li.trigger(this._element,this.constructor.eventName("shown")),!1===this._isHovered&&this._leave(),this._isHovered=!1}),this.tip,this._isAnimated())}hide(){if(!this._isShown())return;if(Li.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented)return;if(this._getTipElement().classList.remove(Tu),"ontouchstart"in document.documentElement)for(const e of[].concat(...document.body.children))Li.off(e,"mouseover",di);this._activeTrigger.click=!1,this._activeTrigger[Au]=!1,this._activeTrigger[Eu]=!1,this._isHovered=null;this._queueCallback((()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),Li.trigger(this._element,this.constructor.eventName("hidden")))}),this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return Boolean(this._getTitle())}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Nu,Tu),t.classList.add("bs-".concat(this.constructor.NAME,"-auto"));const n=(e=>{do{e+=Math.floor(1e6*Math.random())}while(document.getElementById(e));return e})(this.constructor.NAME).toString();return t.setAttribute("id",n),this._isAnimated()&&t.classList.add(Nu),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new ku({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Nu)}_isShown(){return this.tip&&this.tip.classList.contains(Tu)}_createPopper(e){const t=yi(this._config.placement,[this,e,this._element]),n=_u[t.toUpperCase()];return $s(this._element,e,this._getPopperConfig(n))}_getOffset(){const{offset:e}=this._config;return"string"===typeof e?e.split(",").map((e=>Number.parseInt(e,10))):"function"===typeof e?t=>e(t,this._element):e}_resolvePossibleFunction(e){return yi(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:".".concat(this.constructor.NAME,"-arrow")}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:e=>{this._getTipElement().setAttribute("data-popper-placement",e.state.placement)}}]};return{...t,...yi(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if("click"===t)Li.on(this._element,this.constructor.eventName("click"),this._config.selector,(e=>{this._initializeOnDelegatedTarget(e).toggle()}));else if("manual"!==t){const e=t===Eu?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),n=t===Eu?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");Li.on(this._element,e,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusin"===e.type?Au:Eu]=!0,t._enter()})),Li.on(this._element,n,this._config.selector,(e=>{const t=this._initializeOnDelegatedTarget(e);t._activeTrigger["focusout"===e.type?Au:Eu]=t._element.contains(e.relatedTarget),t._leave()}))}this._hideModalHandler=()=>{this._element&&this.hide()},Li.on(this._element.closest(Cu),Iu,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout((()=>{this._isHovered&&this.show()}),this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout((()=>{this._isHovered||this.hide()}),this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=ji.getDataAttributes(this._element);for(const n of Object.keys(t))Su.has(n)&&delete t[n];return e={...t,..."object"===typeof e&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=!1===e.container?document.body:ii(e.container),"number"===typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),"number"===typeof e.title&&(e.title=e.title.toString()),"number"===typeof e.content&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,n]of Object.entries(this._config))this.constructor.Default[t]!==n&&(e[t]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each((function(){const t=Ou.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}gi(Ou);const Fu={...Ou.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Lu={...Ou.DefaultType,content:"(null|string|element|function)"};class Mu extends Ou{static get Default(){return Fu}static get DefaultType(){return Lu}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each((function(){const t=Mu.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}gi(Mu);const Pu=".".concat("bs.scrollspy"),zu="activate".concat(Pu),ju="click".concat(Pu),Bu="load".concat(Pu).concat(".data-api"),Wu="active",Uu="[href]",Vu=".nav-link",Hu="".concat(Vu,", ").concat(".nav-item"," > ").concat(Vu,", ").concat(".list-group-item"),Gu={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},qu={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Ku extends Wi{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement="visible"===getComputedStyle(this._element).overflowY?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Gu}static get DefaultType(){return qu}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=ii(e.target)||document.body,e.rootMargin=e.offset?"".concat(e.offset,"px 0px -30%"):e.rootMargin,"string"===typeof e.threshold&&(e.threshold=e.threshold.split(",").map((e=>Number.parseFloat(e)))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(Li.off(this._config.target,ju),Li.on(this._config.target,ju,Uu,(e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const n=this._rootElement||window,a=t.offsetTop-this._element.offsetTop;if(n.scrollTo)return void n.scrollTo({top:a,behavior:"smooth"});n.scrollTop=a}})))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver((e=>this._observerCallback(e)),e)}_observerCallback(e){const t=e=>this._targetLinks.get("#".concat(e.target.id)),n=e=>{this._previousScrollData.visibleEntryTop=e.target.offsetTop,this._process(t(e))},a=(this._rootElement||document.documentElement).scrollTop,r=a>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=a;for(const o of e){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(o));continue}const e=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&e){if(n(o),!a)return}else r||e||n(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=Vi.find(Uu,this._config.target);for(const t of e){if(!t.hash||ci(t))continue;const e=Vi.findOne(decodeURI(t.hash),this._element);li(e)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,e))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Wu),this._activateParents(e),Li.trigger(this._element,zu,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains("dropdown-item"))Vi.findOne(".dropdown-toggle",e.closest(".dropdown")).classList.add(Wu);else for(const t of Vi.parents(e,".nav, .list-group"))for(const e of Vi.prev(t,Hu))e.classList.add(Wu)}_clearActiveClass(e){e.classList.remove(Wu);const t=Vi.find("".concat(Uu,".").concat(Wu),e);for(const n of t)n.classList.remove(Wu)}static jQueryInterface(e){return this.each((function(){const t=Ku.getOrCreateInstance(this,e);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}Li.on(window,Bu,(()=>{for(const e of Vi.find('[data-bs-spy="scroll"]'))Ku.getOrCreateInstance(e)})),gi(Ku);const Xu=".".concat("bs.tab"),Yu="hide".concat(Xu),Qu="hidden".concat(Xu),Zu="show".concat(Xu),Ju="shown".concat(Xu),$u="click".concat(Xu),ed="keydown".concat(Xu),td="load".concat(Xu),nd="ArrowLeft",ad="ArrowRight",rd="ArrowUp",od="ArrowDown",sd="Home",id="End",ld="active",cd="fade",ud="show",dd=".dropdown-toggle",hd=":not(".concat(dd,")"),pd=".nav-link".concat(hd,", .list-group-item").concat(hd,', [role="tab"]').concat(hd),fd='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',md="".concat(pd,", ").concat(fd),gd=".".concat(ld,'[data-bs-toggle="tab"], .').concat(ld,'[data-bs-toggle="pill"], .').concat(ld,'[data-bs-toggle="list"]');class yd extends Wi{constructor(e){super(e),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),Li.on(this._element,ed,(e=>this._keydown(e))))}static get NAME(){return"tab"}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),n=t?Li.trigger(t,Yu,{relatedTarget:e}):null;Li.trigger(e,Zu,{relatedTarget:t}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(ld),this._activate(Vi.getElementFromSelector(e));this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),Li.trigger(e,Ju,{relatedTarget:t})):e.classList.add(ud)}),e,e.classList.contains(cd))}_deactivate(e,t){if(!e)return;e.classList.remove(ld),e.blur(),this._deactivate(Vi.getElementFromSelector(e));this._queueCallback((()=>{"tab"===e.getAttribute("role")?(e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),Li.trigger(e,Qu,{relatedTarget:t})):e.classList.remove(ud)}),e,e.classList.contains(cd))}_keydown(e){if(![nd,ad,rd,od,sd,id].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter((e=>!ci(e)));let n;if([sd,id].includes(e.key))n=t[e.key===sd?0:t.length-1];else{const a=[ad,od].includes(e.key);n=vi(t,e.target,a,!0)}n&&(n.focus({preventScroll:!0}),yd.getOrCreateInstance(n).show())}_getChildren(){return Vi.find(md,this._parent)}_getActiveElem(){return this._getChildren().find((e=>this._elemIsActive(e)))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const n of t)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",t),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=Vi.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby","".concat(e.id)))}_toggleDropDown(e,t){const n=this._getOuterElement(e);if(!n.classList.contains("dropdown"))return;const a=(e,a)=>{const r=Vi.findOne(e,n);r&&r.classList.toggle(a,t)};a(dd,ld),a(".dropdown-menu",ud),n.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,n){e.hasAttribute(t)||e.setAttribute(t,n)}_elemIsActive(e){return e.classList.contains(ld)}_getInnerElement(e){return e.matches(md)?e:Vi.findOne(md,e)}_getOuterElement(e){return e.closest(".nav-item, .list-group-item")||e}static jQueryInterface(e){return this.each((function(){const t=yd.getOrCreateInstance(this);if("string"===typeof e){if(void 0===t[e]||e.startsWith("_")||"constructor"===e)throw new TypeError('No method named "'.concat(e,'"'));t[e]()}}))}}Li.on(document,$u,fd,(function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),ci(this)||yd.getOrCreateInstance(this).show()})),Li.on(window,td,(()=>{for(const e of Vi.find(gd))yd.getOrCreateInstance(e)})),gi(yd);const bd=".".concat("bs.toast"),vd="mouseover".concat(bd),wd="mouseout".concat(bd),xd="focusin".concat(bd),kd="focusout".concat(bd),Sd="hide".concat(bd),Nd="hidden".concat(bd),Td="show".concat(bd),Cd="shown".concat(bd),Id="hide",Ed="show",Ad="showing",_d={animation:"boolean",autohide:"boolean",delay:"number"},Rd={animation:!0,autohide:!0,delay:5e3};class Dd extends Wi{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Rd}static get DefaultType(){return _d}static get NAME(){return"toast"}show(){if(Li.trigger(this._element,Td).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add("fade");this._element.classList.remove(Id),hi(this._element),this._element.classList.add(Ed,Ad),this._queueCallback((()=>{this._element.classList.remove(Ad),Li.trigger(this._element,Cd),this._maybeScheduleHide()}),this._element,this._config.animation)}hide(){if(!this.isShown())return;if(Li.trigger(this._element,Sd).defaultPrevented)return;this._element.classList.add(Ad),this._queueCallback((()=>{this._element.classList.add(Id),this._element.classList.remove(Ad,Ed),Li.trigger(this._element,Nd)}),this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Ed),super.dispose()}isShown(){return this._element.classList.contains(Ed)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":this._hasMouseInteraction=t;break;case"focusin":case"focusout":this._hasKeyboardInteraction=t}if(t)return void this._clearTimeout();const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){Li.on(this._element,vd,(e=>this._onInteraction(e,!0))),Li.on(this._element,wd,(e=>this._onInteraction(e,!1))),Li.on(this._element,xd,(e=>this._onInteraction(e,!0))),Li.on(this._element,kd,(e=>this._onInteraction(e,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each((function(){const t=Dd.getOrCreateInstance(this,e);if("string"===typeof e){if("undefined"===typeof t[e])throw new TypeError('No method named "'.concat(e,'"'));t[e](this)}}))}}Hi(Dd),gi(Dd);n.p;const Od=n.p+"static/media/dc1.0d541120340875b022b6.jpg",Fd=n.p+"static/media/dc2.59c99686dddb6938fd7d.jpg";n.p,n.p,n.p;const Ld=function(e,t){const n=(0,W.useRef)(!0);(0,W.useEffect)((()=>{if(!n.current)return e();n.current=!1}),t)},Md=2**31-1;function Pd(e,t,n){const a=n-Date.now();e.current=a<=Md?setTimeout(t,a):setTimeout((()=>Pd(e,t,n)),Md)}function zd(){const e=gt(),t=(0,W.useRef)();return yt((()=>clearTimeout(t.current))),(0,W.useMemo)((()=>{const n=()=>clearTimeout(t.current);return{set:function(a){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e()&&(n(),r<=Md?t.current=setTimeout(a,r):Pd(t,a,Date.now()+r))},clear:n,handleRef:t}}),[])}const jd=W.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:r="div",...o}=e;return a=le(a,"carousel-caption"),(0,ne.jsx)(r,{ref:t,className:G()(n,a),...o})}));jd.displayName="CarouselCaption";const Bd=jd,Wd=W.forwardRef(((e,t)=>{let{as:n="div",bsPrefix:a,className:r,...o}=e;const s=G()(r,le(a,"carousel-item"));return(0,ne.jsx)(n,{ref:t,...o,className:s})}));Wd.displayName="CarouselItem";const Ud=Wd;const Vd=W.forwardRef(((e,t)=>{let{defaultActiveIndex:n=0,...a}=e;const{as:r="div",bsPrefix:o,slide:s=!0,fade:i=!1,controls:l=!0,indicators:c=!0,indicatorLabels:u=[],activeIndex:d,onSelect:h,onSlide:p,onSlid:f,interval:m=5e3,keyboard:g=!0,onKeyDown:y,pause:b="hover",onMouseOver:v,onMouseOut:w,wrap:x=!0,touch:k=!0,onTouchStart:S,onTouchMove:N,onTouchEnd:T,prevIcon:C=(0,ne.jsx)("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:I="Previous",nextIcon:E=(0,ne.jsx)("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:A="Next",variant:_,className:R,children:D,...O}=J({defaultActiveIndex:n,...a},{activeIndex:"onSelect"}),F=le(o,"carousel"),L=de(),M=(0,W.useRef)(null),[P,z]=(0,W.useState)("next"),[j,B]=(0,W.useState)(!1),[U,V]=(0,W.useState)(!1),[H,q]=(0,W.useState)(d||0);(0,W.useEffect)((()=>{U||d===H||(M.current?z(M.current):z((d||0)>H?"next":"prev"),s&&V(!0),q(d||0))}),[d,U,H,s]),(0,W.useEffect)((()=>{M.current&&(M.current=null)}));let K,X=0;!function(e,t){let n=0;W.Children.forEach(e,(e=>{W.isValidElement(e)&&t(e,n++)}))}(D,((e,t)=>{++X,t===d&&(K=e.props.interval)}));const Y=rt(K),Q=(0,W.useCallback)((e=>{if(U)return;let t=H-1;if(t<0){if(!x)return;t=X-1}M.current="prev",null==h||h(t,e)}),[U,H,h,x,X]),Z=ot((e=>{if(U)return;let t=H+1;if(t>=X){if(!x)return;t=0}M.current="next",null==h||h(t,e)})),$=(0,W.useRef)();(0,W.useImperativeHandle)(t,(()=>({element:$.current,prev:Q,next:Z})));const ee=ot((()=>{!document.hidden&&function(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;const t=getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility&&"none"!==getComputedStyle(e.parentNode).display}($.current)&&(L?Q():Z())})),te="next"===P?"start":"end";Ld((()=>{s||(null==p||p(H,te),null==f||f(H,te))}),[H]);const ae="".concat(F,"-item-").concat(P),re="".concat(F,"-item-").concat(te),oe=(0,W.useCallback)((e=>{qe(e),null==p||p(H,te)}),[p,H,te]),se=(0,W.useCallback)((()=>{V(!1),null==f||f(H,te)}),[f,H,te]),ie=(0,W.useCallback)((e=>{if(g&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":return e.preventDefault(),void(L?Z(e):Q(e));case"ArrowRight":return e.preventDefault(),void(L?Q(e):Z(e))}null==y||y(e)}),[g,y,Q,Z,L]),ce=(0,W.useCallback)((e=>{"hover"===b&&B(!0),null==v||v(e)}),[b,v]),ue=(0,W.useCallback)((e=>{B(!1),null==w||w(e)}),[w]),he=(0,W.useRef)(0),pe=(0,W.useRef)(0),fe=zd(),me=(0,W.useCallback)((e=>{he.current=e.touches[0].clientX,pe.current=0,"hover"===b&&B(!0),null==S||S(e)}),[b,S]),ge=(0,W.useCallback)((e=>{e.touches&&e.touches.length>1?pe.current=0:pe.current=e.touches[0].clientX-he.current,null==N||N(e)}),[N]),ye=(0,W.useCallback)((e=>{if(k){const t=pe.current;Math.abs(t)>40&&(t>0?Q(e):Z(e))}"hover"===b&&fe.set((()=>{B(!1)}),m||void 0),null==T||T(e)}),[k,b,Q,Z,fe,m,T]),be=null!=m&&!j&&!U,ve=(0,W.useRef)();(0,W.useEffect)((()=>{var e,t;if(!be)return;const n=L?Q:Z;return ve.current=window.setInterval(document.visibilityState?ee:n,null!=(e=null!=(t=Y.current)?t:m)?e:void 0),()=>{null!==ve.current&&clearInterval(ve.current)}}),[be,Q,Z,Y,m,ee,L]);const we=(0,W.useMemo)((()=>c&&Array.from({length:X},((e,t)=>e=>{null==h||h(t,e)}))),[c,X,h]);return(0,ne.jsxs)(r,{ref:$,...O,onKeyDown:ie,onMouseOver:ce,onMouseOut:ue,onTouchStart:me,onTouchMove:ge,onTouchEnd:ye,className:G()(R,F,s&&"slide",i&&"".concat(F,"-fade"),_&&"".concat(F,"-").concat(_)),children:[c&&(0,ne.jsx)("div",{className:"".concat(F,"-indicators"),children:Ia(D,((e,t)=>(0,ne.jsx)("button",{type:"button","data-bs-target":"","aria-label":null!=u&&u.length?u[t]:"Slide ".concat(t+1),className:t===H?"active":void 0,onClick:we?we[t]:void 0,"aria-current":t===H},t)))}),(0,ne.jsx)("div",{className:"".concat(F,"-inner"),children:Ia(D,((e,t)=>{const n=t===H;return s?(0,ne.jsx)(Ye,{in:n,onEnter:n?oe:void 0,onEntered:n?se:void 0,addEndListener:He,children:(t,a)=>W.cloneElement(e,{...a,className:G()(e.props.className,n&&"entered"!==t&&ae,("entered"===t||"exiting"===t)&&"active",("entering"===t||"exiting"===t)&&re)})}):W.cloneElement(e,{className:G()(e.props.className,n&&"active")})}))}),l&&(0,ne.jsxs)(ne.Fragment,{children:[(x||0!==d)&&(0,ne.jsxs)(Xn,{className:"".concat(F,"-control-prev"),onClick:Q,children:[C,I&&(0,ne.jsx)("span",{className:"visually-hidden",children:I})]}),(x||d!==X-1)&&(0,ne.jsxs)(Xn,{className:"".concat(F,"-control-next"),onClick:Z,children:[E,A&&(0,ne.jsx)("span",{className:"visually-hidden",children:A})]})]})]})}));Vd.displayName="Carousel";const Hd=Object.assign(Vd,{Caption:Bd,Item:Ud}),Gd=e=>{let{images:t}=e;return(0,ne.jsx)(Hd,{variant:"dark",children:t.map(((e,t)=>(0,ne.jsx)(Hd.Item,{children:(0,ne.jsx)("img",{className:"d-block w-100",src:e,alt:"Slide ".concat(t),style:{maxWidth:"100%",height:"auto"}})},t)))})},qd=e=>{let{products:t,addToCart:n,setProduct:a}=e;const[r,o]=(0,W.useState)([]),s=qr();return(0,ne.jsx)("div",{children:(0,ne.jsx)("div",{className:"product-list",children:t.map((e=>(0,ne.jsxs)("div",{className:"product-card",onClick:()=>(a(e),void s("/Product")),children:[(0,ne.jsx)("div",{style:{backgroundColor:"white"},children:(0,ne.jsx)("img",{src:"data:image/jpeg;base64,".concat(e.image),alt:e.name,className:"product-image1"})}),(0,ne.jsxs)("div",{className:"product-details",children:[(0,ne.jsxs)("h2",{className:"product-name",children:[e.name.substring(0,25),"..."]}),(0,ne.jsxs)("p",{className:"product-description",children:[e.description.substring(0,50),"..."]}),(0,ne.jsxs)("p",{className:"product-price",children:["$",e.price]})]})]},e.id)))})})},Kd=n.p+"static/media/playful-temptations-desktop.d160eb3b2d7ee009640e.mp4",Xd=()=>(0,ne.jsx)("div",{style:{marginLeft:"2rem"},children:(0,ne.jsx)("div",{children:(0,ne.jsx)("video",{controls:!0,style:{width:"98%"},children:(0,ne.jsx)("source",{src:Kd,allow:"autoplay; encrypted-media",type:"video/mp4"})})})}),Yd=W.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:r="div",...o}=e;return a=le(a,"card-body"),(0,ne.jsx)(r,{ref:t,className:G()(n,a),...o})}));Yd.displayName="CardBody";const Qd=Yd,Zd=W.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:r="div",...o}=e;return a=le(a,"card-footer"),(0,ne.jsx)(r,{ref:t,className:G()(n,a),...o})}));Zd.displayName="CardFooter";const Jd=Zd,$d=W.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,as:r="div",...o}=e;const s=le(n,"card-header"),i=(0,W.useMemo)((()=>({cardHeaderBsPrefix:s})),[s]);return(0,ne.jsx)(Vn.Provider,{value:i,children:(0,ne.jsx)(r,{ref:t,...o,className:G()(a,s)})})}));$d.displayName="CardHeader";const eh=$d,th=W.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,variant:r,as:o="img",...s}=e;const i=le(n,"card-img");return(0,ne.jsx)(o,{ref:t,className:G()(r?"".concat(i,"-").concat(r):i,a),...s})}));th.displayName="CardImg";const nh=th,ah=W.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:r="div",...o}=e;return a=le(a,"card-img-overlay"),(0,ne.jsx)(r,{ref:t,className:G()(n,a),...o})}));ah.displayName="CardImgOverlay";const rh=ah,oh=W.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:r="a",...o}=e;return a=le(a,"card-link"),(0,ne.jsx)(r,{ref:t,className:G()(n,a),...o})}));oh.displayName="CardLink";const sh=oh,ih=tn("h6"),lh=W.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:r=ih,...o}=e;return a=le(a,"card-subtitle"),(0,ne.jsx)(r,{ref:t,className:G()(n,a),...o})}));lh.displayName="CardSubtitle";const ch=lh,uh=W.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:r="p",...o}=e;return a=le(a,"card-text"),(0,ne.jsx)(r,{ref:t,className:G()(n,a),...o})}));uh.displayName="CardText";const dh=uh,hh=tn("h5"),ph=W.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:r=hh,...o}=e;return a=le(a,"card-title"),(0,ne.jsx)(r,{ref:t,className:G()(n,a),...o})}));ph.displayName="CardTitle";const fh=ph,mh=W.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,bg:r,text:o,border:s,body:i=!1,children:l,as:c="div",...u}=e;const d=le(n,"card");return(0,ne.jsx)(c,{ref:t,...u,className:G()(a,d,r&&"bg-".concat(r),o&&"text-".concat(o),s&&"border-".concat(s)),children:i?(0,ne.jsx)(Qd,{children:l}):l})}));mh.displayName="Card";const gh=Object.assign(mh,{Img:nh,Title:fh,Subtitle:ch,Body:Qd,Link:sh,Text:dh,Header:eh,Footer:Jd,ImgOverlay:rh});var yh={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},bh=W.createContext&&W.createContext(yh),vh=["attr","size","title"];function wh(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},xh.apply(this,arguments)}function kh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Sh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kh(Object(n),!0).forEach((function(t){Nh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nh(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Th(e){return e&&e.map(((e,t)=>W.createElement(e.tag,Sh({key:t},e.attr),Th(e.child))))}function Ch(e){return t=>W.createElement(Ih,xh({attr:Sh({},e.attr)},t),Th(e.child))}function Ih(e){var t=t=>{var n,{attr:a,size:r,title:o}=e,s=wh(e,vh),i=r||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),W.createElement("svg",xh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,s,{className:n,style:Sh(Sh({color:e.color||t.color},t.style),e.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),o&&W.createElement("title",null,o),e.children)};return void 0!==bh?W.createElement(bh.Consumer,null,(e=>t(e))):t(yh)}function Eh(e){return Ch({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(e)}const Ah="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWsAAAAYCAYAAAA8h9yjAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAADh2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4wLWMwMDEgNzkuYzAyMDRiMmRlZiwgMjAyMy8wMi8wMi0xMjoxNDoyNCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiMDMyM2EzMy1kOTg2LTQ0YzQtYjRmOC1kMzlmN2U5MDFjMDEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0RENDcxMDgwOUIxMTFFRTlENUZEM0VDRTAwNkMyMUUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0RENDcxMDcwOUIxMTFFRTlENUZEM0VDRTAwNkMyMUUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI0LjUgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5MTQ4ZDY5Zi05MDM4LTQ2OWYtYTliMS0zYjE1MTFhY2ViYzEiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo5NjFlMTZlOC02MDAyLWNkNDEtOWE1MC1kMzczNmVmOTUwYzAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5EEO/cAAAMAUlEQVR42uydDZQWVRnHZ0U02/wgyAwrxYxMK87JU3CEXagUUxDUUjPYCFFhWXeFBVoXWFjZXVhAWD6ERUFB/KqstjVK8It2V0jpkIaeUilJPvwqQkI04MD2//s+r929e1+YnZk7M+85c895zpz3zjt37m/u3Ofe57kfk9Pa2uokIQlJSEIS4h2OSx5BEpKQhCTEPxyv/ri9aubZOJwOOQjZD3ljesXk/dkIBpazcDgVcgKkMyQHckjY9kF2gu1gFnKR5XOQkyEnQjrJqTTbXnC9nqVl9nEczoTkSrnx/WwVrgOQPWDblaVsXaRu5cr7yHI7Imz/hewG29tZyvYpHLpBTpJyYyfwsLyT70PeAdu/s5StOw4su49JuaXZDggbdeR7YeQlJ+0GEUW9zfCfIZBnkKE9WfJwL8LhasgEF3//jrAdzAIuVoJ+kKdc/H0epAFcG7JIkeVBGl38vQLyGNg2Z1Flz4c87OLvRZD1YPtrlrD1xKE/5G4Xfy+ANINte5aw9cJhIGSOi79fA2kC2z/DUtZjcKg/yn/HIDN3xfjhXoZDIeQKD5dfC7ZHYszGl+HnHi5dwzIF2+9izDYah2UeLn1I2J6JKdcn5X2s9nD5ncL2l5iynSNsEz1cXiVsb8aU7RvCNtLD5bcK2yGrytqlwm6SzPwsZu4OPtwyn0ndL2x/iBFbP2H7oc+k5gvb32LEdp2w9feZ1HTILFsVxCPbzTgE0bGZBq6qmCmzchxmBpBUCdgWx4xtGg8+k9kkdW2VVWUtGaYvtAfkfMh5UhnatY7IzLQYPFz2oh81nGJFoZnMnsmrkN0Sfwrki8J2AWRSXC0IsBVJD0sPd0BehNBUpvJ910n547tCegrbhZDRhmuvBFtjDNimZOhxVkmZke01CH2B9BGeAfmSvI90l/xAu261VJBnY8A2G4efGE4x7u/CxzEF+qnpk6eP/stSdgsM1y1kHQTb3oi56GOvgxQbTpdCtkq57XBSvmqOp3xe2M6V97bduwyuSTEos69Jx2GMdqoB8jTkZcgrEFoD9FdzbOUcYTsvg4KvAdtUq8raANJVQPQWnr2ZyRE+4B/hcJ9BSbPS/tllGp/B4SbDw56CNGZGyDbV8LzZaK5Avt5wmcZXpdwKtVM3Io17ImTjcy3Xe5CQJW4HoZDGpcI1VDs1KEqXD/K1QExhXZEtdzMIheupvK8Vtn7KKSrJOqSxIyKuLvL+qWybxQq/382YjwwejzR0QBax0xTVuBHyRcvu91r0WtEjj7pM4zTpHNVqp2YjjdtCU9ZKhuhsX6e3+sjMuJgo6lLkpc5jeiNwWBUHhY28zHBSg2hqGIG8rA6wh16A9B6IgG2OZs00SqVYF+CzuhzpPRYBG11N45Wou4XtBQ9pHS89UVU5zpL0doTMxRlV7Dyo/mm6L6YiL//xkF5PaYxUvcEB8TKkdzhkNjaIt0CuC0LBIr2+wjZMiV6A9MaHqqwlMzTZirSeUTUyUxHiAx6Mw2+06JuQhxU+070Yhye06FuR7qIQ2Vgh5mrRfZGHjT7TLRBXgRpCHVQ1+APrRPlstfDMLkS6fwqRbZHmHlgovcVDPtPVG4Al/B2mfx55WKpZZ4F00JAun1GJ2gAg3ZIQub7gpNyIamADVOMz3e7CVRa0S6RTZWWl6z8P6J+3r6m55XknNeewj0TnI+4QzrWE5Ftq1qJH4kHc6zdt5P81cFBZj1KiL0PcFpx7OQS26532g1J9gvDDIv9bwEEf8FVK9DWIexzndobAxhe3RuuZzQfbtgDYNoKD810vUd9rxDXj3IEQ2GrF1fFRI8SeFO59JAC2deCg7zdPor4JyUX84yFaC2ojRB/zhCDSBsNasHF87CKJ6o3fp5I5DDbcix2H3kpUhV9FrejIPxp0ZCecW+8n7Q6vYBS/4kKtp1aDgh1m+cXp5rT3vxYHOeoqPdjBWvSvcO/eltk4IPiQFj0Q+XkuQDbOdtGnI23Evc8IwWWl+vLSU+62B8jGnrU64H2juA1sK7NxWg9qseNtOtvR2CZLjzodSqVXapttntarrw96MBDpTZRnlg7jpWEPw1oo1rwD1QFy7RU3ljqzrkJm24WnrCUz25z2U/wekDmKtgJNABX2duTjzqBvgjR/67SfSVFoS6mJT7DQYC08YYGNDZtujk2xWCm4GEQfW6i3sehDprgt0MpsruVGSB0jeUR6nkcssNGvOl+JKsH9Ky2ylRmshbGWbseBS3XAuxb3H2uRrVarb4ttuHFlpa2uI+tx/0GhKmvJDM3zEQaldpYlc6xILVDc39rLirQ5OKT2IshZJgM/Nl7WUZo5tsoiG009VYndIj7XoMvsbEMjVGBzEYsM5KgVZKIMagbNNjBDI2RzdZ4+82o68lEYgiXEMNNime0xKLUlyMeVFtiqNEuo3qafHGlziq3OsUZWR4anrCUzdIWordJIMWW6BfiAZ2nmGKd4lds2lXCPO7TezDjHPFfUrzmmsi0M0hw7Chvn/KpWSTHyUh0gF/eKYCVQ50OXhzQDpUQrp0nIz/SArQXdrzoMbOstlxn973olX4r83BAg2/cNjVAe7v0vy2ycBjhEi27w0ws1sJVrVuUyg5Vpg63RaT83/QXkp0dH0+rQAKMpDOif19zU3MIeZ75E0al+BHFbcW6vzwc8W2sJaXZOQrqhTPHhQA44TnP+P1DQB79PgWzAuUM+uHKQxjyn7Wh4XVBTfNwEDi46qQ1q0v74/CAGeGQpMhs2dSBqtk1LSCuzD989p+3UsAGI64xzT/tk+5ZYeBco0RPEEguD7W1wcJbL9Ur0UMS9iXObfbJxlexPtejh4hYMg+1VcLzltB0z6oq4fTj3ik82dij1zsgosP0jJLZN4GDHWF2t2xlx23HuHbfp5AS1n3WGBQFX4IGs8dgzK9MrPHsSUWwEY2BbLibU8x7S6iXugdGaOTY2Ai764ekPVf3WbETmedm7Aemxd6SvkGQjVBoBGxtYfeuA+V5nM2SY/khroTYCtuFOanuENm4S5GWWx/RKpdzVUIj0lkXAxnqmr+T0PDU3wyKsS5DekxGw1Trtt8VwPYU2J8iPD2R4MPS1rUSG3nJxPbePHC7KTDX55oiijmzrTxkd15UO3Qkr3OxIKBv70GSdG5QCCdBlUa65Y7gClH7EB12uvPu0sOm+zUBXcHlg41Q3fUZNk7A1uFx5l2nTIs/KMSA208KwBmF7EnlrdZFGpr1ninD90gjZxjltB28/dPlIp+YlF9fT0r9c2L4bB0Wt5K3aaT+oT3fMvcfqIOUE/aUYMTlmGE7R/8sHzRVYzBTdCDQNqMS4h0APxzyQQSVZGdaescdg01fgpQMHLmh6s9dPs4ZuGu6lcLqwcW8E014qkfQ6DVwnCYOp0bhNuNhQctomZztwu1YqaA4mn5/huoow/O8u2Lj4YayhoXXEVbJL+OiyY2Xg/NjuUm5U9qMM10W6ZF9h47L7tRlO02LaKfUtXXfYGfqsk9oP/duQ7xmuuwpsv44BGxuQBw2nVovFtF3K7gMntTfOyVJm5DNNbVwmyn5LDNhMC7kYOND/otQ16pHXkd93rSlrycxQadUu9ZkUl6DOcWIUwMa9RILwUd4MtuUxY6PS9TuI2qF9FUJkq3TMm5J1JNwnbM/FiItjKsUZOkgdCTXCtitGbF8RPeLXRciNsGbE7H28WNiuPsZfu6QVdo7NbzBmMNXchEj2QegAV648aC/zeCcI2wcxZTtT2LzMv74BXCudmIajbG51rLBOyqwxxmxet9P9pbA9FWO2QcLW0dkh9wjb5hizccbUw246rDm2P5iLzNCs5HLZIeJHOkHMssNivuSKy4Cj3ByN3pBFX5PgjoRcLsud0vKF5z1xFRwnbAwtUiDPgm13lrDRnOTGNBxD6CXl9b6w8fNG3EXtoPSk2YtuiWsDZGDjtpYcgPwxhG6S9OenGOjv/ASEmxT9wkn5f5udLAlg+7qT2rGvQNw55Eovuz9Ryo2fD+NKUn65ZVMWsfUV9w03XuJMpv3yDjKkPylG3bFS6tpLWcLVWfQHG6PBwsK6tEIam32hKOskJCEJSUiC/5B83TwJSUhCErIg/E+AAQD4KRSADj1YOQAAAABJRU5ErkJggg==",_h=[{id:1,rating:5,comment:"Excellent product! Highly recommended."},{id:2,rating:4,comment:"Good quality. Happy with my purchase."},{id:3,rating:3,comment:"Average product. Could be better, But Good deal at this price"},{id:4,rating:4,comment:"Thanks for the amazing products !! i will suggest to my family friends"},{id:5,rating:3,comment:"I would suggest these Products to my peers"}],Rh=()=>(0,ne.jsxs)("div",{children:[(0,ne.jsx)("div",{className:"wave",children:(0,ne.jsxs)("h2",{style:{marginLeft:"36rem",marginTop:"1rem",marginLeft:"1rem"},children:[(0,ne.jsx)("img",{src:Ah}),"CUSTOMER REVIEWS ",(0,ne.jsx)("img",{src:Ah})]})}),(0,ne.jsx)(go,{className:"g-4",children:_h.map((e=>(0,ne.jsx)(Pa,{children:(0,ne.jsx)(gh,{className:"review-card",children:(0,ne.jsxs)(gh.Body,{children:[(0,ne.jsx)(gh.Title,{children:Array.from({length:e.rating}).map(((e,t)=>(0,ne.jsx)(Eh,{className:"star-icon"},t)))}),(0,ne.jsx)(gh.Text,{children:e.comment})]})})},e.id)))})]}),Dh=n.p+"static/media/dog-home.41becc7e8304fcdd08c0.png",Oh="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWsAAAAYCAYAAAA8h9yjAAAKQ2lDQ1BJQ0MgcHJvZmlsZQAAeNqdU3dYk/cWPt/3ZQ9WQtjwsZdsgQAiI6wIyBBZohCSAGGEEBJAxYWIClYUFRGcSFXEgtUKSJ2I4qAouGdBiohai1VcOO4f3Ke1fXrv7e371/u855zn/M55zw+AERImkeaiagA5UoU8Otgfj09IxMm9gAIVSOAEIBDmy8JnBcUAAPADeXh+dLA//AGvbwACAHDVLiQSx+H/g7pQJlcAIJEA4CIS5wsBkFIAyC5UyBQAyBgAsFOzZAoAlAAAbHl8QiIAqg0A7PRJPgUA2KmT3BcA2KIcqQgAjQEAmShHJAJAuwBgVYFSLALAwgCgrEAiLgTArgGAWbYyRwKAvQUAdo5YkA9AYACAmUIszAAgOAIAQx4TzQMgTAOgMNK/4KlfcIW4SAEAwMuVzZdL0jMUuJXQGnfy8ODiIeLCbLFCYRcpEGYJ5CKcl5sjE0jnA0zODAAAGvnRwf44P5Dn5uTh5mbnbO/0xaL+a/BvIj4h8d/+vIwCBAAQTs/v2l/l5dYDcMcBsHW/a6lbANpWAGjf+V0z2wmgWgrQevmLeTj8QB6eoVDIPB0cCgsL7SViob0w44s+/zPhb+CLfvb8QB7+23rwAHGaQJmtwKOD/XFhbnauUo7nywRCMW735yP+x4V//Y4p0eI0sVwsFYrxWIm4UCJNx3m5UpFEIcmV4hLpfzLxH5b9CZN3DQCshk/ATrYHtctswH7uAQKLDljSdgBAfvMtjBoLkQAQZzQyefcAAJO/+Y9AKwEAzZek4wAAvOgYXKiUF0zGCAAARKCBKrBBBwzBFKzADpzBHbzAFwJhBkRADCTAPBBCBuSAHAqhGJZBGVTAOtgEtbADGqARmuEQtMExOA3n4BJcgetwFwZgGJ7CGLyGCQRByAgTYSE6iBFijtgizggXmY4EImFINJKApCDpiBRRIsXIcqQCqUJqkV1II/ItchQ5jVxA+pDbyCAyivyKvEcxlIGyUQPUAnVAuagfGorGoHPRdDQPXYCWomvRGrQePYC2oqfRS+h1dAB9io5jgNExDmaM2WFcjIdFYIlYGibHFmPlWDVWjzVjHVg3dhUbwJ5h7wgkAouAE+wIXoQQwmyCkJBHWExYQ6gl7CO0EroIVwmDhDHCJyKTqE+0JXoS+cR4YjqxkFhGrCbuIR4hniVeJw4TX5NIJA7JkuROCiElkDJJC0lrSNtILaRTpD7SEGmcTCbrkG3J3uQIsoCsIJeRt5APkE+S+8nD5LcUOsWI4kwJoiRSpJQSSjVlP+UEpZ8yQpmgqlHNqZ7UCKqIOp9aSW2gdlAvU4epEzR1miXNmxZDy6Qto9XQmmlnafdoL+l0ugndgx5Fl9CX0mvoB+nn6YP0dwwNhg2Dx0hiKBlrGXsZpxi3GS+ZTKYF05eZyFQw1zIbmWeYD5hvVVgq9ip8FZHKEpU6lVaVfpXnqlRVc1U/1XmqC1SrVQ+rXlZ9pkZVs1DjqQnUFqvVqR1Vu6k2rs5Sd1KPUM9RX6O+X/2C+mMNsoaFRqCGSKNUY7fGGY0hFsYyZfFYQtZyVgPrLGuYTWJbsvnsTHYF+xt2L3tMU0NzqmasZpFmneZxzQEOxrHg8DnZnErOIc4NznstAy0/LbHWaq1mrX6tN9p62r7aYu1y7Rbt69rvdXCdQJ0snfU6bTr3dQm6NrpRuoW623XP6j7TY+t56Qn1yvUO6d3RR/Vt9KP1F+rv1u/RHzcwNAg2kBlsMThj8MyQY+hrmGm40fCE4agRy2i6kcRoo9FJoye4Ju6HZ+M1eBc+ZqxvHGKsNN5l3Gs8YWJpMtukxKTF5L4pzZRrmma60bTTdMzMyCzcrNisyeyOOdWca55hvtm82/yNhaVFnMVKizaLx5balnzLBZZNlvesmFY+VnlW9VbXrEnWXOss623WV2xQG1ebDJs6m8u2qK2brcR2m23fFOIUjynSKfVTbtox7PzsCuya7AbtOfZh9iX2bfbPHcwcEh3WO3Q7fHJ0dcx2bHC866ThNMOpxKnD6VdnG2ehc53zNRemS5DLEpd2lxdTbaeKp26fesuV5RruutK10/Wjm7ub3K3ZbdTdzD3Ffav7TS6bG8ldwz3vQfTw91jicczjnaebp8LzkOcvXnZeWV77vR5Ps5wmntYwbcjbxFvgvct7YDo+PWX6zukDPsY+Ap96n4e+pr4i3z2+I37Wfpl+B/ye+zv6y/2P+L/hefIW8U4FYAHBAeUBvYEagbMDawMfBJkEpQc1BY0FuwYvDD4VQgwJDVkfcpNvwBfyG/ljM9xnLJrRFcoInRVaG/owzCZMHtYRjobPCN8Qfm+m+UzpzLYIiOBHbIi4H2kZmRf5fRQpKjKqLupRtFN0cXT3LNas5Fn7Z72O8Y+pjLk722q2cnZnrGpsUmxj7Ju4gLiquIF4h/hF8ZcSdBMkCe2J5MTYxD2J43MC52yaM5zkmlSWdGOu5dyiuRfm6c7Lnnc8WTVZkHw4hZgSl7I/5YMgQlAvGE/lp25NHRPyhJuFT0W+oo2iUbG3uEo8kuadVpX2ON07fUP6aIZPRnXGMwlPUit5kRmSuSPzTVZE1t6sz9lx2S05lJyUnKNSDWmWtCvXMLcot09mKyuTDeR55m3KG5OHyvfkI/lz89sVbIVM0aO0Uq5QDhZML6greFsYW3i4SL1IWtQz32b+6vkjC4IWfL2QsFC4sLPYuHhZ8eAiv0W7FiOLUxd3LjFdUrpkeGnw0n3LaMuylv1Q4lhSVfJqedzyjlKD0qWlQyuCVzSVqZTJy26u9Fq5YxVhlWRV72qX1VtWfyoXlV+scKyorviwRrjm4ldOX9V89Xlt2treSrfK7etI66Trbqz3Wb+vSr1qQdXQhvANrRvxjeUbX21K3nShemr1js20zcrNAzVhNe1bzLas2/KhNqP2ep1/XctW/a2rt77ZJtrWv913e/MOgx0VO97vlOy8tSt4V2u9RX31btLugt2PGmIbur/mft24R3dPxZ6Pe6V7B/ZF7+tqdG9s3K+/v7IJbVI2jR5IOnDlm4Bv2pvtmne1cFoqDsJB5cEn36Z8e+NQ6KHOw9zDzd+Zf7f1COtIeSvSOr91rC2jbaA9ob3v6IyjnR1eHUe+t/9+7zHjY3XHNY9XnqCdKD3x+eSCk+OnZKeenU4/PdSZ3Hn3TPyZa11RXb1nQ8+ePxd07ky3X/fJ897nj13wvHD0Ivdi2yW3S609rj1HfnD94UivW2/rZffL7Vc8rnT0Tes70e/Tf/pqwNVz1/jXLl2feb3vxuwbt24m3Ry4Jbr1+Hb27Rd3Cu5M3F16j3iv/L7a/eoH+g/qf7T+sWXAbeD4YMBgz8NZD+8OCYee/pT/04fh0kfMR9UjRiONj50fHxsNGr3yZM6T4aeypxPPyn5W/3nrc6vn3/3i+0vPWPzY8Av5i8+/rnmp83Lvq6mvOscjxx+8znk98ab8rc7bfe+477rfx70fmSj8QP5Q89H6Y8en0E/3Pud8/vwv94Tz+4A5JREAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAADh2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4wLWMwMDEgNzkuYzAyMDRiMmRlZiwgMjAyMy8wMi8wMi0xMjoxNDoyNCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiMDMyM2EzMy1kOTg2LTQ0YzQtYjRmOC1kMzlmN2U5MDFjMDEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0RENDcxMDgwOUIxMTFFRTlENUZEM0VDRTAwNkMyMUUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0RENDcxMDcwOUIxMTFFRTlENUZEM0VDRTAwNkMyMUUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI0LjUgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5MTQ4ZDY5Zi05MDM4LTQ2OWYtYTliMS0zYjE1MTFhY2ViYzEiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo5NjFlMTZlOC02MDAyLWNkNDEtOWE1MC1kMzczNmVmOTUwYzAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5EEO/cAAAMAUlEQVR42uydDZQWVRnHZ0U02/wgyAwrxYxMK87JU3CEXagUUxDUUjPYCFFhWXeFBVoXWFjZXVhAWD6ERUFB/KqstjVK8It2V0jpkIaeUilJPvwqQkI04MD2//s+r929e1+YnZk7M+85c895zpz3zjt37m/u3Ofe57kfk9Pa2uokIQlJSEIS4h2OSx5BEpKQhCTEPxyv/ri9aubZOJwOOQjZD3ljesXk/dkIBpazcDgVcgKkMyQHckjY9kF2gu1gFnKR5XOQkyEnQjrJqTTbXnC9nqVl9nEczoTkSrnx/WwVrgOQPWDblaVsXaRu5cr7yHI7Imz/hewG29tZyvYpHLpBTpJyYyfwsLyT70PeAdu/s5StOw4su49JuaXZDggbdeR7YeQlJ+0GEUW9zfCfIZBnkKE9WfJwL8LhasgEF3//jrAdzAIuVoJ+kKdc/H0epAFcG7JIkeVBGl38vQLyGNg2Z1Flz4c87OLvRZD1YPtrlrD1xKE/5G4Xfy+ANINte5aw9cJhIGSOi79fA2kC2z/DUtZjcKg/yn/HIDN3xfjhXoZDIeQKD5dfC7ZHYszGl+HnHi5dwzIF2+9izDYah2UeLn1I2J6JKdcn5X2s9nD5ncL2l5iynSNsEz1cXiVsb8aU7RvCNtLD5bcK2yGrytqlwm6SzPwsZu4OPtwyn0ndL2x/iBFbP2H7oc+k5gvb32LEdp2w9feZ1HTILFsVxCPbzTgE0bGZBq6qmCmzchxmBpBUCdgWx4xtGg8+k9kkdW2VVWUtGaYvtAfkfMh5UhnatY7IzLQYPFz2oh81nGJFoZnMnsmrkN0Sfwrki8J2AWRSXC0IsBVJD0sPd0BehNBUpvJ910n547tCegrbhZDRhmuvBFtjDNimZOhxVkmZke01CH2B9BGeAfmSvI90l/xAu261VJBnY8A2G4efGE4x7u/CxzEF+qnpk6eP/stSdgsM1y1kHQTb3oi56GOvgxQbTpdCtkq57XBSvmqOp3xe2M6V97bduwyuSTEos69Jx2GMdqoB8jTkZcgrEFoD9FdzbOUcYTsvg4KvAdtUq8raANJVQPQWnr2ZyRE+4B/hcJ9BSbPS/tllGp/B4SbDw56CNGZGyDbV8LzZaK5Avt5wmcZXpdwKtVM3Io17ImTjcy3Xe5CQJW4HoZDGpcI1VDs1KEqXD/K1QExhXZEtdzMIheupvK8Vtn7KKSrJOqSxIyKuLvL+qWybxQq/382YjwwejzR0QBax0xTVuBHyRcvu91r0WtEjj7pM4zTpHNVqp2YjjdtCU9ZKhuhsX6e3+sjMuJgo6lLkpc5jeiNwWBUHhY28zHBSg2hqGIG8rA6wh16A9B6IgG2OZs00SqVYF+CzuhzpPRYBG11N45Wou4XtBQ9pHS89UVU5zpL0doTMxRlV7Dyo/mm6L6YiL//xkF5PaYxUvcEB8TKkdzhkNjaIt0CuC0LBIr2+wjZMiV6A9MaHqqwlMzTZirSeUTUyUxHiAx6Mw2+06JuQhxU+070Yhye06FuR7qIQ2Vgh5mrRfZGHjT7TLRBXgRpCHVQ1+APrRPlstfDMLkS6fwqRbZHmHlgovcVDPtPVG4Al/B2mfx55WKpZZ4F00JAun1GJ2gAg3ZIQub7gpNyIamADVOMz3e7CVRa0S6RTZWWl6z8P6J+3r6m55XknNeewj0TnI+4QzrWE5Ftq1qJH4kHc6zdt5P81cFBZj1KiL0PcFpx7OQS26532g1J9gvDDIv9bwEEf8FVK9DWIexzndobAxhe3RuuZzQfbtgDYNoKD810vUd9rxDXj3IEQ2GrF1fFRI8SeFO59JAC2deCg7zdPor4JyUX84yFaC2ojRB/zhCDSBsNasHF87CKJ6o3fp5I5DDbcix2H3kpUhV9FrejIPxp0ZCecW+8n7Q6vYBS/4kKtp1aDgh1m+cXp5rT3vxYHOeoqPdjBWvSvcO/eltk4IPiQFj0Q+XkuQDbOdtGnI23Evc8IwWWl+vLSU+62B8jGnrU64H2juA1sK7NxWg9qseNtOtvR2CZLjzodSqVXapttntarrw96MBDpTZRnlg7jpWEPw1oo1rwD1QFy7RU3ljqzrkJm24WnrCUz25z2U/wekDmKtgJNABX2duTjzqBvgjR/67SfSVFoS6mJT7DQYC08YYGNDZtujk2xWCm4GEQfW6i3sehDprgt0MpsruVGSB0jeUR6nkcssNGvOl+JKsH9Ky2ylRmshbGWbseBS3XAuxb3H2uRrVarb4ttuHFlpa2uI+tx/0GhKmvJDM3zEQaldpYlc6xILVDc39rLirQ5OKT2IshZJgM/Nl7WUZo5tsoiG009VYndIj7XoMvsbEMjVGBzEYsM5KgVZKIMagbNNjBDI2RzdZ4+82o68lEYgiXEMNNime0xKLUlyMeVFtiqNEuo3qafHGlziq3OsUZWR4anrCUzdIWordJIMWW6BfiAZ2nmGKd4lds2lXCPO7TezDjHPFfUrzmmsi0M0hw7Chvn/KpWSTHyUh0gF/eKYCVQ50OXhzQDpUQrp0nIz/SArQXdrzoMbOstlxn973olX4r83BAg2/cNjVAe7v0vy2ycBjhEi27w0ws1sJVrVuUyg5Vpg63RaT83/QXkp0dH0+rQAKMpDOif19zU3MIeZ75E0al+BHFbcW6vzwc8W2sJaXZOQrqhTPHhQA44TnP+P1DQB79PgWzAuUM+uHKQxjyn7Wh4XVBTfNwEDi46qQ1q0v74/CAGeGQpMhs2dSBqtk1LSCuzD989p+3UsAGI64xzT/tk+5ZYeBco0RPEEguD7W1wcJbL9Ur0UMS9iXObfbJxlexPtejh4hYMg+1VcLzltB0z6oq4fTj3ik82dij1zsgosP0jJLZN4GDHWF2t2xlx23HuHbfp5AS1n3WGBQFX4IGs8dgzK9MrPHsSUWwEY2BbLibU8x7S6iXugdGaOTY2Ai764ekPVf3WbETmedm7Aemxd6SvkGQjVBoBGxtYfeuA+V5nM2SY/khroTYCtuFOanuENm4S5GWWx/RKpdzVUIj0lkXAxnqmr+T0PDU3wyKsS5DekxGw1Trtt8VwPYU2J8iPD2R4MPS1rUSG3nJxPbePHC7KTDX55oiijmzrTxkd15UO3Qkr3OxIKBv70GSdG5QCCdBlUa65Y7gClH7EB12uvPu0sOm+zUBXcHlg41Q3fUZNk7A1uFx5l2nTIs/KMSA208KwBmF7EnlrdZFGpr1ninD90gjZxjltB28/dPlIp+YlF9fT0r9c2L4bB0Wt5K3aaT+oT3fMvcfqIOUE/aUYMTlmGE7R/8sHzRVYzBTdCDQNqMS4h0APxzyQQSVZGdaescdg01fgpQMHLmh6s9dPs4ZuGu6lcLqwcW8E014qkfQ6DVwnCYOp0bhNuNhQctomZztwu1YqaA4mn5/huoow/O8u2Lj4YayhoXXEVbJL+OiyY2Xg/NjuUm5U9qMM10W6ZF9h47L7tRlO02LaKfUtXXfYGfqsk9oP/duQ7xmuuwpsv44BGxuQBw2nVovFtF3K7gMntTfOyVJm5DNNbVwmyn5LDNhMC7kYOND/otQ16pHXkd93rSlrycxQadUu9ZkUl6DOcWIUwMa9RILwUd4MtuUxY6PS9TuI2qF9FUJkq3TMm5J1JNwnbM/FiItjKsUZOkgdCTXCtitGbF8RPeLXRciNsGbE7H28WNiuPsZfu6QVdo7NbzBmMNXchEj2QegAV648aC/zeCcI2wcxZTtT2LzMv74BXCudmIajbG51rLBOyqwxxmxet9P9pbA9FWO2QcLW0dkh9wjb5hizccbUw246rDm2P5iLzNCs5HLZIeJHOkHMssNivuSKy4Cj3ByN3pBFX5PgjoRcLsud0vKF5z1xFRwnbAwtUiDPgm13lrDRnOTGNBxD6CXl9b6w8fNG3EXtoPSk2YtuiWsDZGDjtpYcgPwxhG6S9OenGOjv/ASEmxT9wkn5f5udLAlg+7qT2rGvQNw55Eovuz9Ryo2fD+NKUn65ZVMWsfUV9w03XuJMpv3yDjKkPylG3bFS6tpLWcLVWfQHG6PBwsK6tEIam32hKOskJCEJSUiC/5B83TwJSUhCErIg/E+AAQD4KRSADj1YOQAAAABJRU5ErkJggg==",Fh=n.p+"static/media/Cash.e563b39ee03f71552446.jpg",Lh=()=>{const[e,t]=(0,W.useState)({}),n=e=>{t((t=>({...t,[e]:!t[e]})))};return(0,ne.jsx)("div",{style:{padding:"20px",textAlign:"left",backgroundColor:"grey"},children:(0,ne.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[(0,ne.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,ne.jsxs)("h3",{style:{fontWeight:"bold",display:"flex",alignItems:"left",justifyContent:"space-between",fontFamily:"new-spirit"},children:[(0,ne.jsx)("span",{style:{flex:"1 1 auto"},children:"What are your toys made out of?"}),(0,ne.jsx)("button",{onClick:()=>n(0),style:{backgroundColor:"grey",border:"none",color:"#000000"},children:e[0]?"-":"+"})]}),e[0]&&(0,ne.jsxs)("div",{children:[(0,ne.jsx)("hr",{style:{margin:"5px 0",width:"100%"}}),(0,ne.jsx)("p",{style:{textAlign:"left",fontFamily:"Cairo, sans-serif",fontSize:"18px",margin:"0 auto"},children:"Our Squeaky Chew Ball, Squeaky Chew Stick, Dual Layer Bone and Dual Layer Ring are  made from extra-durable rubber. Our Dri-Tech Rope Knot are made from moisture-wicking shaped fibers. All toys are tested thoroughly to be dog-safe."}),(0,ne.jsx)("hr",{style:{margin:"5px 0",width:"100%"}})]})]}),(0,ne.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,ne.jsxs)("h3",{style:{fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"space-between",fontFamily:"new-spirit"},children:[(0,ne.jsx)("span",{style:{flex:"1 1 auto"},children:"What toys are recommended for Tyson type dogs, the real tough time chewers?"}),(0,ne.jsx)("button",{onClick:()=>n(1),style:{backgroundColor:"grey",border:"none",color:"#000000"},children:e[1]?"-":"+"})]}),e[1]&&(0,ne.jsxs)("div",{children:[(0,ne.jsx)("hr",{style:{margin:"5px 0",width:"100%"}}),(0,ne.jsx)("p",{style:{textAlign:"left",fontFamily:"Cairo, sans-serif",fontSize:"18px",margin:"0 auto"},children:"No toy is totally indestructible, but toys marked Extra Durable can withstand a more aggressive chewer, even the heavyweights."}),(0,ne.jsx)("hr",{style:{margin:"5px 0",width:"100%"}})]})]}),(0,ne.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,ne.jsxs)("h3",{style:{fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"space-between",fontFamily:"new-spirit"},children:[(0,ne.jsx)("span",{style:{flex:"1 1 auto"},children:"How do I know which products to buy for my dog?"}),(0,ne.jsx)("button",{onClick:()=>n(2),style:{backgroundColor:"grey",border:"none",color:"#000000"},children:e[2]?"-":"+"})]}),e[2]&&(0,ne.jsxs)("div",{children:[(0,ne.jsx)("hr",{style:{margin:"5px 0",width:"100%"}}),(0,ne.jsx)("p",{style:{textAlign:"left",fontFamily:"Cairo, sans-serif",fontSize:"18px",margin:"0 auto"},children:"We recommend toy sizes by your pup\u2019s weight. Please take our Pawsonality quiz to see the recommendations for the toys and food products."}),(0,ne.jsx)("hr",{style:{margin:"5px 0",width:"100%"}})]})]}),(0,ne.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,ne.jsxs)("h3",{style:{fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"space-between",fontFamily:"new-spirit"},children:[(0,ne.jsx)("span",{style:{flex:"1 1 auto"},children:"Are your toys safe for a range of ages from puppies to millennials to senior dogs?"}),(0,ne.jsx)("button",{onClick:()=>n(3),style:{backgroundColor:"grey",border:"none",color:"#000000"},children:e[3]?"-":"+"})]}),e[3]&&(0,ne.jsxs)("div",{children:[(0,ne.jsx)("hr",{style:{margin:"5px 0",width:"100%"}}),(0,ne.jsx)("p",{style:{textAlign:"left",fontFamily:"Cairo, sans-serif",fontSize:"18px",margin:"0 auto"},children:"Yes! All of our toys are safe and recommend for any aged dog, from the eeniest pups to older dogs that have been around the block once or twice."}),(0,ne.jsx)("hr",{style:{margin:"5px 0",width:"100%"}})]})]}),(0,ne.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,ne.jsxs)("h3",{style:{fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"space-between",fontFamily:"new-spirit"},children:[(0,ne.jsx)("span",{style:{flex:"1 1 auto"},children:"What are your chew toys made of?"}),(0,ne.jsx)("button",{onClick:()=>n(4),style:{backgroundColor:"grey",border:"none",color:"#000000"},children:e[4]?"-":"+"})]}),e[4]&&(0,ne.jsxs)("div",{children:[(0,ne.jsx)("hr",{style:{margin:"5px 0",width:"100%"}}),(0,ne.jsx)("p",{style:{textAlign:"left",fontFamily:"Cairo, sans-serif",fontSize:"18px",margin:"0 auto"},children:"All of our chew toys are made of natural high quality rubber we are able to find. The products are thoroughly tested with safety standards."}),(0,ne.jsx)("hr",{style:{margin:"5px 0",width:"100%"}})]})]}),(0,ne.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,ne.jsxs)("h3",{style:{fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"space-between",fontFamily:"new-spirit"},children:[(0,ne.jsx)("span",{style:{flex:"1 1 auto"},children:"More of a statement than of a question, but my dog doesn\u2019t like his/her unleashing pawsonality toy."}),(0,ne.jsx)("button",{onClick:()=>n(5),style:{backgroundColor:"grey",border:"none",color:"#000000"},children:e[5]?"-":"+"})]}),e[5]&&(0,ne.jsxs)("div",{children:[(0,ne.jsx)("hr",{style:{margin:"5px 0",width:"100%"}}),(0,ne.jsx)("p",{style:{textAlign:"left",fontFamily:"Cairo, sans-serif",fontSize:"18px",margin:"0 auto"},children:"Well this section isn\u2019t for statements, only questions. Just kidding, a few points here. First of all, clearly all dogs don\u2019t like all toys and food products. And some dogs (the incredibly un-fun ones) don\u2019t like any of them. But if your dog likes a certain type of toy there is a high likelihood. If you still have an issue, please reach out to our team by sending a note: pawsonality@gmail.com"}),(0,ne.jsx)("hr",{style:{margin:"5px 0",width:"100%"}})]})]})]})})},Mh=()=>{const[e,t]=(0,W.useState)(!1),n=(0,W.useRef)(null),[a,r]=(0,W.useState)("c1");return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)("footer",{style:{backgroundColor:"#333",color:"#fff",padding:"10px",flex:1,textAlign:"center"},children:(0,ne.jsxs)("href",{onClick:()=>{"c1"==a?(t(!e),r("c2")):(n.current.scrollIntoView({behaviour:"smooth"}),r("c1"))},style:{cursor:"pointer"},children:[" ",(0,ne.jsx)("b",{children:" PAWSONALITY"})," we provide platform for dog care suggestions and products ,you can find out blog content breed content w.r.t your dogs pawsonality",(0,ne.jsx)("br",{}),"(Double click here for more FAQ's)"]})}),(0,ne.jsx)("div",{ref:n,children:e&&(0,ne.jsx)(Lh,{})})]})};const Ph=function(e){const{product:t,setProduct:n,cartItems:a,addItemToCart:r,showCart:o,setShowCart:s,User:i}=e,[l,c]=(0,W.useState)(0),u=[Fd,Od];return(0,ne.jsxs)("div",{children:[(0,ne.jsx)(bo,{User:i,cartItems:a,addItemToCart:r,product:t,setProduct:n,setShowCart:s,showCart:o}),(0,ne.jsx)(Gd,{images:u,className:"c-inner"}),(0,ne.jsx)("img",{src:Dh,style:{width:"100%"}}),(0,ne.jsx)("img",{src:Fh,style:{width:"100%"}}),(0,ne.jsx)(Xd,{}),(0,ne.jsx)(Rh,{}),(0,ne.jsx)(Mh,{})]})},zh=e=>{let{product:t,cartItems:n,addItemToCart:a,setProduct:r,showCart:o,setShowCart:s}=e;const i=n.filter((e=>e.id==t.id)),[l,c]=(0,W.useState)(i.length>0);console.log(i);const[u,d]=(0,W.useState)(1),[h,p]=(0,W.useState)(3),f=[{username:"abc",rating:3,text:"value for money"},{username:"xyz",rating:5,text:"excellent"},{username:"abc",rating:3,text:"value for money"},{username:"xyz",rating:5,text:"excellent"},{username:"abc",rating:3,text:"value for money"},{username:"xyz",rating:5,text:"excellent"}],m=e=>{const t=[];for(let n=1;n<=5;n++)t.push((0,ne.jsx)("span",{className:n<=e?"star filled":"star",children:"\u2605"},n));return t};return(0,ne.jsxs)("div",{children:[(0,ne.jsx)(bo,{cartItems:n,addItemToCart:a,product:t,setProduct:r,setShowCart:s,showCart:o}),(0,ne.jsxs)("div",{className:"product-details-container",children:[(0,ne.jsx)("div",{className:"product-image-container",children:(0,ne.jsx)("img",{src:"data:image/jpeg;base64,".concat(t.image),alt:t.name,className:"product-image"})}),(0,ne.jsxs)("div",{className:"product-info",children:[(0,ne.jsxs)("div",{style:{margin:"15px"},children:[(0,ne.jsx)("h2",{className:"product-name",children:t.name}),(0,ne.jsx)("p",{className:"product-description",children:t.description}),(0,ne.jsxs)("p",{className:"product-price",children:["$",t.price]}),(0,ne.jsxs)("div",{className:"quantity-selector",children:[(0,ne.jsx)("label",{htmlFor:"quantity",children:"Quantity:"}),(0,ne.jsxs)("div",{className:"cart-item-quantity-controls",children:[(0,ne.jsx)("button",{onClick:()=>{u>1&&d(u-1)},children:"-"}),(0,ne.jsx)("p",{className:"cart-item-quantity",children:u}),(0,ne.jsx)("button",{onClick:()=>(console.log(u),void(u<t.quantity&&u>=1&&d(u+1))),children:"+"})]})]}),l?(0,ne.jsx)("button",{onClick:()=>{s(!0)},className:"go-to-cart-btn",children:"Go to Cart..."}):(0,ne.jsx)("button",{onClick:()=>{c(!0),a([...n,t])},className:"add-to-cart-btn",children:"Add to Cart"})]}),(0,ne.jsxs)("div",{className:"product-reviews",children:[(0,ne.jsx)("h3",{className:"reviews-title",children:"Product Reviews"}),(0,ne.jsx)("div",{className:"reviews-container",children:f.slice(0,h).map(((e,t)=>(0,ne.jsxs)("div",{className:"review",children:[(0,ne.jsxs)("div",{className:"review-header",children:[(0,ne.jsx)("span",{className:"review-username",children:e.username}),(0,ne.jsx)("span",{className:"review-rating",children:m(e.rating)})]}),(0,ne.jsx)("p",{className:"review-text",children:e.text})]},t)))}),h<f.length&&(0,ne.jsx)("button",{onClick:()=>{p((e=>e+3))},className:"load-more-btn",children:"Load More Reviews"})]})]})]})]})},jh=n.p+"static/media/Australian_Shepherd_1.37e8f35064c08dd80b8d.jpeg",Bh=e=>{let{Breeds:t,setBreed:n,setShowBreed:a,setProductCat:r}=e;const[o,s]=(0,W.useState)([]),i=qr();return(0,ne.jsx)("div",{children:(0,ne.jsx)("div",{className:"Breed-list",children:t.map((e=>(0,ne.jsxs)("div",{className:"Breed-card",children:[(0,ne.jsx)("img",{src:e.img,alt:e.name,className:"Breed-image"}),(0,ne.jsxs)("center",{children:[(0,ne.jsx)("div",{className:"Breed-details",children:(0,ne.jsx)("h1",{className:"Breed-name",children:e.breed})}),(0,ne.jsxs)("button",{className:"paw-btn",onClick:()=>{return t=e,console.log(t),n(t),void a(!0);var t},children:[(0,ne.jsx)("i",{className:"fas fa-paw"})," Information"]}),(0,ne.jsxs)(Jn.Link,{className:"product-btn",onClick:()=>(r(e.breed),void i("/ProductList")),style:{width:"70%"},children:[(0,ne.jsx)("i",{className:"fas fa-box-open"})," Products"]})]})]},e.id)))})})},Wh=n.p+"static/media/German_Shepherds.ed34c57a3f518191041d.jpeg",Uh=n.p+"static/media/Labrador.2c66e27618199d55c4e5.jpeg",Vh=n.p+"static/media/Poodle_1.8c8beff5978b2a345af9.jpeg",Hh=n.p+"static/media/Boxer_1.877f20777fdffc87db0e.jpeg",Gh=n.p+"static/media/Bulldog_1.15938d5c7a624a770394.jpeg",qh=n.p+"static/media/Beagle.c98b63be18d949bc3319.jpeg",Kh=n.p+"static/media/French_Bull_dog_1.829a6469fed4aaa5649b.jpeg",Xh=n.p+"static/media/Siberian_Husky_1.4ca68c467810aa69a51e.jpeg",Yh=n.p+"static/media/Dachshund_1.9ec17cfd1a2a1d78ee05.jpeg",Qh=n.p+"static/media/Shih_Tzu_1.bdb57cf88fa768330636.jpeg",Zh=n.p+"static/media/Border_Collie_1.522220a818c45fbf005c.jpeg",Jh=n.p+"static/media/Chihuahua_1.192e097c40383142130d.jpeg",$h=n.p+"static/media/Cocker_Spaniel_1.e95a128386dfaca643de.jpeg",ep=n.p+"static/media/Doberman_Pinscher_1.fda201b3c75a0d35807f.jpeg",tp=n.p+"static/media/Great_Dane_1.fd8f7ac1a3aaebe12ce9.jpeg",np=n.p+"static/media/Rottweiler_1.5513d866d409fbb05e20.jpeg",ap=n.p+"static/media/Shetland_Sheepdog_1.909600cefc5aa638fa77.jpeg",rp=[{img:Uh,breed:"Labrador Retriever",origin:"Labrador Retrievers originated in Newfoundland, Canada, in the 19th century. They were initially known as St. John's Dogs or Lesser Newfoundland. Fishermen in the region used these dogs to help retrieve fishing nets from the icy waters of the North Atlantic. The breed's development involved crosses with various water dogs and retrievers. In the 19th century, the breed was brought to England, where it was further refined and developed into the Labrador Retriever we know today.The breeds name comes from the Labrador Sea, which is adjacent to Newfoundland. The Earl of Malmesbury is credited with naming them Labradors after he imported them to England in the early 19th century.",Appearance:{Head:"Labrador heads are broad with a slightly rounded skull and a well-defined stop (the point where the forehead meets the muzzle)",Eyes:"They have expressive eyes that are generally brown or hazel in color, conveying intelligence and friendliness",Ears:"Labradors have medium-sized, pendant ears that hang close to their head","\tMuzzle":"The muzzle is of medium length, and the nose is broad with well-developed nostrils",Body:"Labradors have a strong, well-balanced body with a deep chest and a straight back. They have a distinctive otter tail, which is thick at the base and gradually tapers towards the tip",Coat:"Their short, dense, water-resistant double coat provides insulation in various weather conditions. The coat lies close to the body, and it can be black, chocolate, or yellow. The yellow coat can range from pale cream to fox red","Webbed Feet":"Labradors have webbed feet, contributing to their excellent swimming abilities"},Temperament:{Friendly:"Labradors are known for their friendly and outgoing nature. They are generally good with children, other pets, and strangers.",Intelligent:"Labs are highly intelligent and trainable, making them excellent working dogs. They are often used as guide dogs, service dogs, and search and rescue dogs.",Energetic:"Labs are energetic and require regular exercise to keep them happy and healthy."},Exercise_Needs:{Daily_Exercise:"Labs benefit from at least 30 to 60 minutes of exercise each day. This can include brisk walks, jogging, or play sessions.",Playtime:"Labs love to play, and activities like fetch, tug-of-war, and interactive toys can help them burn off excess energy.",Swimming:"Many Labradors have a natural affinity for water, and swimming is an excellent form of exercise for them. If possible, provide opportunities for them to swim, especially during warm weather.","Interactive Games":"Engage their minds with puzzle toys or games that stimulate their intelligence. Labs are not only physically active but also enjoy mental challenges.","Training through Activities":"Combining training sessions with physical exercise is beneficial. For example, practicing obedience commands during a walk or incorporating agility exercises can keep them mentally engaged.",Consistency:"Labs thrive on routine, so try to provide consistent daily exercise. This helps prevent boredom and reduces the likelihood of destructive behaviors that can arise from pent-up energy.","special points":"Remember that individual exercise needs may vary based on factors such as age, health, and overall temperament. Adjust the intensity and duration of exercise based on your Labrador's specific requirements."},Training:{"Positive Reinforcement":"Labs respond well to positive reinforcement techniques, such as praise, treats, and play. Rewarding desired behaviors encourages them to repeat those actions.","Basic Commands":"Start with basic commands like sit, stay, down, and come. Labs often pick up these commands quickly, especially if training begins at a young age.",Socialization:"Early and consistent socialization is crucial for Labs. Expose them to various environments, people, and other animals to ensure they grow up to be well-adjusted and confident.","Consistency and Patience":"Be consistent in your commands and expectations. Patience is key, especially during the training of puppies. Labs are known to maintain a puppy-like energy level for an extended period.","Obedience Classes":"Consider enrolling your Labrador in obedience classes. These classes provide structured training environments and can be a great way to strengthen the bond between you and your dog.","Chew Training":"Labradors have a tendency to chew, especially when they are young. Provide appropriate chew toys and discourage inappropriate chewing by redirecting their attention.","Exercise as Training":"Since Labs are active, incorporating training into exercise routines can be effective. For example, practicing commands during walks or integrating obedience training into play sessions."},"Possible Diseases":{"Hip Dysplasia":"Symptoms are Difficulty rising, reluctance to jump, bunny hopping, or a swaying gait. Diagnosis is X-rays are commonly used for diagnosis. Prevention/Management is to Maintain a healthy weight, provide joint supplements if recommended by your vet, and avoid excessive jumping, especially during the puppy growth phase.","Elbow Dysplasia":"Symptoms are Limping, pain, and stiffness in the elbow joint. Diagnosis is X-rays are used to identify elbow dysplasia. Prevention/Management are Weight management, controlled exercise, and joint supplements as recommended by your vet.","Progressive Retinal Atrophy (PRA)":"Symptoms are Progressive vision loss. Diagnosis is Ophthalmic exams and genetic testing.Prevention/Management are Regular eye check-ups, and responsible breeding practices to reduce the risk.",Cataracts:"Symptoms is Cloudiness in the lens, leading to vision impairment.Diagnosis is that Veterinary eye exams.Prevention/Management are Regular eye check-ups, maintaining a healthy diet, and avoiding obesity.","Ear Infections":" Symptoms are Head shaking, scratching at the ears, redness, and odor. Diagnosis are Veterinary examination. Prevention/Management is that Regular ear cleaning, maintaining good ear hygiene, and monitoring for signs of infection.",Obesity:"Symptoms are Excessive weight gain. Diagnosis is Regular weight checks at veterinary visits. Prevention/Management are Providing a balanced diet, control portion sizes, and ensure regular exercise.","Osteochondritis Dissecans (OCD)":"Symptoms are Lameness, joint pain, and swelling. Diagnosis is X-rays and physical examination by a vet. Prevention/Management is  Controlled exercise during the growth phase, maintaining a healthy weight.","Heart Disease":"Symptoms are Coughing, lethargy, difficulty breathing. Diagnosis is Veterinary examination, including heart auscultation.Prevention/Management are Regular veterinary check-ups, a healthy diet, and maintaining a proper weight.",Allergies:"Symptoms are Itching, redness, ear infections. Diagnosis is Veterinary examination and allergy testing. Prevention/Management are Identifying and avoiding allergens, medical management under veterinary guidance.",Hypothyroidism:"Symptoms are Weight gain, lethargy, hair loss, and skin issues. Diagnosis is Blood tests to measure thyroid hormone levels. Prevention/Management are Regular veterinary check-ups, monitoring for symptoms, and appropriate medical management if diagnosed.","Cruciate Ligament Rupture":" Symptoms: Limping, swelling, and difficulty using the affected leg. Diagnosis is Veterinary examination and sometimes imaging (X-rays or MRI).Prevention/Management are Maintaining a healthy weight and avoiding excessive high-impact activities.",Diabetes:"Symptoms is Increased thirst, excessive urination, weight loss. Diagnosis are Blood tests to measure blood glucose levels. Prevention/Management is A balanced diet, weight management, and regular veterinary check-ups.",Cancer:" Labrador Retrievers can be susceptible to various types of cancer, including lymphoma and mast cell tumors. Symptoms Can vary widely based on the type and location of the cancer. Diagnosis is Biopsy, imaging, and blood tests. Prevention/Management are Early detection through regular veterinary check-ups, monitoring for changes, and prompt veterinary attention.","Gastric Dilatation-Volvulus (Bloat)":"\tSymptoms - Unproductive vomiting, restlessness, distended abdomen. Diagnosis is Immediate veterinary intervention based on clinical signs. Prevention/Management is to Feed multiple small meals, avoid vigorous exercise after meals, and consider feeding from a raised bowl."},"Food Precautions":"While specific dietary needs can vary based on individual health conditions, some general tips include , Feed a balanced, high-quality dog food appropriate for your Labrador's age and activity level. Control portion sizes to prevent obesity. Provide fresh water at all times. Avoid feeding human food that can be toxic to dogs, such as chocolate, onions, garlic, and grapes.","Life span ":"The average lifespan of a Labrador Retriever is 10 to 14 years. Factors influencing lifespan include genetics, healthcare, nutrition, exercise, weight management, responsible breeding, and overall environmental factors. Providing regular veterinary care, a balanced diet, maintaining a healthy weight, and ensuring a stimulating environment contribute to a longer and healthier life for Labradors",Grooming:"Labrador Retrievers are considered low-maintenance in the grooming department. Their short, dense, water-resistant double coat requires regular brushing to keep it clean and healthy. While Labs do shed, it's typically a seasonal occurrence. Brushing helps manage shedding and reduces the likelihood of excessive loose hair around the house. Regular grooming practices, such as nail trimming, ear cleaning, and dental care, should be part of their routine to maintain overall health","Popular as Family Pets":" Labradors are renowned for being excellent family pets. Their friendly and outgoing disposition makes them wonderful companions for all family members, including children. They are known for their loyalty and adaptability, easily integrating into various family dynamics. Labs are often tolerant and patient, making them well-suited for households with kids. Their sociable nature also extends to other pets, making them a versatile and inclusive addition to diverse family settings. Additionally, Labradors' intelligence and trainability contribute to their popularity as family-friendly dogs",overview:{description:"Friendly and Lovable. Labs have sweet faces and are known for their affectionate nature. They\u2019re outgoing, high-spirited, and great family companions.",size:"Medium-to-Large",height_range:"21.5 to 24.5 inches at the shoulder",weight_range:"55 to 80 pounds",coat_colors:["yellow","black","chocolate"]},temperament_and_personality:{traits:["Social Butterflies","Eager Athletes"],description:"Labs bond with the whole family and get along well with other dogs and humans. Don\u2019t mistake their easygoing personality for low energy. Labs love swimming and marathon games of fetch."},feeding_recommendations:{diet:"Nutrient-Dense",special_consideration:"Joint Health",description:"Labs need balanced nutrition for their active lifestyle. Consider foods with glucosamine and chondroitin for their powerful jaws."},nutritional_essentials:{protein:"18-25%",fats:"8-15%, with omega-3 and omega-6",carbohydrates:"30-70% from whole grains and vegetables",vitamins_and_minerals:["A","D","E","B-complex","balanced minerals"],antioxidants:"From fruits and vegetables",joint_support:"Include glucosamine and chondroitin",avoid:"Artificial additives",hydration:"Provide fresh water always"},portion_guidelines:{puppies:"Feed 3-4 times a day to support their growth",adults:"Feed twice a day, adjusting portions based on weight and activity level",seniors:"Consider a diet tailored to their changing nutritional needs"},additional_information:"Labrador Retrievers are known for their love of water and may enjoy activities like swimming. Regular exercise is crucial for their mental and physical well-being. Consult your vet for personalized advice based on your Labrador Retriever's specific needs."},{img:Wh,breed:"German Shepherd",overview:{description:"Intelligent and Loyal. Known for their intelligence and loyalty, making them excellent protectors and companions.",size:"Medium-to-Large",height_range:"22 to 26 inches at the shoulder",weight_range:"50 to 90 pounds",coat_colors:["black and tan","sable","solid black"]},temperament_and_personality:{traits:["Confident Guardians","Energetic Workers"],description:"German Shepherds are confident and courageous, often serving as police or service dogs. With a strong work ethic, they thrive on mental and physical challenges, making them versatile working dogs."},feeding_recommendations:{diet:"High-Quality",special_consideration:"Joint Health",description:"Provide a high-quality diet to support their energy levels and overall health. Consider foods with ingredients like glucosamine and chondroitin to support joint health, especially as they age."},Exercise_Needs:{Daily_Exercise:"Labs benefit from at least 30 to 60 minutes of exercise each day. This can include brisk walks, jogging, or play sessions.",Playtime:"Labs love to play, and activities like fetch, tug-of-war, and interactive toys can help them burn off excess energy.",Swimming:"Many Labradors have a natural affinity for water, and swimming is an excellent form of exercise for them. If possible, provide opportunities for them to swim, especially during warm weather.","Interactive Games":"Engage their minds with puzzle toys or games that stimulate their intelligence. Labs are not only physically active but also enjoy mental challenges.","Training through Activities":"Combining training sessions with physical exercise is beneficial. For example, practicing obedience commands during a walk or incorporating agility exercises can keep them mentally engaged.",Consistency:"Labs thrive on routine, so try to provide consistent daily exercise. This helps prevent boredom and reduces the likelihood of destructive behaviors that can arise from pent-up energy.","special points":"Remember that individual exercise needs may vary based on factors such as age, health, and overall temperament. Adjust the intensity and duration of exercise based on your Labrador's specific requirements."},nutritional_essentials:{protein:"18-25%",fats:"8-15%, with omega-3 and omega-6",carbohydrates:"30-70% from whole grains and vegetables",vitamins_and_minerals:["A","D","E","B-complex","balanced minerals"],antioxidants:"From fruits and vegetables",joint_support:"Include glucosamine and chondroitin",avoid:"Artificial additives",hydration:"Provide fresh water always"},portion_guidelines:{puppies:"Feed 3-4 times a day to support their growth",adults:"Feed twice a day, adjusting portions based on weight and activity level",seniors:"Consider a diet tailored to their changing nutritional needs"},additional_information:"German Shepherds excel in various roles and activities, and regular exercise is essential for their mental and physical well-being. Consult your vet for personalized advice based on your German Shepherd's specific needs."},{img:Vh,breed:"Poodle",overview:{description:"Elegant and Intelligent. Poodles are known for their intelligence, elegance, and hypoallergenic coats.",size:"Toy, Miniature, Standard",height_range:"Toy: 10 inches or under, Miniature: 10-15 inches, Standard: Over 15 inches",weight_range:"Toy: 4-6 pounds, Miniature: 10-15 pounds, Standard: 40-70 pounds",coat_colors:["white","black","apricot","cream","blue","silver","brown","cafe-au-lait","red","parti"]},temperament_and_personality:{traits:["Active","Intelligent","Alert"],description:"Poodles are active and intelligent dogs, excelling in various activities such as obedience, agility, and hunting. They are alert and make excellent watchdogs."},feeding_recommendations:{diet:"High-Quality",special_consideration:"Weight Management",description:"Provide a high-quality diet to maintain their energy levels and overall health. Monitor their weight carefully and adjust portions as needed to prevent obesity."},nutritional_essentials:{protein:"20-30%",fats:"10-15%, with omega-3 and omega-6",carbohydrates:"30-50% from whole grains and vegetables",vitamins_and_minerals:["A","D","E","B-complex","balanced minerals"],antioxidants:"From fruits and vegetables",weight_management:"Monitor portions to prevent obesity",avoid:"Artificial additives",hydration:"Provide fresh water always"},Exercise_Needs:{Daily_Exercise:"Labs benefit from at least 30 to 60 minutes of exercise each day. This can include brisk walks, jogging, or play sessions.",Playtime:"Labs love to play, and activities like fetch, tug-of-war, and interactive toys can help them burn off excess energy.",Swimming:"Many Labradors have a natural affinity for water, and swimming is an excellent form of exercise for them. If possible, provide opportunities for them to swim, especially during warm weather.","Interactive Games":"Engage their minds with puzzle toys or games that stimulate their intelligence. Labs are not only physically active but also enjoy mental challenges.","Training through Activities":"Combining training sessions with physical exercise is beneficial. For example, practicing obedience commands during a walk or incorporating agility exercises can keep them mentally engaged.",Consistency:"Labs thrive on routine, so try to provide consistent daily exercise. This helps prevent boredom and reduces the likelihood of destructive behaviors that can arise from pent-up energy.","special points":"Remember that individual exercise needs may vary based on factors such as age, health, and overall temperament. Adjust the intensity and duration of exercise based on your Labrador's specific requirements."},portion_guidelines:{puppies:"Feed 3-4 times a day to support their growth",adults:"Feed twice a day, adjusting portions based on weight and activity level",seniors:"Consider a diet tailored to their changing nutritional needs"},additional_information:"Poodles are highly trainable and excel in various dog sports. Regular grooming is essential to maintain their unique coat. Consult your vet for personalized advice based on your Poodle's specific needs."},{img:Gh,breed:"Bulldog",overview:{description:"Sturdy and Affectionate. Bulldogs are known for their distinctive wrinkled face and affectionate demeanor.",size:"Medium",height_range:"14 to 15 inches at the shoulder",weight_range:"40 to 50 pounds",coat_colors:["red brindle","all other brindles","solid white","solid red","fawn or fallow","piebald"]},Exercise_Needs:{Daily_Exercise:"Labs benefit from at least 30 to 60 minutes of exercise each day. This can include brisk walks, jogging, or play sessions.",Playtime:"Labs love to play, and activities like fetch, tug-of-war, and interactive toys can help them burn off excess energy.",Swimming:"Many Labradors have a natural affinity for water, and swimming is an excellent form of exercise for them. If possible, provide opportunities for them to swim, especially during warm weather.","Interactive Games":"Engage their minds with puzzle toys or games that stimulate their intelligence. Labs are not only physically active but also enjoy mental challenges.","Training through Activities":"Combining training sessions with physical exercise is beneficial. For example, practicing obedience commands during a walk or incorporating agility exercises can keep them mentally engaged.",Consistency:"Labs thrive on routine, so try to provide consistent daily exercise. This helps prevent boredom and reduces the likelihood of destructive behaviors that can arise from pent-up energy.","special points":"Remember that individual exercise needs may vary based on factors such as age, health, and overall temperament. Adjust the intensity and duration of exercise based on your Labrador's specific requirements."},temperament_and_personality:{traits:["Docile","Willful","Friendly"],description:"Bulldogs are docile yet willful dogs with a friendly disposition. They are known for their courage and can be quite determined when they want something."},feeding_recommendations:{diet:"Balanced Diet",special_consideration:"Weight Management",description:"Provide a balanced diet to maintain their overall health and weight. Bulldogs can be prone to obesity, so monitor their food intake and offer regular exercise."},nutritional_essentials:{protein:"18-22%",fats:"8-12%, with omega-3 and omega-6",carbohydrates:"30-50% from whole grains and vegetables",vitamins_and_minerals:["A","D","E","B-complex","balanced minerals"],antioxidants:"From fruits and vegetables",weight_management:"Monitor portions and provide regular exercise",avoid:"Artificial additives",hydration:"Provide fresh water always"},portion_guidelines:{puppies:"Feed 3-4 times a day to support their growth",adults:"Feed twice a day, adjusting portions based on weight and activity level",seniors:"Consider a diet tailored to their changing nutritional needs"},additional_information:"Bulldogs are known for their friendly and gentle temperament, making them excellent companions. They require moderate exercise and regular veterinary check-ups to maintain their health."},{img:qh,breed:"Beagle",overview:{description:"Curious and Merry. Beagles are known for their keen sense of smell and playful nature.",size:"Small-to-Medium",height_range:"13 to 15 inches at the shoulder",weight_range:"20 to 30 pounds",coat_colors:["tri-color","red and white","lemon"]},temperament_and_personality:{traits:["Friendly","Curious","Determined"],description:"Beagles are friendly and curious dogs with a strong sense of smell. They are determined and independent but also enjoy the company of their human family."},feeding_recommendations:{diet:"Balanced Nutrition",special_consideration:"Weight Management",description:"Provide a balanced diet to meet their nutritional needs and prevent weight gain. Beagles have a tendency to overeat, so portion control is important."},Exercise_Needs:{Daily_Exercise:"Labs benefit from at least 30 to 60 minutes of exercise each day. This can include brisk walks, jogging, or play sessions.",Playtime:"Labs love to play, and activities like fetch, tug-of-war, and interactive toys can help them burn off excess energy.",Swimming:"Many Labradors have a natural affinity for water, and swimming is an excellent form of exercise for them. If possible, provide opportunities for them to swim, especially during warm weather.","Interactive Games":"Engage their minds with puzzle toys or games that stimulate their intelligence. Labs are not only physically active but also enjoy mental challenges.","Training through Activities":"Combining training sessions with physical exercise is beneficial. For example, practicing obedience commands during a walk or incorporating agility exercises can keep them mentally engaged.",Consistency:"Labs thrive on routine, so try to provide consistent daily exercise. This helps prevent boredom and reduces the likelihood of destructive behaviors that can arise from pent-up energy.","special points":"Remember that individual exercise needs may vary based on factors such as age, health, and overall temperament. Adjust the intensity and duration of exercise based on your Labrador's specific requirements."},nutritional_essentials:{protein:"20-25%",fats:"10-15%, with omega-3 and omega-6",carbohydrates:"30-50% from whole grains and vegetables",vitamins_and_minerals:["A","D","E","B-complex","balanced minerals"],antioxidants:"From fruits and vegetables",weight_management:"Monitor portions to prevent overeating",avoid:"Artificial additives",hydration:"Provide fresh water always"},portion_guidelines:{puppies:"Feed 3-4 times a day to support their growth",adults:"Feed twice a day, adjusting portions based on weight and activity level",seniors:"Consider a diet tailored to their changing nutritional needs"},additional_information:"Beagles are energetic and sociable dogs that enjoy being part of a family. They require regular exercise and mental stimulation to prevent boredom and behavioral issues."},{img:Xh,breed:"Siberian Husky",overview:{description:"Energetic and Loyal. Siberian Huskies are known for their striking appearance and sled-pulling abilities.",size:"Medium",height_range:"20 to 23.5 inches at the shoulder",weight_range:"35 to 60 pounds",coat_colors:["black","white","gray","sable","agouti","red"]},temperament_and_personality:{traits:["Friendly","Alert","Outgoing"],description:"Siberian Huskies are friendly and outgoing dogs with a mischievous streak. They are alert and make good watchdogs but are generally not aggressive."},feeding_recommendations:{diet:"High-Energy",special_consideration:"Weight Management",description:"Provide a high-energy diet to meet their active lifestyle. Monitor their weight closely as they can easily become overweight if overfed."},nutritional_essentials:{protein:"22-30%",fats:"12-16%, with omega-3 and omega-6",carbohydrates:"30-50% from whole grains and vegetables",vitamins_and_minerals:["A","D","E","B-complex","balanced minerals"],antioxidants:"From fruits and vegetables",weight_management:"Monitor portions to prevent overeating",avoid:"Artificial additives",hydration:"Provide fresh water always"},Exercise_Needs:{Daily_Exercise:"Labs benefit from at least 30 to 60 minutes of exercise each day. This can include brisk walks, jogging, or play sessions.",Playtime:"Labs love to play, and activities like fetch, tug-of-war, and interactive toys can help them burn off excess energy.",Swimming:"Many Labradors have a natural affinity for water, and swimming is an excellent form of exercise for them. If possible, provide opportunities for them to swim, especially during warm weather.","Interactive Games":"Engage their minds with puzzle toys or games that stimulate their intelligence. Labs are not only physically active but also enjoy mental challenges.","Training through Activities":"Combining training sessions with physical exercise is beneficial. For example, practicing obedience commands during a walk or incorporating agility exercises can keep them mentally engaged.",Consistency:"Labs thrive on routine, so try to provide consistent daily exercise. This helps prevent boredom and reduces the likelihood of destructive behaviors that can arise from pent-up energy.","special points":"Remember that individual exercise needs may vary based on factors such as age, health, and overall temperament. Adjust the intensity and duration of exercise based on your Labrador's specific requirements."},portion_guidelines:{puppies:"Feed 3-4 times a day to support their growth",adults:"Feed twice a day, adjusting portions based on weight and activity level",seniors:"Consider a diet tailored to their changing nutritional needs"},additional_information:"Siberian Huskies are known for their endurance and love of running. They require plenty of exercise and mental stimulation to prevent boredom and destructive behavior."},{img:Hh,breed:"Boxer",overview:{description:"Playful and Loyal. Boxers are known for their boundless energy and affectionate nature.",size:"Medium-to-Large",height_range:"21 to 25 inches at the shoulder",weight_range:"50 to 70 pounds",coat_colors:["fawn","brindle"]},temperament_and_personality:{traits:["Playful","Energetic","Affectionate"],description:"Boxers are playful and energetic dogs that form strong bonds with their families. They are known for their clownish behavior and love of play."},feeding_recommendations:{diet:"High-Energy",special_consideration:"Weight Management",description:"Provide a high-energy diet to support their active lifestyle. Monitor their weight closely to prevent obesity, which Boxers are prone to."},Exercise_Needs:{Daily_Exercise:"Labs benefit from at least 30 to 60 minutes of exercise each day. This can include brisk walks, jogging, or play sessions.",Playtime:"Labs love to play, and activities like fetch, tug-of-war, and interactive toys can help them burn off excess energy.",Swimming:"Many Labradors have a natural affinity for water, and swimming is an excellent form of exercise for them. If possible, provide opportunities for them to swim, especially during warm weather.","Interactive Games":"Engage their minds with puzzle toys or games that stimulate their intelligence. Labs are not only physically active but also enjoy mental challenges.","Training through Activities":"Combining training sessions with physical exercise is beneficial. For example, practicing obedience commands during a walk or incorporating agility exercises can keep them mentally engaged.",Consistency:"Labs thrive on routine, so try to provide consistent daily exercise. This helps prevent boredom and reduces the likelihood of destructive behaviors that can arise from pent-up energy.","special points":"Remember that individual exercise needs may vary based on factors such as age, health, and overall temperament. Adjust the intensity and duration of exercise based on your Labrador's specific requirements."},nutritional_essentials:{protein:"22-28%",fats:"12-15%, with omega-3 and omega-6",carbohydrates:"30-50% from whole grains and vegetables",vitamins_and_minerals:["A","D","E","B-complex","balanced minerals"],antioxidants:"From fruits and vegetables",weight_management:"Monitor portions to prevent overeating",avoid:"Artificial additives",hydration:"Provide fresh water always"},portion_guidelines:{puppies:"Feed 3-4 times a day to support their growth",adults:"Feed twice a day, adjusting portions based on weight and activity level",seniors:"Consider a diet tailored to their changing nutritional needs"},additional_information:"Boxers are known for their exuberance and love of play. They require regular exercise and mental stimulation to prevent boredom and behavioral issues."},{img:Yh,breed:"Dachshund",overview:{description:"Courageous and Curious. Dachshunds are known for their distinctive elongated body and courageous personality.",size:"Small-to-Medium",height_range:"Standard: 8 to 9 inches, Miniature: 5 to 6 inches",weight_range:"Standard: 16 to 32 pounds, Miniature: Up to 11 pounds",coat_colors:["red","black and tan","chocolate and tan","blue and tan","fawn","cream"]},temperament_and_personality:{traits:["Curious","Brave","Devoted"],description:"Dachshunds are curious and brave dogs with a strong sense of adventure. They are devoted to their families and can be quite stubborn at times."},feeding_recommendations:{diet:"Balanced Nutrition",special_consideration:"Weight Management",description:"Provide a balanced diet to meet their nutritional needs and prevent weight gain. Dachshunds are prone to obesity, so portion control is important."},nutritional_essentials:{protein:"18-25%",fats:"10-15%, with omega-3 and omega-6",carbohydrates:"30-50% from whole grains and vegetables",vitamins_and_minerals:["A","D","E","B-complex","balanced minerals"],antioxidants:"From fruits and vegetables",weight_management:"Monitor portions to prevent overeating",avoid:"Artificial additives",hydration:"Provide fresh water always"},Exercise_Needs:{Daily_Exercise:"Labs benefit from at least 30 to 60 minutes of exercise each day. This can include brisk walks, jogging, or play sessions.",Playtime:"Labs love to play, and activities like fetch, tug-of-war, and interactive toys can help them burn off excess energy.",Swimming:"Many Labradors have a natural affinity for water, and swimming is an excellent form of exercise for them. If possible, provide opportunities for them to swim, especially during warm weather.","Interactive Games":"Engage their minds with puzzle toys or games that stimulate their intelligence. Labs are not only physically active but also enjoy mental challenges.","Training through Activities":"Combining training sessions with physical exercise is beneficial. For example, practicing obedience commands during a walk or incorporating agility exercises can keep them mentally engaged.",Consistency:"Labs thrive on routine, so try to provide consistent daily exercise. This helps prevent boredom and reduces the likelihood of destructive behaviors that can arise from pent-up energy.","special points":"Remember that individual exercise needs may vary based on factors such as age, health, and overall temperament. Adjust the intensity and duration of exercise based on your Labrador's specific requirements."},portion_guidelines:{puppies:"Feed 3-4 times a day to support their growth",adults:"Feed twice a day, adjusting portions based on weight and activity level",seniors:"Consider a diet tailored to their changing nutritional needs"},additional_information:"Dachshunds are known for their unique appearance and spirited personality. They require regular exercise and mental stimulation to prevent boredom and behavioral issues."},{img:Kh,breed:"French Bulldog",overview:{description:"French Bulldogs are small, muscular dogs with a smooth coat, distinctive 'bat ears,' and a playful personality. They are affectionate, adaptable, and make excellent companions for individuals and families alike.",size:"Small",height_range:"11 to 12 inches at the shoulder",weight_range:"16 to 28 pounds",coat_colors:["various colors including brindle, fawn, and pied"]},temperament_and_personality:{traits:["Affectionate","Adaptable","Playful"],description:"French Bulldogs are known for their affectionate nature and playful demeanor. They enjoy spending time with their families and are well-suited for apartment living due to their small size and moderate exercise needs."},feeding_recommendations:{diet:"Balanced Diet",special_consideration:"Avoid Overfeeding",description:"French Bulldogs require a balanced diet to maintain optimal health and weight. It's important to monitor their food intake to prevent obesity, which can lead to health issues."},nutritional_essentials:{protein:"18-22%",fats:"8-10%, with omega-3 and omega-6",carbohydrates:"30-50% from whole grains and vegetables",vitamins_and_minerals:["A","D","E","B-complex","balanced minerals"],antioxidants:"From fruits and vegetables",joint_support:"Monitor joint health, especially as they age",avoid:"High-calorie treats and table scraps",hydration:"Ensure access to fresh water at all times"},Exercise_Needs:{Daily_Exercise:"Labs benefit from at least 30 to 60 minutes of exercise each day. This can include brisk walks, jogging, or play sessions.",Playtime:"Labs love to play, and activities like fetch, tug-of-war, and interactive toys can help them burn off excess energy.",Swimming:"Many Labradors have a natural affinity for water, and swimming is an excellent form of exercise for them. If possible, provide opportunities for them to swim, especially during warm weather.","Interactive Games":"Engage their minds with puzzle toys or games that stimulate their intelligence. Labs are not only physically active but also enjoy mental challenges.","Training through Activities":"Combining training sessions with physical exercise is beneficial. For example, practicing obedience commands during a walk or incorporating agility exercises can keep them mentally engaged.",Consistency:"Labs thrive on routine, so try to provide consistent daily exercise. This helps prevent boredom and reduces the likelihood of destructive behaviors that can arise from pent-up energy.","special points":"Remember that individual exercise needs may vary based on factors such as age, health, and overall temperament. Adjust the intensity and duration of exercise based on your Labrador's specific requirements."},portion_guidelines:{puppies:"Feed 3-4 times a day to support growth and energy needs",adults:"Feed twice a day, adjusting portions based on weight and activity level",seniors:"Monitor weight and adjust portions to prevent obesity while meeting nutritional needs"},additional_information:"French Bulldogs are charming and affectionate companions. They thrive on human interaction and should not be left alone for long periods. Regular exercise and mental stimulation are important for their well-being."},{img:Qh,breed:"Shih Tzu",overview:{description:"Shih Tzus are small dogs with a luxurious coat, a distinctive underbite, and a lively personality. They are affectionate, outgoing, and enjoy being the center of attention. Shih Tzus make wonderful companions for families and individuals alike.",size:"Small",height_range:"8 to 11 inches at the shoulder",weight_range:"9 to 16 pounds",coat_colors:["various colors including gold, white, and black"]},temperament_and_personality:{traits:["Affectionate","Outgoing","Lively"],description:"Shih Tzus are known for their affectionate nature and lively personality. They enjoy being around people and are friendly towards strangers, making them excellent companion dogs for all ages."},feeding_recommendations:{diet:"Balanced Diet",special_consideration:"Dental Health",description:"Shih Tzus require a balanced diet to support their overall health and well-being. It's important to provide dental treats or toys to promote good oral hygiene and prevent dental issues."},nutritional_essentials:{protein:"18-22%",fats:"8-12%, with omega-3 and omega-6",carbohydrates:"30-50% from whole grains and vegetables",vitamins_and_minerals:["A","D","E","B-complex","balanced minerals"],antioxidants:"From fruits and vegetables",joint_support:"Monitor joint health, especially as they age",avoid:"High-calorie treats and table scraps",hydration:"Ensure access to fresh water at all times"},Exercise_Needs:{Daily_Exercise:"Labs benefit from at least 30 to 60 minutes of exercise each day. This can include brisk walks, jogging, or play sessions.",Playtime:"Labs love to play, and activities like fetch, tug-of-war, and interactive toys can help them burn off excess energy.",Swimming:"Many Labradors have a natural affinity for water, and swimming is an excellent form of exercise for them. If possible, provide opportunities for them to swim, especially during warm weather.","Interactive Games":"Engage their minds with puzzle toys or games that stimulate their intelligence. Labs are not only physically active but also enjoy mental challenges.","Training through Activities":"Combining training sessions with physical exercise is beneficial. For example, practicing obedience commands during a walk or incorporating agility exercises can keep them mentally engaged.",Consistency:"Labs thrive on routine, so try to provide consistent daily exercise. This helps prevent boredom and reduces the likelihood of destructive behaviors that can arise from pent-up energy.","special points":"Remember that individual exercise needs may vary based on factors such as age, health, and overall temperament. Adjust the intensity and duration of exercise based on your Labrador's specific requirements."},portion_guidelines:{puppies:"Feed 3-4 times a day to support growth and energy needs",adults:"Feed twice a day, adjusting portions based on weight and activity level",seniors:"Monitor weight and adjust portions to prevent obesity while meeting nutritional needs"},additional_information:"Shih Tzus are affectionate and outgoing dogs that enjoy being the center of attention. They require regular grooming to maintain their luxurious coat and should be socialized from a young age to prevent behavioral issues."},{img:np,breed:"Rottweiler",overview:{description:"Rottweilers are large, powerful dogs with a strong build, distinctive black and tan markings, and a calm, confident demeanor. They are loyal, protective, and make excellent guardians for their families.",size:"Large",height_range:"22 to 27 inches at the shoulder",weight_range:"80 to 135 pounds",coat_colors:["black with tan markings"]},Exercise_Needs:{Daily_Exercise:"Labs benefit from at least 30 to 60 minutes of exercise each day. This can include brisk walks, jogging, or play sessions.",Playtime:"Labs love to play, and activities like fetch, tug-of-war, and interactive toys can help them burn off excess energy.",Swimming:"Many Labradors have a natural affinity for water, and swimming is an excellent form of exercise for them. If possible, provide opportunities for them to swim, especially during warm weather.","Interactive Games":"Engage their minds with puzzle toys or games that stimulate their intelligence. Labs are not only physically active but also enjoy mental challenges.","Training through Activities":"Combining training sessions with physical exercise is beneficial. For example, practicing obedience commands during a walk or incorporating agility exercises can keep them mentally engaged.",Consistency:"Labs thrive on routine, so try to provide consistent daily exercise. This helps prevent boredom and reduces the likelihood of destructive behaviors that can arise from pent-up energy.","special points":"Remember that individual exercise needs may vary based on factors such as age, health, and overall temperament. Adjust the intensity and duration of exercise based on your Labrador's specific requirements."},temperament_and_personality:{traits:["Loyal","Protective","Confident"],description:"Rottweilers are known for their loyalty and protective nature. They form strong bonds with their families and are naturally cautious around strangers, making them excellent guard dogs."},feeding_recommendations:{diet:"High-Quality Protein",special_consideration:"Joint Health",description:"Rottweilers require a diet rich in high-quality protein to support their muscle mass and energy needs. Consider foods with glucosamine and chondroitin for joint health, especially as they age."},nutritional_essentials:{protein:"24-28%",fats:"12-16%, with omega-3 and omega-6",carbohydrates:"20-30% from whole grains and vegetables",vitamins_and_minerals:["A","D","E","B-complex","balanced minerals"],antioxidants:"From fruits and vegetables",joint_support:"Include glucosamine and chondroitin for joint health",avoid:"High-calorie treats and table scraps",hydration:"Ensure access to fresh water at all times"},portion_guidelines:{puppies:"Feed 3-4 times a day to support growth and energy needs",adults:"Feed twice a day, adjusting portions based on weight and activity level",seniors:"Monitor weight and adjust portions to prevent obesity while meeting nutritional needs"},additional_information:"Rottweilers are powerful and confident dogs that require early socialization and training. They thrive on structure and consistency and excel in activities that challenge them both mentally and physically."},{img:jh,breed:"Australian Shepherd",overview:{description:"Australian Shepherds are intelligent, active, and versatile dogs. They are known for their striking appearance with a medium-length, weather-resistant coat and distinctive markings. Aussies are loyal companions with a strong herding instinct and excel in various dog sports and activities.",size:"Medium",height_range:"18 to 23 inches at the shoulder",weight_range:"40 to 65 pounds",coat_colors:["blue merle","red merle","black","red"]},temperament_and_personality:{traits:["Intelligent","Energetic","Loyal"],description:"Australian Shepherds are highly intelligent and thrive on mental and physical stimulation. They are loyal and affectionate with their families but may be reserved around strangers. Aussies require regular exercise and training to prevent boredom and behavioral issues."},feeding_recommendations:{diet:"Balanced Diet",special_consideration:"Energy Needs",description:"Australian Shepherds have high energy levels and require a balanced diet to support their active lifestyle. Choose quality dog food with appropriate protein and fat content to meet their energy needs."},Exercise_Needs:{Daily_Exercise:"Labs benefit from at least 30 to 60 minutes of exercise each day. This can include brisk walks, jogging, or play sessions.",Playtime:"Labs love to play, and activities like fetch, tug-of-war, and interactive toys can help them burn off excess energy.",Swimming:"Many Labradors have a natural affinity for water, and swimming is an excellent form of exercise for them. If possible, provide opportunities for them to swim, especially during warm weather.","Interactive Games":"Engage their minds with puzzle toys or games that stimulate their intelligence. Labs are not only physically active but also enjoy mental challenges.","Training through Activities":"Combining training sessions with physical exercise is beneficial. For example, practicing obedience commands during a walk or incorporating agility exercises can keep them mentally engaged.",Consistency:"Labs thrive on routine, so try to provide consistent daily exercise. This helps prevent boredom and reduces the likelihood of destructive behaviors that can arise from pent-up energy.","special points":"Remember that individual exercise needs may vary based on factors such as age, health, and overall temperament. Adjust the intensity and duration of exercise based on your Labrador's specific requirements."},nutritional_essentials:{protein:"20-30%",fats:"10-15%, with omega-3 and omega-6",carbohydrates:"30-50% from whole grains and vegetables",vitamins_and_minerals:["A","D","E","B-complex","balanced minerals"],antioxidants:"From fruits and vegetables",joint_support:"Consider supplements like glucosamine and chondroitin for joint health",avoid:"Fillers and artificial additives",hydration:"Provide fresh water at all times"},portion_guidelines:{puppies:"Feed 3-4 times a day, following manufacturer guidelines for age and weight",adults:"Feed twice a day, adjusting portions based on activity level and weight",seniors:"Monitor weight and adjust portions to account for reduced activity level"},additional_information:"Australian Shepherds are not only intelligent but also highly trainable. They excel in various dog sports and activities, including agility, herding, and obedience. Regular mental and physical exercise is essential for their well-being."},{img:ep,breed:"Doberman Pinscher",overview:{description:"Doberman Pinschers are known for their sleek, muscular appearance and alert, intelligent expression. They are loyal, fearless, and highly trainable.",size:"Medium-to-Large",height_range:"24 to 28 inches at the shoulder",weight_range:"60 to 100 pounds",coat_colors:["black","red","blue","fawn"]},temperament_and_personality:{traits:["Alert","Fearless","Loyal"],description:"Doberman Pinschers are alert guardians and loyal companions. They are known for their intelligence and trainability, making them excellent working dogs and family pets."},feeding_recommendations:{diet:"High-Quality Protein",special_consideration:"Muscle Health",description:"Doberman Pinschers need a diet rich in high-quality protein to support their muscular build. Consider foods with balanced nutrients to promote overall health."},Exercise_Needs:{Daily_Exercise:"Labs benefit from at least 30 to 60 minutes of exercise each day. This can include brisk walks, jogging, or play sessions.",Playtime:"Labs love to play, and activities like fetch, tug-of-war, and interactive toys can help them burn off excess energy.",Swimming:"Many Labradors have a natural affinity for water, and swimming is an excellent form of exercise for them. If possible, provide opportunities for them to swim, especially during warm weather.","Interactive Games":"Engage their minds with puzzle toys or games that stimulate their intelligence. Labs are not only physically active but also enjoy mental challenges.","Training through Activities":"Combining training sessions with physical exercise is beneficial. For example, practicing obedience commands during a walk or incorporating agility exercises can keep them mentally engaged.",Consistency:"Labs thrive on routine, so try to provide consistent daily exercise. This helps prevent boredom and reduces the likelihood of destructive behaviors that can arise from pent-up energy.","special points":"Remember that individual exercise needs may vary based on factors such as age, health, and overall temperament. Adjust the intensity and duration of exercise based on your Labrador's specific requirements."},nutritional_essentials:{protein:"25-30%",fats:"10-15%, with omega-3 and omega-6",carbohydrates:"20-40% from whole grains and vegetables",vitamins_and_minerals:["A","D","E","B-complex","balanced minerals"],antioxidants:"From fruits and vegetables",joint_support:"Consider supplements for joint health, especially as they age",avoid:"Highly processed foods with fillers and artificial additives",hydration:"Provide access to fresh water at all times"},portion_guidelines:{puppies:"Feed 3-4 times a day to support growth and development",adults:"Feed twice a day, adjusting portions based on weight and activity level",seniors:"Monitor weight and adjust portions to prevent obesity while meeting nutritional needs"},additional_information:"Doberman Pinschers are versatile dogs known for their work in various roles, including as guard dogs, search and rescue dogs, and therapy dogs. Early socialization and training are essential for a well-behaved Doberman."},{img:n.p+"static/media/Yorkshire_Terrier_1.8c232656b549c8acc9ea.jpeg",breed:"Yorkshire Terrier",overview:{description:"Yorkshire Terriers, or Yorkies, are small dogs with big personalities. They are known for their long, silky coats and confident demeanor. Despite their size, they are spirited and courageous.",size:"Small",height_range:"7 to 8 inches at the shoulder",weight_range:"4 to 7 pounds",coat_colors:["blue and tan"]},temperament_and_personality:{traits:["Confident","Energetic","Affectionate"],description:"Yorkshire Terriers are confident and affectionate companions. They may have a feisty temperament but are loyal to their families. Despite their small size, they have a lot of energy and enjoy playtime."},feeding_recommendations:{diet:"Small Breed Formula",special_consideration:"Dental Health",description:"Yorkshire Terriers benefit from a diet formulated for small breeds, providing essential nutrients in smaller kibble sizes. Consider dental chews or toys to promote dental health."},Exercise_Needs:{Daily_Exercise:"Labs benefit from at least 30 to 60 minutes of exercise each day. This can include brisk walks, jogging, or play sessions.",Playtime:"Labs love to play, and activities like fetch, tug-of-war, and interactive toys can help them burn off excess energy.",Swimming:"Many Labradors have a natural affinity for water, and swimming is an excellent form of exercise for them. If possible, provide opportunities for them to swim, especially during warm weather.","Interactive Games":"Engage their minds with puzzle toys or games that stimulate their intelligence. Labs are not only physically active but also enjoy mental challenges.","Training through Activities":"Combining training sessions with physical exercise is beneficial. For example, practicing obedience commands during a walk or incorporating agility exercises can keep them mentally engaged.",Consistency:"Labs thrive on routine, so try to provide consistent daily exercise. This helps prevent boredom and reduces the likelihood of destructive behaviors that can arise from pent-up energy.","special points":"Remember that individual exercise needs may vary based on factors such as age, health, and overall temperament. Adjust the intensity and duration of exercise based on your Labrador's specific requirements."},nutritional_essentials:{protein:"20-25%",fats:"10-15%, with omega-3 and omega-6",carbohydrates:"30-50% from whole grains and vegetables",vitamins_and_minerals:["A","D","E","B-complex","balanced minerals"],antioxidants:"From fruits and vegetables",joint_support:"Include nutrients like glucosamine and chondroitin for joint health",avoid:"High-calorie treats and table scraps",hydration:"Ensure access to fresh water at all times"},portion_guidelines:{puppies:"Feed 3-4 times a day to support growth and energy needs",adults:"Feed twice a day, adjusting portions based on weight and activity level",seniors:"Monitor weight and adjust portions to prevent obesity while meeting nutritional needs"},additional_information:"Yorkshire Terriers are suitable for apartment living due to their small size and moderate exercise needs. Regular grooming is essential to maintain their luxurious coat."},{img:tp,breed:"Great Dane",overview:{description:"Great Danes are gentle giants known for their imposing size and friendly disposition. Despite their size, they are known as 'gentle giants' due to their calm and affectionate nature.",size:"Giant",height_range:"28 to 32 inches at the shoulder or more",weight_range:"110 to 175 pounds",coat_colors:["fawn","brindle","blue","black"]},temperament_and_personality:{traits:["Gentle","Affectionate","Devoted"],description:"Great Danes are gentle giants with a sweet and affectionate nature. They are devoted to their families and often referred to as 'heartbreakers' due to their loving disposition."},feeding_recommendations:{diet:"Large Breed Formula",special_consideration:"Joint Health",description:"Great Danes require a diet formulated for large breeds to support their growth and development. Consider foods with added glucosamine and chondroitin for joint health."},Exercise_Needs:{Daily_Exercise:"Labs benefit from at least 30 to 60 minutes of exercise each day. This can include brisk walks, jogging, or play sessions.",Playtime:"Labs love to play, and activities like fetch, tug-of-war, and interactive toys can help them burn off excess energy.",Swimming:"Many Labradors have a natural affinity for water, and swimming is an excellent form of exercise for them. If possible, provide opportunities for them to swim, especially during warm weather.","Interactive Games":"Engage their minds with puzzle toys or games that stimulate their intelligence. Labs are not only physically active but also enjoy mental challenges.","Training through Activities":"Combining training sessions with physical exercise is beneficial. For example, practicing obedience commands during a walk or incorporating agility exercises can keep them mentally engaged.",Consistency:"Labs thrive on routine, so try to provide consistent daily exercise. This helps prevent boredom and reduces the likelihood of destructive behaviors that can arise from pent-up energy.","special points":"Remember that individual exercise needs may vary based on factors such as age, health, and overall temperament. Adjust the intensity and duration of exercise based on your Labrador's specific requirements."},nutritional_essentials:{protein:"23-28%",fats:"12-15%, with omega-3 and omega-6",carbohydrates:"30-50% from whole grains and vegetables",vitamins_and_minerals:["A","D","E","B-complex","balanced minerals"],antioxidants:"From fruits and vegetables",joint_support:"Include supplements for joint health, especially during growth stages",avoid:"High-calorie foods that may contribute to rapid growth",hydration:"Provide access to fresh water at all times"},portion_guidelines:{puppies:"Feed 3-4 times a day to support growth and development",adults:"Feed twice a day, adjusting portions based on weight and activity level",seniors:"Monitor weight and adjust portions to prevent obesity while meeting nutritional needs"},additional_information:"Great Danes are known for their gentle and affectionate nature, despite their imposing size. Early socialization and training are crucial to ensure they grow into well-behaved companions."},{img:$h,breed:"Cocker Spaniel",overview:{description:"Cocker Spaniels are cheerful and affectionate dogs known for their silky coat and expressive eyes. They are enthusiastic companions and enjoy spending time with their families.",size:"Medium",height_range:"14.5 to 15.5 inches at the shoulder",weight_range:"24 to 30 pounds",coat_colors:["various colors including black, buff, and parti-colors"]},temperament_and_personality:{traits:["Friendly","Gentle","Playful"],description:"Cocker Spaniels have a friendly and gentle disposition, making them excellent family pets. They are playful and enjoy outdoor activities, especially retrieving games."},feeding_recommendations:{diet:"Balanced Diet",special_consideration:"Coat and Skin Health",description:"Cocker Spaniels benefit from a balanced diet rich in essential nutrients to support their coat and skin health. Consider foods with omega-3 fatty acids for a glossy coat."},nutritional_essentials:{protein:"20-25%",fats:"10-15%, with omega-3 and omega-6",carbohydrates:"30-50% from whole grains and vegetables",vitamins_and_minerals:["A","D","E","B-complex","balanced minerals"],antioxidants:"From fruits and vegetables",joint_support:"Include nutrients like glucosamine and chondroitin for joint health",avoid:"High-calorie treats and table scraps",hydration:"Ensure access to fresh water at all times"},Exercise_Needs:{Daily_Exercise:"Labs benefit from at least 30 to 60 minutes of exercise each day. This can include brisk walks, jogging, or play sessions.",Playtime:"Labs love to play, and activities like fetch, tug-of-war, and interactive toys can help them burn off excess energy.",Swimming:"Many Labradors have a natural affinity for water, and swimming is an excellent form of exercise for them. If possible, provide opportunities for them to swim, especially during warm weather.","Interactive Games":"Engage their minds with puzzle toys or games that stimulate their intelligence. Labs are not only physically active but also enjoy mental challenges.","Training through Activities":"Combining training sessions with physical exercise is beneficial. For example, practicing obedience commands during a walk or incorporating agility exercises can keep them mentally engaged.",Consistency:"Labs thrive on routine, so try to provide consistent daily exercise. This helps prevent boredom and reduces the likelihood of destructive behaviors that can arise from pent-up energy.","special points":"Remember that individual exercise needs may vary based on factors such as age, health, and overall temperament. Adjust the intensity and duration of exercise based on your Labrador's specific requirements."},portion_guidelines:{puppies:"Feed 3-4 times a day to support growth and energy needs",adults:"Feed twice a day, adjusting portions based on weight and activity level",seniors:"Monitor weight and adjust portions to prevent obesity while meeting nutritional needs"},additional_information:"Cocker Spaniels are known for their cheerful disposition and affectionate nature. They thrive on human companionship and enjoy participating in various activities with their families."},{img:Zh,breed:"Border Collie",overview:{description:"Border Collies are highly intelligent and energetic dogs known for their herding instincts and agility. They are enthusiastic workers and excel in various dog sports and activities.",size:"Medium",height_range:"18 to 22 inches at the shoulder",weight_range:"30 to 55 pounds",coat_colors:["various colors including black and white, red and white, tricolor"]},temperament_and_personality:{traits:["Intelligent","Energetic","Trainable"],description:"Border Collies are intelligent and energetic dogs with a strong work ethic. They are highly trainable and excel in obedience and agility. Daily exercise and mental stimulation are essential to prevent boredom."},feeding_recommendations:{diet:"High-Quality Protein",special_consideration:"Activity Level",description:"Border Collies require a diet rich in high-quality protein to support their active lifestyle. Consider foods with balanced nutrients to provide sustained energy."},Exercise_Needs:{Daily_Exercise:"Labs benefit from at least 30 to 60 minutes of exercise each day. This can include brisk walks, jogging, or play sessions.",Playtime:"Labs love to play, and activities like fetch, tug-of-war, and interactive toys can help them burn off excess energy.",Swimming:"Many Labradors have a natural affinity for water, and swimming is an excellent form of exercise for them. If possible, provide opportunities for them to swim, especially during warm weather.","Interactive Games":"Engage their minds with puzzle toys or games that stimulate their intelligence. Labs are not only physically active but also enjoy mental challenges.","Training through Activities":"Combining training sessions with physical exercise is beneficial. For example, practicing obedience commands during a walk or incorporating agility exercises can keep them mentally engaged.",Consistency:"Labs thrive on routine, so try to provide consistent daily exercise. This helps prevent boredom and reduces the likelihood of destructive behaviors that can arise from pent-up energy.","special points":"Remember that individual exercise needs may vary based on factors such as age, health, and overall temperament. Adjust the intensity and duration of exercise based on your Labrador's specific requirements."},nutritional_essentials:{protein:"25-30%",fats:"10-15%, with omega-3 and omega-6",carbohydrates:"25-50% from whole grains and vegetables",vitamins_and_minerals:["A","D","E","B-complex","balanced minerals"],antioxidants:"From fruits and vegetables",joint_support:"Consider supplements for joint health, especially for active individuals",avoid:"Highly processed foods with artificial additives",hydration:"Ensure access to fresh water at all times"},portion_guidelines:{puppies:"Feed 3-4 times a day to support growth and energy needs",adults:"Feed twice a day, adjusting portions based on weight and activity level",seniors:"Monitor weight and adjust portions to prevent obesity while meeting nutritional needs"},additional_information:"Border Collies are renowned for their intelligence and herding instinct. They thrive in environments where they have a job to do and excel in various dog sports and activities."},{img:ap,breed:"Shetland Sheepdog",overview:{description:"Shetland Sheepdogs, or Shelties, are intelligent and agile herding dogs known for their long, flowing coats and keen intelligence. They are loyal companions and excel in obedience and agility.",size:"Small-to-Medium",height_range:"13 to 16 inches at the shoulder",weight_range:"14 to 27 pounds",coat_colors:["various colors including sable, tricolor, blue merle"]},temperament_and_personality:{traits:["Intelligent","Loyal","Responsive"],description:"Shetland Sheepdogs are highly intelligent and responsive dogs, making them easy to train and eager to please. They are loyal companions and form strong bonds with their families."},feeding_recommendations:{diet:"Balanced Diet",special_consideration:"Coat Health",description:"Shetland Sheepdogs benefit from a balanced diet to support their overall health and coat condition. Consider foods with omega-3 fatty acids for a shiny coat and healthy skin."},Exercise_Needs:{Daily_Exercise:"Labs benefit from at least 30 to 60 minutes of exercise each day. This can include brisk walks, jogging, or play sessions.",Playtime:"Labs love to play, and activities like fetch, tug-of-war, and interactive toys can help them burn off excess energy.",Swimming:"Many Labradors have a natural affinity for water, and swimming is an excellent form of exercise for them. If possible, provide opportunities for them to swim, especially during warm weather.","Interactive Games":"Engage their minds with puzzle toys or games that stimulate their intelligence. Labs are not only physically active but also enjoy mental challenges.","Training through Activities":"Combining training sessions with physical exercise is beneficial. For example, practicing obedience commands during a walk or incorporating agility exercises can keep them mentally engaged.",Consistency:"Labs thrive on routine, so try to provide consistent daily exercise. This helps prevent boredom and reduces the likelihood of destructive behaviors that can arise from pent-up energy.","special points":"Remember that individual exercise needs may vary based on factors such as age, health, and overall temperament. Adjust the intensity and duration of exercise based on your Labrador's specific requirements."},nutritional_essentials:{protein:"20-25%",fats:"10-15%, with omega-3 and omega-6",carbohydrates:"30-50% from whole grains and vegetables",vitamins_and_minerals:["A","D","E","B-complex","balanced minerals"],antioxidants:"From fruits and vegetables",joint_support:"Consider supplements for joint health, especially for active individuals",avoid:"High-calorie treats and table scraps",hydration:"Ensure access to fresh water at all times"},portion_guidelines:{puppies:"Feed 3-4 times a day to support growth and energy needs",adults:"Feed twice a day, adjusting portions based on weight and activity level",seniors:"Monitor weight and adjust portions to prevent obesity while meeting nutritional needs"},additional_information:"Shetland Sheepdogs are versatile and intelligent herding dogs that thrive on mental and physical stimulation. They are well-suited for various dog sports and excel in obedience and agility."},{img:Jh,breed:"Chihuahua",overview:{description:"Chihuahuas are the smallest dog breed in the world, known for their big personalities and small size. They are loyal and affectionate companions, often forming strong bonds with their owners.",size:"Tiny",height_range:"6 to 9 inches at the shoulder",weight_range:"2 to 6 pounds",coat_colors:["various colors including fawn, black, and white"]},temperament_and_personality:{traits:["Bold","Loyal","Alert"],description:"Chihuahuas may be small in size, but they have a big personality. They are bold, confident, and often fearless, making them excellent watchdogs despite their diminutive stature."},feeding_recommendations:{diet:"Small Breed Formula",special_consideration:"Energy Needs",description:"Chihuahuas require a diet formulated for small breeds to meet their energy needs. Consider nutrient-dense foods to provide essential nutrients in smaller portions."},Exercise_Needs:{Daily_Exercise:"Labs benefit from at least 30 to 60 minutes of exercise each day. This can include brisk walks, jogging, or play sessions.",Playtime:"Labs love to play, and activities like fetch, tug-of-war, and interactive toys can help them burn off excess energy.",Swimming:"Many Labradors have a natural affinity for water, and swimming is an excellent form of exercise for them. If possible, provide opportunities for them to swim, especially during warm weather.","Interactive Games":"Engage their minds with puzzle toys or games that stimulate their intelligence. Labs are not only physically active but also enjoy mental challenges.","Training through Activities":"Combining training sessions with physical exercise is beneficial. For example, practicing obedience commands during a walk or incorporating agility exercises can keep them mentally engaged.",Consistency:"Labs thrive on routine, so try to provide consistent daily exercise. This helps prevent boredom and reduces the likelihood of destructive behaviors that can arise from pent-up energy.","special points":"Remember that individual exercise needs may vary based on factors such as age, health, and overall temperament. Adjust the intensity and duration of exercise based on your Labrador's specific requirements."},nutritional_essentials:{protein:"25-30%",fats:"10-15%, with omega-3 and omega-6",carbohydrates:"30-50% from whole grains and vegetables",vitamins_and_minerals:["A","D","E","B-complex","balanced minerals"],antioxidants:"From fruits and vegetables",joint_support:"Consider supplements for joint health, especially for older individuals",avoid:"High-calorie treats and table scraps",hydration:"Ensure access to fresh water at all times"},portion_guidelines:{puppies:"Feed 3-4 times a day to support growth and energy needs",adults:"Feed twice a day, adjusting portions based on weight and activity level",seniors:"Monitor weight and adjust portions to prevent obesity while meeting nutritional needs"},additional_information:"Chihuahuas are spirited and loyal companions, often forming strong bonds with their owners. Despite their small size, they have a lot of energy and enjoy playtime and walks."}];function op(e,t){return Array.isArray(e)?e.includes(t):e===t}const sp=W.createContext({});sp.displayName="AccordionContext";const ip=sp,lp=W.forwardRef(((e,t)=>{let{as:n="div",bsPrefix:a,className:r,children:o,eventKey:s,...i}=e;const{activeEventKey:l}=(0,W.useContext)(ip);return a=le(a,"accordion-collapse"),(0,ne.jsx)($e,{ref:t,in:op(l,s),...i,className:G()(r,a),children:(0,ne.jsx)(n,{children:W.Children.only(o)})})}));lp.displayName="AccordionCollapse";const cp=lp,up=W.createContext({eventKey:""});up.displayName="AccordionItemContext";const dp=up,hp=W.forwardRef(((e,t)=>{let{as:n="div",bsPrefix:a,className:r,onEnter:o,onEntering:s,onEntered:i,onExit:l,onExiting:c,onExited:u,...d}=e;a=le(a,"accordion-body");const{eventKey:h}=(0,W.useContext)(dp);return(0,ne.jsx)(cp,{eventKey:h,onEnter:o,onEntering:s,onEntered:i,onExit:l,onExiting:c,onExited:u,children:(0,ne.jsx)(n,{ref:t,...d,className:G()(r,a)})})}));hp.displayName="AccordionBody";const pp=hp;function fp(e,t){const{activeEventKey:n,onSelect:a,alwaysOpen:r}=(0,W.useContext)(ip);return o=>{let s=e===n?null:e;r&&(s=Array.isArray(n)?n.includes(e)?n.filter((t=>t!==e)):[...n,e]:[e]),null==a||a(s,o),null==t||t(o)}}const mp=W.forwardRef(((e,t)=>{let{as:n="button",bsPrefix:a,className:r,onClick:o,...s}=e;a=le(a,"accordion-button");const{eventKey:i}=(0,W.useContext)(dp),l=fp(i,o),{activeEventKey:c}=(0,W.useContext)(ip);return"button"===n&&(s.type="button"),(0,ne.jsx)(n,{ref:t,onClick:l,...s,"aria-expanded":Array.isArray(c)?c.includes(i):i===c,className:G()(r,a,!op(c,i)&&"collapsed")})}));mp.displayName="AccordionButton";const gp=mp,yp=W.forwardRef(((e,t)=>{let{as:n="h2",bsPrefix:a,className:r,children:o,onClick:s,...i}=e;return a=le(a,"accordion-header"),(0,ne.jsx)(n,{ref:t,...i,className:G()(r,a),children:(0,ne.jsx)(gp,{onClick:s,children:o})})}));yp.displayName="AccordionHeader";const bp=yp,vp=W.forwardRef(((e,t)=>{let{as:n="div",bsPrefix:a,className:r,eventKey:o,...s}=e;a=le(a,"accordion-item");const i=(0,W.useMemo)((()=>({eventKey:o})),[o]);return(0,ne.jsx)(dp.Provider,{value:i,children:(0,ne.jsx)(n,{ref:t,...s,className:G()(r,a)})})}));vp.displayName="AccordionItem";const wp=vp,xp=W.forwardRef(((e,t)=>{const{as:n="div",activeKey:a,bsPrefix:r,className:o,onSelect:s,flush:i,alwaysOpen:l,...c}=J(e,{activeKey:"onSelect"}),u=le(r,"accordion"),d=(0,W.useMemo)((()=>({activeEventKey:a,onSelect:s,alwaysOpen:l})),[a,s,l]);return(0,ne.jsx)(ip.Provider,{value:d,children:(0,ne.jsx)(n,{ref:t,...c,className:G()(o,u,i&&"".concat(u,"-flush"))})})}));xp.displayName="Accordion";const kp=Object.assign(xp,{Button:gp,Collapse:cp,Item:wp,Header:bp,Body:pp});const Sp=function(e){const{breed:t,setBreed:n,setProductCat:a}=e,[r,o]=(0,W.useState)(!1),[s,i]=(0,W.useState)(0);function l(e){let{children:t,eventKey:n}=e;const a=fp(n,(()=>console.log("totally custom!")));return(0,ne.jsx)("button",{type:"button",style:{backgroundColor:"#a24c00",color:"white"},onClick:a,children:t})}return(0,ne.jsxs)("div",{children:[(0,ne.jsx)(bo,{}),(0,ne.jsx)("div",{className:"wave",children:(0,ne.jsxs)("h2",{style:{marginLeft:"25px",marginTop:"5px",marginBottom:"-10px"},children:[(0,ne.jsx)("img",{src:Oh}),"BREEDS",(0,ne.jsx)("img",{src:Oh})]})}),(0,ne.jsx)(Bh,{setProductCat:a,Breeds:rp,setBreed:n,setShowBreed:o}),(0,ne.jsxs)(ma,{show:r,onHide:()=>o(!1),centered:!0,size:"xl",children:[(0,ne.jsxs)(ma.Header,{closeButton:!0,className:"modal-header",children:[(0,ne.jsx)("img",{src:t.img,className:"Logo-style",style:{borderRadius:"50%"}}),(0,ne.jsxs)(ma.Title,{className:"modal-title",children:[" ",t.breed," Details"]})]}),(0,ne.jsx)(ma.Body,{children:(0,ne.jsxs)(kp,{defaultActiveKey:"0",children:[(0,ne.jsxs)(gh,{children:[(0,ne.jsx)(gh.Header,{children:(0,ne.jsx)(l,{eventKey:"0",children:"Overview"})}),(0,ne.jsx)(kp.Collapse,{eventKey:"0",children:(0,ne.jsxs)(gh.Body,{children:[(0,ne.jsx)("p",{className:"modal-text",children:t.overview.description}),(0,ne.jsxs)("p",{className:"modal-text",children:[(0,ne.jsx)("b",{children:"Size:"})," ",t.overview.size]}),(0,ne.jsxs)("p",{className:"modal-text",children:[(0,ne.jsx)("b",{children:"Height Range:"})," ",t.overview.height_range]}),(0,ne.jsxs)("p",{className:"modal-text",children:[(0,ne.jsx)("b",{children:"Weight Range:"})," ",t.overview.weight_range]}),(0,ne.jsxs)("p",{className:"modal-text",children:[(0,ne.jsx)("b",{children:"Coat Colors:"})," ",t.overview.coat_colors.join(", ")]})]})})]}),(0,ne.jsxs)(gh,{children:[(0,ne.jsx)(gh.Header,{children:(0,ne.jsx)(l,{eventKey:"1",children:"Temperament and Personality"})}),(0,ne.jsx)(kp.Collapse,{eventKey:"1",children:(0,ne.jsxs)(gh.Body,{children:[(0,ne.jsx)("p",{className:"modal-text",children:t.temperament_and_personality.description}),(0,ne.jsxs)("p",{className:"modal-text",children:[(0,ne.jsx)("b",{children:"Traits:"})," ",t.temperament_and_personality.traits.join(", ")]})]})})]}),(0,ne.jsxs)(gh,{children:[(0,ne.jsx)(gh.Header,{children:(0,ne.jsx)(l,{eventKey:"2",children:"Feeding Recommendations"})}),(0,ne.jsx)(kp.Collapse,{eventKey:"2",children:(0,ne.jsxs)(gh.Body,{children:[(0,ne.jsx)("p",{className:"modal-text",children:t.feeding_recommendations.description}),(0,ne.jsxs)("p",{className:"modal-text",children:[(0,ne.jsx)("b",{children:"Diet:"})," ",t.feeding_recommendations.diet]}),(0,ne.jsxs)("p",{className:"modal-text",children:[(0,ne.jsx)("b",{children:"Special Consideration:"})," ",t.feeding_recommendations.special_consideration]})]})})]}),(0,ne.jsxs)(gh,{children:[(0,ne.jsx)(gh.Header,{children:(0,ne.jsx)(l,{eventKey:"3",children:"Additional Information"})}),(0,ne.jsx)(kp.Collapse,{eventKey:"3",children:(0,ne.jsx)(gh.Body,{children:(0,ne.jsx)("p",{className:"modal-text",children:t.additional_information})})})]})]})})]})]})},Np=n.p+"static/media/JSON1.37382b946f4adab07e26.jpeg",Tp=W.createContext(null);Tp.displayName="InputGroupContext";const Cp=Tp,Ip=W.forwardRef(((e,t)=>{let{className:n,bsPrefix:a,as:r="span",...o}=e;return a=le(a,"input-group-text"),(0,ne.jsx)(r,{ref:t,className:G()(n,a),...o})}));Ip.displayName="InputGroupText";const Ep=Ip,Ap=W.forwardRef(((e,t)=>{let{bsPrefix:n,size:a,hasValidation:r,className:o,as:s="div",...i}=e;n=le(n,"input-group");const l=(0,W.useMemo)((()=>({})),[]);return(0,ne.jsx)(Cp.Provider,{value:l,children:(0,ne.jsx)(s,{ref:t,...i,className:G()(o,n,a&&"".concat(n,"-").concat(a),r&&"has-validation")})})}));Ap.displayName="InputGroup";const _p=Object.assign(Ap,{Text:Ep,Radio:e=>(0,ne.jsx)(Ep,{children:(0,ne.jsx)(Na,{type:"radio",...e})}),Checkbox:e=>(0,ne.jsx)(Ep,{children:(0,ne.jsx)(Na,{type:"checkbox",...e})})}),Rp="http://localhost:8080";const Dp=function(e){const[t,n]=(0,W.useState)(""),[a,r]=(0,W.useState)(""),[o,s]=(0,W.useState)(""),[i,l]=(0,W.useState)("Send OTP"),[c,u]=(0,W.useState)("Verify"),[d,h]=(0,W.useState)(""),{page:p,changePage:f,startUp:m,changeStartUp:g,User:y,changeUser:b,product:v,cartItems:w,addItemToCart:x,setProduct:k,showCart:S,setShowCart:N}=e,[T,C]=(0,W.useState)(!0),[I,E]=(0,W.useState)(!1),A=qr(),[_,R]=(0,W.useState)(1),[D,O]=(0,W.useState)(1),[F,L]=(0,W.useState)(""),M=/[a-z]/.test(F),P=/[A-Z]/.test(F),z=/\d/.test(F),j=/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(F),B=F.length>=8,[U,V]=(0,W.useState)(!1),[H,G]=(0,W.useState)({email:"",password:""}),[q,K]=(0,W.useState)({email:"hi man",password:""}),[X,Y]=(0,W.useState)("Submit"),[Q,Z]=(0,W.useState)(""),J=e=>{K({...q,[e.target.name]:e.target.value})},[$,ee]=(0,W.useState)(null),te=e=>{"email"==e.target.name&&(/\S+@\S+\.\S+/.test(e.target.value)?O(1):O(0),n(e.target.value)),"otp"==e.target.name&&h(e.target.value),"password"==e.target.name&&L(e.target.value),"confirmPassword"==e.target.name&&(e.target.value!=H.password?R(0):R(1)),G({...H,[e.target.name]:e.target.value})};return(0,ne.jsxs)("div",{children:[(0,ne.jsx)(bo,{cartItems:w,addItemToCart:x,product:v,setProduct:k,setShowCart:N,showCart:S}),(0,ne.jsx)("div",{className:"background-image",children:T?(0,ne.jsx)("div",{className:"auth-wrapperq",style:{marginTop:"100px"},children:(0,ne.jsxs)("div",{className:"auth-innerq",children:[(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)("h3",{children:"Sign In"}),(0,ne.jsxs)("div",{children:[(0,ne.jsx)("label",{children:"Email address"}),(0,ne.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter email",onChange:J,name:"email"})]}),(0,ne.jsxs)("div",{className:"mb-3",children:[(0,ne.jsx)("label",{children:"Password"}),(0,ne.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter password",onChange:J,name:"password"})]}),(0,ne.jsx)("div",{className:"d-grid",style:{marginTop:"30px"},children:(0,ne.jsx)("button",{className:"btn btn-secondary",href:"#",onClick:async()=>{"admin"==q.password&&(console.log("in if"),A("/admin")),"inventory"==q.password&&(console.log("in if"),A("/im"));try{const e=await fetch("".concat(Rp)+"/login?email="+q.email+"&password="+q.password,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json"}});console.log(e);const t=e.headers.get("content-type");if(t&&-1!==t.indexOf("application/json")){const t=await e.json();console.log(t.message),"user"==t.message?(f("home"),b(q.email),A("/home")):E(!0),ee(null)}else{await e.text();ee(null)}}catch($){console.error($)}},children:"Submit"})}),(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)("p",{className:"forgot-password text-right",children:["Forgot ",(0,ne.jsx)("a",{onClick:()=>V(!0),children:"password?"})]}),(0,ne.jsxs)(ma,{show:U,onHide:()=>V(!1),backdrop:"static",keyboard:!1,children:[(0,ne.jsx)(ma.Header,{closeButton:!0,children:(0,ne.jsx)(ma.Title,{children:"Change Password"})}),(0,ne.jsx)("div",{children:(0,ne.jsxs)("div",{style:{margin:"20px 20px"},children:[(0,ne.jsxs)(Ja.Group,{as:Pa,controlId:"formGridEmail",children:[(0,ne.jsx)(Ja.Label,{children:"Email"}),(0,ne.jsxs)(_p,{children:[(0,ne.jsx)("input",{disabled:"Verified"==i,style:{width:"70%"},className:"form-control",placeholder:"Enter email",onChange:te,name:"email"}),(0,ne.jsxs)(ba,{style:{width:"30%"},onClick:async e=>{e.preventDefault(),l("Sending...");try{const e=await fetch("".concat(Rp)+"generate-otp?user="+t,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"}}),n=e.headers.get("content-type");if(n&&-1!==n.indexOf("application/json")){const t=await e.json();"Fail"!=t.message?(r(t.message),l("Sent"),s("OTP sent to your email address. Please enter it below.")):(l("Resend"),s(""))}}catch($){console.log($)}},disabled:"Verified"==i,children:[i," "]})]}),o&&(0,ne.jsxs)("div",{className:"mb-3",children:[(0,ne.jsx)("p",{style:{color:"red"},children:o}),(0,ne.jsx)("div",{class:"buttonIn",children:(0,ne.jsxs)(_p,{children:[(0,ne.jsx)("input",{style:{width:"70%"},className:"form-control",placeholder:o,onChange:te,name:"otp"}),(0,ne.jsx)(ba,{style:{width:"30%"},onClick:async()=>{a==d?(s(""),l("Verified")):(s("verification Failed,Try Again..."),l("Resend"))},children:c})]})})," "]}),0==D?(0,ne.jsx)("p",{style:{color:"red",marginTop:"1px"},children:"Invalid Email"}):null]}),(0,ne.jsxs)(Ja.Group,{as:Pa,controlId:"formGridPassword",style:{marginTop:"10px"},children:[(0,ne.jsx)(Ja.Label,{children:"Password"}),(0,ne.jsx)(Ja.Control,{type:"password",placeholder:"Password",title:(()=>{let e="";return M||(e+=" At least one lowercase letter"),P||(e+=" At least one uppercase letter"),z||(e+=" At least one number"),j||(e+=" At least one special character"),B||(e+=" Minimum length of 8 characters"),e})(),value:H.password,onChange:te,name:"password"}),""==F||M&&P&&z&&j&&B?null:(0,ne.jsx)("p",{style:{color:"red",marginTop:"1px"},children:"Password is too weak"})]}),(0,ne.jsxs)(Ja.Group,{as:Pa,controlId:"formGridPassword",style:{marginTop:"10px"},children:[(0,ne.jsx)(Ja.Label,{children:"Confirm Password"}),(0,ne.jsx)(Ja.Control,{type:"password",placeholder:"Confirm Password",onChange:te,name:"confirmPassword"}),0==_?(0,ne.jsx)("p",{style:{color:"red",marginTop:"1px"},children:"Password Not Matched"}):null]}),(0,ne.jsx)(ba,{className:"nav-link",onClick:async()=>{if(H.password==H.confirmPassword){Y("saving...");try{const e=await fetch("".concat(Rp)+"/api/user/forgetPassword/"+H.email+"?password="+H.password,{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json"}});if(console.log(e),!e.ok)throw new Error("Network response was not ok");const t=e.headers.get("content-type");if(t&&-1!==t.indexOf("application/json")){const t=await e.json();"success"==t.message?(Y("Submit"),V(!1),Z("")):(Y("Submit"),Z(t.message))}}catch($){Y("Submit"),Z("Network error"),console.error($)}}else Z("Password and ConfirmPassword are not Matched...")},style:{WebkitTextFillColor:"white",margin:"10px",width:"100px",height:"35px",backgroundColor:"green",border:"white",borderRadius:"5px",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold",float:"right"},disabled:"Verified"!=i,children:X}),""!=Q?(0,ne.jsx)("p",{style:{color:"red"},children:Q}):null]})})]})]})]}),1==I?(0,ne.jsx)("p",{style:{color:"red"},children:"Invalid UserName or Password"}):""]})}):null})]})};function Op(e,t){return function(){return e.apply(t,arguments)}}const{toString:Fp}=Object.prototype,{getPrototypeOf:Lp}=Object,Mp=(Pp=Object.create(null),e=>{const t=Fp.call(e);return Pp[t]||(Pp[t]=t.slice(8,-1).toLowerCase())});var Pp;const zp=e=>(e=e.toLowerCase(),t=>Mp(t)===e),jp=e=>t=>typeof t===e,{isArray:Bp}=Array,Wp=jp("undefined");const Up=zp("ArrayBuffer");const Vp=jp("string"),Hp=jp("function"),Gp=jp("number"),qp=e=>null!==e&&"object"===typeof e,Kp=e=>{if("object"!==Mp(e))return!1;const t=Lp(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Xp=zp("Date"),Yp=zp("File"),Qp=zp("Blob"),Zp=zp("FileList"),Jp=zp("URLSearchParams");function $p(e,t){let n,a,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Bp(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{const a=r?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let s;for(n=0;n<o;n++)s=a[n],t.call(null,e[s],s,e)}}function ef(e,t){t=t.toLowerCase();const n=Object.keys(e);let a,r=n.length;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const tf="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,nf=e=>!Wp(e)&&e!==tf;const af=(rf="undefined"!==typeof Uint8Array&&Lp(Uint8Array),e=>rf&&e instanceof rf);var rf;const of=zp("HTMLFormElement"),sf=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),lf=zp("RegExp"),cf=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),a={};$p(n,((n,r)=>{let o;!1!==(o=t(n,r,e))&&(a[r]=o||n)})),Object.defineProperties(e,a)},uf="abcdefghijklmnopqrstuvwxyz",df="0123456789",hf={DIGIT:df,ALPHA:uf,ALPHA_DIGIT:uf+uf.toUpperCase()+df};const pf=zp("AsyncFunction"),ff={isArray:Bp,isArrayBuffer:Up,isBuffer:function(e){return null!==e&&!Wp(e)&&null!==e.constructor&&!Wp(e.constructor)&&Hp(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Hp(e.append)&&("formdata"===(t=Mp(e))||"object"===t&&Hp(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Up(e.buffer),t},isString:Vp,isNumber:Gp,isBoolean:e=>!0===e||!1===e,isObject:qp,isPlainObject:Kp,isUndefined:Wp,isDate:Xp,isFile:Yp,isBlob:Qp,isRegExp:lf,isFunction:Hp,isStream:e=>qp(e)&&Hp(e.pipe),isURLSearchParams:Jp,isTypedArray:af,isFileList:Zp,forEach:$p,merge:function e(){const{caseless:t}=nf(this)&&this||{},n={},a=(a,r)=>{const o=t&&ef(n,r)||r;Kp(n[o])&&Kp(a)?n[o]=e(n[o],a):Kp(a)?n[o]=e({},a):Bp(a)?n[o]=a.slice():n[o]=a};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&$p(arguments[r],a);return n},extend:function(e,t,n){let{allOwnKeys:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return $p(t,((t,a)=>{n&&Hp(t)?e[a]=Op(t,n):e[a]=t}),{allOwnKeys:a}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,a)=>{e.prototype=Object.create(t.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,a)=>{let r,o,s;const i={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),o=r.length;o-- >0;)s=r[o],a&&!a(s,e,t)||i[s]||(t[s]=e[s],i[s]=!0);e=!1!==n&&Lp(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Mp,kindOfTest:zp,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const a=e.indexOf(t,n);return-1!==a&&a===n},toArray:e=>{if(!e)return null;if(Bp(e))return e;let t=e.length;if(!Gp(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let a;for(;(a=n.next())&&!a.done;){const n=a.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const a=[];for(;null!==(n=e.exec(t));)a.push(n);return a},isHTMLForm:of,hasOwnProperty:sf,hasOwnProp:sf,reduceDescriptors:cf,freezeMethods:e=>{cf(e,((t,n)=>{if(Hp(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const a=e[n];Hp(a)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},a=e=>{e.forEach((e=>{n[e]=!0}))};return Bp(e)?a(e):a(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:ef,global:tf,isContextDefined:nf,ALPHABET:hf,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hf.ALPHA_DIGIT,n="";const{length:a}=t;for(;e--;)n+=t[Math.random()*a|0];return n},isSpecCompliantForm:function(e){return!!(e&&Hp(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,a)=>{if(qp(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[a]=e;const r=Bp(e)?[]:{};return $p(e,((e,t)=>{const o=n(e,a+1);!Wp(o)&&(r[t]=o)})),t[a]=void 0,r}}return e};return n(e,0)},isAsyncFn:pf,isThenable:e=>e&&(qp(e)||Hp(e))&&Hp(e.then)&&Hp(e.catch)};function mf(e,t,n,a,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),a&&(this.request=a),r&&(this.response=r)}ff.inherits(mf,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ff.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const gf=mf.prototype,yf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{yf[e]={value:e}})),Object.defineProperties(mf,yf),Object.defineProperty(gf,"isAxiosError",{value:!0}),mf.from=(e,t,n,a,r,o)=>{const s=Object.create(gf);return ff.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),mf.call(s,e.message,t,n,a,r),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const bf=mf;function vf(e){return ff.isPlainObject(e)||ff.isArray(e)}function wf(e){return ff.endsWith(e,"[]")?e.slice(0,-2):e}function xf(e,t,n){return e?e.concat(t).map((function(e,t){return e=wf(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const kf=ff.toFlatObject(ff,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Sf=function(e,t,n){if(!ff.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const a=(n=ff.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!ff.isUndefined(t[e])}))).metaTokens,r=n.visitor||c,o=n.dots,s=n.indexes,i=(n.Blob||"undefined"!==typeof Blob&&Blob)&&ff.isSpecCompliantForm(t);if(!ff.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(ff.isDate(e))return e.toISOString();if(!i&&ff.isBlob(e))throw new bf("Blob is not supported. Use a Buffer instead.");return ff.isArrayBuffer(e)||ff.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,r){let i=e;if(e&&!r&&"object"===typeof e)if(ff.endsWith(n,"{}"))n=a?n:n.slice(0,-2),e=JSON.stringify(e);else if(ff.isArray(e)&&function(e){return ff.isArray(e)&&!e.some(vf)}(e)||(ff.isFileList(e)||ff.endsWith(n,"[]"))&&(i=ff.toArray(e)))return n=wf(n),i.forEach((function(e,a){!ff.isUndefined(e)&&null!==e&&t.append(!0===s?xf([n],a,o):null===s?n:n+"[]",l(e))})),!1;return!!vf(e)||(t.append(xf(r,n,o),l(e)),!1)}const u=[],d=Object.assign(kf,{defaultVisitor:c,convertValue:l,isVisitable:vf});if(!ff.isObject(e))throw new TypeError("data must be an object");return function e(n,a){if(!ff.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+a.join("."));u.push(n),ff.forEach(n,(function(n,o){!0===(!(ff.isUndefined(n)||null===n)&&r.call(t,n,ff.isString(o)?o.trim():o,a,d))&&e(n,a?a.concat(o):[o])})),u.pop()}}(e),t};function Nf(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Tf(e,t){this._pairs=[],e&&Sf(e,this,t)}const Cf=Tf.prototype;Cf.append=function(e,t){this._pairs.push([e,t])},Cf.toString=function(e){const t=e?function(t){return e.call(this,t,Nf)}:Nf;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const If=Tf;function Ef(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Af(e,t,n){if(!t)return e;const a=n&&n.encode||Ef,r=n&&n.serialize;let o;if(o=r?r(t,n):ff.isURLSearchParams(t)?t.toString():new If(t,n).toString(a),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const _f=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ff.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Rf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Df={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:If,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Of="undefined"!==typeof window&&"undefined"!==typeof document,Ff=(Lf="undefined"!==typeof navigator&&navigator.product,Of&&["ReactNative","NativeScript","NS"].indexOf(Lf)<0);var Lf;const Mf="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Pf={...t,...Df};const zf=function(e){function t(e,n,a,r){let o=e[r++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),i=r>=e.length;if(o=!o&&ff.isArray(a)?a.length:o,i)return ff.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!s;a[o]&&ff.isObject(a[o])||(a[o]=[]);return t(e,n,a[o],r)&&ff.isArray(a[o])&&(a[o]=function(e){const t={},n=Object.keys(e);let a;const r=n.length;let o;for(a=0;a<r;a++)o=n[a],t[o]=e[o];return t}(a[o])),!s}if(ff.isFormData(e)&&ff.isFunction(e.entries)){const n={};return ff.forEachEntry(e,((e,a)=>{t(function(e){return ff.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),a,n,0)})),n}return null};const jf={transitional:Rf,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",a=n.indexOf("application/json")>-1,r=ff.isObject(e);r&&ff.isHTMLForm(e)&&(e=new FormData(e));if(ff.isFormData(e))return a?JSON.stringify(zf(e)):e;if(ff.isArrayBuffer(e)||ff.isBuffer(e)||ff.isStream(e)||ff.isFile(e)||ff.isBlob(e))return e;if(ff.isArrayBufferView(e))return e.buffer;if(ff.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Sf(e,new Pf.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,a){return Pf.isNode&&ff.isBuffer(e)?(this.append(t,e.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=ff.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Sf(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||a?(t.setContentType("application/json",!1),function(e,t,n){if(ff.isString(e))try{return(t||JSON.parse)(e),ff.trim(e)}catch(a4){if("SyntaxError"!==a4.name)throw a4}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||jf.transitional,n=t&&t.forcedJSONParsing,a="json"===this.responseType;if(e&&ff.isString(e)&&(n&&!this.responseType||a)){const n=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(a4){if(n){if("SyntaxError"===a4.name)throw bf.from(a4,bf.ERR_BAD_RESPONSE,this,null,this.response);throw a4}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pf.classes.FormData,Blob:Pf.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ff.forEach(["delete","get","head","post","put","patch"],(e=>{jf.headers[e]={}}));const Bf=jf,Wf=ff.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Uf=Symbol("internals");function Vf(e){return e&&String(e).trim().toLowerCase()}function Hf(e){return!1===e||null==e?e:ff.isArray(e)?e.map(Hf):String(e)}function Gf(e,t,n,a,r){return ff.isFunction(a)?a.call(this,t,n):(r&&(t=n),ff.isString(t)?ff.isString(a)?-1!==t.indexOf(a):ff.isRegExp(a)?a.test(t):void 0:void 0)}class qf{constructor(e){e&&this.set(e)}set(e,t,n){const a=this;function r(e,t,n){const r=Vf(t);if(!r)throw new Error("header name must be a non-empty string");const o=ff.findKey(a,r);(!o||void 0===a[o]||!0===n||void 0===n&&!1!==a[o])&&(a[o||t]=Hf(e))}const o=(e,t)=>ff.forEach(e,((e,n)=>r(e,n,t)));return ff.isPlainObject(e)||e instanceof this.constructor?o(e,t):ff.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?o((e=>{const t={};let n,a,r;return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),a=e.substring(r+1).trim(),!n||t[n]&&Wf[n]||("set-cookie"===n?t[n]?t[n].push(a):t[n]=[a]:t[n]=t[n]?t[n]+", "+a:a)})),t})(e),t):null!=e&&r(t,e,n),this}get(e,t){if(e=Vf(e)){const n=ff.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(e);)t[a[1]]=a[2];return t}(e);if(ff.isFunction(t))return t.call(this,e,n);if(ff.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Vf(e)){const n=ff.findKey(this,e);return!(!n||void 0===this[n]||t&&!Gf(0,this[n],n,t))}return!1}delete(e,t){const n=this;let a=!1;function r(e){if(e=Vf(e)){const r=ff.findKey(n,e);!r||t&&!Gf(0,n[r],r,t)||(delete n[r],a=!0)}}return ff.isArray(e)?e.forEach(r):r(e),a}clear(e){const t=Object.keys(this);let n=t.length,a=!1;for(;n--;){const r=t[n];e&&!Gf(0,this[r],r,e,!0)||(delete this[r],a=!0)}return a}normalize(e){const t=this,n={};return ff.forEach(this,((a,r)=>{const o=ff.findKey(n,r);if(o)return t[o]=Hf(a),void delete t[r];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(r):String(r).trim();s!==r&&delete t[r],t[s]=Hf(a),n[s]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return ff.forEach(this,((n,a)=>{null!=n&&!1!==n&&(t[a]=e&&ff.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return a.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Uf]=this[Uf]={accessors:{}}).accessors,n=this.prototype;function a(e){const a=Vf(e);t[a]||(!function(e,t){const n=ff.toCamelCase(" "+t);["get","set","has"].forEach((a=>{Object.defineProperty(e,a+n,{value:function(e,n,r){return this[a].call(this,t,e,n,r)},configurable:!0})}))}(n,e),t[a]=!0)}return ff.isArray(e)?e.forEach(a):a(e),this}}qf.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ff.reduceDescriptors(qf.prototype,((e,t)=>{let{value:n}=e,a=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[a]=e}}})),ff.freezeMethods(qf);const Kf=qf;function Xf(e,t){const n=this||Bf,a=t||n,r=Kf.from(a.headers);let o=a.data;return ff.forEach(e,(function(e){o=e.call(n,o,r.normalize(),t?t.status:void 0)})),r.normalize(),o}function Yf(e){return!(!e||!e.__CANCEL__)}function Qf(e,t,n){bf.call(this,null==e?"canceled":e,bf.ERR_CANCELED,t,n),this.name="CanceledError"}ff.inherits(Qf,bf,{__CANCEL__:!0});const Zf=Qf;const Jf=Pf.hasStandardBrowserEnv?{write(e,t,n,a,r,o){const s=[e+"="+encodeURIComponent(t)];ff.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),ff.isString(a)&&s.push("path="+a),ff.isString(r)&&s.push("domain="+r),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function $f(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const em=Pf.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function a(n){let a=n;return e&&(t.setAttribute("href",a),a=t.href),t.setAttribute("href",a),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=a(window.location.href),function(e){const t=ff.isString(e)?a(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};const tm=function(e,t){e=e||10;const n=new Array(e),a=new Array(e);let r,o=0,s=0;return t=void 0!==t?t:1e3,function(i){const l=Date.now(),c=a[s];r||(r=l),n[o]=i,a[o]=l;let u=s,d=0;for(;u!==o;)d+=n[u++],u%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),l-r<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};function nm(e,t){let n=0;const a=tm(50,250);return r=>{const o=r.loaded,s=r.lengthComputable?r.total:void 0,i=o-n,l=a(i);n=o;const c={loaded:o,total:s,progress:s?o/s:void 0,bytes:i,rate:l||void 0,estimated:l&&s&&o<=s?(s-o)/l:void 0,event:r};c[t?"download":"upload"]=!0,e(c)}}const am="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let a=e.data;const r=Kf.from(e.headers).normalize();let o,s,{responseType:i,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}if(ff.isFormData(a))if(Pf.hasStandardBrowserEnv||Pf.hasStandardBrowserWebWorkerEnv)r.setContentType(!1);else if(!1!==(s=r.getContentType())){const[e,...t]=s?s.split(";").map((e=>e.trim())).filter(Boolean):[];r.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";r.set("Authorization","Basic "+btoa(t+":"+n))}const d=$f(e.baseURL,e.url);function h(){if(!u)return;const a=Kf.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){const a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(new bf("Request failed with status code "+n.status,[bf.ERR_BAD_REQUEST,bf.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),c()}),(function(e){n(e),c()}),{data:i&&"text"!==i&&"json"!==i?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:a,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),Af(d,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=h:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(h)},u.onabort=function(){u&&(n(new bf("Request aborted",bf.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new bf("Network Error",bf.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const a=e.transitional||Rf;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new bf(t,a.clarifyTimeoutError?bf.ETIMEDOUT:bf.ECONNABORTED,e,u)),u=null},Pf.hasStandardBrowserEnv&&(l&&ff.isFunction(l)&&(l=l(e)),l||!1!==l&&em(d))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&Jf.read(e.xsrfCookieName);t&&r.set(e.xsrfHeaderName,t)}void 0===a&&r.setContentType(null),"setRequestHeader"in u&&ff.forEach(r.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),ff.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),i&&"json"!==i&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",nm(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",nm(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=t=>{u&&(n(!t||t.type?new Zf(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));const p=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);p&&-1===Pf.protocols.indexOf(p)?n(new bf("Unsupported protocol "+p+":",bf.ERR_BAD_REQUEST,e)):u.send(a||null)}))},rm={http:null,xhr:am};ff.forEach(rm,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(a4){}Object.defineProperty(e,"adapterName",{value:t})}}));const om=e=>"- ".concat(e),sm=e=>ff.isFunction(e)||null===e||!1===e,im=e=>{e=ff.isArray(e)?e:[e];const{length:t}=e;let n,a;const r={};for(let o=0;o<t;o++){let t;if(n=e[o],a=n,!sm(n)&&(a=rm[(t=String(n)).toLowerCase()],void 0===a))throw new bf("Unknown adapter '".concat(t,"'"));if(a)break;r[t||"#"+o]=a}if(!a){const e=Object.entries(r).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(om).join("\n"):" "+om(e[0]):"as no adapter specified";throw new bf("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return a};function lm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Zf(null,e)}function cm(e){lm(e),e.headers=Kf.from(e.headers),e.data=Xf.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return im(e.adapter||Bf.adapter)(e).then((function(t){return lm(e),t.data=Xf.call(e,e.transformResponse,t),t.headers=Kf.from(t.headers),t}),(function(t){return Yf(t)||(lm(e),t&&t.response&&(t.response.data=Xf.call(e,e.transformResponse,t.response),t.response.headers=Kf.from(t.response.headers))),Promise.reject(t)}))}const um=e=>e instanceof Kf?{...e}:e;function dm(e,t){t=t||{};const n={};function a(e,t,n){return ff.isPlainObject(e)&&ff.isPlainObject(t)?ff.merge.call({caseless:n},e,t):ff.isPlainObject(t)?ff.merge({},t):ff.isArray(t)?t.slice():t}function r(e,t,n){return ff.isUndefined(t)?ff.isUndefined(e)?void 0:a(void 0,e,n):a(e,t,n)}function o(e,t){if(!ff.isUndefined(t))return a(void 0,t)}function s(e,t){return ff.isUndefined(t)?ff.isUndefined(e)?void 0:a(void 0,e):a(void 0,t)}function i(n,r,o){return o in t?a(n,r):o in e?a(void 0,n):void 0}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:i,headers:(e,t)=>r(um(e),um(t),!0)};return ff.forEach(Object.keys(Object.assign({},e,t)),(function(a){const o=l[a]||r,s=o(e[a],t[a],a);ff.isUndefined(s)&&o!==i||(n[a]=s)})),n}const hm="1.6.8",pm={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{pm[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const fm={};pm.transitional=function(e,t,n){function a(e,t){return"[Axios v1.6.8] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,o)=>{if(!1===e)throw new bf(a(r," has been removed"+(t?" in "+t:"")),bf.ERR_DEPRECATED);return t&&!fm[r]&&(fm[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}};const mm={assertOptions:function(e,t,n){if("object"!==typeof e)throw new bf("options must be an object",bf.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let r=a.length;for(;r-- >0;){const o=a[r],s=t[o];if(s){const t=e[o],n=void 0===t||s(t,o,e);if(!0!==n)throw new bf("option "+o+" must be "+n,bf.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new bf("Unknown option "+o,bf.ERR_BAD_OPTION)}},validators:pm},gm=mm.validators;class ym{constructor(e){this.defaults=e,this.interceptors={request:new _f,response:new _f}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=dm(this.defaults,t);const{transitional:n,paramsSerializer:a,headers:r}=t;void 0!==n&&mm.assertOptions(n,{silentJSONParsing:gm.transitional(gm.boolean),forcedJSONParsing:gm.transitional(gm.boolean),clarifyTimeoutError:gm.transitional(gm.boolean)},!1),null!=a&&(ff.isFunction(a)?t.paramsSerializer={serialize:a}:mm.assertOptions(a,{encode:gm.function,serialize:gm.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=r&&ff.merge(r.common,r[t.method]);r&&ff.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete r[e]})),t.headers=Kf.concat(o,r);const s=[];let i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!i){const e=[cm.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=s.length;let h=t;for(d=0;d<u;){const e=s[d++],t=s[d++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=cm.call(this,h)}catch(p){return Promise.reject(p)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Af($f((e=dm(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}ff.forEach(["delete","get","head","options"],(function(e){ym.prototype[e]=function(t,n){return this.request(dm(n||{},{method:e,url:t,data:(n||{}).data}))}})),ff.forEach(["post","put","patch"],(function(e){function t(t){return function(n,a,r){return this.request(dm(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:a}))}}ym.prototype[e]=t(),ym.prototype[e+"Form"]=t(!0)}));const bm=ym;class vm{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const a=new Promise((e=>{n.subscribe(e),t=e})).then(e);return a.cancel=function(){n.unsubscribe(t)},a},e((function(e,a,r){n.reason||(n.reason=new Zf(e,a,r),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new vm((function(t){e=t})),cancel:e}}}const wm=vm;const xm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xm).forEach((e=>{let[t,n]=e;xm[n]=t}));const km=xm;const Sm=function e(t){const n=new bm(t),a=Op(bm.prototype.request,n);return ff.extend(a,bm.prototype,n,{allOwnKeys:!0}),ff.extend(a,n,null,{allOwnKeys:!0}),a.create=function(n){return e(dm(t,n))},a}(Bf);Sm.Axios=bm,Sm.CanceledError=Zf,Sm.CancelToken=wm,Sm.isCancel=Yf,Sm.VERSION=hm,Sm.toFormData=Sf,Sm.AxiosError=bf,Sm.Cancel=Sm.CanceledError,Sm.all=function(e){return Promise.all(e)},Sm.spread=function(e){return function(t){return e.apply(null,t)}},Sm.isAxiosError=function(e){return ff.isObject(e)&&!0===e.isAxiosError},Sm.mergeConfig=dm,Sm.AxiosHeaders=Kf,Sm.formToJSON=e=>zf(ff.isHTMLForm(e)?new FormData(e):e),Sm.getAdapter=im,Sm.HttpStatusCode=km,Sm.default=Sm;const Nm=Sm,Tm=n.p+"static/media/JSON2.9010123035ebe3ffc65f.jpeg",Cm=n.p+"static/media/JSON3.9e2be92bcc73dc69a19e.jpeg",Im=n.p+"static/media/JSON4.5cd5eaadfb21c0280c38.jpeg",Em=n.p+"static/media/JSON5.01042307d2b0bc0a5460.jpeg",Am=n.p+"static/media/JSON6.4c5b952082ac92600ee0.jpeg",_m=n.p+"static/media/JSON7.2470c9c3af774d9bd49c.jpeg",Rm=n.p+"static/media/JSON8.2342bd714988b2b80e5b.jpeg",Dm=n.p+"static/media/JSON9.7d851d512ef7ac5fdc34.jpeg",Om=n.p+"static/media/JSON10.3db71f3b70e475e7ec98.jpeg",Fm=n.p+"static/media/JSON11.9c8fc425e029de95789f.jpeg",Lm=n.p+"static/media/JSON12.e753720af78e80731ff8.jpeg",Mm=n.p+"static/media/JSON13.10334b75a91205aff59a.jpeg",Pm=[{category:["Recent","Health And Beauty","Tips And Tricks"],image:Np,title:"How to keep your Bulldogs smelling Fresh",description:"6 Tips to Keep Your French Bulldogs Smelling Fresh",introduction:"Are you looking for ways to maintain your French Bulldog's pleasant scent? Look no further! Our guide offers a variety of Effective Bathing Methods that will leave your four-legged companion smelling wonderful. You'll learn how to select the ideal shampoo and conditioner, as well as achieve optimal water temperature during bath time - all guaranteed to make an impact. Discover more about maintaining your furry friend's odor by continuing to read on below.",headingsAndParas:{"Regular Grooming":["Keeping your French Bulldog smelling fresh begins with Regular Grooming. This practice not only ensures your furry companion looks their best but also plays a significant role in managing their aroma.","Start by brushing your Frenchie's coat regularly to remove loose hair and dirt. This simple step not only keeps their fur clean but also reduces shedding, which can contribute to odors around your home.","Pay special attention to their facial wrinkles. These adorable folds can trap moisture and debris, creating the perfect breeding ground for unpleasant smells. Gently clean these areas to prevent any build-up.","Trimming your Frenchie's nails is another essential grooming task. Overgrown nails can collect dirt and odors from their paws, so keeping them well-maintained can help manage any unpleasant scents.","Additionally, don't forget to keep your French Bulldog's ears clean. Ear-related odors can develop if wax and debris accumulate. Use gentle cleaning solutions and seek advice from your veterinarian if you notice any unusual ear odor or discharge.","For added convenience, consider using Paw.com's pet wipes and beauty kit. These specially designed products can make your grooming routine more efficient, leaving your Frenchie smelling fresh and looking fabulous."],"A Balanced Diet":["What your French Bulldog eats has a direct impact on their overall aroma. A Balanced Diet is crucial for ensuring they smell pleasant and stay healthy.","Begin by selecting high-quality dog food with the right ingredients. Look for options that include real meat as the primary source of protein and avoid the ones with   fillers or artificial additives.","Proper hydration is equally important. Ensure your Frenchie has access to clean water at all times. Dehydration can lead to concentrated urine, which can be a source of strong odors.","Resist the temptation to overfeed your Frenchie or offer excessive treats. Obesity and indigestion can contribute to unpleasant body odors. Stick to recommended portion sizes and opt for healthy treat alternatives.","Monitor your French Bulldog for food allergies or sensitivities. Allergic reactions can manifest as skin issues or gastrointestinal problems, both of which can lead to unwanted odors. Consult your vet if you suspect food-related issues.","Remember, a well-balanced diet not only promotes good health but also contributes to a pleasant, fresh scent for your French Bulldog."],"Dental Care":["Maintaining proper oral hygiene for your French Bulldog is a key element in aroma management. Dental Care plays a significant role in keeping your Frenchie's breath and overall scent pleasant.","Start by brushing your Frenchie's teeth regularly. This simple yet effective practice helps prevent the build-up of plaque and tartar, which can lead to bad breath and oral odor.","Incorporate dental chews or toys into your Frenchie's routine. These can help reduce plaque and tartar build-up while keeping them mentally stimulated.","Regular visits to the vet for professional dental cleanings are essential. Your vet can perform a thorough examination of your Frenchie's oral health and address any dental issues promptly.","Fresh breath is not only a sign of good dental health but also contributes to a fresher overall scent for your furry friend.","Consider using dental care products to maintain your Frenchie's oral health. These specially designed products can complement your dental care routine and contribute to a more pleasant aroma management strategy."],"Clean Environment":["Maintaining a Clean Environment is crucial in your quest to keep your French Bulldog smelling fresh. This aspect encompasses not only your Frenchie's belongings but also your home environment.","Start by washing your Frenchie's bedding and toys frequently. Over time, these items can accumulate odors, and regular cleaning helps prevent them from becoming a source of unwanted smells.","To tackle the issue at its source, vacuum and mop your home regularly. Pet hair, dander, and debris can accumulate on your floors and furniture, leading to lingering odors. A clean living space goes a long way in aroma management.","Should accidents happen, eliminate urine or feces promptly. Prompt cleanup not only maintains a fresh environment but also discourages repeat incidents.","Consider using pet-friendly air purifiers if needed. These devices help remove airborne allergens and odors, creating a cleaner and more pleasant atmosphere for both you and your Frenchie Remember, a clean environment is an effective way to reduce lingering odors and contribute to a fresher living space for you and your French Bulldog."],"Regular Vet Check-Ups":["Regular veterinary check-ups are a cornerstone of Aroma Management for your French Bulldog. These visits are essential not only for their overall health but also for addressing potential odor-related issues","Schedule routine vet visits for comprehensive health assessments. Your veterinarian can detect underlying health problems that may contribute to unpleasant odors.","Address any identified health issues promptly. Skin conditions, allergies, or infections can be a source of persistent odors. Your vet can provide guidance on appropriate treatments and management strategies.","Seek professional advice if you notice persistent odors despite following other aroma management techniques. Your vet can investigate and offer tailored solutions.","Keeping your Frenchie's vaccinations and preventatives up to date is equally crucial. Preventing diseases and parasites not only ensures their well-being but also helps maintain a healthier, odor-free pet.","A healthy French Bulldog is less likely to have odor problems, so prioritize regular vet check-ups to keep them in top shape."],"Natural Remedies":["Exploring Natural Remedies is an eco-friendly and effective approach to aroma management for your French Bulldog. These solutions can complement your efforts to keep your furry friend smelling fresh.","Consider natural odor-neutralizing options such as activated charcoal or bamboo charcoal bags. These natural absorbents can help eliminate unwanted scents in your home.","Use pet-safe air fresheners or diffusers that emit natural fragrances like lavender or eucalyptus. These aromas can create a pleasant environment without the use of harsh chemicals.","Aromatherapy is another intriguing option. Essential oils like lavender or chamomile, when used cautiously and in moderation, can help maintain a soothing and pleasant atmosphere.","Baking soda is a well-known natural deodorizer. Sprinkle it on carpets, furniture, or other odor-prone areas, let it sit, and then vacuum it up to neutralize smells effectively.","For the best results, consider combining these natural solutions with Paw.com's quality products. Their expertise in pet care can help you achieve a harmonious and aromatic living space for both you and your French Bulldog."],"Final Thoughts":["In your journey to maintain a delightful aroma for your beloved French Bulldog, you've explored an array of effective strategies. These tips, ranging from proper grooming to natural remedies, offer a holistic approach to Aroma Management that ensures a fresh and pleasant environment for both you and your furry companion.","Remember, consistency is key. Regular grooming, a balanced diet, dental care, and a clean living space all contribute to a harmonious atmosphere. Seeking professional veterinary care and exploring natural remedies further enhance your efforts.","As you implement these strategies, consider the advantages of Paw.com's quality pet care products. Their specially designed shampoo, conditioner, pet wipes, and beauty kit can elevate your aroma management routine, providing convenience and effectiveness.","So, in conclusion, take these valuable insights and make them a part of your daily routine. By doing so, you'll not only ensure that your French Bulldog smells fresh and delightful but also enjoy the rewards of a stronger bond with your cherished companion. Here's to an odor-free and joyful journey with your Frenchie!"]}},{category:["Recent","Health And Beauty","Stories"],image:Tm,title:"Dogs have an Interest in Smelling Your Breath?",description:"Why Does Your Dog Have an Interest in Smelling Your Breath?",introduction:"You've probably noticed your furry friend curiously sniffing at your breath. It's a behavior as intriguing as it is common, leaving many dog owners like you wondering about the reason behind it. This quirky habit ties deeply into the unique bond you share with your dog, largely influenced by their extraordinary sense of smell. In this exploration, we'll delve into the fascinating world of canine olfaction and its connection to your breath. Alongside, we'll introduce you to the benefits of Paw.com's quality shampoo and conditioners for your dog's wellbeing. Keep reading to uncover the intriguing reasons behind your dog's interest in your breath and how it strengthens the bond you share.",headingsAndParas:{"Behavioral Reasons: Why Dogs Smell Human Breath":["Dogs are naturally curious creatures. Their instinct drives them to explore their environment through scent. Smelling human breath is part of this exploratory behavior, offering them insights into their human's world."],"Detecting Health Issues:":["While not medical professionals, dogs have an uncanny ability to detect health issues through breath. They can pick up on changes in scent that might indicate a health concern. However, this should never replace professional medical advice."],"Bonding: Scent Recognition and Familiarity:":["Scent plays a crucial role in the bonding process between dogs and humans. By smelling your breath, dogs recognize and familiarize themselves with your unique scent. This builds a deeper connection and trust."],"Reliance on Scent for Information:":["Dogs rely heavily on their sense of smell to gather information. Your breath tells them about your recent activities, stress level, and even what you've eaten. This information helps them understand you better."],"Affection Sign:":["When your dog smells your breath, it's often a sign of affection. They are seeking closeness and connection. This behavior is a dog's way of saying, --I care about you and want to know you better.--"],"Health and Hygiene: What Your Breath Tells Your Dog":["Changes in your diet often result in changes in your breath. Dogs can detect these changes. They might react differently if your breath suddenly smells unfamiliar."],"Sensing Hormonal Changes:":["Dogs can sense hormonal changes in humans through their breath. This includes changes due to stress, illness, or even pregnancy. Their reaction to these changes can vary based on their bond with the person."],"Oral Hygiene and Breath Scent:":["Oral hygiene plays a role in the scent of your breath. Dogs can detect the differences between fresh breath and the scent of an unhealthy mouth. This might affect their behavior and reactions towards you."],"Environmental Impact on Human Breath:":["Environmental factors like pollution, smoke, or strong odors can alter the scent of your breath. Dogs notice these changes and may react by sniffing more intently or showing concern."],"Responses to Health Conditions:":["Dogs respond differently to various human health conditions detected through breath. While they might not understand the specifics, they often show changes in behavior, such as increased attentiveness or concern."],"Training and Behavior Modification Techniques":["Training your dog to respond appropriately to smelling breath is achievable. Start by gently discouraging them when they invade your personal space and rewarding them when they respect boundaries."],"Positive Reinforcement Methods:":["Positive reinforcement is effective in shaping your dog's behavior. Offer treats, praise, or playtime when your dog obeys your commands regarding breath-smelling."],"Setting Boundaries:":["It's important to teach your dog when it's acceptable to smell your breath. Consistent commands like 'no' or 'back' can help establish these boundaries."],"Consistency in Training:":["Consistency is key in training. Ensuring everyone in the household follows the same rules and commands helps your dog learn and adhere to the desired behavior."],"Role of Professional Trainers:":["Sometimes, professional trainers or behaviorists are needed. They can offer specialized techniques and advice, especially for dogs who are overly fixated on smelling breath. Paw offers high-quality shampoo and conditioner for dogs. These products are designed to keep your dog's coat and skin healthy. A well-groomed dog is more pleasant to interact with, especially when they're close enough to smell your breath."],"Benefits of High-Quality Grooming Products:":["Using quality grooming products has multiple benefits. It keeps your dog's coat shiny and skin healthy. This can reduce shedding and skin irritations, making them more comfortable and less likely to seek out strong scents to mask their discomfort."],"Impact of Grooming on Scent Detection:":["Regular grooming can affect a dog's scent detection abilities. A clean dog is more sensitive to scents, as there are fewer competing odors from their own body. This sensitivity can enhance their ability to detect subtle changes in your breath."],"Tips for Maintaining Coat and Skin Health:":["Regular grooming is key. Brush your dog's coat to remove dirt and loose fur. Bathe them with Paw.com shampoo and conditioner to keep their skin healthy. Check for any signs of skin problems and address them promptly."],"Dog's Hygiene and Human Interactions:":["A dog's hygiene directly affects their interactions with humans. A clean dog is more pleasant to be around, encouraging closer interactions. This closeness allows dogs to better understand and respond to the scents associated with their human companions."],"Embracing the Canine Sense of Smell":["Dogs show a keen interest in smelling human breath due to their advanced olfactory capabilities. This behavior is more than just curiosity; it reflects a deep connection between dogs and their human companions. Understanding this can lead to greater awareness of not only their health but also ours.Quality products, like Paw.com's shampoo and conditioners, play a vital role in maintaining this sensory bond by ensuring dogs remain healthy and their sense of smell sharp. Appreciating and understanding these unique behaviors enrich our relationship with our canine friends, allowing us to see the world through their extraordinary sense of smell."]}},{category:["Grooming","Recent","Health And Beauty","Tips And Tricks"],image:Cm,title:"When to Bath your pets",description:"How Often Should You Bathe Your Dog?",introduction:"You're on a mission to figure out the best bathing routine for your furry companion, aren't you? Every dog is unique, and so are their bathing needs. It's not just about keeping them clean; it's about understanding their skin type, coat, and lifestyle. Are they a playful pup who loves rolling in the mud or a laid-back lounger? Do they have a luxurious long coat or a sleek short one? This article dives into these nuances, offering insights into how often you should bathe your dog for optimal health and happiness. So, keep reading to unlock the secrets of the perfect doggy bath time!",headingsAndParas:{"The Role of Dog's Lifestyle in Bathing Frequency":["The lifestyle of your dog plays a crucial role in determining how often they need a bath. Indoor dogs might not need frequent baths compared to outdoor dogs who are more prone to getting dirty and accumulating odors."],"Effect of Exercise and Play Habits on Dirt Accumulation":["Active dogs who enjoy swimming, hiking, or playing in muddy areas may require more frequent baths. It's important to clean off irritants like salt or pool water from their skin and fur, even if it's just a quick rinse."],"Seasonal Considerations for Bathing":["Seasonal changes can affect your dog's bathing schedule. For example, dogs might need more frequent baths during warmer seasons when they are more active outdoors, compared to colder seasons when they might stay indoors more often."],"Managing Odors and Dirt in Active Dogs":["For dogs that are particularly active and prone to getting dirty, it's essential to manage odors and dirt effectively. This might mean more frequent baths or using specific products designed for odor control."],"Choosing the Right Bathing Products":["Using high-quality shampoos and conditioners is essential for maintaining your dog's coat health. These products are specially formulated to cater to the needs of different coat types and to avoid stripping the natural oils from your dog's skin."],"Understanding Ingredients: What to Look for and What to Avoid":["It's important to understand the ingredients in dog grooming products. Look for products that are free from harsh chemicals and are formulated for specific coat types or skin conditions. Always read the labels and follow the instructions for the best care of your dog's coat."],"Customizing Products to Your Dog's Needs":["Customizing grooming products to your dog's specific needs is crucial for optimal care. For instance, dogs with sensitive skin might benefit from hypoallergenic or oatmeal-based shampoos. Similarly, dogs with dull coats might need products with brightening agents. Tailoring these products to your dog's unique needs can significantly improve their skin and coat health."],"Tips for a Sustainable and Eco-friendly Bathing Routine":["Creating a sustainable and eco-friendly bathing routine for your dog is essential. Opt for biodegradable shampoos and conditioners, use water efficiently, and consider using reusable towels for drying. These practices not only benefit your dog but also contribute to environmental conservation."],"Step-by-Step Guide to Bathing Your Dog":["Gathering the right supplies is the first step in bathing your dog. Select a suitable shampoo specifically formulated for dogs. Choose a comfortable location, preferably where your dog feels at ease. Ensure you have towels, a non-slip mat, and a brush. A detachable shower head or a large cup can be helpful for rinsing. Remember, the right tools set the stage for a successful bath.","Creating a calming atmosphere is equally significant. Dogs often sense and respond to your emotions. Approach the bath with a calm and positive attitude. Softly speaking and gently petting your dog can help alleviate their anxiety."],"Proper Techniques for Wetting, Shampooing, and Rinsing":["Gentle wetting of your dog\u2019s coat is crucial. Use lukewarm water, and start from the back, gradually moving to other areas. Avoid direct water on the face or ears. This method prevents discomfort and eases your dog into the bathing process.","Effective shampooing involves applying dog shampoo in small amounts. Massage it gently throughout the coat, creating a lather. Be attentive to avoid sensitive areas like the eyes and ears.","Thorough rinsing is necessary to remove all soap residues. Leftover shampoo can irritate the skin. Ensure that the water runs clear before concluding this step."],"How to Make Bath Time Enjoyable for Your Dog":["Incorporating play and treats can turn bath time into a fun experience. Utilize toys or treats to create positive associations. This approach can significantly reduce stress and make future baths easier.","Praise and reassurance throughout the process reinforce good behavior. Continuous comforting words and gentle strokes can help your dog relax."],"Drying Your Dog Post-Bath: Best Practices":["Towel drying is an effective method to remove excess water. Patting, rather than rubbing, helps to prevent tangling or matting of the fur. A high-quality, absorbent towel can make this process quicker and more comfortable.","Using a hairdryer should be done with caution. If choosing this method, use a low heat setting and constantly move the dryer to avoid overheating any area. Always observe your dog\u2019s reaction to ensure they are comfortable."],"Importance of Regular Grooming Alongside Bathing":["Regular grooming maintains your dog\u2019s coat health. Brushing frequently keeps the fur free of tangles and reduces shedding. It also helps to distribute natural oils, promoting a shiny and healthy coat.","Nail trimming and ear cleaning are essential grooming tasks that should not be overlooked. Regular maintenance of these areas prevents health issues and contributes to overall well-being."],"Maintaining Your Dog\u2019s Coat Between Baths":["Regular brushing not only keeps your dog\u2019s coat shiny but also helps to remove dirt and reduce shedding. Use a brush suitable for your dog\u2019s coat type. Gentle, consistent strokes will efficiently remove loose fur and debris.","Using pet wipes for spot cleaning offers a quick solution for cleaning your dog without a full bath. They are especially useful for cleaning paws or underbelly after a walk."],"Managing Shedding and Preventing Matting":["Routine brushing is your best tool against shedding and matting. For breeds with long hair or prone to tangles, consider using a detangling spray or conditioner.","Trimming hair around paws and ears can also help manage matting. Regular trims prevent knots and keep these sensitive areas clean."],"Diet and Nutrition for a Healthy Coat":["A balanced diet rich in omega fatty acids supports a healthy coat. Foods containing fish oil or flaxseed oil can contribute to the coat\u2019s shine and overall health.","Consulting a veterinarian about your dog\u2019s diet ensures they get the necessary nutrients. A vet can recommend specific foods or supplements tailored to your dog's needs.","Knowing when to use these kits is key. They are particularly useful for breeds requiring more intensive coat maintenance or after activities that leave your dog\u2019s coat unusually dirty or tangled."],"Pamper Your Pooch: Ensuring a Happy, Healthy Coat":["Discovering the ideal bathing frequency for your dog balances cleanliness with natural coat health. Each dog is unique, and their bathing needs vary based on coat type, lifestyle, and skin sensitivity. Regular, but not excessive, bathing keeps their coat in prime condition while preserving essential oils. Selecting quality products is paramount in this process. Using shampoos and conditioners specifically designed for dogs safeguards their skin and fur.","A tailored approach to grooming is more than a luxury; it's a necessity. Understanding your dog\u2019s individual needs ensures their coat stays lustrous and healthy. For instance, active dogs or those with longer fur might need more frequent grooming to prevent matting and dirt accumulation.","Exploring products from Paw.com can enhance your dog grooming routine. Their range offers specialized solutions, catering to different coat types and grooming requirements. By choosing the right products, you provide your dog with a spa-like experience right at home."]}},{category:["Grooming","Animal News","Recent","Tips And Tricks"],image:Im,title:"How often should you Tend to Your Dog's Coats",description:"How Often Should You Tend to Your Dog's Coats?",introduction:"Welcome, dog lovers! Are you curious about how often to groom your furry friend's coat? Every dog's coat is unique, requiring specific care. From the sleek short-haired breeds to the fluffy giants, each demands a distinct grooming routine. We'll explore how your dog's breed and lifestyle influence their grooming needs. Plus, get a sneak peek at Paw.com's innovative grooming products. Our guide aims to offer straightforward advice on maintaining your dog's coat health. Keep reading to uncover the secrets of perfect dog coat care.",headingsAndParas:{"Understanding Your Dog\u2019s Coat Type":["Dogs come in a variety of coat types, including smooth, double, curly, wire, and long. Each type has unique grooming needs. For smooth coats, regular wiping and occasional brushing suffice. Double coats, seen in breeds like Huskies, require more frequent, thorough brushing to manage shedding. Curly coats, typical in Poodles, demand regular brushing to prevent mats and tangles. Wire coats, found in breeds like Terriers, need stripping and brushing to maintain texture. Lastly, long coats, like those of Shih Tzus, require daily brushing to avoid knots and tangles.","The grooming needs of your dog largely depend on their coat type. Smooth coats are low maintenance but still need care to keep the fur glossy and skin healthy. Double coats require attention during shedding seasons to prevent matting. Curly coats can quickly become tangled if not regularly maintained. Wire coats need specific grooming techniques to preserve their texture. Long coats demand the most attention to prevent severe matting and skin issues.","For smooth coats, Paw.com recommends gentle shampoos and light brushing tools. Double coats benefit from sturdy brushes and undercoat rakes. For curly coats, a detangling spray and a slicker brush work wonders. Wire coats do well with firm bristle brushes and specialized grooming tools. For long coats, consider a combination of wide-tooth combs and soft bristle brushes.","Common challenges include matting in curly and long coats, heavy shedding in double coats, and maintaining the natural texture in wire coats. Solutions involve regular grooming sessions, using the right tools, and patience during grooming."],"The Role of Bathing in Dog Grooming":["Bathing frequency varies with a dog's lifestyle and activity level. Active, outdoor dogs may need more frequent baths, while indoor dogs might require less. The key is to bathe your dog as needed, avoiding over-bathing which can strip natural oils from their skin.","Using the right shampoo and conditioner is crucial. Choose products that match your dog's skin type and coat condition. Paw.com's quality shampoo and conditioner are formulated to maintain the health of your dog\u2019s skin and coat, leaving them clean and soft.","For a stress-free bathing experience, introduce your dog to water and bathing gradually. Use lukewarm water and avoid getting water directly in their ears or nose. Reward them for good behavior during and after the bath to create positive associations.","Signs your dog needs a bath include noticeable dirt, a dull coat, and an unpleasant odor. Regular grooming helps you stay on top of your dog's bathing needs."],"Brushing: More Than Just Fur Care":["Regular brushing is vital for maintaining your dog's coat health. It removes dead hair, distributes natural oils, and keeps the coat shiny. Each coat type requires a different kind of brush. For shinier coats, a soft bristle brush works well. Double coats benefit from a slicker brush and an undercoat rake. For curly coats, use a slicker brush or a steel comb. Wire coats are best maintained with a firm bristle brush. Long coats require a wide-tooth comb and a pin brush.","Brushing frequency depends on the coat type. Smooth and wire coats may require weekly brushing, while double, curly, and long coats often need daily attention to prevent mats and tangles.","Effective brushing techniques involve starting at the head, moving towards the tail, and then down the legs. Always brush in the direction of hair growth. Be gentle to avoid irritating the skin."],"Nail Trimming and Paw Care":["Regular nail trimming is a key part of dog grooming. Long nails can cause discomfort and even pain for your dog. They can lead to problems walking or running. Trimming your dog\u2019s nails requires a specific nail clipper. Start with small cuts to avoid cutting the quick, which can lead to bleeding. Familiarize your dog with the process slowly to reduce stress.","Paw care involves more than nail trimming. Check your dog's paws regularly for injuries or cracks. Look between the toes and under the paw pads. Paw.com pet wipes are useful for keeping paws clean. They help remove dirt and reduce the risk of irritation.","Signs that your dog\u2019s paws need attention include limping, constant licking of the paws, or visible debris stuck in the paw pads. Regular checks and cleaning can prevent these issues."],"Ear and Eye Care Essentials":["Cleaning your dog's ears and eyes is a vital grooming task. Ears should be cleaned with a gentle, dog-specific cleaner. Use a cotton ball or a soft cloth to wipe the external ear. Avoid putting anything into the ear canal. Eyes can be gently wiped with a soft, damp cloth to remove any discharge or crust","Check and clean these areas as part of your regular grooming routine. Frequency depends on your dog's breed and environment. Dogs prone to ear infections or with long hair that traps debris may need more frequent cleaning.","Signs of ear and eye problems include redness, swelling, discharge, or an unpleasant odor. Consult your vet if you notice any of these symptoms.","For ear and eye care, avoid harsh chemicals. Paw.com recommends gentle, safe cleaning products specifically designed for dogs."],"Dental Hygiene for Dogs":["Maintaining your dog's dental health is essential. Dental problems can lead to more serious health issues. Brush your dog\u2019s teeth daily  with a canine-specific toothpaste and tooth brush. Start slowly to get your dog used to the process. Daily brushing is ideal, but even a few times a week can make a significant difference.","Signs of dental health issues include bad breath, difficulty eating, or visible tartar buildup. Regular checks can help spot these problems early."],"A Happy, Healthy Dog is a Well-Groomed Dog":["Regular grooming goes beyond keeping your dog looking good; it's a cornerstone of their overall well-being. Each dog is unique, requiring a grooming routine tailored to their specific needs. The right tools and products, like those from Paw.com, play a crucial role in effective grooming. They make the process easier and more enjoyable for both you and your pet. Consistency in grooming routines ensures your dog stays clean, comfortable, and happy. Beyond the health benefits, grooming sessions are opportunities for bonding, enhancing the special connection you share with your pet. The joy and satisfaction of nurturing a well-groomed dog reflect the love and care you invest in their happiness and health."]}},{category:["Animal News","Recent","Health And Beauty","Stories","Tips And Tricks"],image:Em,title:"Excessive Sleeping Habits",description:"Top 10 Reasons Behind Dogs' Excessive Sleeping Habits",introduction:"Have you ever pondered why your adorable, furry companion seems to be in a perpetual state of slumber? It's a fascinating world, understanding why dogs sleep the way they do. Just like us, their sleep is influenced by a myriad of reasons \u2013 a mesmerizing blend of age-related changes, distinct breed-specific traits, dietary habits, and even their emotional state.Each of these elements weaves its own narrative in the tapestry of your dog's sleep pattern, influencing not just the duration but also the quality of their rest. Dive into this enlightening journey as we unveil the top 10 reasons behind your dog's excessive sleeping habits. Along the way, you'll gain insights on how to enhance their sleep, ensuring they enjoy the most peaceful and rejuvenating rest.",headingsAndParas:{"Age-Related Changes in Sleep":["As dogs age, their sleep habits evolve significantly. Older dogs often require more sleep than their younger counterparts. This tendency can be attributed to a natural decline in energy levels as they grow older. Senior dogs might also face various physical health challenges that necessitate more frequent or prolonged rest periods. While these issues may not always be overtly visible, they can significantly influence sleep patterns.","Comfortable sleeping arrangements become increasingly vital for older dogs. Hard surfaces can exacerbate discomfort in aging joints and muscles. Orthopedic beds are especially beneficial in these scenarios, providing the necessary support and comfort. These beds offer a delicate balance of softness and firmness, helping to alleviate discomfort and facilitate deeper, more restorative sleep."],"Breed-Specific Sleeping Traits":["Different dog breeds exhibit unique sleeping characteristics. Certain breeds are genetically predisposed to sleep more. For example, larger breeds like Great Danes and Mastiffs generally require more sleep than smaller breeds such as Terriers or Chihuahuas.","The level of physical activity a breed typically engages in can also influence their sleep requirements. More active breeds may need less sleep, while less active breeds might spend a larger portion of their day resting. Tailoring the sleep environment to cater to these breed-specific needs is essential to ensure optimal rest."],"Diet and Nutrition":["The diet of a dog plays a crucial role in its sleep habits. Foods high in specific nutrients can boost energy levels, whereas others might induce lethargy. The quantity of food is just as important as the quality; overfeeding can lead to weight gain, which in turn can disrupt a dog's sleep patterns.","A balanced diet is key to maintaining regular sleep patterns. Ensuring that your dog receives the right balance of nutrients can help prevent excessive sleepiness. Changes in a dog's sleeping habits could be a signal to review and possibly adjust their diet."],"Exercise and Activity Levels":["There is a clear connection between a dog's level of exercise and their sleep patterns. Regular physical activity is crucial for maintaining a healthy sleep schedule. Dogs that get sufficient exercise typically have more regular sleep patterns, while those with insufficient activity might experience disrupted sleep.","Beyond physical health, daily walks and playtime also contribute to mental well-being. Insufficient exercise can lead to behavioral changes, including increased sleep. Therefore, a balanced routine that includes both physical and mental stimulation is important for promoting better sleep habits."],"Health Issues and Sleep":["Various health problems can lead to increased sleep in dogs. It's important to be vigilant for changes in sleeping patterns, as these can be early indicators of underlying health issues. Regular veterinary check-ups can help identify and manage any health conditions that might be affecting your dog's sleep.","Effective management of health issues often results in improved sleep. Furthermore, a comfortable bed can aid in recovery and rest. A well-supported bed provides a cozy spot for your dog to recuperate and relax, which could potentially improve their sleep quality.","You may also like: Why Dogs Yawn, and When to Pay Attention"],"Mental Stimulation and Sleep":["Mental engagement directly affects a dog's sleep. A stimulated mind can lead to a more balanced sleep pattern. On the flip side, boredom can often result in excessive sleeping. It's a subtle balance; keeping your dog's mind active without overstimulating them is key. Interactive toys and activities play a significant role in this. They not only entertain but also challenge your dog's cognitive abilities.","Training and mental exertion are closely linked to sleep quality. Regular training sessions provide mental exercise, which can help regulate sleep patterns. It's not just about physical tiredness; a mentally stimulated dog is likely to have a more fulfilled, restful sleep. Maintaining mental health is essential for balanced sleep patterns, as it ensures that your dog's mind is as active and engaged as their body."],"Environmental Factors":["The environment in which a dog sleeps greatly influences the quality of their rest. A quiet, safe sleeping area is fundamental. Dogs, much like humans, need a space that feels secure and comfortable. The temperature of this space is also critical. A room that's too hot or too cold can disrupt sleep.","Having a dedicated sleep space is vital. This area should be exclusively for your dog to relax and sleep. An orthopedic bed from Paw can significantly enhance this environment. These beds provide the right support and comfort, aiding in better sleep quality."],"Seasonal and Weather-Related Influences":["Seasonal changes often impact a dog's sleep patterns. In colder months, you might notice your dog sleeping more. The chilly weather naturally induces a desire for more rest. Conversely, during hotter periods, dogs might find it harder to sleep comfortably.","The amount of daylight also plays a role in regulating a dog's sleep. Longer days can lead to changes in sleep patterns. Adapting the sleep environment with these seasonal changes in mind is important. It ensures that regardless of the weather or season, your dog has a comfortable place to rest."],"Emotional Well-Being and Sleep":["Emotional well-being is deeply intertwined with sleep. Stress and anxiety can significantly disrupt a dog's sleep pattern. Signs of emotional distress might manifest in altered sleeping habits. Creating a stable, loving environment is essential in mitigating these issues.","There are various techniques to alleviate anxiety and improve sleep. Consistent routines, comforting presences, and familiar objects can all contribute to a sense of security. The role of comfort and security in emotional health cannot be understated, especially when it comes to quality of sleep."],"Social and Family Dynamics":["The dynamics within a household can affect a dog's sleep. Changes in the family routine, such as a new work schedule or the addition of a family member, can disrupt a dog's sleep pattern. Dogs are sensitive to these changes and may need time to adjust.","The interaction with other pets can also influence sleep. Socialization plays a crucial role in regulating sleep. Dogs that are well-socialized and interact regularly with other pets or people often have more regular sleep patterns. Creating a harmonious environment, where a dog feels a part of the family dynamics, is key to promoting better sleep."],"Enhancing Your Dog's Sleep Quality for a Healthier, Happier Life":["Delving into the top 10 reasons behind dogs' excessive sleeping habits, we discover a fascinating world where mental stimulation and environmental factors play crucial roles. For you, the dedicated owner, grasping and shaping these elements is key to boosting your furry friend's sleep quality. Embracing a holistic approach to their overall health, which encompasses everything from their diet and exercise to their emotional well-being, can dramatically transform their life."]}},{category:["Fun","Recent","Health And Beauty","Stories","Tips And Tricks"],image:Am,title:"Breeds that Love to Sleep A Lot",description:"Top Dog Breeds That Love to Sleep A Lot",introduction:"You've noticed how your furry friend snuggles into a cozy ball and drifts into dreamland, but have you ever wondered why some dogs seem to sleep more than others? In this blog we dive into the fascinating world of dog sleeping patterns. Each breed has its unique sleep needs, and understanding these can greatly enhance your pet's well-being. In this journey, we'll introduce you to breeds that cherish their nap times more than most. We'll also explore how creating a comfortable sleeping environment, especially with Paw orthopedic dog beds, can significantly improve your dog's sleep quality. So, keep reading to learn more about your sleepy companion's world.",headingsAndParas:{"Cavalier King Charles Spaniel":["A lap dog that enjoys sleeping, especially when near their owner.","Adequate sleep is crucial for the health and well-being of small dog breeds. It helps in their overall development, maintains their energy levels, and supports their immune system.","Creating a comfortable sleeping environment is key. Soft beds, quiet spaces, and maintaining a regular sleep routine can help small breeds get the rest they need."],"Medium Breeds That Cherish Nap Time":["Medium-sized breeds like the Chow Chow and Basset Hound have distinct sleep needs. While they may not sleep as long as some smaller breeds, they still enjoy their rest and require a comfortable environment to do so.","Chow Chow: Prefers solitary naps and has a cat-like temperament.","Basset Hound: Known for sleeping a lot, anytime and anyplace.","Bulldog: Enjoys naps and is a suitable companion for lazy days.","Dogue de Bordeaux: A large breed known for its laid-back nature and love of sleep.","Irish Wolfhound: Despite its size, this breed enjoys long periods of rest.","The activity level of a dog can influence its sleep patterns. Medium-sized breeds with lower energy levels may sleep more than those with higher energy levels.","Medium breeds benefit from spacious beds that accommodate their size and provide enough room for comfortable stretching."],"Large Breeds with a Passion for Slumber":["Large dog breeds, while they might appear imposing and active, often harbor a deep-seated love for sleep. Unlike smaller breeds, these canine giants expend a considerable amount of energy simply by carrying their bulk. Therefore, they tend to compensate with extended periods of rest. Breeds like the Irish Wolfhound and Great Dane are known for their relaxed nature, often preferring leisurely lounging over intense activities.","Great Dane: Despite their size, Great Danes are often happy being couch potatoes, needing only moderate exercise.","Irish Wolfhound: The tallest of all dog breeds, these gentle giants are known for their love of lengthy sleep sessions.","Saint Bernard: Originating from the Swiss Alps, Saint Bernards are known for their calm disposition and tendency to sleep for extended periods.","Mastiff: One of the oldest dog breeds, Mastiffs are renowned for their love of sleep, often resting up to 18 hours a day.","Bullmastiff: Similar to Mastiffs, Bullmastiffs are large dogs that enjoy sleeping, often seeking comfortable spots to relax.","For large breeds, adequate sleep is vital for maintaining their health. Their large bodies require more energy for basic functions, and sleep helps in muscle repair, growth, and overall well-being. It is crucial for these breeds to have a comfortable and quiet sleeping environment to ensure they get the rest they need.","Creating an ideal sleeping environment is essential for large breeds. This includes a quiet, cozy area with a large, supportive bed. Regular exercise tailored to their needs is also important, as it helps them to relax and sleep better."],"Age and Sleep: Puppies vs. Senior Dogs":["Puppies and senior dogs have different sleep needs compared to adult dogs. Puppies, with their boundless energy, may sleep in short bursts but require more total hours of sleep for growth and development. In contrast, senior dogs often need longer, uninterrupted sleep sessions to help with their aging bodies.","As dogs age, their sleep patterns change. Senior dogs might experience more fragmented sleep due to discomfort or health issues. Understanding these changes can help owners adjust their care routine to ensure their pets are comfortable and well-rested.","Caring for dogs at different life stages involves understanding their unique sleep needs. Puppies might need a safe space to retreat to for frequent naps, while senior dogs may require beds that offer more support and ease for their joints.","Regardless of age, all dogs benefit from supportive bedding. Quality beds like those offered by Paw can provide comfort and support, catering to the specific needs of puppies, adults, and senior dogs alike.","Paw beds are designed to cater to dogs of all ages. Their beds offer the right blend of comfort and support, helping to ensure restful sleep, which is crucial for a dog's overall health and happiness."],"Health and Sleep: The Connection":["Sleep is a crucial aspect of a dog's health. It not only affects cognitive and physical performance but also influences the immune response and pain sensation. Adequate sleep is essential for maintaining a dog's overall well-being, as disturbances in sleep patterns can increase the risk of diseases. For instance, dogs that sleep more during the day are generally more relaxed and appear happier, indicating the positive effects of proper rest."],"Common Health Issues in Dogs Related to Poor Sleep":["Various sleep disorders can affect dogs. For example, narcolepsy, characterized by excessive daytime sleepiness and sudden physical falls, can be particularly distressing. Additionally, REM sleep behavior disorder, where dogs exhibit violent movements and odd behaviors during sleep, is also common. These conditions highlight the importance of monitoring your dog's sleep patterns for any irregularities."],"The Role of Diet and Exercise in Promoting Good Sleep":["The amount of exercise a dog gets directly impacts their sleep quality. Active dogs tend to fall asleep more easily and enjoy restful sleep, whereas those with insufficient exercise may experience restlessness. Therefore, ensuring your dog gets enough physical activity is vital for promoting good sleep."],"Signs of Sleep Disorders in Dogs":["Signs that your dog might not be sleeping well include increased twitching during sleep, breathing issues (especially in brachycephalic dogs), jerking or sudden movements, and changes in sleeping patterns due to new routines or surroundings. If you observe any of these signs, it's advisable to consult a veterinarian"],"Ensuring Health and Comfort with Paw Beds":["For optimal sleep, dogs need a comfortable and supportive bed. Paw beds are designed to cater to the varying needs of dogs, providing the necessary support for a restful sleep, which is crucial for their health and happiness."],"Creating the Perfect Sleep Environment":["Creating an ideal sleeping environment for your dog involves ensuring the area is quiet, comfortable, and secure. The bed should be supportive and the area free from excessive noise and disturbances.","The Role of Bedding in Quality SleepHigh-quality bedding is essential for a good night's sleep. It should provide enough support to the dog's body, particularly for those with joint issues, where adequate rest can alleviate pain and promote healing."],"Temperature, Noise, and Light Considerations":["The sleeping environment should have an appropriate temperature and minimal noise and light interference to avoid disrupting the dog's sleep. Sudden noises or bright lights can significantly impact the quality of rest."],"The Benefits of Routine and Consistency":["Dogs benefit from a consistent routine, as it helps them feel secure and understand when it's time to sleep. Establishing a regular sleep schedule can greatly improve the quality of their rest.","Selecting the right bed from Paw is crucial. Consider the size of your dog, their sleeping style, and any specific health needs they may have. A bed that suits their requirements will enhance their sleep quality and, in turn, their overall health."],"Embrace the Snooze with the Right Support":["In our exploration of dog breeds that love to sleep a lot we have unearthed the fascinating world of canine slumber. We've seen how different breeds, from tiny lap dogs to gentle giants, cherish their sleep. This journey underscores the pivotal role of sleep in a dog's life. It affects everything from their mood to their health. Just like us, our furry companions need a supportive sleeping environment. This can greatly enhance their quality of life.","It's essential to acknowledge the importance of a good night's rest for our dogs. We should strive to provide an environment that caters to their unique sleep needs. This includes considering factors likebreed, age, and health. For those searching for a solution, Paw orthopedic beds offer an excellent option. They are designed to support a variety of breeds, ensuring comfort and support tailored to each dog's specific needs. As dog lovers, it's our responsibility to ensure our pets have the best possible sleep experience. After all, a well-rested dog is a happy, healthy dog. Embrace the snooze and enhance your dog's sleep experience with the right support."]}},{category:["Recent","Health And Beauty","Stories","Tips And Tricks"],image:_m,title:"Dog Still Stink after a Bath",description:"Why Does My Dog Still Stink after a Bath?",introduction:"You love your furry friend, but the lingering smell after bath time can be a challenge. Persistent dog odors are more than just a nuisance; they signal a need for a deeper solution. In this guide, you'll find practical tips and targeted strategies to tackle those stubborn scents. From the underlying causes to the role of regular grooming, we'll explore it all. We'll also introduce you to paw's quality shampoo and conditioner, a game-changer in pet care. Keep reading to discover how to keep your home smelling fresh and welcoming, despite your dog's natural tendencies.",headingsAndParas:{"Differentiating Between Skin, Fur, and Environmental Odors":["Discovering the root cause of your dog's odor is key. Odors can originate from the skin, fur, or the environment. Skin issues often arise from allergies or infections, impacting the natural balance and leading to unpleasant smells. Fur, on the other hand, can trap odors from the environment, such as dirt or pollutants, which are accentuated when wet. Environmental factors also play a significant role, as dogs can absorb smells from their surroundings, including household scents or outdoor elements like grass."],"Common Health Issues Leading to Bad Smells":["Health problems can significantly contribute to a dog's odor. Issues like yeast or bacterial skin infections are common culprits. These conditions can cause an overgrowth of microorganisms, leading to a noticeable smell. Similarly, poor dental health or internal medical conditions, such as kidney disease or diabetes, can result in bad breath or other body odors."],"Impact of Diet on a Dog\u2019s Scent":["Diet plays a crucial role in a dog's overall health and scent. Poor dietary choices can lead to skin issues or digestive problems, which in turn affect a dog's odor. A balanced diet rich in essential nutrients contributes to healthy skin and fur, minimizing odors."],"The Role of Breed and Fur Type":["Certain breeds or fur types are more prone to developing odors. Breeds with dense fur or skin folds require special attention, as they can harbor bacteria and yeast more readily. Regular grooming and breed-specific care are essential to manage these odors."],"Importance of Veterinary Consultation for Persistent Odors":["If odors persist despite regular grooming and dietary adjustments, it's important to consult a veterinarian. They can diagnose underlying health issues and provide targeted treatments to address the specific causes of your dog's odor."],"Regular Grooming Techniques":["A consistent bathing routine using appropriate dog shampoos can significantly reduce odors. Shampoos with ingredients like lipids and ceramides help protect the skin and maintain its moisture balance."],"Choosing the Right Grooming Tools":["Selecting the right grooming tools, such as brushes and combs suitable for your dog's fur type, is essential. These tools help remove dirt, debris, and loose hair, which can contribute to bad odors."],"Techniques for Thorough Cleaning":["Thorough cleaning techniques involve not only bathing but also focusing on specific areas prone to odor buildup, such as ears, paws, and skin folds. Regular ear cleaning and paw care can prevent the accumulation of bacteria and yeast."],"Importance of Drying Your Dog Properly":["Proper drying post-bath is crucial. Moisture trapped in the fur or skin folds can lead to odor-causing bacteria and yeast growth. Ensure your dog is completely dry, especially in dense or folded areas."],"Benefits of Professional Grooming Services":["Professional grooming services offer thorough cleaning and grooming that might be challenging to achieve at home. They can also provide specialized services, such as anal gland expression, which can be a source of odor if not properly managed."],"The Role of Diet in Dog Odor":["A healthy diet influences skin health. Diets rich in essential fatty acids and vitamins can promote healthy skin and reduce the likelihood of skin conditions that cause odors."],"Recommended Foods for a Healthier Coat":["Foods high in omega-3 and omega-6 fatty acids, as well as those rich in antioxidants, can support a healthier coat and skin. These include certain fish, lean meats, and specific dog food formulations."],"Ingredients to Avoid in Dog Food":["Avoid ingredients that can trigger allergies or digestive issues, such as certain grains or artificial additives. These can exacerbate skin conditions and contribute to bad odors."],"Supplements for Skin and Coat Health":["Supplements like fish oil or biotin can enhance skin and coat health. However, it's important to consult a veterinarian before adding supplements to your dog's diet."],"How Hydration Affects Your Dog\u2019s Smell":["Adequate hydration is crucial for maintaining healthy skin and fur. Ensure your dog has constant access to fresh water, as dehydration can negatively impact skin health and contribute to odor issues."],"paw Quality Shampoo and Conditioner":["When it comes to maintaining a fresh-smelling canine companion, the choice of shampoo and conditioner is crucial. A high-quality product like those offered by paw can make a significant difference. These products are formulated to target the odors specifically emanating from dogs, addressing the root cause of the smell rather than just masking it.","paw products are designed with the unique needs of dogs in mind. They often include ingredients that are gentle on a dog's skin and coat but effective in neutralizing odors. Look for features such as natural ingredients, hypoallergenic properties, and a balanced pH that suits the specific skin condition of dogs.","For optimal results, it is important to use these products correctly. This typically involves wetting your dog\u2019s coat thoroughly, applying the shampoo, and massaging it in for deep cleaning. It's essential to rinse thoroughly to avoid any residue that might irritate your dog's skin. Follow up with a conditioner to keep the coat soft and manageable.","The ingredients in paw products are likely selected for their effectiveness against dog odors. Natural components such as essential oils, aloe vera, or oatmeal can be beneficial. These ingredients not only help in odor control but also promote healthy skin and coat.","When comparing paw products to others, consider factors like ingredient quality, price point, and customer reviews. While paw may offer specific benefits, other brands might also have unique features that suit different needs or preferences.","User testimonials can provide real-world insight into the effectiveness of paw products. Look for reviews that specifically mention the product's impact on dog odor, ease of use, and any skin or coat improvements."],"Home Remedies and Natural Solutions":["Homemade solutions can be effective in controlling dog odor. Baking soda, for example, is a natural deodorizer that can be sprinkled on carpets and upholstery to absorb odors. Vinegar solutions are also helpful in neutralizing the alkaline odors typical of pet stains.","Using natural ingredients in homemade solutions is beneficial as they are less likely to cause irritation to your dog\u2019s skin. Ingredients like apple cider vinegar and baking soda are not only effective but also safe for use around pets.","Essential oils can be strong deodorizers, but their safety profile is important. Some essential oils can be toxic to dogs, so it's crucial to choose pet-safe options and use them correctly.","Diet plays a significant role in how a dog smells. Homemade diets that include fresh, natural ingredients can help reduce odors from the inside out. However, it's important to ensure that any homemade diet is nutritionally balanced for your dog.","The environment in which your dog lives can also affect its odor. Regular cleaning of your home, including washing your dog\u2019s bed and toys, can help minimize odors. Air purifiers and regular grooming can also play a significant role in keeping your home smelling fresh."],"Achieving a Fresh-Smelling Home with Your Pet":["In our journey to banish persistent dog odors, we've explored a plethora of tips and strategies. Remember, the secret lies in persistence and consistency. Regular baths, using the right shampoos, and maintaining your pet's health are not one-time tasks but a continuous commitment.","paw products stand out as your allies in this quest. Their range, specifically designed for pet odors, can be a game-changer in your routine. We encourage you to try them and experience the difference they can make.","We're eager to hear from you! Your feedback and success stories are not just valuable to us; they help other pet owners navigate similar challenges. Sharing your experiences creates a community of informed and supportive pet lovers.","In conclusion, a stink-free environment with pets is not just a dream. It's an attainable reality. With the right approach, products, and a bit of effort, your home can remain as fresh and welcoming as ever, even with your furry friends around. Let's cherish our pets without compromising on a clean, fresh-smelling home."]}},{category:["Recent","Fun","stories"],image:Rm,title:"Reasons why you should take your Dog Work day",description:"14 Reasons Why Every Day Should Be Take Your Dog to Work Day",introduction:"The presence of office dogs tends to make for happier employees. This is likely because dogs have a positive influence on people\u2019s happiness overall. One explanation for this is that interacting with dogs raises oxytocin levels. Often called the love hormone,oxytocin is the feel-good hormone that promotes bonding and produces feelings of well-being.Taking care of dogs also often requires people to make lifestyle changes that improve both physical and mental health. The necessity of walking dogs forces people out into the fresh air and sunshine and increases their daily physical activity. It also increases their chances of social interaction with neighbors and other dog walkers. Dog parents tend to feel less lonely, are more relaxed and more likely to take time for leisure.Then again, maybe you don\u2019t need science to tell you that spending time around a cute bundle of wiggly joy just has a way of bringing a smile to your face and making you feel good. Discover more about why your pet needs to be taken out to work day by continuing to read on below.",headingsAndParas:{"14 Benefits of Pet Friendly Workplaces":["Studies show that allowing dogs in the workplace is equally beneficial for companies and their employees. But doggos also benefit from this happy arrangement. In addition to increasing happiness and improving health, here are 14 more pros of letting employees bring their pets to work."],"Reducing stress and burnout":["Both dog parents and their pet-free coworkers report feeling less stress in the workplace when dogs are present. Bringing their dogs to work also made life overall less stressful for pup parents compared to those who either leave their fur kids at home or with a doggie daycare."],"Improving concentration and creativity":["According to another study, interacting with dogs increases executive function in the brain \u2014 specifically, the ability to think, plan and focus. This improved brain function can lead to better job performance and innovation among employees."],"Increasing productivity":["While it may seem counterintuitive that employees needing to take more frequent breaks to care for their dogs would make them more productive, that is indeed the case. Taking mental breaks and getting in some movement can actually lead to greater overall productivity and better project engagement. Also, workers are more likely to stay longer to work on projects when they don\u2019t have to rush home to care for their pets."],"Saving time and money":["When employees are allowed to bring their pets to work, that frees them from spending money on pet sitters, dog walkers and doggie daycare. It also keeps them from having to run home on lunch breaks or between shifts to feed and walk their dogs."],"Boosting job satisfaction and workplace morale":["Along with the satisfaction that comes from improved job performance, pet parents who are allowed to bring their dogs to work tend to feel more valued by their employers and more connected to their company. Dogs at the workplace also help to foster a more lighthearted and fun work environment and to create a sense of camaraderie between coworkers."],"Benefits for Companies":["Boosting job satisfaction and workplace morale. Along with the satisfaction that comes from improved job performance, pet parents who are allowed to bring their dogs to work tend to feel more valued by their employers and more connected to their company. Dogs at the workplace also help to foster a more lighthearted and fun work environment and to create a sense of camaraderie between coworkers."],"Strengthening coworker and boss-employee relations":["Compared to workplaces that don\u2019t allow pets, those who work at pet-friendly companies are more than three times as likely to have a positive relationship with their coworkers, as well as with their bosses."],"Fostering team spirit":["Dogs and other pets in the office provide coworkers with more opportunities to talk to one another and get to know more about each other and their work. This can lead to the sharing of ideas and increased collaboration between workers and across teams and departments."],"Improving workplace attendance":["Employees who can bring their pets to work are less likely to miss work or be late due to pet-related issues and emergencies. And employees who are happier, healthier and more satisfied with their jobs are also less likely to take sick days or mental health days."]}},{category:["Recent","Fun","Health and Beauty"],image:Dm,title:"Ways to Show Your Pet You Love Them",description:" 5 Ways To Show Your Pet You Love Them",introduction:" Who loves you more than your pet? This Love Your Pet Day, show your pets the same love they show you every single day.But how do you show your furry friends that you appreciate them? You already know chocolate is a no-go, your pets can\u2019t read e-cards, and they wouldn't want a bouquet of flowers. Here\u2019s the good news - there are several ways to show your pets how much you love them they will appreciate. We'll highlight five ways to show your pet how much you love them, not just on Love Your Pet Day but every day.",headingsAndParas:{" Give them healthy food (but not too much food)":["Just like humans, pets do well when they have a healthy diet. Unfortunately, there is a lot of misinformation on what we should feed our pets. Our  blog has some helpful guidelines about what to feed your pup (and what not to feed them). The American College of Veterinary Nutrition is also a great resource. Always check with your vet before changing your cat or dog's diet."],"Take your pet for regular veterinary checkups":["Not many of us like visiting the doctor, and our four-legged friends are no different. But you can teach your pets to at least tolerate going to the vet by giving them treats each time to make the experience a little more enjoyable for them. It's important to take your dog or cat to the vet regularly to make sure they're getting the care and attention they need."]," Make sure they have proper identification and are microchipped":["Sometimes our pets wander a little too far for their own good. A great way to increase the chances of being reunited with our fur buds that have run away or gotten lost or stolen is to have them microchipped."],"Play together":["Some pets require lots of attention while others may look for more alone time. However, most pets are happy just to be by your side. Show your pet how much they mean to you by taking a break from your phone and spending quality time together in the form of playtime.\xa0Playing games provides your furry friends with mental and physical benefits. To keep your pet from getting bored, find a few activities, like hide-and-seek or fetch, that you enjoy playing with each other."],"Provide a safe, enriching, loving home":["Take a few extra minutes to cuddle with your fur pal. Cuddling with pets has health benefits for both pets and humans. Petting your dog or cat can release hormones, reduce anxiety and stress, and be very calming for both of you.Give your dog or cat an extra treat now and then to reward them and let them know they are a good boy or girl. Give them a cozy pet bed of their own to sleep in. Be slow to anger, quick to forgive, and cherish every moment you have with your beloved family members."]}},{category:["Recent","Fun"],image:Om,title:"Celebrate the Holidays wuth Your Pet",description:" How Do You Celebrate the Holidays with Your Pet?",introduction:"The holidays are naturally a time of year when we want to gather with friends and family, and so many of them are clustered around the late fall leading up to winter that we have plenty of opportunities. This time of year, of course, is when hours of daylight began to get shorter and shorter and, in times when we lived in a world lit only by fire, our human schedules tended to follow the Sun. But this is how the end of the year became the time to gather together, feast on the abundance the Earth (and our farmers) had given us, and remember that, despite the darkness, the Sun would be coming back in about three months. In modern times, with electric lights and what is effectively a year-round harvest, we\u2019ve lost those elements, but we still have the rituals and, if you\u2019re like the typical pet parents, you want to include your fur kids in the celebrations as much as possible..",headingsAndParas:{"Holiday PAWty time":["Of course, you don\u2019t have to limit your holiday gatherings to just your human friends and family, and a lot of people do throw holiday parties for their cats and dogs \u2014 although it\u2019s generally a good idea to hold these separately even if your own inter-species pack gets along famously.","As public events, these seem to be very popular in the UK for some reason, and in recent years, there have been events in London specifically for pugs, Pomeranians, and dachshunds, an upcoming canine Christmas Party at the interestingly named (to Americans) Watergate Caf\xe9 in Tyne and Wear, and, back in 2018, a pub party for dogs and their humans at Smith & Whistle, in which all guests were invited to wear their most festive holiday sweaters, regardless of number of legs.","Of course, your pet party can be a DIY affair in your own home with a hand-selected guest list \u2014 maybe inviting that bossy or aggressive dog isn\u2019t the greatest idea, but those mellow Lab twins and charming German shepherd will fit right in.","As with anything, knowing the personalities involved is the first key to creating the perfect guest list. If you have human kids, I\u2019m sure you\u2019ve gone through the same thing with birthday parties when your child insists on friends to not invite, and it\u2019s sort of the same thing with pets. It all comes down to We don\u2019t get along. The uninvited cats and dogs and their parents will not take it personally at all."],"Furry games":["Party games can be indoor or outdoor, although it all depends on the weather where you are. If you\u2019re under four feet of snow, then outdoor games are probably out of the question unless you want to challenge your dogs to some snow fetch \u2014 not a good idea if it\u2019s really powdery, though.","In more temperate climes, outdoor games can involve things like fetch; tug-of-war with teams of two dogs vying against each other in elimination rounds until the final playoff; obstacle course; catch the treat (exactly what it sounds like); flying disc; and on and on. You can find plenty of suggestions by searching online.","Indoor games, naturally, need to be more subdued, but they can also be more interesting. For example, have your dog show off their best party trick. Can they balance a treat on their nose? Walk on their back legs? Dance? Talk in seemingly real words? Play dead on command?","Whatever it is, select a panel of judges, have all the dogs show off their tricks, and then award medals (or treats and toys) to the top three.","For cats, use that cat tree for climbing to find the treat contests, or play a game of musical boxes \u2014 put boxes on the floor with one less box than the number of cats. The cat who doesn\u2019t manage to get into a box is eliminated. Remove one box and repeat until there\u2019s a winner.","A fun game that involves both pets and humans is How Well Do You Know Your Fur Baby? This can take on a few forms, but it basically involves predicting your dog\u2019s or cat\u2019s behavior, then testing it.","For example, have two hidden toy options, like a ball and a squeaky or a plush and a rope toy, then predict which one your dog or cat will go for first. (Remember: Neither is always an option.) You can do the same with things like standard pet treats \u2014 chicken stick vs. meaty treat \u2014 or even non-traditional items, like pet-friendly fruits and vegetables \u2014 cauliflower or broccoli; strawberry or melon.","The human with the most correct guesses wins.","Finally, you can always play hide-and-seek indoors with your pets. Well, your dogs mostly, because your cats won\u2019t look until they need food or clean litter. Designated non-players will keep the dogs in a certain room while the humans hide.","After a certain period of time, it\u2019s Unleash the hounds, with prizes going to the dog who finds their person the fastest, the one who finds their human in the most unlikely or difficult spot, and the Well, you tried, consolation prize to the dog who doesn\u2019t look or doesn\u2019t find at all.","Okay, so much for the parties. What about the gifts?"],"Time for the celebration":["Whether you throw them big parties and lavish them in gifts or just make them a holiday treat and keep it low-key, enjoying this time of year with your furry loved ones is just as important as spending that time with friends or family.","You\u2019re far from alone in doing it, and it really is a great way to reaffirm your love and appreciation. Your dog or cat may not understand exactly what\u2019s going on or why, but they are going to enjoy whatever it is you give them, as well as the chance to hang out with their fellow furry friends and have some fun.","So what do people get their pets for the holidays? A little bit of everything. Dog and cat toys are always very popular, and there are versions for every pet\u2019s preference, whether you have a dog who likes rubber squeaky toys, the challenge of a Kong, or a durable and long-lasting bone, or your cat is into fascinators, stuffed mice, or cat-nip stuffed balls. You can always find the perfect toy for your pet.","Don\u2019t forget the treats! These are always a very popular item \u2014 for gifter and giftee alike \u2014 so stock up on your pet\u2019s favorites and surprise them on Christmas morning.","There are also pet clothing and accessories, with the former being useful if you live in a very cold area and need to bundle your fur baby up before they go outside. Or is it time for a new collar, leash, or tags? The holidays are the perfect excuse to upgrade.","Another great gift idea that will keep on giving for a long time for your pets is a new bed and blanket, especially if the old one is starting to not look its best. But don\u2019t throw the old one out \u2014 it will make the perfect second bed so that your dog or cat has a comfy place to hang out in the family room.","If you want to make gift-giving extra fun, you can even wrap the presents and let your dog or cat open."]}},{category:["Recent","Health and Beauty","Nutrition Tips"],image:Fm,title:"Keep your Dogs Healthy and Happy",description:" How to Keep Dogs Healthy and Happy",introduction:" Most dogs will have at least one or two health issues during their lifetimes, regardless of their breed. But you can reduce your dog\u2019s risk of health issues by ensuring they have a preventive care routine, also known as a wellness plan. Here are some simple steps you can take to keep your dog healthy.Many people add a pet wellness plan to their insurance coverage once they realize how much they spend on dog teeth cleaning costs, flea medication, grooming services, and so forth. Most providers allow you to add it to your insurance policy at any time, but if you enroll while they\u2019re a puppy, you can be reimbursed for the expensive cost of vaccinations and spay/neutering.",headingsAndParas:{" Routine Vet Exams":[" Many people add a pet wellness plan to their insurance coverage once they realize how much they spend on dog teeth cleaning costs, flea medication, grooming services, and so forth. Most providers allow you to add it to your insurance policy at any time, but if you enroll while they\u2019re a puppy, you can be reimbursed for the expensive cost of vaccinations and spay/neutering.","Most veterinarians recommend pet parents bring their dogs in at least once each year for an examination and wellness checkup. This gives the veterinarian a chance to examine the dog, check for common illnesses, and run regular tests to determine if any preventive measures need to be taken to keep the dog healthy. You should also bring your dog to the vet if they are exhibiting any symptoms of illness or injury."],"Grooming and Teeth Cleaning":["Most dog owners bathe their dogs regularly, but not as many pay close attention to their dog\u2019s teeth. According to VCA Hospitals, it\u2019s ideal to brush your dog\u2019s teeth at least twice daily or three times per week at a minimum to avoid problems like periodontal disease. Tooth brushing is easier when it\u2019s part of your dog\u2019s daily routine, so start the habit early when your dog is still a puppy if possible."],"Healthy Diet":["Most dogs should be fed meals twice a day, and the amount of food they are provided usually depends on their size. Veterinarians recommend only giving dogs 10% of their total calories in the form of treats. Dogs that are overfed can become obese, especially if they are not active.","The type of food you provide your dog may depend on their allergies and other health needs. If you aren\u2019t sure what type of dog food is best for your dog, consult your veterinarian about their proper diet."],"Regular Exercise":["Dogs need regular exercise to keep their bones, muscles, and joints healthy and to avoid becoming overweight. The ASPCA suggests shooting for 30-minutes walks five times a week to keep your dog healthy."],"Watch for Symptoms of Illness":["Our dogs tend to fall into a rhythm with us, waking us up at the same time every morning for breakfast and a walk. As you get to know your pet, you\u2019ll get to know their regular temperament and habits. Keep an eye out for any deviations in your pet\u2019s behavior and reach out to a veterinarian if they exhibit any clear signs of illness, such as vomiting, diarrhea, or excessive scratching."],"Protect Your Dog\u2019s Health with Pet Insurance":["Just like humans, dogs suffer from many common health issues. But there\u2019s no reason to let a treatable illness set you back thousands of dollars or impact your dog's quality of life. With regular visits to the vet and a strong pet insurance plan, you can ensure your dog always has access to care when they need it."],"Key Takeaways":["Purebred dogs have hereditary conditions due to years of breeding within the same genetic pool.","Dog health issues also arise due to age, size, accidental injury, and common illness.","Staying alet to sick dog symptoms and following a preventive care routine with regular vet visits can helps ensure your pet's optimal health.","Health problems in dogs can arise frequently and expensively, but pet insurance offers financial protection and peace of mind."]}},{category:["Recent","Health and Beauty","Animal News"],image:Lm,title:"Health Issues By Breed",description:"Dog Health Issues by Breed",introduction:" Many popular dog breeds are prone to illnesses and genetic disorders, known as hereditary conditions, due to affected genes passed down to them through the breeding process. Over the past couple of centuries, dogs have been strategically bred for their physical attributes. However, each time they mate within the same breed, they limit their future offspring\u2019s gene pool, resulting in breed-specific health risks.According to Scientific American, As a result, purebred dogs not only have increased incidences of inherited diseases but also heightened health issues due to their bodily frames and shapes, such as hip dysplasia in large breeds like the German Shepherd and Saint Bernard, and patella luxation, or persistent dislocation of the kneecap, in toy and miniature breeds.",headingsAndParas:{"Dog Breeds with Hereditary Condition ":["Below, we\u2019ll take a look at some of the most popular dog breeds, so you can get a sense of the dog health issues that have been passed down through each generation."],Beagles:["Beagles are more prone to inherited epilepsy than some other dog breeds. Epilepsy is a neurological condition that results in a burst of electrical energy in the brain. This causes the dog\u2019s body to seize or malfunction."],"Boston Terriers":["Boston Terriers may be more prone to cherry eye, an ophthalmological condition that occurs when part of the dog\u2019s eye tissue protrudes from the eye socket and swells. Additionally, the endocrine disorder known as Cushing's disease is found to be more prevalent in Boston Terriers."],Bulldogs:["French Bulldogs are English Bulldogs are more susceptible to multiple health problems, including heart issues, respiratory infection, hip dysplasia, and cherry eye."],"Cocker Spaniels":["English Cocker Spaniels and American Cocker Spaniels have a higher risk for orthopedic issues than other dog breeds. They can also be more prone to ear infections due to their floppy ears, which trap moisture in their hairy ear canals."],Dachshunds:["Due to their long bodies and short legs, Dachshunds tend to be more prone to musculoskeletal conditions like intervertebral disc disease and patella luxation (loose knees)."],"German Shepherds":["German Shepherds are particularly prone to hip dysplasia. Most large dog breeds, including Golden Retrievers and German Shepherds, are prone to dysplasia."],"Labrador Retrievers":["Young adult Labrador Retrievers suffer more from exercise intolerance and collapse (EIC) than other dogs. This condition can occur among physically fit Labrador Retrievers who suffer weakness and collapse after 5\u201315 minutes of strenuous exercise."],Poodles:["According to the Poodle Club of America, Poodles are more susceptible to Addison\u2019s disease (insufficient production of adrenal hormones), bloat, epilepsy, hypothyroidism, patellar luxation, and other health problems."],"Siberian Huskies":["Pemphigus foliaceus, a superficial skin disease, is more common in Siberian Huskies than in other dogs. This condition can cause skin crusts and hair loss on the dog\u2019s nose and footpads."],"Yorkshire Terriers (Yorkies)":["Yorkshire Terriers sometimes have weak or malformed cartilage rings in their windpipes, which can cause tracheal collapse. This is when the trachea, or windpipe, becomes too narrow, resulting in coughing and breathing issues."],"Pro Tip":["If you own or plan to own a purebred dog, it\u2019s a good idea to sign up for pet insurance as soon as possible while your new family member still has a good bill of health. That way, if a hereditary condition arises later in life, it could qualify for coverage, potentially saving you thousands in lifetime care costs. If you wait to enroll after clinical signs develop, the diagnosis will be considered a pre-existing condition and will not be eligible for financial assistance through insurance claims."]}},{category:["Recent","Health and Beauty","Animal News","Nutrition Tips"],image:Mm,title:"Health Issues by Size",description:"Dog Health Issues by Size",introduction:" Many popular dog breeds are prone to illnesses and genetic disorders, known as hereditary conditions, due to affected genes passed down to them through the breeding process. Over the past couple of centuries, dogs have been strategically bred for their physical attributes. However, each time they mate within the same breed, they limit their future offspring\u2019s gene pool, resulting in breed-specific health risks.",headingsAndParas:{"Dog Breeds with Hereditary Condition ":["Below, we\u2019ll take a look at some of the most popular dog breeds, so you can get a sense of the dog health issues that have been passed","Many of the conditions specific dog breeds are predisposed to are the result of their size. As such, some health conditions are more pronounced in small dogs than in large dogs, and vice versa."],"Small Dog Health Issues":["Some of the most common health issues in small dogs include","Brachycephalic Airway Syndrome (upper airway abnormalities)","Ectropion (outward-turning eyelid)","Intervertebral Disk Disease (IVDD)","Mitral Valve Disease","Patellar Luxation","Tracheal Collapse"],"Health Problems in Large Dogs":["SoHypoglycemia (low blood sugar)","Whelping (birthing) Complications","Senior Dog Health Issues","Older dogs suffer from many of the same ailments as older humans, such as arthritis and cataracts. Here are a few of the most common health problems in senior dogs:","Arthritis","Cancer","Eye Cataracts and Blindness","Deafness","Incontinence","Kidney Disease","Obesity"],Cancer:["Cancer is a challenging illness that is often expensive to treat unless you have pet insurance. It is more prevalent in older dogs and is the leading cause of death in dogs over the age of 10.me of the most common health issues in large dogs include:","Aortic Stenosis","Bloat","Dilated Cardiomyopathy (Heart Weakness)","Gastric Torsion","Elbow and Hip Dysplasia","Osteoarthritis","Wobbler Syndrome","According to a study published in the Journal of Veterinary Medicine, hip dysplasia is prevalent in 15.56% of dogs in North America, regardless of breed."],"Health Concerns for Dogs by Age":["A dog\u2019s age can play a significant role in the dog\u2019s overall health. Generally, older dogs are more susceptible to illnesses, but that doesn\u2019t mean your dog can\u2019t have a loving and fulfilling life in their golden years. Likewise, some illnesses affect puppies more often than older dogs."],"Prevalent Illnesses in Puppies":["Many of the diseases that were common in puppies years ago, such as Distemper and Adenovirus (Canine Hepatitis) are rarely seen thanks to the effectiveness of vaccines. But it\u2019s important to ensure your puppy has had all their shots before you can rule them out.","Here are a few of the most common health concerns for puppies:","Canine Parvovirus (CPV, or Parvo)","Distemper","Adenovirus","Leptospirosis (bacterial disease of the kidneys)."]}}],zm=e=>{const{blog:t,setBlog:n}=e,a=qr();return(0,ne.jsxs)("div",{className:"blog-preview",children:[(0,ne.jsx)("img",{src:t.image,alt:t.title,className:"blog-image"}),(0,ne.jsxs)("div",{className:"blog-info",children:[(0,ne.jsx)("h2",{className:"blog-title",children:t.title}),(0,ne.jsx)("p",{className:"blog-description",children:t.description}),(0,ne.jsx)("div",{className:"blog-read",children:(0,ne.jsxs)("p",{children:[t.introduction.substring(0,175),"..."]})}),t.category.map((e=>(0,ne.jsx)("button",{class:"button",children:e}))),(0,ne.jsx)(Jn.Link,{onClick:()=>{return e="/Blog",n(t),void a(e);var e},className:"read-more-link",children:"Read More..."})]})]})},jm=e=>{const[t,n]=(0,W.useState)("all"),a=document.getElementById("drp"),{product:r,setProduct:o,cartItems:s,addItemToCart:i,showCart:l,setShowCart:c,setBlog:u,User:d}=e,h="all"===t?Pm:Pm.filter((e=>e.category.includes(t))),[p,f]=(0,W.useState)(!1),m=e=>{n(e),f(!1),null!==a?a.scrollIntoView({behavior:"smooth",block:"start"}):console.error("Element with id 'targetElement' not found.")},[g,y]=(0,W.useState)(""),[b,v]=(0,W.useState)(""),[w,x]=(0,W.useState)(""),[k,S]=(0,W.useState)(""),[N,T]=(0,W.useState)(!1);return(0,ne.jsxs)("div",{children:[(0,ne.jsx)(bo,{}),(0,ne.jsx)("center",{children:(0,ne.jsxs)("div",{className:"image-container",children:[(0,ne.jsx)("h1",{className:"overlay-text1",style:{fontSize:"40px"},children:"PAWSONALITY BLOGS "}),(0,ne.jsx)("h1",{className:"overlay-text",onClick:()=>m("Fun"),style:{top:"20%",left:"10%"},children:"FUN"}),(0,ne.jsx)("h1",{className:"overlay-text",onClick:()=>m("Stories"),style:{top:"30%",left:"20%"},children:"STORIES"}),(0,ne.jsx)("h1",{className:"overlay-text",onClick:()=>m("Health And Beauty"),style:{top:"40%",left:"30%"},children:"HEALTH & BEAUTY"}),(0,ne.jsx)("h1",{className:"overlay-text",onClick:()=>m("Animal News"),style:{top:"50%",left:"40%"},children:"ANIMAL NEWS"}),(0,ne.jsx)("h1",{className:"overlay-text",onClick:()=>m("Tips And Tricks"),style:{top:"60%",left:"50%"},children:"TIPS & TRICKS"}),(0,ne.jsx)("h1",{className:"overlay-text",onClick:()=>m("Nutrition Tips"),style:{top:"70%",left:"60%"},children:"NUTRITION TIPS"}),(0,ne.jsx)("h1",{className:"overlay-text",onClick:()=>m("Grooming"),style:{top:"80%",left:"70%"},children:"GROOMING"}),(0,ne.jsx)("img",{src:Im,className:"background-image"})]})}),(0,ne.jsxs)("div",{className:"dropdown",id:"drp",children:[(0,ne.jsx)("button",{onClick:()=>{f(!p)},className:"dropdown-button",children:"all"===t?"All Categories":t}),1==p?(0,ne.jsxs)("div",{className:"dropdown-content",children:[(0,ne.jsx)("a",{onClick:()=>m("all"),children:"All Categories"}),(0,ne.jsx)("a",{onClick:()=>m("Fun"),children:"Fun"}),(0,ne.jsx)("a",{onClick:()=>m("Health And Beauty"),children:"Health And Beauty"}),(0,ne.jsx)("a",{onClick:()=>m("Recent"),children:"Recent"}),(0,ne.jsx)("a",{onClick:()=>m("Tips And Tricks"),children:"Tips And Tricks"}),(0,ne.jsx)("a",{onClick:()=>m("Stories"),children:"Stories"}),(0,ne.jsx)("a",{onClick:()=>m("Animal News"),children:"Animal News"}),(0,ne.jsx)("a",{onClick:()=>m("Nutrition Tips"),children:"Nutrition Tips"}),(0,ne.jsx)("a",{onClick:()=>m("Grooming"),children:"Grooming"})]}):null]}),(0,ne.jsx)("div",{className:"blog-container",children:h.map((e=>(0,ne.jsx)(zm,{blog:e,setBlog:u},e.id)))}),(0,ne.jsxs)("div",{className:"comment-section",style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",marginTop:"50px"},children:[(0,ne.jsx)("h2",{style:{fontFamily:"Merat"},children:"Leave a Comment"}),k&&(0,ne.jsx)("div",{style:{color:N?"red":"green",marginTop:"20px"},children:k}),(0,ne.jsxs)("form",{onSubmit:e=>{e.preventDefault();const t={name:g,email:b,message:w};Nm.post("".concat(Rp)+"/api/comments",t).then((e=>{console.log("Comment posted:",e.data),y(""),v(""),x(""),S("Your comment has been posted successfully."),T(!1),setTimeout((()=>S("")),5e3)})).catch((e=>{console.error("Error posting comment:",e),S("Failed to post the comment. Please try again."),T(!0),setTimeout((()=>S("")),5e3)})),y(""),v(""),x("")},style:{width:"100%",maxWidth:"600px"},children:[(0,ne.jsx)("div",{style:{marginBottom:"15px",width:"100%"},children:(0,ne.jsx)("input",{type:"text",placeholder:"Name",value:g,onChange:e=>y(e.target.value),style:{width:"100%"}})}),(0,ne.jsx)("div",{style:{marginBottom:"15px",width:"100%"},children:(0,ne.jsx)("input",{type:"email",placeholder:"Email",value:b,onChange:e=>v(e.target.value),style:{width:"100%"}})}),(0,ne.jsx)("div",{style:{marginBottom:"15px",width:"100%"},children:(0,ne.jsx)("textarea",{placeholder:"Message",value:w,onChange:e=>x(e.target.value),style:{width:"100%",minHeight:"120px"}})}),(0,ne.jsx)("button",{type:"submit",style:{backgroundColor:"#A24C00",color:"white",padding:"10px 20px",textAlign:"center",border:"none",borderRadius:"5px"},children:"POST COMMENT"})]})]})]})},Bm=e=>{const{product:t,setProduct:n,cartItems:a,addItemToCart:r,showCart:o,setShowCart:s,blog:i}=e;return(0,ne.jsxs)("div",{children:["        ",(0,ne.jsx)(bo,{cartItems:a,addItemToCart:r,product:t,setProduct:n,setShowCart:s,showCart:o}),(0,ne.jsxs)("div",{className:"blog-details-container",children:[(0,ne.jsxs)("center",{children:[" ",(0,ne.jsx)("h2",{className:"blog-details-title",children:i.title})]}),(0,ne.jsx)("center",{children:(0,ne.jsx)("p",{style:{fontFamily:"cursive",margin:"10px"},children:" September 30,2023 . Pawsonality Team"})}),(0,ne.jsx)("center",{children:(0,ne.jsx)("img",{src:i.image,alt:i.title,className:"blog-details-image"})}),(0,ne.jsx)("div",{className:"blog-details-header",children:(0,ne.jsxs)("div",{className:"blog-details-info",children:[(0,ne.jsx)("p",{className:"blog-details-description",children:i.description}),(0,ne.jsx)("p",{className:"blog-details-introduction",children:i.introduction})]})}),(0,ne.jsx)("div",{className:"blog-details-content",children:Object.keys(i.headingsAndParas).map((e=>(0,ne.jsxs)("div",{className:"blog-details-section",children:[(0,ne.jsx)("h3",{className:"section-title",children:e}),i.headingsAndParas[e].map(((e,t)=>(0,ne.jsx)("p",{style:{textIndent:0},children:e},t)))]},e)))})]})]})},Wm=()=>(0,ne.jsx)("div",{className:"contact-container",children:(0,ne.jsx)("div",{className:"background-image",children:(0,ne.jsxs)("div",{className:"contact-card",children:[(0,ne.jsx)("h2",{children:"Contact Details"}),(0,ne.jsxs)("div",{className:"contact-info",children:[(0,ne.jsxs)("div",{className:"info-item",children:[(0,ne.jsx)("i",{className:"fas fa-map-marker-alt"})," Albany, United States"]}),(0,ne.jsxs)("div",{className:"info-item",children:[(0,ne.jsx)("i",{className:"fas fa-phone-alt"})," +1 (838) 217-1671"]}),(0,ne.jsxs)("div",{className:"info-item",children:[(0,ne.jsx)("i",{className:"fas fa-envelope"})," pawsonality@gmail.com"]}),(0,ne.jsxs)("div",{className:"info-item",children:[(0,ne.jsx)("i",{className:"fab fa-facebook-f"}),(0,ne.jsx)("i",{className:"fab fa-twitter"}),(0,ne.jsx)("i",{className:"fab fa-instagram"}),(0,ne.jsx)("i",{className:"fab fa-linkedin-in"})]})]})]})})});const Um=function(e){const{product:t,setProduct:n,cartItems:a,addItemToCart:r,showCart:o,setShowCart:s,setBlog:i}=e;return(0,ne.jsxs)("div",{className:"Contact-bgm",children:["        ",(0,ne.jsx)(bo,{cartItems:a,addItemToCart:r,product:t,setProduct:n,setShowCart:s,showCart:o}),(0,ne.jsx)(Wm,{})]})};n.p,n.p,n.p,n.p,n.p,n.p,n.p;const Vm=function(e){const{product:t,setProduct:n,cartItems:a,addItemToCart:r,showCart:o,setShowCart:s,productCat:i}=e,[l,c]=(0,W.useState)([]);(0,W.useEffect)((()=>{(async()=>{try{const e=await Nm.get("".concat(Rp)+"/category?keyword="+i);c(e.data)}catch(e){console.error("Error fetching products:",e)}})()}),[]);const[u,d]=(0,W.useState)(0);return(0,ne.jsxs)("div",{children:[(0,ne.jsx)(bo,{cartItems:a,addItemToCart:r,product:t,setProduct:n,setShowCart:s,showCart:o}),(0,ne.jsx)("h1",{style:{marginLeft:"20px"},children:"Products"}),(0,ne.jsx)(qd,{products:l,addToCart:e=>{r([...a,e])},setProduct:n})]})};const Hm=function(e){const[t,n]=(0,W.useState)(""),[a,r]=(0,W.useState)(""),[o,s]=(0,W.useState)(""),[i,l]=(0,W.useState)("Send OTP"),[c,u]=(0,W.useState)("Verify"),[d,h]=(0,W.useState)(""),{page:p,changePage:f,product:m,cartItems:g,addItemToCart:y,setProduct:b,showCart:v,setShowCart:w}=e,[x,k]=(0,W.useState)(!0),[S,N]=(0,W.useState)(!0),T=qr(),[C,I]=(0,W.useState)(!1),[E,A]=(0,W.useState)({startUpName:"",address1:"",email:"",password:"",confirmPassword:""}),[_,R]=(0,W.useState)({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[D,O]=(0,W.useState)(null),[F,L]=(0,W.useState)(1),[M,P]=(0,W.useState)(1),[z,j]=(0,W.useState)(""),B=/[a-z]/.test(z),U=/[A-Z]/.test(z),V=/\d/.test(z),H=/[!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]/.test(z),G=z.length>=8,q=e=>{"email"==e.target.name&&(/\S+@\S+\.com+/.test(e.target.value)?P(1):P(0),n(e.target.value)),"otp"==e.target.name&&h(e.target.value),"password"==e.target.name&&j(e.target.value),1==S?("confirmPassword"==e.target.name&&(e.target.value!=E.password?L(0):L(1)),A({...E,[e.target.name]:e.target.value})):("confirmPassword"==e.target.name&&(e.target.value!=_.password?L(0):L(1)),R({..._,[e.target.name]:e.target.value}))};return(0,ne.jsxs)("div",{children:[(0,ne.jsx)(bo,{cartItems:g,addItemToCart:y,product:m,setProduct:b,setShowCart:w,showCart:v}),(0,ne.jsx)("div",{className:"background-image",children:x?(0,ne.jsx)("div",{className:"auth-wrapperq",style:{marginTop:"-160px"},children:(0,ne.jsxs)("div",{className:"auth-innerq",children:[(0,ne.jsx)("h3",{children:"Sign Up"}),(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsxs)("div",{className:"mb-3",children:[(0,ne.jsx)("label",{children:"First name"}),(0,ne.jsx)("input",{type:"text",className:"form-control",placeholder:"First name",onChange:q,name:"firstName"})]}),(0,ne.jsxs)("div",{className:"mb-3",children:[(0,ne.jsx)("label",{children:"Last name"}),(0,ne.jsx)("input",{type:"text",className:"form-control",placeholder:"Last name",onChange:q,name:"lastName"})]}),(0,ne.jsxs)("div",{className:"mb-3",children:[(0,ne.jsx)("label",{children:"Email address"}),(0,ne.jsx)("div",{style:{flex:1},children:(0,ne.jsxs)("div",{class:"buttonIn",children:[(0,ne.jsxs)(_p,{children:[(0,ne.jsx)("input",{disabled:"Verified"==i,style:{width:"70%"},className:"form-control",placeholder:"Enter email",onChange:q,name:"email"}),(0,ne.jsxs)(ba,{style:{width:"30%"},onClick:async e=>{e.preventDefault(),l("Sending...");try{const e=await fetch("".concat(Rp)+"/generate-otp?user="+t,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"}}),n=e.headers.get("content-type");if(n&&-1!==n.indexOf("application/json")){const t=await e.json();"Fail"!=t.message?(r(t.message),l("Sent"),s("OTP sent to your email address. Please enter it below.")):(l("Resend"),s(""))}}catch(D){console.log(D)}},disabled:"Verified"==i,children:[i," "]})]}),o&&(0,ne.jsxs)("div",{className:"mb-3",children:[(0,ne.jsx)("p",{style:{color:"red"},children:o}),(0,ne.jsx)("div",{class:"buttonIn",children:(0,ne.jsxs)(_p,{children:[(0,ne.jsx)("input",{style:{width:"70%"},className:"form-control",placeholder:o,onChange:q,name:"otp"}),(0,ne.jsx)(ba,{style:{width:"30%"},onClick:async()=>{a==d?(s(""),l("Verified")):(s("verification Failed,Try Again..."),l("Resend"))},children:c})]})})," "]})]})}),0==M?(0,ne.jsx)("p",{style:{color:"red",marginTop:"1px"},children:"Invalid Email"}):null]}),(0,ne.jsxs)("div",{className:"mb-3",children:[(0,ne.jsx)("label",{children:"Password"}),(0,ne.jsx)("input",{type:"password",title:(()=>{let e="";return B||(e+=" At least one lowercase letter"),U||(e+=" At least one uppercase letter"),V||(e+=" At least one number"),H||(e+=" At least one special character"),G||(e+=" Minimum length of 8 characters"),e})(),className:"form-control",placeholder:"Enter password",onChange:q,name:"password"}),""==z||B&&U&&V&&H&&G?null:(0,ne.jsx)("p",{style:{color:"red",marginTop:"1px"},children:"Password is too weak"})]}),(0,ne.jsxs)("div",{className:"mb-3",children:[(0,ne.jsx)("label",{children:"Confirm Password"}),(0,ne.jsx)("input",{type:"password",className:"form-control",placeholder:"Re-Enter password ",onChange:q,name:"confirmPassword"}),0==F?(0,ne.jsx)("p",{style:{color:"red",marginTop:"1px"},children:"Password Not Matched"}):null]}),C?(0,ne.jsx)("p",{style:{color:"red"},children:"Password not matched"}):null,(0,ne.jsx)("div",{className:"d-grid",children:(0,ne.jsx)("button",{onClick:async()=>{try{if(_.password==_.confirmPassword){const e=await fetch("".concat(Rp)+"/api/User/signup/"+E.email,{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)});console.log(e);const t=e.headers.get("content-type");if(t&&-1!==t.indexOf("application/json")){const t=await e.json();"success"==t.message&&(alert("Registration Successful...."),T("/sign-in")),console.log(t),O(t.message)}else{const t=await e.text();O(t)}}else O("Password not matched with confirmPassword")}catch(D){console.error(D)}},className:"btn btn-secondary",disabled:"Verified"!=i,children:"Sign Up"})}),(0,ne.jsxs)("p",{className:"forgot-password text-right",children:["Already registered ",(0,ne.jsx)("a",{href:"/sign-in",children:"sign in?"})]})]}),(0,ne.jsx)("p",{style:{color:"red"},children:D})]})}):null})]})},Gm=e=>{const[t,n]=(0,W.useState)([]),[a,r]=(0,W.useState)(0),[o,s]=(0,W.useState)(null),{page:i,changePage:l,product:c,cartItems:u,addItemToCart:d,setProduct:h,showCart:p,setShowCart:f}=e,[m,g]=(0,W.useState)([]),[y,b]=(0,W.useState)(!1),v=qr(),w=[{id:1,type:"Activity Level",question:"How active is your dog?",options:[{id:"A",text:"High Energy: Loves long walks, runs, and playing fetch.",verdict:"High Energy"},{id:"B",text:"Moderate: Enjoys shorter walks, playtime with toys, and occasional outdoor adventures.",verdict:"Moderate Energy"},{id:"C",text:"Low Energy: Prefers short walks, sniffing explorations, and quiet playtime.",verdict:"Low Energy"}]},{id:2,type:"Coat Care",question:"Does your dog require regular brushing due to their coat type?",options:[{id:"A",text:"Yes: They have a long or double coat, needing frequent brushing.",verdict:"Needs Regular Brushing"},{id:"B",text:"No: Their coat requires minimal brushing and is considered low-maintenance.",verdict:"Low-Maintenance Coat"}]},{id:3,type:"Shedding",question:"Does your dog shed heavily throughout the year?",options:[{id:"A",text:"Yes",verdict:"Heavy Shedder"},{id:"B",text:"No",verdict:"Moderate to Minimal Shedding"}]},{id:4,type:"Outdoor Adventures",question:"Does your dog enjoy occasional outdoor adventures?",options:[{id:"A",text:"Yes: Short walks or park visits.",verdict:"Outdoor Adventurer"},{id:"B",text:"No: Prefers cozy indoor activities like snuggling on the couch.",verdict:"Indoor Companion"}]},{id:5,type:"Breathing Difficulties",question:"Does your dog have short legs or breathing difficulties?",options:[{id:"A",text:"Yes",verdict:"Having Breathing Difficulties"},{id:"B",text:"No",verdict:"No Breathing Difficulties"}]},{id:6,type:"Personality",question:"Does your dog have a calm and relaxed personality?",options:[{id:"A",text:"Yes",verdict:"Calm and Relaxed"},{id:"B",text:"No",verdict:"Energetic and Active"}]}],x=(e,o)=>{null!==o&&n([...t,[w[a].type,o]]),s(null),r(a+1)},k=e=>e.map((e=>(0,ne.jsx)(Ja.Check,{type:"radio",id:e.id,label:e.text,name:"question".concat(a),value:e.id,checked:o===e.verdict,onChange:()=>s(e.verdict),className:o===e.verdict?"selected-option formCheck":"formCheckSelected"},e.id)));return(0,ne.jsxs)("div",{children:[(0,ne.jsx)(bo,{cartItems:u,addItemToCart:d,product:c,setProduct:h,setShowCart:f,showCart:p}),(0,ne.jsx)("div",{className:"background-image",children:(0,ne.jsx)("div",{className:"auth-wrapper",children:(0,ne.jsxs)("div",{className:"auth-inner",style:{marginLeft:"-10%"},children:[!y&&(0,ne.jsxs)("div",{className:"start-quiz",children:[(0,ne.jsx)("h2",{children:"Welcome to the Quiz"}),(0,ne.jsx)("p",{children:"Let's find the perfect bag for your furry friend!"}),(0,ne.jsx)(ba,{variant:"primary",onClick:()=>{b(!0)},children:"Start Quiz"})]}),y?a<w.length?(()=>{const e=w[a];return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)("h3",{children:e.question}),(0,ne.jsx)(Ja,{children:k(e.options)}),(0,ne.jsxs)("div",{className:"buttons",children:[(0,ne.jsx)(ba,{variant:"secondary",style:{marginRight:"20px"},onClick:()=>x(0,null),children:"Skip"}),(0,ne.jsxs)(ba,{variant:"secondary",onClick:()=>x(0,o),children:["Next  ",(0,ne.jsx)("i",{className:"fa-solid fa-chevron-right"})]})]})]})})():(()=>{let e="",n="",a="",r="",o="",s="";return t.forEach((t=>{let[i,l]=t;switch(i){case"Activity Level":e=l;break;case"Coat Care":n=l;break;case"Shedding":a=l;break;case"Outdoor Adventures":r=l;break;case"Breathing Difficulties":o=l;break;case"Personality":s=l}})),"High Energy"===e&&"Heavy Shedder"===a?(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h3",{children:"The Energizer"}),(0,ne.jsx)("p",{children:"Ideal for high-energy dogs with heavy shedding."}),(0,ne.jsxs)("ul",{children:[(0,ne.jsx)("li",{children:"Toys: Durable fetch toys, chew toys, frisbee, and a shedding brush."}),(0,ne.jsx)("li",{children:"Food & Treats: High-energy kibble, a portion of wet food for hydration, long-lasting chews, and a collapsible food and water bowl."}),(0,ne.jsx)("li",{children:"Emergency Medical Kit: Basic first-aid supplies like antiseptic wipes, gauze pads, tick remover, and a thermometer."}),(0,ne.jsx)("li",{children:"Important: Waste disposal bags and a leash."})]})]}):"Moderate Energy"===e&&"Moderate to Minimal Shedding"===a?(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h3",{children:"The Zoomie"}),(0,ne.jsx)("p",{children:"Perfect for playful pups who shed moderately."}),(0,ne.jsxs)("ul",{children:[(0,ne.jsx)("li",{children:"Toys: Interactive puzzles, tug toys, bouncy ball, and a collapsible water dispenser with clip."}),(0,ne.jsx)("li",{children:"Food & Treats: Moderate-energy kibble, a collapsible water bowl, healthy training treats, and a travel food container."}),(0,ne.jsx)("li",{children:"Emergency Medical Kit: Basic first-aid supplies like antiseptic wipes, gauze pads, and tick remover."}),(0,ne.jsx)("li",{children:"Important: Waste disposal bags and a leash."})]})]}):"Outdoor Adventurer"===r?(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h3",{children:"The Cozy Companion"}),(0,ne.jsx)("p",{children:"Great for dogs who enjoy occasional outdoor adventures."}),(0,ne.jsxs)("ul",{children:[(0,ne.jsx)("li",{children:"Toys: Plush squeaky toys, collapsible water bowl, travel food bowl, and a collapsible waste bag dispenser."}),(0,ne.jsx)("li",{children:"Food & Treats: Travel-sized portions of dry and wet food, waste disposal bags, and a travel water bottle."}),(0,ne.jsx)("li",{children:"Emergency Medical Kit: Basic first-aid supplies like antiseptic wipes, gauze pads, and tick remover."}),(0,ne.jsx)("li",{children:"Important: A leash and a small first-aid kit for minor cuts or scrapes."})]})]}):"Calm and Relaxed"===s?(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h3",{children:"The Cuddler"}),(0,ne.jsx)("p",{children:"Ideal for snuggle buddies who prefer indoor activities."}),(0,ne.jsxs)("ul",{children:[(0,ne.jsx)("li",{children:"Toys: Soft plush toys, snuffle mat for mental stimulation, calming chew toy, and a nightlight."}),(0,ne.jsx)("li",{children:"Food & Treats: Cozy bed, slow feeder bowl to prevent overeating, calming treats, and a water dispenser."}),(0,ne.jsx)("li",{children:"Emergency Medical Kit: Basic first-aid supplies like antiseptic wipes, gauze pads, and tick remover."}),(0,ne.jsx)("li",{children:"Important: A comfortable blanket and a food storage container."})]})]}):"Having Breathing Difficulties"===o&&"Yes"===n?(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h3",{children:"The Gentle Stroller"}),(0,ne.jsx)("p",{children:"Best for dogs with short legs, breathing difficulties, or requiring special care."}),(0,ne.jsxs)("ul",{children:[(0,ne.jsx)("li",{children:"Toys: Lightweight plush toys, portable cooling bandana, food and water dispenser, and a ramp for easy access."}),(0,ne.jsx)("li",{children:"Food & Treats: Small, easily digestible kibble, collapsible water bowl, medication dispenser (if needed), and a cooling mat."}),(0,ne.jsx)("li",{children:"Important: A harness (recommended for dogs with breathing difficulties) and a comprehensive first-aid kit with specific items recommended by your veterinarian."})]})]}):(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h3",{children:"The Snuggle Bug"}),(0,ne.jsx)("p",{children:"Perfect for calm and relaxed dogs who enjoy quiet companionship."}),(0,ne.jsxs)("ul",{children:[(0,ne.jsx)("li",{children:"Toys: Soft, self-warming bed, a selection of calming aromatherapy sprays, and quiet, interactive puzzle toys."}),(0,ne.jsx)("li",{children:"Food & Treats: Calming kibble formula, a slow feeder bowl, and anxiety-reducing treats."}),(0,ne.jsx)("li",{children:"Emergency Medical Kit: Basic first-aid supplies like antiseptic wipes, gauze pads, and tick remover."}),(0,ne.jsx)("li",{children:"Important: A calming pheromone diffuser and a comfortable travel crate for added security."})]})]})})():null,a>=w.length&&(0,ne.jsxs)("div",{className:"quiz-finished",children:[(0,ne.jsx)(ba,{variant:"secondary",onClick:()=>{v("/ProductList")},style:{margin:"10px"},children:"Suggested Products"}),(0,ne.jsx)(ba,{variant:"primary",onClick:()=>{n([]),r(0),s(null),b(!1)},style:{margin:"10px"},children:"Retake Quiz"})]})]})})})]})},qm=W.forwardRef(((e,t)=>{let{bsPrefix:n,className:a,striped:r,bordered:o,borderless:s,hover:i,size:l,variant:c,responsive:u,...d}=e;const h=le(n,"table"),p=G()(a,h,c&&"".concat(h,"-").concat(c),l&&"".concat(h,"-").concat(l),r&&"".concat(h,"-").concat("string"===typeof r?"striped-".concat(r):"striped"),o&&"".concat(h,"-bordered"),s&&"".concat(h,"-borderless"),i&&"".concat(h,"-hover")),f=(0,ne.jsx)("table",{...d,className:p,ref:t});if(u){let e="".concat(h,"-responsive");return"string"===typeof u&&(e="".concat(e,"-").concat(u)),(0,ne.jsx)("div",{className:e,children:f})}return f})),Km=qm;var Xm=n(6483);const Ym=function(e){const[t,n]=(0,W.useState)(null),[a,r]=(0,W.useState)(null),[o,s]=(0,W.useState)(null),[i,l]=(0,W.useState)(null),[c,u]=(0,W.useState)(null),[d,h]=(0,W.useState)(null),[p,f]=(0,W.useState)(!1),{setShowProducts:m}=e,g=e=>{console.log(e.target.name),"name"===e.target.name&&r(e.target.value),"description"===e.target.name&&s(e.target.value),"price"===e.target.name&&l(e.target.value),"quantity"===e.target.name&&u(e.target.value),"category"===e.target.name&&h(e.target.value)};return(0,ne.jsxs)("div",{children:[(0,ne.jsx)("div",{hidden:!p,children:(0,ne.jsx)("h3",{children:(0,ne.jsx)("b",{children:"Loading..."})})}),(0,ne.jsxs)("div",{hidden:p,children:[(0,ne.jsx)("h2",{children:"Add new product"}),(0,ne.jsx)("label",{children:"Name"}),(0,ne.jsx)("input",{type:"text",name:"name",onChange:g,className:"form-control"}),(0,ne.jsx)("label",{children:"Description"}),(0,ne.jsx)("input",{type:"text",name:"description",onChange:g,className:"form-control"}),(0,ne.jsx)("label",{children:"Price"}),(0,ne.jsx)("input",{type:"number",name:"price",onChange:g,className:"form-control"}),(0,ne.jsx)("label",{children:"Quantity"}),(0,ne.jsx)("input",{type:"number",name:"quantity",onChange:g,className:"form-control"}),(0,ne.jsx)("label",{children:'Category(Enter all catergories seperated by " , ")'}),(0,ne.jsx)("input",{type:"text",name:"category",onChange:g,className:"form-control"}),(0,ne.jsx)("label",{children:"Image"}),(0,ne.jsx)("input",{type:"file",onChange:e=>{n(e.target.files[0])},className:"form-control"}),(0,ne.jsx)(ba,{onClick:async()=>{try{f(!0);const e=new FormData;e.append("file",t),e.append("description",o),e.append("price",i),e.append("quantity",c),e.append("name",a),e.append("category",d),await Nm.post("".concat(Rp)+"/addProduct",e,{headers:{"Content-Type":"multipart/form-data"}}),f(!1),m(!1),alert("Product Added Successfully!")}catch(e){f(!1),alert("Adding Product Failed! Retry Again..."),console.error("Error uploading image:",e)}},className:"success",children:"Upload"})]})]})};const Qm=function(){const[e,t]=(0,W.useState)([]),[n,a]=(0,W.useState)({}),[r,o]=(0,W.useState)(null),[s,i]=(0,W.useState)("");(0,W.useEffect)((()=>{(async()=>{try{const e=await Nm.get("".concat(Rp)+"/getProducts");t(e.data),o(null)}catch(r){console.error("Error fetching products:",r),o("Error fetching products. Please try again later.")}})()}),[]);const l=(e,t,r)=>{a({...n,[e]:{...n[e],[t]:r}})},c=e.filter((e=>e.name.toLowerCase().includes(s.toLowerCase())));return(0,ne.jsxs)("div",{style:{overflowX:"auto"},children:[(0,ne.jsx)("h2",{children:"Product Table"}),(0,ne.jsx)("input",{className:"form-control",type:"text",placeholder:"Search by name...",value:s,onChange:e=>i(e.target.value),style:{marginBottom:"10px"}}),r&&(0,ne.jsx)("div",{children:r}),(0,ne.jsxs)("table",{style:{borderCollapse:"collapse",width:"100%"},children:[(0,ne.jsx)("thead",{children:(0,ne.jsxs)("tr",{children:[(0,ne.jsx)("th",{style:{border:"1px solid #dddddd",textAlign:"left",padding:"8px"},children:"ID"}),(0,ne.jsx)("th",{style:{border:"1px solid #dddddd",textAlign:"left",padding:"8px"},children:"Name"}),(0,ne.jsx)("th",{style:{border:"1px solid #dddddd",textAlign:"left",padding:"8px"},children:"Quantity"}),(0,ne.jsx)("th",{style:{border:"1px solid #dddddd",textAlign:"left",padding:"8px"},children:"Price"}),(0,ne.jsx)("th",{style:{border:"1px solid #dddddd",textAlign:"left",padding:"8px",width:"50%"},children:"Description"}),(0,ne.jsx)("th",{style:{border:"1px solid #dddddd",textAlign:"left",padding:"8px"},children:"Category"}),(0,ne.jsx)("th",{style:{border:"1px solid #dddddd",textAlign:"left",padding:"8px"},children:"Image"}),(0,ne.jsx)("th",{style:{border:"1px solid #dddddd",textAlign:"left",padding:"8px"},children:"Actions"})]})}),(0,ne.jsx)("tbody",{children:c.map((o=>(0,ne.jsxs)("tr",{children:[(0,ne.jsx)("td",{style:{border:"1px solid #dddddd",textAlign:"left",padding:"8px"},children:o.id}),(0,ne.jsx)("td",{style:{border:"1px solid #dddddd",textAlign:"left",padding:"8px",width:"150px"},children:n[o.id]?(0,ne.jsx)("input",{className:"form-control",type:"text",value:n[o.id].name,onChange:e=>l(o.id,"name",e.target.value)}):o.name}),(0,ne.jsx)("td",{style:{border:"1px solid #dddddd",textAlign:"left",padding:"8px",width:"50px"},children:n[o.id]?(0,ne.jsx)("input",{className:"form-control",type:"number",value:n[o.id].quantity,onChange:e=>l(o.id,"quantity",parseInt(e.target.value))}):o.quantity}),(0,ne.jsx)("td",{style:{border:"1px solid #dddddd",textAlign:"left",padding:"8px",width:"50px"},children:n[o.id]?(0,ne.jsx)("input",{className:"form-control",type:"number",value:n[o.id].price,onChange:e=>l(o.id,"price",parseFloat(e.target.value))}):o.price}),(0,ne.jsx)("td",{style:{border:"1px solid #dddddd",textAlign:"left",padding:"8px",width:"20%"},children:n[o.id]?(0,ne.jsx)("input",{className:"form-control",type:"text",value:n[o.id].description,onChange:e=>l(o.id,"description",e.target.value)}):o.description}),(0,ne.jsx)("td",{style:{border:"1px solid #dddddd",textAlign:"left",padding:"8px",width:"10%"},children:n[o.id]?(0,ne.jsx)("input",{className:"form-control",type:"text",value:n[o.id].category,onChange:e=>l(o.id,"category",e.target.value)}):o.category}),(0,ne.jsx)("td",{style:{border:"1px solid #dddddd",textAlign:"left",padding:"8px",width:"100px"},children:n[o.id]?(0,ne.jsx)("input",{className:"form-control",type:"file",onChange:e=>l(o.id,"image",e.target.value)}):(0,ne.jsx)("img",{src:"data:image/jpeg;base64,".concat(o.image),alt:o.name,style:{maxWidth:"100px"}})}),(0,ne.jsx)("td",{style:{border:"1px solid #dddddd",textAlign:"left",padding:"8px"},children:n[o.id]?(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(ba,{onClick:()=>(async o=>{try{const r=n[o];await Nm.put("".concat(Rp)+"/update/".concat(o),r),t(e.map((e=>e.id===o?{...e,...r}:e))),a({...n,[o]:null})}catch(r){console.error("Error updating product:",r)}})(o.id),children:"Save"}),(0,ne.jsx)(ba,{onClick:()=>a({...n,[o.id]:null}),children:"Cancel"})]}):(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(ba,{onClick:()=>a({...n,[o.id]:{...o}}),children:"Edit"}),(0,ne.jsx)(ba,{onClick:()=>(async n=>{try{await Nm.delete("".concat(Rp)+"/delete/".concat(n)),t(e.filter((e=>e.id!==n)))}catch(r){console.error("Error deleting product:",r)}})(o.id),children:"Delete"})]})})]},o.id)))})]})]})},Zm=e=>{const{cartItems:t,addItemToCart:n,showCart:a,setShowCart:r,User:o}=e,s=qr();return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)("div",{className:"marquee-header",children:(0,ne.jsx)(yo,{})}),(0,ne.jsxs)(Tn,{bg:"dark",variant:"dark",sticky:"top",children:[(0,ne.jsxs)(pe,{children:[(0,ne.jsx)("img",{src:ga,className:"Logo-style",alt:"Logo"}),"Dog Care"]}),(0,ne.jsx)("div",{className:"ml-auto",children:(0,ne.jsx)(Jn,{children:""!==o?(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(Jn.Link,{children:"Welcome to Admin page"}),(0,ne.jsx)(ba,{variant:"outline-light",onClick:()=>{s("/")},children:"Logout"})]}):null})})]})]})};const Jm=function(e){const{product:t,setProduct:n,cartItems:a,addItemToCart:r,showCart:o,setShowCart:s}=e,[i,l]=(0,W.useState)(!1),[c,u]=(0,W.useState)(!1),[d,h]=(0,W.useState)([]),[p,f]=(0,W.useState)([]),[m,g]=(0,W.useState)([]),[y,b]=(0,W.useState)([]),[v,w]=(0,W.useState)([]),[x,k]=(0,W.useState)([]),[S,N]=(0,W.useState)(!1),[T,C]=(0,W.useState)([]),I=[{id:1,name:"Product 1",description:"Description 1",expiryDate:"2022-01-01",manufactureDate:"2021-12-01",price:10,quantity:20},{id:2,name:"Product 2",description:"Description 2",expiryDate:"2022-02-01",manufactureDate:"2021-12-15",price:20,quantity:15},{id:3,name:"Product 3",description:"Description 3",expiryDate:"2022-03-01",manufactureDate:"2021-12-20",price:30,quantity:25}],E=[{id:1,name:"User 1",email:"user1@example.com",phoneNumber:"123-456-7890",address:"123 Street, City"},{id:2,name:"User 2",email:"user2@example.com",phoneNumber:"987-654-3210",address:"456 Avenue, Town"}];return(0,ne.jsxs)("div",{children:["        ",(0,ne.jsx)(Zm,{}),(0,ne.jsxs)("div",{className:"background-image",children:[(0,ne.jsx)(fo,{className:"auth-wrapper",children:(0,ne.jsx)(go,{className:"justify-content-center",children:(0,ne.jsx)(Pa,{md:8,children:(0,ne.jsx)(gh,{className:"auth-inner",style:{marginLeft:"33%"},children:(0,ne.jsxs)(gh.Body,{children:[(0,ne.jsx)("h3",{className:"login-title",children:"Admin Page"}),(0,ne.jsx)(ba,{className:"login-button",onClick:()=>{window.location.href="/UserDetails"},children:"Users"}),(0,ne.jsx)(ba,{className:"login-button",onClick:()=>{h(I),f([...I]),g([...I]),l(!0)},children:"Add Product"}),(0,ne.jsx)(ba,{className:"login-button",onClick:()=>{b(E),w([...E]),k([...E]),u(!0)},children:"Edit Products"}),(0,ne.jsx)(ba,{className:"login-button",onClick:()=>{Nm.get("".concat(Rp)+"/api/comments").then((e=>{C(e.data),N(!0)})).catch((e=>console.error("Error fetching comments:",e)))},children:"Comments"}),(0,ne.jsx)(ba,{className:"login-button",onClick:()=>{window.location.href="/inventory"},children:"Guide"})]})})})})}),(0,ne.jsxs)(ma,{show:S,onHide:()=>N(!1),size:"lg",children:[(0,ne.jsx)(ma.Header,{closeButton:!0,children:(0,ne.jsx)(ma.Title,{children:"Comments"})}),(0,ne.jsx)(ma.Body,{children:(0,ne.jsx)(Xm.ur,{style:{width:"100%",height:"400px"},children:T.length>0?(0,ne.jsxs)(Km,{striped:!0,bordered:!0,hover:!0,children:[(0,ne.jsx)("thead",{children:(0,ne.jsxs)("tr",{children:[(0,ne.jsx)("th",{children:"Name"}),(0,ne.jsx)("th",{children:"Email"}),(0,ne.jsx)("th",{children:"Message"}),(0,ne.jsx)("th",{children:"Date"})]})}),(0,ne.jsx)("tbody",{children:T.map(((e,t)=>(0,ne.jsxs)("tr",{children:[(0,ne.jsx)("td",{children:e.name}),(0,ne.jsx)("td",{children:e.email}),(0,ne.jsx)("td",{children:e.message}),(0,ne.jsx)("td",{children:new Date(e.datetime).toLocaleString()})]},t)))})]}):(0,ne.jsx)("div",{children:"No comments available."})})}),(0,ne.jsx)(ma.Footer,{children:(0,ne.jsx)(ba,{variant:"secondary",onClick:()=>N(!1),children:"Close"})})]}),(0,ne.jsxs)(ma,{show:i,onHide:()=>l(!1),size:"xl",children:[(0,ne.jsx)(ma.Header,{closeButton:!0,children:(0,ne.jsx)(ma.Title,{children:"Products"})}),(0,ne.jsx)(ma.Body,{children:(0,ne.jsx)(Ym,{setShowProducts:l})})]}),(0,ne.jsxs)(ma,{show:c,onHide:()=>u(!1),size:"xl",children:[(0,ne.jsx)(ma.Header,{closeButton:!0,children:(0,ne.jsx)(ma.Title,{children:"Edit Products"})}),(0,ne.jsx)(ma.Body,{children:(0,ne.jsx)(Qm,{})}),(0,ne.jsx)(ma.Footer,{children:(0,ne.jsx)(ba,{variant:"secondary",onClick:()=>u(!1),children:"Close"})})]})]})]})};var $m=n(526);const eg=function(e){const{User:t,page:n,cartItems:a,changePage:r,addItemToCart:o,product:s,showCart:i,setShowCart:l,setProduct:c}=e,u=((0,W.useRef)(null),qr()),[d,h]=(0,W.useState)(1),[p,f]=(0,W.useState)();(0,W.useEffect)((()=>{(async()=>{})()}),[]);const[m,g]=(0,W.useState)(!1),[y,b]=(0,W.useState)(0),[v,w]=(0,W.useState)(""),[x,k]=(0,W.useState)(null),S=a.reduce(((e,t)=>e+t.quantity*t.price),0),N=()=>{k(null),u("/ihome")};return(0,ne.jsxs)("div",{children:[(0,ne.jsx)(bo,{cartItems:a,addItemToCart:o,product:s,setProduct:c,setShowCart:l,showCart:i}),(0,ne.jsx)(ma,{show:"success"===x,onHide:()=>k(null),centered:!0,children:(0,ne.jsxs)(ma.Body,{className:"text-center",children:[(0,ne.jsx)("img",{src:"https://www.clipartmax.com/png/small/270-2707415_confirm-icon-payment-success.png",alt:"Success",width:"50",height:"50",style:{borderRadius:"60%"}}),(0,ne.jsx)("h5",{className:"mt-2",children:"Payment Successful"}),(0,ne.jsx)("p",{children:"Your payment was successful. Thank you for your Funding!"}),(0,ne.jsx)("button",{className:"btn btn-primary",onClick:N,children:"Close"})]})}),(0,ne.jsx)(ma,{show:"loading"===x,onHide:()=>k(null),centered:!0,children:(0,ne.jsxs)(ma.Body,{className:"text-center",children:[(0,ne.jsx)("i",{className:"pi pi-spin pi-sync",style:{fontSize:"3rem",color:"lightGrey"}}),"    ",(0,ne.jsx)("h5",{className:"mt-2",children:"Transaction in progress"}),(0,ne.jsx)("p",{children:"Please do not close this window"}),(0,ne.jsx)("button",{className:"btn btn-primary",onClick:N,disabled:!0,children:"Close"})]})}),(0,ne.jsx)(ma,{show:"failure"===x,onHide:()=>k(null),centered:!0,children:(0,ne.jsxs)(ma.Body,{className:"text-center",children:[(0,ne.jsx)("img",{src:"https://www.clipartmax.com/png/middle/100-1005122_cancelled-close-delete-exit-no-reject-wrong-icon-red-cross-no-entry.png",alt:"Failure",width:"50",height:"50",style:{borderRadius:"50%"}}),(0,ne.jsx)("h5",{className:"mt-2",children:"Payment Failed"}),(0,ne.jsx)("p",{children:"Payment Failed! Try Again..."}),(0,ne.jsx)("button",{className:"btn btn-primary",onClick:()=>k(null),children:"Close"})]})}),(0,ne.jsx)("div",{className:"background-image",children:(0,ne.jsx)("div",{className:"auth-wrapper",children:(0,ne.jsx)("div",{className:"auth-inner",style:{justifyContent:"center"},children:(0,ne.jsxs)("center",{children:[(0,ne.jsx)("h1",{className:"payment-title",children:"Proceed with Payment"}),(0,ne.jsxs)("div",{className:"form-group",children:[(0,ne.jsx)("label",{className:"form-label",htmlFor:"total-amount",children:"Total Amount:"}),(0,ne.jsxs)("p",{className:"form-text",id:"total-amount",children:["$",S]})]}),(0,ne.jsx)("div",{style:{marginTop:"20px"}}),(0,ne.jsx)("div",{className:"app",disabled:!0,children:(0,ne.jsx)($m.A,{style:{width:"250px"},className:"btn btn-success",stripeKey:"pk_test_51P2HgzP7KyAd8hVFwb42EaKG7heRpSGLN9LCRsf3RuJkmJsl5Fc7SKiFNgu2oJUmjxbE0FA4DZArUjLHk72gYmLq00plK5P7ia",token:async function(e){k("loading"),console.log(e),await Nm.post("".concat(Rp)+"/api/payment/charge","",{headers:{token:e.id,amount:S}}).then((e=>{console.log(e),null==e.data.amount?k("failure"):(async()=>{b(S);try{const e=await fetch("".concat(Rp)+"/api/user/payment?userEmail="+t+"&productId=1&bits="+d+"&amount="+S,{method:"PUT",mode:"cors",headers:{"Content-Type":"application/json"}});console.log(e);const a=e.headers.get("content-type");if(a&&-1!==a.indexOf("application/json")){const t=await e.json();console.log(t),"success"==t.message?(k("success"),alert("Payment Successful!"),o([]),u("/"+n)):(alert("Payment Failed :("),k("failure"))}}catch(e){console.error(e)}})()})).catch((e=>{k("failure")}))},label:"Check Out",description:"Total Amount: $".concat(S),image:"https://svgshare.com/i/CUi.svg",name:"Payment Summary"})}),(0,ne.jsx)("p",{style:{color:"gray",marginTop:"10px",fontSize:"10px"},children:"*all types of cards accepted"}),(0,ne.jsx)("img",{src:"https://rapidlei.com/wp-content/uploads/2018/12/visa-mastercard-amex.png",style:{height:"30px",width:"200px"}})]})})})})]})};class tg{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class ng{refCount(e){return ag("refCount")}incRef(e){return ag("incRef")}timerAvailable(){return!0}time(e){return ag("time")}read(e){return ag("read")}readSync(e){return ag("readSync")}readToGPU(e,t){return ag("readToGPU")}numDataIds(){return ag("numDataIds")}disposeData(e,t){return ag("disposeData")}write(e,t,n){return ag("write")}move(e,t,n,a,r){return ag("move")}createTensorFromGPUData(e,t,n){return ag("createTensorFromGPUData")}memory(){return ag("memory")}floatPrecision(){return ag("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return ag("dispose")}}function ag(e){throw new Error("'".concat(e,"' not yet implemented or not found in the registry. ")+"This kernel may not be supported by the tfjs backend you have chosen")}function rg(e){let t=e.length,n=0;for(;t>0;)n=Math.random()*t|0,t--,lg(e,t,n)}function og(e,t){if(e.length!==t.length)throw new Error("Array sizes must match to be shuffled together "+"First array length was ".concat(e.length)+"Second array length was ".concat(t.length));let n=e.length,a=0;for(;n>0;)a=Math.random()*n|0,n--,lg(e,n,a),lg(t,n,a)}function sg(e,t,n){return Math.max(e,Math.min(t,n))}function ig(e){return e%2===0?e:e+1}function lg(e,t,n){const a=e[t];e[t]=e[n],e[n]=a}function cg(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}function ug(e,t){const n=Math.random();return t*n+(1-n)*e}function dg(e,t){let n=0;for(let a=0;a<e.length;a++){const r=Number(e[a])-Number(t[a]);n+=r*r}return n}function hg(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function pg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";hg(bg(e,t),(()=>n+" Shapes ".concat(e," and ").concat(t," must match")))}function fg(e){hg(null!=e,(()=>"The input to the tensor constructor must be a non-null value."))}function mg(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function gg(e){return 0===e.length}function yg(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(null!==e[n]&&null!==t[n]&&e[n]!==t[n])return!1;return!0}function bg(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function vg(e){return e%1===0}function wg(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;{const t=Math.exp(2*e);return(t-1)/(t+1)}}function xg(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function kg(e){const t=new Uint32Array(e);for(let n=0;n<e;++n)t[n]=n;return rg(t),t}function Sg(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function Ng(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>0,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;return new Promise(((r,o)=>{let s=0;const i=()=>{if(e())return void r();s++;const l=t(s);null!=n&&s>=n?o():null!=a?a(i,l):setTimeout(i,l)};i()}))}function Tg(e,t){let n=1,a=-1;for(let o=0;o<e.length;++o)if(e[o]>=0)n*=e[o];else if(-1===e[o]){if(-1!==a)throw Error("Shapes can only have 1 implicit size. "+"Found -1 at dim ".concat(a," and dim ").concat(o));a=o}else if(e[o]<0)throw Error("Shapes can not be < 0. Found ".concat(e[o]," at dim ").concat(o));if(-1===a){if(t>0&&t!==n)throw Error("Size(".concat(t,") must match the product of shape ").concat(e));return e}if(0===n)throw Error("Cannot infer the missing size in [".concat(e,"] when ")+"there are 0 elements");if(t%n!==0)throw Error("The implicit shape can't be a fractional number. "+"Got ".concat(t," / ").concat(n));const r=e.slice();return r[a]=t/n,r}function Cg(e,t){const n=t.length;return hg((e=null==e?t.map(((e,t)=>t)):[].concat(e)).every((e=>e>=-n&&e<n)),(()=>"All values in axis param must be in range [-".concat(n,", ").concat(n,") but ")+"got axis ".concat(e))),hg(e.every((e=>vg(e))),(()=>"All values in axis param must be integers but "+"got axis ".concat(e))),e.map((e=>e<0?n+e:e))}function Ig(e,t){const n=[],a=[],r=null!=t&&Array.isArray(t)&&0===t.length,o=null==t||r?null:Cg(t,e).sort();let s=0;for(let i=0;i<e.length;++i){if(null!=o){if(o[s]===i&&1!==e[i])throw new Error("Can't squeeze axis ".concat(i," since its dim '").concat(e[i],"' is not 1"));(null==o[s]||o[s]>i)&&1===e[i]&&(n.push(e[i]),a.push(i)),o[s]<=i&&s++}1!==e[i]&&(n.push(e[i]),a.push(i))}return{newShape:n,keptDims:a}}function Eg(e,t){return Ag(e,t)}function Ag(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type ".concat(e));n=new Array(t)}return n}function _g(e,t){for(let n=0;n<e.length;n++){const a=e[n];if(isNaN(a)||!isFinite(a))throw Error("A tensor of type ".concat(t," being uploaded contains ").concat(a,"."))}}function Rg(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function Dg(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function Og(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype ".concat(e))}function Fg(e){if(null==e)return 0;let t=0;return e.forEach((e=>t+=e.length)),t}function Lg(e){return"string"===typeof e||e instanceof String}function Mg(e){return"boolean"===typeof e}function Pg(e){return"number"===typeof e}function zg(e){return Array.isArray(e)?zg(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":Pg(e)?"float32":Lg(e)?"string":Mg(e)?"bool":"float32"}function jg(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Bg(e,t){for(let n=t;n<e;++n)if(e%n===0)return n;return e}function Wg(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let a=t-3;a>=0;--a)n[a]=n[a+1]*e[a+1];return n}function Ug(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=new Array;if(1===t.length){const o=t[0]*(a?2:1);for(let t=0;t<o;t++)r[t]=n[e+t]}else{const o=t[0],s=t.slice(1),i=s.reduce(((e,t)=>e*t))*(a?2:1);for(let t=0;t<o;t++)r[t]=Ug(e+t*i,s,n,a)}return r}function Vg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];const a=e.reduce(((e,t)=>e*t))*(n?2:1);if(0===a)return[];if(a!==t.length)throw new Error("[".concat(e,"] does not match the input size ").concat(t.length).concat(n?" for a complex tensor":"","."));return Ug(0,e,t,n)}function Hg(e,t){if(Array.isArray(e))return e;if("float32"===t)return e instanceof Float32Array?e:new Float32Array(e);if("int32"===t)return e instanceof Int32Array?e:new Int32Array(e);if("bool"===t||"string"===t)return Uint8Array.from(new Int32Array(e));throw new Error("Unknown dtype ".concat(t))}function Gg(e,t){const n=qg(e,t);for(let a=0;a<n.length;a++)n[a]=1;return n}function qg(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type ".concat(t))}function Kg(e,t){const n=e.reduce(((e,t)=>e*t),1);if(null==t||"float32"===t)return Vg(e,new Float32Array(n));if("int32"===t)return Vg(e,new Int32Array(n));if("bool"===t)return Vg(e,new Uint8Array(n));throw new Error("Unknown data type ".concat(t))}function Xg(e){e.forEach((t=>{hg(Number.isInteger(t)&&t>=0,(()=>"Tensor must have a shape comprised of positive integers but got "+"shape [".concat(e,"].")))}))}function Yg(e,t,n){if(0===t)return 0;if(1===t)return e[0];let a=e[e.length-1];for(let r=0;r<e.length-1;++r)a+=n[r]*e[r];return a}function Qg(e,t,n){if(0===t)return[];if(1===t)return[e];const a=new Array(t);for(let r=0;r<a.length-1;++r)a[r]=Math.floor(e/n[r]),e-=a[r]*n[r];return a[a.length-1]=e,a}function Zg(e){return e&&e.then&&"function"===typeof e.then}const Jg="tfjsflags";class $g{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=ey,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&(ty().getBool("IS_TEST")||ty().getBool("PROD")||console.warn("Platform ".concat(this.platformName," has already been set. ")+"Overwriting the platform with ".concat(e,"."))),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];ty().getBool("IS_TEST")||ty().getBool("PROD")||console.warn("Setting feature override from URL ".concat(e,": ").concat(t,".")),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if(Zg(t))throw new Error("Flag ".concat(e," cannot be synchronously evaluated. ")+"Please use getAsync() instead.");return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag ".concat(e," as it has not been registered."));this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '".concat(e,"': no evaluation function found."));return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if("undefined"===typeof this.global||"undefined"===typeof this.global.location||"undefined"===typeof this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);if(Jg in e){e[Jg].split(",").forEach((e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){const n=t.toLowerCase();return"true"===n||"false"===n?"true"===n:"".concat(+n)===n?+n:t}(0,n)}))}}}function ey(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,a[0],a[1]),a.join("=")})),t}function ty(){return ay}let ny,ay=null;function ry(){if(null==ny){let e;if("undefined"!==typeof window)e=window;else if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof process)e=process;else{if("undefined"===typeof self)throw new Error("Could not find a global object");e=self}ny=e}return ny}function oy(e,t){const n=function(){const e=ry();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const a=t();return n.set(e,a),n.get(e)}}const sy="Abs",iy="Acos",ly="Acosh",cy="Add",uy="AddN",dy="All",hy="Any",py="ArgMax",fy="ArgMin",my="Asin",gy="Asinh",yy="Atan",by="Atanh",vy="Atan2",wy="AvgPool",xy="AvgPoolGrad",ky="AvgPool3D",Sy="AvgPool3DGrad",Ny="BatchMatMul",Ty="BatchToSpaceND",Cy="Bincount",Iy="BitwiseAnd",Ey="BroadcastTo",Ay="BroadcastArgs",_y="Cast",Ry="Ceil",Dy="ClipByValue",Oy="Complex",Fy="ComplexAbs",Ly="Concat",My="Conv2D",Py="Conv2DBackpropFilter",zy="Conv2DBackpropInput",jy="Conv3D",By="Conv3DBackpropFilterV2",Wy="Conv3DBackpropInputV2",Uy="Cos",Vy="Cosh",Hy="Cumprod",Gy="Cumsum",qy="CropAndResize",Ky="DenseBincount",Xy="DepthToSpace",Yy="DepthwiseConv2dNative",Qy="DepthwiseConv2dNativeBackpropFilter",Zy="DepthwiseConv2dNativeBackpropInput",Jy="Diag",$y="Dilation2D",eb="Dilation2DBackpropInput",tb="Dilation2DBackpropFilter",nb="Draw",ab="RealDiv",rb="Einsum",ob="Elu",sb="EluGrad",ib="Erf",lb="Equal",cb="Exp",ub="ExpandDims",db="Expm1",hb="FFT",pb="Fill",fb="FlipLeftRight",mb="Floor",gb="FloorDiv",yb="FusedBatchNorm",bb="GatherV2",vb="GatherNd",wb="Greater",xb="GreaterEqual",kb="Identity",Sb="IFFT",Nb="Imag",Tb="IsFinite",Cb="IsInf",Ib="IsNan",Eb="LeakyRelu",Ab="Less",_b="LessEqual",Rb="LinSpace",Db="Log",Ob="Log1p",Fb="LogicalAnd",Lb="LogicalNot",Mb="LogicalOr",Pb="LogicalXor",zb="LogSoftmax",jb="LowerBound",Bb="LRN",Wb="LRNGrad",Ub="MatrixBandPart",Vb="Max",Hb="Maximum",Gb="MaxPool",qb="MaxPoolGrad",Kb="MaxPool3D",Xb="MaxPool3DGrad",Yb="MaxPoolWithArgmax",Qb="Mean",Zb="Min",Jb="Minimum",$b="MirrorPad",ev="Mod",tv="Multinomial",nv="Multiply",av="Neg",rv="NotEqual",ov="NonMaxSuppressionV3",sv="NonMaxSuppressionV4",iv="NonMaxSuppressionV5",lv="OnesLike",cv="OneHot",uv="Pack",dv="PadV2",hv="Pool",pv="Pow",fv="Prelu",mv="Prod",gv="RaggedGather",yv="RaggedRange",bv="RaggedTensorToTensor",vv="Range",wv="Real",xv="Reciprocal",kv="Relu",Sv="Reshape",Nv="ResizeNearestNeighbor",Tv="ResizeNearestNeighborGrad",Cv="ResizeBilinear",Iv="ResizeBilinearGrad",Ev="Relu6",Av="Reverse",_v="Round",Rv="Rsqrt",Dv="ScatterNd",Ov="TensorScatterUpdate",Fv="SearchSorted",Lv="Select",Mv="Selu",Pv="Slice",zv="Sin",jv="Sinh",Bv="Sign",Wv="Sigmoid",Uv="Softplus",Vv="Sqrt",Hv="Sum",Gv="SpaceToBatchND",qv="SplitV",Kv="Softmax",Xv="SparseFillEmptyRows",Yv="SparseReshape",Qv="SparseSegmentMean",Zv="SparseSegmentSum",Jv="SparseToDense",$v="SquaredDifference",ew="Square",tw="StaticRegexReplace",nw="StridedSlice",aw="StringNGrams",rw="StringSplit",ow="StringToHashBucketFast",sw="Sub",iw="Tan",lw="Tanh",cw="Tile",uw="TopK",dw="Transform",hw="Transpose",pw="Unique",fw="Unpack",mw="UnsortedSegmentSum",gw="UpperBound",yw="ZerosLike",bw="Step",vw="FromPixels",ww="RotateWithOffset",xw="_FusedMatMul",kw="FusedConv2D",Sw="FusedDepthwiseConv2D";function Nw(){ty().getBool("IS_TEST")||ty().getBool("PROD")||console.warn(...arguments)}function Tw(){ty().getBool("IS_TEST")||ty().getBool("PROD")||console.log(...arguments)}const Cw=oy("kernelRegistry",(()=>new Map)),Iw=oy("gradRegistry",(()=>new Map));function Ew(e,t){const n=Mw(e,t);return Cw.get(n)}function Aw(e){return Iw.get(e)}function _w(e){const t=Cw.entries(),n=[];for(;;){const{done:a,value:r}=t.next();if(a)break;const[o,s]=r,[i]=o.split("_");i===e&&n.push(s)}return n}function Rw(e){const{kernelName:t,backendName:n}=e,a=Mw(t,n);Cw.has(a)&&Nw("The kernel '".concat(t,"' for backend ")+"'".concat(n,"' is already registered")),Cw.set(a,e)}function Dw(e){const{kernelName:t}=e;Iw.has(t)&&ty().getBool("DEBUG")&&Nw("Overriding the gradient for '".concat(t,"'")),Iw.set(t,e)}function Ow(e,t){const n=Mw(e,t);if(!Cw.has(n))throw new Error("The kernel '".concat(e,"' for backend ")+"'".concat(t,"' is not registered"));Cw.delete(n)}function Fw(e){if(!Iw.has(e))throw new Error("The gradient '".concat(e,"' for backend is not registered"));Iw.delete(e)}function Lw(e,t){_w(e).forEach((e=>{Rw(Object.assign({},e,{backendName:t}))}))}function Mw(e,t){return"".concat(t,"_").concat(e)}function Pw(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}var zw=n(7353);const jw=n.n(zw)()||zw;function Bw(e){return jw.fromString(e,!0,16)}const Ww=Bw("c3a5c85c97cb3127"),Uw=Bw("b492b66fbe98f273"),Vw=Bw("9ae16a3b2f90404f");function Hw(e){return e.xor(e.shru(47))}function Gw(e,t,n){const a=e.slice(t,t+n);return jw.fromBytes(Array.from(a),!0,!0)}function qw(e,t){return Gw(e,t,8)}function Kw(e,t){return Gw(e,t,4)}function Xw(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function Yw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bw("9ddfea08eb382d69"),a=e.xor(t).mul(n);a=a.xor(a.shru(47));let r=t.xor(a).mul(n);return r=r.xor(r.shru(47)),r=r.mul(n),r}function Qw(e,t,n,a){return function(e,t,n,a,r,o){r=r.add(e),o=Xw(o.add(r).add(a),21);const s=r;return r=(r=r.add(t)).add(n),o=o.add(Xw(r,44)),[r.add(a),o.add(s)]}(qw(e,t),qw(e,t+8),qw(e,t+16),qw(e,t+24),n,a)}function Zw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=jw.fromNumber(81,!0);if(t<=32)return t<=16?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(t>=8){const n=Vw.add(2*t),a=qw(e,0).add(Vw),r=qw(e,t-8);return Yw(Xw(r,37).mul(n).add(a),Xw(a,25).add(r).mul(n),n)}if(t>=4){const n=Vw.add(2*t);return Yw(Kw(e,0).shl(3).add(t),Kw(e,t-4),n)}if(t>0){const n=e[0]+(e[t>>1]<<8),a=t+(e[t-1]<<2);return Hw(Vw.mul(n).xor(Ww.mul(a))).mul(Vw)}return Vw}(e,t):function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=Vw.add(2*t),a=qw(e,0).mul(Uw),r=qw(e,8),o=qw(e,t-8).mul(n),s=qw(e,t-16).mul(Vw);return Yw(Xw(a.add(r),43).add(Xw(o,30)).add(s),a.add(Xw(r.add(Vw),18)).add(o),n)}(e,t);if(t<=64)return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;const n=Vw.add(2*t),a=qw(e,0).mul(Vw),r=qw(e,8),o=qw(e,t-8).mul(n),s=qw(e,t-16).mul(Vw),i=Xw(a.add(r),43).add(Xw(o,30)).add(s),l=Yw(i,a.add(Xw(r.add(Vw),18)).add(o),n),c=qw(e,16).mul(n),u=qw(e,24),d=i.add(qw(e,t-32)).mul(n),h=l.add(qw(e,t-24)).mul(n);return Yw(Xw(c.add(u),43).add(Xw(d,30)).add(h),c.add(Xw(u.add(a),18)).add(d),n)}(e,t);let a=n,r=n.mul(Uw).add(113),o=Hw(r.mul(Vw).add(113)).mul(Vw),s=[jw.UZERO,jw.UZERO],i=[jw.UZERO,jw.UZERO];a=a.mul(Vw).add(qw(e,0));let l=0;const c=64*(t-1>>6),u=c+(t-1&63)-63;do{a=Xw(a.add(r).add(s[0]).add(qw(e,l+8)),37).mul(Uw),r=Xw(r.add(s[1]).add(qw(e,l+48)),42).mul(Uw),a=a.xor(i[1]),r=r.add(s[0]).add(qw(e,l+40)),o=Xw(o.add(i[0]),33).mul(Uw),s=Qw(e,l,s[1].mul(Uw),a.add(i[0])),i=Qw(e,l+32,o.add(i[1]),r.add(qw(e,l+16))),[o,a]=[a,o],l+=64}while(l!==c);const d=Uw.add(o.and(255).shl(1));return l=u,i[0]=i[0].add(t-1&63),s[0]=s[0].add(i[0]),i[0]=i[0].add(s[0]),a=Xw(a.add(r).add(s[0]).add(qw(e,l+8)),37).mul(d),r=Xw(r.add(s[1]).add(qw(e,l+48)),42).mul(d),a=a.xor(i[1].mul(9)),r=r.add(s[0].mul(9).add(qw(e,l+40))),o=Xw(o.add(i[0]),33).mul(d),s=Qw(e,l,s[1].mul(d),a.add(i[0])),i=Qw(e,l+32,o.add(i[1]),r.add(qw(e,l+16))),[o,a]=[a,o],Yw(Yw(s[0],i[0],d).add(Hw(r).mul(Ww)).add(o),Yw(s[1],i[1],d).add(a),d)}function Jw(e,t){return"string"===t?nx(e):$w([e],t)}function $w(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=ox(e)),ty().getBool("DEBUG")&&_g(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error("Unknown data type ".concat(t))}function ex(){return ty().platform.now()}function tx(e,t){return ty().platform.fetch(e,t)}function nx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",ty().platform.encode(e,t)}function ax(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",ty().platform.decode(e,t)}function rx(e){return null!=ty().platform.isTypedArray?ty().platform.isTypedArray(e):Pw(e)}function ox(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),"boolean"===typeof e||"number"===typeof e||"string"===typeof e||Zg(e)||null==e||rx(e)&&n)t.push(e);else if(Array.isArray(e)||rx(e))for(let a=0;a<e.length;++a)ox(e[a],t,n);else{let a=-1;for(const t of Object.keys(e))/^([1-9]+[0-9]*|0)$/.test(t)&&(a=Math.max(a,Number(t)));for(let r=0;r<=a;r++)ox(e[r],t,n)}return t}class sx{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new lx)}profileKernel(e,t,n){let a;const r=()=>{a=n()};let o;const s=ex();if(this.backendTimer.timerAvailable())o=this.backendTimer.time(r);else{r();for(const e of a)e.dataSync();o=Promise.resolve({kernelMs:ex()-s})}if(ty().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let i=0;i<a.length;i++){const t=a[i];t.data().then((n=>{ix(n,t.dtype,e)}))}return{kernelName:e,outputs:a,inputs:t,timeMs:o.then((e=>e.kernelMs)),extraInfo:o.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:a,inputs:r,extraInfo:o}=e;n.forEach((e=>{Promise.all([e.data(),a,o]).then((n=>{this.logger.logKernelProfile(t,e,n[0],n[1],r,n[2])}))}))}}function ix(e,t,n){if("float32"!==t)return!1;for(let a=0;a<e.length;a++){const t=e[a];if(isNaN(t)||!isFinite(t))return console.warn("Found ".concat(t," in the result of '").concat(n,"'")),!0}return!1}class lx{logKernelProfile(e,t,n,a,r,o){const s="number"===typeof a?Sg("".concat(a,"ms"),9):a.error,i=Sg(e,25),l=t.rank,c=t.size,u=Sg(t.shape.toString(),14);let d="";for(const h in r){const e=r[h];if(null!=e){const n=e.shape||t.shape,a=n.length;d+="".concat(h,": ").concat(a,"D ").concat(a>0?n:""," ")}}console.log("%c".concat(i,"\t%c").concat(s,"\t%c").concat(l,"D ").concat(u,"\t%c").concat(c,"\t%c").concat(d,"\t%c").concat(o),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}const cx=20,ux=3,dx=7;function hx(e,t,n,a){const r=Wg(t),o=function(e,t,n,a){const r=mg(t),o=a[a.length-1],s=new Array(o).fill(0),i=t.length,l="complex64"===n?gx(e):e;if(i>1)for(let c=0;c<r/o;c++){const e=c*o;for(let t=0;t<o;t++)s[t]=Math.max(s[t],px(l[e+t],0,n).length)}return s}(e,t,n,r),s=t.length,i=mx(e,t,n,r,o),l=["Tensor"];return a&&(l.push("  dtype: ".concat(n)),l.push("  rank: ".concat(s)),l.push("  shape: [".concat(t,"]")),l.push("  values:")),l.push(i.map((e=>"    "+e)).join("\n")),l.join("\n")}function px(e,t,n){let a;return a=Array.isArray(e)?"".concat(parseFloat(e[0].toFixed(dx))," + ")+"".concat(parseFloat(e[1].toFixed(dx)),"j"):Lg(e)?"'".concat(e,"'"):"bool"===n?fx(e):parseFloat(e.toFixed(dx)).toString(),Sg(a,t)}function fx(e){return 0===e?"false":"true"}function mx(e,t,n,a,r){let o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];const s="complex64"===n?2:1,i=t[0],l=t.length;if(0===l){if("complex64"===n){return[px(gx(e)[0],0,n)]}return"bool"===n?[fx(e[0])]:[e[0].toString()]}if(1===l){if(i>cx){const t=ux*s;let a=Array.from(e.slice(0,t)),o=Array.from(e.slice((i-ux)*s,i*s));return"complex64"===n&&(a=gx(a),o=gx(o)),["["+a.map(((e,t)=>px(e,r[t],n))).join(", ")+", ..., "+o.map(((e,t)=>px(e,r[i-ux+t],n))).join(", ")+"]"]}return["["+("complex64"===n?gx(e):Array.from(e)).map(((e,t)=>px(e,r[t],n))).join(", ")+"]"]}const c=t.slice(1),u=a.slice(1),d=a[0]*s,h=[];if(i>cx){for(let t=0;t<ux;t++){const a=t*d,o=a+d;h.push(...mx(e.slice(a,o),c,n,u,r,!1))}h.push("...");for(let t=i-ux;t<i;t++){const a=t*d,o=a+d;h.push(...mx(e.slice(a,o),c,n,u,r,t===i-1))}}else for(let m=0;m<i;m++){const t=m*d,a=t+d;h.push(...mx(e.slice(t,a),c,n,u,r,m===i-1))}const p=2===l?",":"";h[0]="["+(i>0?h[0]+p:"");for(let m=1;m<h.length-1;m++)h[m]=" "+h[m]+p;let f=",\n";for(let m=2;m<l;m++)f+="\n";return h[h.length-1]=" "+h[h.length-1]+"]"+(o?"":f),h}function gx(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}class yx{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=mg(e),null!=n){const e=n.length;hg(e===this.size,(()=>"Length of values '".concat(e,"' does not match the size ")+"inferred by the shape '".concat(this.size,"'.")))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||Ag(t,this.size),this.strides=Wg(e)}set(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];0===n.length&&(n=[0]),hg(n.length===this.rank,(()=>"The number of provided coordinates (".concat(n.length,") must ")+"match the rank (".concat(this.rank,")")));const r=this.locToIndex(n);this.values[r]=e}get(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);let a=0;for(const o of t){if(o<0||o>=this.shape[a]){const e="Requested out of range element at ".concat(t,". ")+"  Buffer shape=".concat(this.shape);throw new Error(e)}a++}let r=t[t.length-1];for(let o=0;o<t.length-1;++o)r+=this.strides[o]*t[o];return this.values[r]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return bx().makeTensor(this.values,this.shape,this.dtype)}}let bx=null,vx=null,wx=null;class xx{constructor(e,t,n,a){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=mg(e),this.strides=Wg(e),this.dataId=n,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return vx.buffer(this.shape,this.dtype,e)}bufferSync(){return vx.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return Vg(this.shape,e,"complex64"===this.dtype)}arraySync(){return Vg(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const e=bx().read(this.dataId);if("string"===this.dtype){const n=await e;try{return n.map((e=>ax(e)))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),bx().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=bx().readSync(this.dataId);if("string"===this.dtype)try{return e.map((e=>ax(e)))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await bx().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),bx().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return vx.print(this,e)}clone(){return this.throwIfDisposed(),vx.clone(this)}toString(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return hx(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),vx.cast(this,e)}variable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),bx().makeVariable(this,e,t,n)}}function kx(){return oy("Tensor",(()=>xx))}Object.defineProperty(xx,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),kx();class Sx extends xx{constructor(e,t,n,a){super(e.shape,e.dtype,e.dataId,a),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value (".concat(e.dtype,") and ")+"previous value (".concat(this.dtype,") must match"));if(!bg(e.shape,this.shape))throw new Error("shape of the new value (".concat(e.shape,") and ")+"previous value (".concat(this.shape,") must match"));bx().disposeTensor(this),this.dataId=e.dataId,bx().incRef(this,null)}dispose(){bx().disposeVariable(this),this.isDisposedInternal=!0}}var Nx,Tx,Cx,Ix,Ex;Object.defineProperty(Sx,Symbol.hasInstance,{value:e=>e instanceof xx&&null!=e.assign&&e.assign instanceof Function}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(Nx||(Nx={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(Tx||(Tx={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(Cx||(Cx={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(Ix||(Ix={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(Ex||(Ex={}));const Ax={float32:Ix,int32:Tx,bool:Cx,complex64:Ex};function _x(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast ".concat(e," with ").concat(t))}return Ax[e][t]}function Rx(e){return _x(e,"int32")}function Dx(e){return null!=e&&"object"===typeof e&&"texture"in e&&e.texture instanceof WebGLTexture}function Ox(e){return"undefined"!==typeof GPUBuffer&&null!=e&&"object"===typeof e&&"buffer"in e&&e.buffer instanceof GPUBuffer}function Fx(e,t){if(e.dtype===t.dtype)return[e,t];const n=_x(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function Lx(e,t){hg(e.dtype===t.dtype,(()=>"The dtypes of the first(".concat(e.dtype,") and")+" second(".concat(t.dtype,") input must match")))}function Mx(e,t){return t.some((t=>t.id===e.id))}function Px(e){const t=[];return zx(e,t,new Set),t}function zx(e,t,n){if(null==e)return;if(e instanceof xx)return void t.push(e);if(a=e,!Array.isArray(a)&&"object"!==typeof a)return;var a;const r=e;for(const o in r){const e=r[o];n.has(e)||(n.add(e),zx(e,t,n))}}function jx(e){return null!=e.kernelName}class Bx{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class Wx{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new Bx}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make ")+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error("The highest priority backend '".concat(e,"' has not yet been ")+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(Nw("".concat(e," backend was already registered. ")+"Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error("Backend name '".concat(e,"' not found in registry"));if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new sx(this.backendInstance),!0}setupRegisteredKernels(){_w(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){_w(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error("Cannot initialize backend ".concat(e,", no registration found."));try{const n=t.factory();if(!n||n instanceof ng||"function"!==typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,a=n.then((n=>!(t<this.pendingBackendInitId)&&(this.registry[e]=n,this.pendingBackendInit=null,!0))).catch((n=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,Nw("Initialization of backend ".concat(e," failed")),Nw(n.stack||n.message)),!1)));return this.pendingBackendInit=a,{success:a,asyncInit:!0}}}catch(n){return Nw("Initialization of backend ".concat(e," failed")),Nw(n.stack||n.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error("".concat(e," backend not found in registry"));this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:a,asyncInit:r}=this.initializeBackend(n);if(r||a)return{name:n,asyncInit:r}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),a=n.backend,r=this.readSync(t),o=a.refCount(t);a.disposeData(t,!0),n.backend=e,e.move(t,r,n.shape,n.dtype,o),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,a=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=e}return this.scopedRun((()=>this.startScope(a)),(()=>this.endScope(n)),(()=>(n=t(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n)))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(a){throw t(),a}}nextTensorId(){return Wx.nextTensorId++}nextVariableId(){return Wx.nextVariableId++}clone(e){const t=Vx.runKernel(kb,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(e=>({x:()=>{const t={x:e},n={dtype:"float32"};return Vx.runKernel(_y,t,n)}})),[],{}),t}runKernel(e,t,n){null==this.backendName&&this.backend;if(!(null!=Ew(e,this.backendName)))throw new Error("Kernel '".concat(e,"' not registered for backend '").concat(this.backendName,"'"));return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const a=this.backend.numDataIds();let r=0;n.forEach((e=>{r+="complex64"===e.dtype?3:1}));const o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],s=a-t-r-o;if(s>0)throw new Error("Backend '".concat(this.backendName,"' has an internal memory leak ")+"(".concat(s," data ids) after running '").concat(e,"'"))}runKernelFunc(e){let t,n=[];const a=this.isTapeOn(),r=this.state.numBytes,o=this.state.numTensors;let s,i;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const l=jx(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(jx(e)){const{kernelName:t,inputs:r,attrs:o}=e;null==this.backendName&&this.backend;const l=Ew(t,this.backendName);hg(null!=l,(()=>"Cannot find registered kernel '".concat(t,"' for backend '").concat(this.backendName,"'"))),s=()=>{const e=this.backend.numDataIds();i=l.kernelFunc({inputs:r,attrs:o,backend:this.backend});const s=Array.isArray(i)?i:[i];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,s);const c=s.map((e=>null!=e.rank?e:this.makeTensorFromTensorInfo(e)));if(a){const e=this.getTensorsForGradient(t,r,c);n=this.saveTensorsForBackwardMode(e)}return c}}else{const{forwardFunc:t}=e,r=e=>{a&&(n=e.map((e=>this.keep(this.clone(e)))))};s=()=>{const e=this.backend.numDataIds();i=this.tidy((()=>t(this.backend,r)));const n=Array.isArray(i)?i:[i];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(l,e,n),n}}const{inputs:c,attrs:u}=e,d=jx(e)?null:e.backwardsFunc;let h;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(h=this.profiler.profileKernel(l,c,(()=>s())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(h),t=h.outputs):t=s()})),a&&this.addTapeNode(l,c,t,d,n,u),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-r,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-o,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(c).map((e=>null!=c[e]?c[e].shape:null)),outputShapes:t.map((e=>e.shape)),kernelTimeMs:h.timeMs,extraInfo:h.extraInfo}),Array.isArray(i)?t:t[0]}saveTensorsForBackwardMode(e){const t=e.map((e=>this.keep(this.clone(e))));return t}getTensorsForGradient(e,t,n){const a=Aw(e);if(null!=a){const e=a.inputsToSave||[],r=a.outputsToSave||[];let o;a.saveAllInputs?(hg(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),o=Object.keys(t).map((e=>t[e]))):o=e.map((e=>t[e]));const s=n.filter(((e,t)=>r[t]));return o.concat(s)}return[]}makeTensor(e,t,n,a){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",a=a||this.backend;let r=e;"string"===n&&Lg(e[0])&&(r=e.map((e=>nx(e))));const o=a.write(r,t,n),s=new xx(t,n,o,this.nextTensorId());if(this.trackTensor(s,a),"string"===n){const e=this.state.tensorInfo.get(o),t=Fg(r);this.state.numBytes+=t-e.bytes,e.bytes=t}return s}makeTensorFromDataId(e,t,n,a){const r={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(r,a)}makeTensorFromTensorInfo(e,t){const{dataId:n,shape:a,dtype:r}=e,o=new xx(a,r,n,this.nextTensorId());return this.trackTensor(o,t),o}makeVariable(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=a&&a!==e.dtype&&(e=e.cast(a));const r=new Sx(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[r.name])throw new Error("Variable with name ".concat(r.name," was already registered"));return this.state.registeredVariables[r.name]=r,this.incRef(r,this.backend),r}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*Og(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof Sx||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*Og(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const a of this.state.activeProfile.kernels)a.kernelTimeMs=await a.kernelTimeMs,a.extraInfo=await a.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,a,r,o){const s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:r},i=Aw(e);null!=i&&(a=i.gradFunc),null!=a&&(s.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=n[t],a=qg(e.size,e.dtype);return this.makeTensor(a,e.shape,e.dtype)}return e})),a(e.length>1?e:e[0],r,o))),this.state.activeTape.push(s)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=Px(e),n=new Set(t.map((e=>e.id)));for(let r=0;r<this.state.activeScope.track.length;r++){const e=this.state.activeScope.track[r];e.kept||n.has(e.id)||e.dispose()}const a=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==a.id||this.track(e)}))}gradients(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(hg(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '".concat(n.dtype,"'"));const r=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));hg(r instanceof xx,(()=>"The result y returned by f() must be a tensor."));const o=function(e,t,n){const a={},r={};for(let l=0;l<t.length;l++)a[t[l].id]=!0;for(let l=0;l<e.length;l++){const n=e[l],o=n.inputs;for(const e in o){const s=o[e];let i=!1;for(let e=0;e<t.length;e++)if(a[s.id]){n.outputs.forEach((e=>a[e.id]=!0)),i=!0,r[n.id]=!0;break}if(i)break}}const o={};o[n.id]=!0;const s={};for(let l=e.length-1;l>=0;l--){const t=e[l],n=t.inputs;for(let e=0;e<t.outputs.length;e++)if(o[t.outputs[e].id]){for(const e in n)o[n[e].id]=!0,s[t.id]=!0;break}}const i=[];for(let l=0;l<e.length;l++){const t=e[l];if(r[t.id]&&s[t.id]){const e={};for(const r in t.inputs){const n=t.inputs[r];a[n.id]&&(e[r]=n)}const n=Object.assign({},t);n.inputs=e,n.outputs=t.outputs,i.push(n)}}return i}(this.state.activeTape,t,r);if(!a&&0===o.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[r.id]=null==n?function(e){const t=Gg(mg(e),"float32");return Vx.makeTensor(t,e,"float32")}(r.shape):n,function(e,t,n,a){for(let r=t.length-1;r>=0;r--){const o=t[r],s=[];if(o.outputs.forEach((t=>{const n=e[t.id];null!=n?s.push(n):s.push(null)})),null==o.gradient)throw new Error("Cannot compute gradient: gradient function not found "+"for ".concat(o.kernelName,"."));const i=o.gradient(s);for(const t in o.inputs){if(!(t in i))throw new Error("Cannot backprop through input ".concat(t,". ")+"Available gradients found: ".concat(Object.keys(i),"."));const r=n((()=>i[t]()));if("float32"!==r.dtype)throw new Error("Error in gradient for op ".concat(o.kernelName,". The gradient of input ")+"".concat(t," must have 'float32' dtype, but has '").concat(r.dtype,"'"));const s=o.inputs[t];if(!bg(r.shape,s.shape))throw new Error("Error in gradient for op ".concat(o.kernelName,". The gradient of input ")+"'".concat(t,"' has shape '").concat(r.shape,"', which does not match ")+"the shape of the input '".concat(s.shape,"'"));if(null==e[s.id])e[s.id]=r;else{const t=e[s.id];e[s.id]=a(t,r),t.dispose()}}}}(e,o,(e=>this.tidy(e)),Hx);const a=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:r,grads:a}}))}customGrad(e){var t=this;return hg(jg(e),(()=>"The f passed in customGrad(f) must be a function.")),function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];let o;hg(a.every((e=>e instanceof xx)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const s={};a.forEach(((e,t)=>{s[t]=e}));return t.runKernelFunc({forwardFunc:(t,n)=>(o=e(...a,n),hg(o.value instanceof xx,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),hg(jg(o.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),o.value),backwardsFunc:(e,t)=>{const n=o.gradFunc(e,t),r=Array.isArray(n)?n:[n];hg(r.length===a.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),hg(r.every((e=>e instanceof xx)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const s={};return r.forEach(((e,t)=>{s[t]=()=>e})),s},inputs:s})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=ex(),n=await this.backend.time(e);return n.wallMs=ex()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new Bx;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function Ux(){const e=ry();if(null==e._tfengine){const t=new $g(e);e._tfengine=new Wx(t)}var t;return t=e._tfengine.ENV,ay=t,bx=()=>e._tfengine,e._tfengine}Wx.nextTensorId=0,Wx.nextVariableId=0;const Vx=Ux();function Hx(e,t){const n={a:e,b:t};return Vx.runKernel(cy,n)}let Gx;function qx(e){Gx=e}function Kx(e){if(void 0!==Gx)return Gx;if(e||"undefined"!==typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;const t=e.userAgent||e.vendor||("undefined"!==typeof window?window.opera:"");if(!t){const t=e;return t.userAgentData&&t.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function Xx(){return"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope}const Yx=ty();function Qx(e,t){let n=e;if(rx(e))return"string"===t?[]:[e.length];if(Dx(e)){const t=e.channels||"RGBA";return[e.height,e.width*t.length]}if(Ox(e))return[e.buffer.size/(null==t?4:Og(t))];if(!Array.isArray(e))return[];const a=[];for(;Array.isArray(n)||rx(n)&&"string"!==t;)a.push(n.length),n=n[0];return Array.isArray(e)&&ty().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&Zx(e,a,[]),a}function Zx(e,t,n){if(n=n||[],!Array.isArray(e)&&!rx(e))return void hg(0===t.length,(()=>"Element arr[".concat(n.join("]["),"] is a primitive, ")+"but should be an array/TypedArray of ".concat(t[0]," elements")));hg(t.length>0,(()=>"Element arr[".concat(n.join("]["),"] should be a primitive, ")+"but is an array of ".concat(e.length," elements"))),hg(e.length===t[0],(()=>"Element arr[".concat(n.join("]["),"] should have ").concat(t[0]," ")+"elements, but has ".concat(e.length," elements")));const a=t.slice(1);for(let r=0;r<e.length;++r)Zx(e[r],a,n.concat(r))}function Jx(e,t,n,a){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error("Argument '".concat(n,"' passed to '").concat(a,"' must ")+"be ".concat(e," tensor, but got ").concat(t," tensor"))}}function $x(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof kx())return Jx(a,e.dtype,t,n),e;let r=zg(e);if("string"!==r&&["bool","int32","float32"].indexOf(a)>=0&&(r=a),Jx(a,r,t,n),null==e||!rx(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){const a=null==e?"null":e.constructor.name;throw new Error("Argument '".concat(t,"' passed to '").concat(n,"' must be a ")+"Tensor or TensorLike, but got '".concat(a,"'"))}const o=Qx(e,r);rx(e)||Array.isArray(e)||(e=[e]);const s="string"!==r?$w(e,r):ox(e,[],!0);return Vx.makeTensor(s,o,r)}function ek(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error("Argument ".concat(t," passed to ").concat(n," must be a ")+"`Tensor[]` or `TensorLike[]`");return e.map(((e,r)=>$x(e,"".concat(t,"[").concat(r,"]"),n,a)))}Yx.registerFlag("DEBUG",(()=>!1),(e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),Yx.registerFlag("IS_BROWSER",(()=>Xx())),Yx.registerFlag("IS_NODE",(()=>"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node)),Yx.registerFlag("IS_CHROME",(()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),Yx.registerFlag("IS_SAFARI",(()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor))),Yx.registerFlag("PROD",(()=>!1)),Yx.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>Yx.getBool("DEBUG"))),Yx.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),Yx.registerFlag("IS_TEST",(()=>!1)),Yx.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>Yx.getBool("DEBUG"))),Yx.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1)),Yx.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",(()=>!1)),Yx.registerFlag("USE_SETTIMEOUTCUSTOM",(()=>!1));const tk="__op";function nk(e){const t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+"".concat(t.length," keys."));let n=t[0];const a=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=tk;const r=function(){Vx.startScope(n);try{const e=a(...arguments);return Zg(e)&&console.error("Cannot return a Promise inside of tidy."),Vx.endScope(e),e}catch(e){throw Vx.endScope(null),e}};return Object.defineProperty(r,"name",{value:n,configurable:!0}),r}const ak=nk({complex_:function(e,t){const n=$x(e,"real","complex"),a=$x(t,"imag","complex");pg(n.shape,a.shape,"real and imag shapes, ".concat(n.shape," and ").concat(a.shape,", ")+"must match in call to tf.complex().");const r={real:n,imag:a};return Vx.runKernel(Oy,r)}});function rk(e,t,n,a){if(null==a)a=zg(e);else if("complex64"===a)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(Ox(e)||Dx(e)){if("float32"!==a&&"int32"!==a)throw new Error("Creating tensor from GPU data only supports "+"'float32'|'int32' dtype, while the dtype is ".concat(a,"."));return Vx.backend.createTensorFromGPUData(e,t||n,a)}if(!rx(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){Xg(t);const e=mg(t),a=mg(n);hg(e===a,(()=>"Based on the provided shape, [".concat(t,"], the tensor should have ")+"".concat(e," values but has ").concat(a)));for(let r=0;r<n.length;++r){const e=n[r],a=r!==n.length-1||e!==mg(t.slice(r));hg(n[r]===t[r]||!a,(()=>"Error creating a new Tensor. Inferred shape "+"(".concat(n,") does not match the provided ")+"shape (".concat(t,"). ")))}}return rx(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==a?$w(e,a):ox(e,[],!0),Vx.makeTensor(e,t,a)}function ok(e,t,n){return rk(e,t,Qx(e,n),n)}const sk={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class ik{static join(e){return new ik(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,null==e)return;if(e instanceof Array||(e=[e]),0===(e=e.map((e=>rx(e)?e.buffer:e))).length)return;this.bufferUniformSize=e[0].byteLength;let t=0;for(let n=0;n<e.length;n++){const a=e[n];n!==e.length-1&&a.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const r=t+a.byteLength;this.shards.push({buffer:a,start:t,end:r}),t=r}0===this.shards.length&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.byteLength;if(0===this.shards.length)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,t=isNaN(Number(t))?0:t,e=Math.max(0,e),t=Math.min(this.byteLength,t),t<=e)return new ArrayBuffer(0);const n=this.findShardForByte(e);if(-1===n)throw new Error("Could not find start shard for byte ".concat(e));const a=new ArrayBuffer(t-e),r=new Uint8Array(a);let o=0;for(let s=n;s<this.shards.length;s++){const n=this.shards[s],a=e+o-n.start,i=o,l=Math.min(t,n.end)-n.start,c=new Uint8Array(n.buffer,a,l-a);if(r.set(c,i),o+=c.length,t<n.end)break}return a}findShardForByte(e){if(0===this.shards.length||e<0||e>=this.byteLength)return-1;if(null!=this.bufferUniformSize)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function t(t){return e<t.start?-1:e>=t.end?1:0}if(0===t(this.shards[this.previousShardIndex]))return this.previousShardIndex;const n=function(e,t){let n=0,a=e.length;for(;n<=a;){const r=Math.floor((a-n)/2)+n,o=t(e[r]);if(0===o)return r;o<0?a=r:n=r+1}return-1}(this.shards,t);return-1===n?-1:(this.previousShardIndex=n,this.previousShardIndex)}}function lk(){ty().set("PROD",!0)}function ck(){ty().set("DEBUG",!0)}function uk(){ty().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function dk(e){ty().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function hk(){Vx.disposeVariables()}function pk(){return Vx}function fk(){return Vx.memory()}function mk(e){return Vx.profile(e)}function gk(e,t){return Vx.tidy(e,t)}function yk(e){Px(e).forEach((e=>e.dispose()))}function bk(e){return Vx.keep(e)}function vk(e){return Vx.time(e)}function wk(e){return Vx.setBackend(e)}function xk(){return Vx.ready()}function kk(){return Vx.backendName}function Sk(e){Vx.removeBackend(e)}function Nk(e){return Vx.findBackend(e)}function Tk(e){return Vx.findBackendFactory(e)}function Ck(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Vx.registerBackend(e,t,n)}function Ik(){return Vx.backend}function Ek(e,t){ty().setPlatform(e,t)}wx=dk;const Ak=4;async function _k(e,t){const n=[],a=[],r=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);for(let o=0;o<r.length;++o){const s=r[o],i=Array.isArray(e)?e[o].tensor:e[s];if("float32"!==i.dtype&&"int32"!==i.dtype&&"bool"!==i.dtype&&"string"!==i.dtype&&"complex64"!==i.dtype)throw new Error("Unsupported dtype in weight '".concat(s,"': ").concat(i.dtype));const l={name:s,shape:i.shape,dtype:i.dtype};if("string"===i.dtype){const e=new Promise((async e=>{const t=await i.bytes(),n=t.reduce(((e,t)=>e+t.length),0)+Ak*t.length,a=new Uint8Array(n);let r=0;for(let o=0;o<t.length;o++){const e=t[o],n=new Uint8Array(new Uint32Array([e.length]).buffer);a.set(n,r),r+=Ak,a.set(e,r),r+=e.length}e(a)}));a.push(e)}else a.push(i.data());null!=t&&(l.group=t),n.push(l)}return{data:Pk(await Promise.all(a)),specs:n}}function Rk(e,t){const n=new ik(e),a={};let r=0;for(const o of t){const e=Dk(o,((e,t)=>n.slice(r+e,r+t)));a[o.name]=Fk(o,n.slice(r,r+e)),r+=e}return a}function Dk(e,t){const n=mg(e.shape);let a;if("quantization"in e){const t=e.quantization;a=sk[t.dtype]}else{if("string"===e.dtype){let e=0;for(let a=0;a<n;a++)e+=Ak+new Uint32Array(t(e,e+Ak))[0];return e}a=sk[e.dtype]}return n*a}async function Ok(e,t){const n=mg(e.shape);let a;if("quantization"in e){const t=e.quantization;a=sk[t.dtype]}else{if("string"===e.dtype){let e=0;for(let a=0;a<n;a++)e+=Ak+new Uint32Array(await t(e,e+Ak))[0];return e}a=sk[e.dtype]}return n*a}function Fk(e,t){const n=e.name,a=e.dtype,r=e.shape,o=mg(r);let s,i=0;if("quantization"in e){const r=e.quantization;if("uint8"===r.dtype||"uint16"===r.dtype){if(!("min"in r)||!("scale"in r))throw new Error("Weight ".concat(e.name," with quantization ").concat(r.dtype," ")+"doesn't have corresponding metadata min and scale.")}else{if("float16"!==r.dtype)throw new Error("Weight ".concat(e.name," has unknown ")+"quantization dtype ".concat(r.dtype,". ")+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");if("float32"!==a)throw new Error("Weight ".concat(e.name," is quantized with ").concat(r.dtype," ")+"which only supports weights of type float32 not ".concat(a,"."))}const l=sk[r.dtype],c="uint8"===r.dtype?new Uint8Array(t):new Uint16Array(t);if("float32"===a)if("uint8"===r.dtype||"uint16"===r.dtype){s=new Float32Array(c.length);for(let e=0;e<c.length;e++){const t=c[e];s[e]=t*r.scale+r.min}}else{if("float16"!==r.dtype)throw new Error("Unsupported quantization type ".concat(r.dtype," ")+"for weight type float32.");{const e=function(){const e=function(){const e=e=>{let t=e<<13,n=0;for(;0===(8388608&t);)n-=8388608,t<<=1;return t&=-8388609,n+=947912704,t|n},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let n=1024;n<2048;n++)t[n]=939524096+(n-1024<<13);return t}(),t=function(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}(),n=function(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return a=>{const r=new ArrayBuffer(4*a.length),o=new Uint32Array(r);for(let s=0;s<a.length;s++){const r=a[s],i=e[n[r>>10]+(1023&r)]+t[r>>10];o[s]=i}return new Float32Array(r)}}();s=e(c)}}else{if("int32"!==a)throw new Error("Unsupported dtype in weight '".concat(n,"': ").concat(a));if("uint8"!==r.dtype&&"uint16"!==r.dtype)throw new Error("Unsupported quantization type ".concat(r.dtype," ")+"for weight type int32.");s=new Int32Array(c.length);for(let e=0;e<c.length;e++){const t=c[e];s[e]=Math.round(t*r.scale+r.min)}}i+=o*l}else if("string"===a){const n=mg(e.shape);s=[];for(let e=0;e<n;e++){const e=new Uint32Array(t.slice(i,i+Ak))[0];i+=Ak;const n=new Uint8Array(t.slice(i,i+e));s.push(n),i+=e}}else{const e=sk[a];if("float32"===a)s=new Float32Array(t);else if("int32"===a)s=new Int32Array(t);else{if("bool"!==a){if("complex64"===a){s=new Float32Array(t);const e=new Float32Array(s.length/2),n=new Float32Array(s.length/2);for(let t=0;t<e.length;t++)e[t]=s[2*t],n[t]=s[2*t+1];const a=ok(e,r,"float32"),o=ok(n,r,"float32"),i=ak(a,o);return a.dispose(),o.dispose(),i}throw new Error("Unsupported dtype in weight '".concat(n,"': ").concat(a))}s=new Uint8Array(t)}i+=o*e}return ok(s,r,a)}async function Lk(e,t,n){let a=new Uint8Array(t);for(;a.byteLength<n;){const{done:t,value:r}=await e.read();if(t&&null==r){const e=n-a.byteLength;throw new Error("Reader is done but ".concat(e," bytes are still expected"))}const o=new Uint8Array(a.length+r.byteLength);o.set(a,0),o.set(new Uint8Array(r),a.length),a=o}return a.buffer}async function Mk(e,t){const n={},a=e.getReader();let r=new ArrayBuffer(0);for(const o of t){const e=await Ok(o,(async(e,t)=>(r=await Lk(a,r,t),r.slice(e,t))));r=await Lk(a,r,e);const t=r.slice(0,e);r=r.slice(e);const s=Fk(o,t);if(n[o.name]=s,"webgpu"===kk()){const e=Ik();"uploadToGPU"in e&&mg(s.shape)>=ty().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&e.uploadToGPU(s.dataId)}}return n}function Pk(e){if(null===e)throw new Error("Invalid input value: ".concat(JSON.stringify(e)));let t=0;const n=[];e.forEach((e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: ".concat(e.constructor.name))}));const a=new Uint8Array(t);let r=0;return n.forEach((e=>{a.set(new Uint8Array(e.buffer),r),r+=e.byteLength})),a.buffer}const zk="undefined"!==typeof Buffer&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function jk(e){return zk?Buffer.byteLength(e,"utf8"):new Blob([e]).size}function Bk(e){return ik.join(e)}function Wk(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const t=e.split("/");return t[t.length-1]}function Uk(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(n.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function Vk(e,t,n){const a={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(a.trainingConfig=e.trainingConfig),null!=e.weightsManifest){if(!t)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");a.weightSpecs=t,a.weightData=n}return null!=e.signature&&(a.signature=e.signature),null!=e.userDefinedMetadata&&(a.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(a.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(a.initializerSignature=e.initializerSignature),a}async function Hk(e,t){let n,a;return null!=e.weightsManifest&&([n,a]=await t(e.weightsManifest)),Vk(e,n,a)}function Gk(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:jk(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:jk(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:new ik(e.weightData).byteLength}}function qk(e){const t=[];for(const n of e)t.push(...n.weights);return t}class Kk{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==Kk.instance&&(Kk.instance=new Kk),Kk.instance}static registerSaveRouter(e){Kk.getInstance().saveRouters.push(e)}static registerLoadRouter(e){Kk.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return Kk.getHandlers(e,"save")}static getLoadHandlers(e,t){return Kk.getHandlers(e,"load",t)}static getHandlers(e,t,n){const a=[];return("load"===t?Kk.getInstance().loadRouters:Kk.getInstance().saveRouters).forEach((t=>{const r=t(e,n);null!==r&&a.push(r)})),a}}const Xk=e=>Kk.registerSaveRouter(e),Yk=e=>Kk.registerLoadRouter(e),Qk=e=>Kk.getSaveHandlers(e),Zk=(e,t)=>Kk.getLoadHandlers(e,t),Jk="tensorflowjs",$k="models_store",eS="model_info_store";function tS(){if(!ty().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function nS(e){const t=e.result;t.createObjectStore($k,{keyPath:"modelPath"}),t.createObjectStore(eS,{keyPath:"modelPath"})}class aS{constructor(e){if(this.indexedDB=tS(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,n)=>{const a=this.indexedDB.open(Jk,1);a.onupgradeneeded=()=>nS(a),a.onsuccess=()=>{const r=a.result;if(null==t){const t=r.transaction($k,"readonly"),a=t.objectStore($k).get(this.modelPath);a.onsuccess=()=>{if(null==a.result)return r.close(),n(new Error("Cannot find model with path '".concat(this.modelPath,"' ")+"in IndexedDB."));e(a.result.modelArtifacts)},a.onerror=e=>(r.close(),n(a.error)),t.oncomplete=()=>r.close()}else{t.weightData=ik.join(t.weightData);const a=Gk(t),s=r.transaction(eS,"readwrite");let i,l,c=s.objectStore(eS);try{i=c.put({modelPath:this.modelPath,modelArtifactsInfo:a})}catch(o){return n(o)}i.onsuccess=()=>{l=r.transaction($k,"readwrite");const i=l.objectStore($k);let u;try{u=i.put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:a})}catch(o){return n(o)}u.onsuccess=()=>e({modelArtifactsInfo:a}),u.onerror=e=>{c=s.objectStore(eS);const t=c.delete(this.modelPath);t.onsuccess=()=>(r.close(),n(u.error)),t.onerror=e=>(r.close(),n(u.error))}},i.onerror=e=>(r.close(),n(i.error)),s.oncomplete=()=>{null==l?r.close():l.oncomplete=()=>r.close()}}},a.onerror=e=>n(a.error)}))}}aS.URL_SCHEME="indexeddb://";const rS=e=>{return ty().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(aS.URL_SCHEME)?(t=e.slice(aS.URL_SCHEME.length),new aS(t)):null;var t};Kk.registerSaveRouter(rS),Kk.registerLoadRouter(rS);class oS{constructor(){this.indexedDB=tS()}async listModels(){return new Promise(((e,t)=>{const n=this.indexedDB.open(Jk,1);n.onupgradeneeded=()=>nS(n),n.onsuccess=()=>{const a=n.result,r=a.transaction(eS,"readonly"),o=r.objectStore(eS).getAll();o.onsuccess=()=>{const t={};for(const e of o.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},o.onerror=e=>(a.close(),t(o.error)),r.oncomplete=()=>a.close()},n.onerror=e=>t(n.error)}))}async removeModel(e){var t;return e=(t=e).startsWith(aS.URL_SCHEME)?t.slice(aS.URL_SCHEME.length):t,new Promise(((t,n)=>{const a=this.indexedDB.open(Jk,1);a.onupgradeneeded=()=>nS(a),a.onsuccess=()=>{const r=a.result,o=r.transaction(eS,"readwrite"),s=o.objectStore(eS),i=s.get(e);let l;i.onsuccess=()=>{if(null==i.result)return r.close(),n(new Error("Cannot find model with path '".concat(e,"' ")+"in IndexedDB."));{const a=s.delete(e),o=()=>{l=r.transaction($k,"readwrite");const a=l.objectStore($k).delete(e);a.onsuccess=()=>t(i.result.modelArtifactsInfo),a.onerror=e=>n(i.error)};a.onsuccess=o,a.onerror=e=>(o(),r.close(),n(i.error))}},i.onerror=e=>(r.close(),n(i.error)),o.oncomplete=()=>{null==l?r.close():l.oncomplete=()=>r.close()}},a.onerror=e=>n(a.error)}))}}const sS="/",iS="tensorflowjs_models",lS="info",cS="model_topology",uS="weight_specs",dS="weight_data",hS="model_metadata";function pS(e){return{info:[iS,e,lS].join(sS),topology:[iS,e,cS].join(sS),weightSpecs:[iS,e,uS].join(sS),weightData:[iS,e,dS].join(sS),modelMetadata:[iS,e,hS].join(sS)}}function fS(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function mS(e){const t=e.split(sS);if(t.length<3)throw new Error("Invalid key format: ".concat(e));return t.slice(1,t.length-1).join(sS)}class gS{constructor(e){if(!ty().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=pS(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),a=JSON.stringify(e.weightSpecs),r=Gk(e),o=ik.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,a),this.LS.setItem(this.keys.weightData,function(e){if(zk)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let a=0,r=t.length;a<r;a++)n+=String.fromCharCode(t[a]);return btoa(n)}(o));const t={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,initializerSignature:null!=e.initializerSignature?e.initializerSignature:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(t)),{modelArtifactsInfo:r}}catch(t){throw fS(this.keys),new Error("Failed to save model '".concat(this.modelPath,"' to local storage: ")+"size quota being exceeded is a possible cause of this failure: "+"modelTopologyBytes=".concat(r.modelTopologyBytes,", ")+"weightSpecsBytes=".concat(r.weightSpecsBytes,", ")+"weightDataBytes=".concat(r.weightDataBytes,"."))}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error("In local storage, there is no model with name '".concat(this.modelPath,"'"));if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error("In local storage, the topology of model '".concat(this.modelPath,"' ")+"is missing.");t.modelTopology=n;const a=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==a)throw new Error("In local storage, the weight specs of model '".concat(this.modelPath,"' ")+"are missing.");t.weightSpecs=a;const r=this.LS.getItem(this.keys.modelMetadata);if(null!=r){const e=JSON.parse(r);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.initializerSignature&&(t.initializerSignature=e.initializerSignature),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const o=this.LS.getItem(this.keys.weightData);if(null==o)throw new Error("In local storage, the binary weight values of model "+"'".concat(this.modelPath,"' are missing."));return t.weightData=function(e){if(zk){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let a=0;a<t.length;++a)n.set([t.charCodeAt(a)],a);return n.buffer}(o),t}}gS.URL_SCHEME="localstorage://";const yS=e=>{return ty().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(gS.URL_SCHEME)?(t=e.slice(gS.URL_SCHEME.length),new gS(t)):null;var t};Kk.registerSaveRouter(yS),Kk.registerLoadRouter(yS);class bS{constructor(){hg(ty().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),hg("undefined"===typeof window||"undefined"!==typeof window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=iS+sS,n=sS+lS;for(let a=0;a<this.LS.length;++a){const r=this.LS.key(a);if(r.startsWith(t)&&r.endsWith(n)){e[mS(r)]=JSON.parse(this.LS.getItem(r))}}return e}async removeModel(e){var t;const n=pS(e=(t=e).startsWith(gS.URL_SCHEME)?t.slice(gS.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error("Cannot find model at path '".concat(e,"'"));const a=JSON.parse(this.LS.getItem(n.info));return fS(n),a}}const vS="://";class wS{constructor(){this.managers={}}static getInstance(){return null==wS.instance&&(wS.instance=new wS),wS.instance}static registerManager(e,t){hg(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith(vS)&&(e=e.slice(0,e.indexOf(vS))),hg(e.length>0,(()=>"scheme must not be an empty string."));const n=wS.getInstance();hg(null==n.managers[e],(()=>"A model store manager is already registered for scheme '".concat(e,"'."))),n.managers[e]=t}static getManager(e){const t=wS.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '".concat(e,"'"));return t}static getSchemes(){return Object.keys(wS.getInstance().managers)}}function xS(e){if(-1===e.indexOf(vS))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+"".concat(wS.getSchemes().join(",")));return{scheme:e.split(vS)[0],path:e.split(vS)[1]}}async function kS(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];hg(e!==t,(()=>"Old path and new path are the same: '".concat(e,"'")));const a=Kk.getLoadHandlers(e);hg(a.length>0,(()=>"Copying failed because no load handler is found for source URL ".concat(e,"."))),hg(a.length<2,(()=>"Copying failed because more than one (".concat(a.length,") ")+"load handlers for source URL ".concat(e,".")));const r=a[0],o=Kk.getSaveHandlers(t);hg(o.length>0,(()=>"Copying failed because no save handler is found for destination "+"URL ".concat(t,"."))),hg(o.length<2,(()=>"Copying failed because more than one (".concat(a.length,") ")+"save handlers for destination URL ".concat(t,".")));const s=o[0],i=xS(e).scheme,l=xS(e).path,c=i===xS(e).scheme,u=await r.load();n&&c&&await wS.getManager(i).removeModel(l);const d=await s.save(u);return n&&!c&&await wS.getManager(i).removeModel(l),d.modelArtifactsInfo}async function SS(){const e=wS.getSchemes(),t={};for(const n of e){const e=await wS.getManager(n).listModels();for(const a in e){t[n+vS+a]=e[a]}}return t}async function NS(e){const t=xS(e);return wS.getManager(t.scheme).removeModel(t.path)}async function TS(e,t){return kS(e,t,!1)}async function CS(e,t){return kS(e,t,!0)}class IS{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got ".concat(t));return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}setTimeoutCustom(e,t){"undefined"!==typeof window&&ty().getBool("USE_SETTIMEOUTCUSTOM")?(this.functionRefs.push(e),setTimeout((()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")}),t),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",(e=>{if(e.source===window&&e.data.name===this.messageName){e.stopPropagation();(0,this.functionRefs[e.data.index])(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}}),!0))):setTimeout(e,t)}isTypedArray(e){return Pw(e)}}if(ty().get("IS_BROWSER")){ty().setPlatform("browser",new IS);try{wS.registerManager(gS.URL_SCHEME,new bS)}catch(r4){}try{wS.registerManager(aS.URL_SCHEME,new oS)}catch(r4){}}const ES=()=>n(5817);let AS;class _S{constructor(){this.util=n(8590),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=ty().global.fetch?ty().global.fetch(e,t):(null==AS&&(AS=ES()),AS(e,t))}now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got ".concat(t));return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}function RS(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",Xg(e),new yx(e,t,n)}ty().get("IS_NODE")&&!ty().get("IS_BROWSER")&&ty().setPlatform("node",new _S);const DS=nk({cast_:function(e,t){const n=$x(e,"x","cast");if(!Rg(t))throw new Error("Failed to cast to unknown dtype ".concat(t));if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const a={x:n},r={dtype:t};return Vx.runKernel(_y,a,r)}});const OS=nk({clone_:function(e){const t={x:$x(e,"x","clone","string_or_numeric")};return Vx.runKernel(kb,t)}});function FS(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}Ux();vx={buffer:RS,cast:DS,clone:OS,print:FS};const LS=nk({add_:function(e,t){let n=$x(e,"a","add"),a=$x(t,"b","add");[n,a]=Fx(n,a);const r={a:n,b:a};return Vx.runKernel(cy,r)}});const MS=nk({floorDiv_:function(e,t){let n=$x(e,"a","floorDiv"),a=$x(t,"b","floorDiv");[n,a]=Fx(n,a);const r={a:n,b:a};return Vx.runKernel(gb,r)}});const PS=nk({div_:function(e,t){let n=$x(e,"a","div"),a=$x(t,"b","div");if([n,a]=Fx(n,a),"int32"===n.dtype&&"int32"===a.dtype)return MS(n,a);const r={a:n,b:a};return Vx.runKernel(ab,r,{})}});const zS=nk({mul_:function(e,t){let n=$x(e,"a","mul"),a=$x(t,"b","mul");[n,a]=Fx(n,a);const r={a:n,b:a};return Vx.runKernel(nv,r)}});const jS=nk({sqrt_:function(e){const t={x:$x(e,"x","sqrt","float32")};return Vx.runKernel(Vv,t)}});const BS=nk({square_:function(e){const t=$x(e,"x","square");return Vx.runKernel("Square",{x:t},{})}});const WS=nk({zerosLike_:function(e){const t={x:$x(e,"x","zerosLike")};return Vx.runKernel(yw,t)}});function US(e){return hg(jg(e),(()=>"The f passed in grad(f) must be a function")),(t,n)=>{const a=$x(t,"x","tf.grad","string_or_numeric"),r=null!=n?$x(n,"dy","tf.grad"):null;return Vx.tidy((()=>{const{value:t,grads:n}=Vx.gradients((()=>e(a)),[a],r);return null!=r&&pg(t.shape,r.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),XS(n),n[0]}))}}function VS(e){return hg(jg(e),(()=>"The f passed in grads(f) must be a function")),(t,n)=>{hg(Array.isArray(t),(()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"));const a=ek(t,"args","tf.grads","string_or_numeric"),r=null!=n?$x(n,"dy","tf.grads"):null;return Vx.tidy((()=>{const{value:t,grads:n}=Vx.gradients((()=>e(...a)),a,r);return null!=r&&pg(t.shape,r.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),XS(n),n}))}}function HS(e){return hg(jg(e),(()=>"The f passed in valueAndGrad(f) must be a function")),(t,n)=>{hg(t instanceof xx,(()=>"The x passed in valueAndGrad(f)(x) must be a tensor")),hg(null==n||n instanceof xx,(()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"));const{grads:a,value:r}=Vx.gradients((()=>e(t)),[t],n);return XS(a),{grad:a[0],value:r}}}function GS(e){return hg(jg(e),(()=>"The f passed in valueAndGrads(f) must be a function")),(t,n)=>{hg(Array.isArray(t)&&t.every((e=>e instanceof xx)),(()=>"The args passed in valueAndGrads(f)(args) must be array of tensors")),hg(null==n||n instanceof xx,(()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"));const a=Vx.gradients((()=>e(...t)),t,n);return null!=n&&pg(a.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),XS(a.grads),a}}function qS(e,t){hg(jg(e),(()=>"The f passed in variableGrads(f) must be a function")),hg(null==t||Array.isArray(t)&&t.every((e=>e instanceof Sx)),(()=>"The varList passed in variableGrads(f, varList) must be an array of variables"));const n=null!=t;if(!n){t=[];for(const e in Vx.registeredVariables)t.push(Vx.registeredVariables[e])}const a=n?t.filter((e=>!e.trainable)):null,r=t.length;t=t.filter((e=>e.trainable)),hg(t.length>0,(()=>"variableGrads() expects at least one of the input variables to "+"be trainable, but none of the ".concat(r," variables is ")+"trainable."));const{value:o,grads:s}=Vx.gradients(e,t,null,!0);hg(s.some((e=>null!=e)),(()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().")),hg(0===o.rank,(()=>"The f passed in variableGrads(f) must return a scalar, but it "+"returned a rank-".concat(o.rank," tensor")));const i={};return t.forEach(((e,t)=>{null!=s[t]&&(i[e.name]=s[t])})),null!=a&&a.forEach((e=>i[e.name]=null)),{value:o,grads:i}}function KS(e){return Vx.customGrad(e)}function XS(e){if(e.filter((e=>null==e)).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}function YS(e,t){if((rx(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&rx(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return rk(e,[],[],t)}const QS=new Map,ZS=new Map;class JS{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}}class $S{constructor(){this.classNameMap={}}static getMap(){return null==$S.instance&&($S.instance=new $S),$S.instance}static register(e){$S.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function eN(e,t,n){hg(null!=e.className,(()=>"Class being registered does not have the static className property defined.")),hg("string"===typeof e.className,(()=>"className is required to be a string, but got type "+typeof e.className)),hg(e.className.length>0,(()=>"Class being registered has an empty-string as its className, which is disallowed.")),"undefined"===typeof t&&(t="Custom"),"undefined"===typeof n&&(n=e.className);const a=t+">"+n;return $S.register(e),QS.set(a,e),ZS.set(e,a),e}function tN(e){return ZS.has(e)?ZS.get(e):e.className}class nN extends JS{minimize(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;const{value:a,grads:r}=this.computeGradients(e,n);if(null!=n){const e=n.map((e=>({name:e.name,tensor:r[e.name]})));this.applyGradients(e)}else this.applyGradients(r);return yk(r),t?a:(a.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return qS(e,t)}dispose(){null!=this.iterations_&&yk(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:YS(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for this optimizer class "+"".concat(this.getClassName()))}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(nN,Symbol.hasInstance,{value:e=>null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients});class aN extends nN{static get className(){return"Adadelta"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(),this.learningRate=e,this.rho=t,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==n&&(this.epsilon=Vx.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const a=Vx.registeredVariables[t];null==this.accumulatedGrads[n]&&(this.accumulatedGrads[n]={originalName:"".concat(t,"/accum_grad"),variable:gk((()=>WS(a).variable(false)))}),null==this.accumulatedUpdates[n]&&(this.accumulatedUpdates[n]={originalName:"".concat(t,"/accum_var"),variable:gk((()=>WS(a).variable(false)))});const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const o=this.accumulatedGrads[n].variable,s=this.accumulatedUpdates[n].variable;gk((()=>{const e=LS(zS(o,this.rho),zS(BS(r),1-this.rho)),t=zS(PS(jS(LS(s,this.epsilon)),jS(LS(o,this.epsilon))),r),n=LS(zS(s,this.rho),zS(BS(t),1-this.rho));o.assign(e),s.assign(n);const i=LS(zS(t,-this.learningRate),a);a.assign(i)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&(yk(this.accumulatedGrads.map((e=>e.variable))),yk(this.accumulatedUpdates.map((e=>e.variable))))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){const t=(e=await this.extractIterations(e)).length/2;this.accumulatedGrads=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(false)}))),this.accumulatedUpdates=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}function rN(e,t,n){Xg(e);const a={shape:e,value:t,dtype:n=n||zg(t)};return Vx.runKernel(pb,{},a)}class oN extends nN{static get className(){return"Adagrad"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const a=Vx.registeredVariables[t];if(null==this.accumulatedGrads[n]){const e=!1;this.accumulatedGrads[n]={originalName:"".concat(t,"/accumulator"),variable:gk((()=>rN(a.shape,this.initialAccumulatorValue).variable(e)))}}const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const o=this.accumulatedGrads[n].variable;gk((()=>{const e=LS(o,BS(r));o.assign(e);const t=LS(zS(PS(r,jS(LS(e,Vx.backend.epsilon()))),-this.learningRate),a);a.assign(t)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&yk(this.accumulatedGrads.map((e=>e.variable)))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulatedGrads=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}const sN=nk({pow_:function(e,t){let n=$x(e,"base","pow"),a=$x(t,"exp","pow");[n,a]=Fx(n,a);const r={a:n,b:a};return Vx.runKernel(pv,r)}});const iN=nk({sub_:function(e,t){let n=$x(e,"a","sub"),a=$x(t,"b","sub");[n,a]=Fx(n,a);const r={a:n,b:a};return Vx.runKernel(sw,r)}});class lN extends nN{static get className(){return"Adam"}constructor(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=a,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],gk((()=>{this.accBeta1=YS(t).variable(),this.accBeta2=YS(n).variable()})),null==a&&(this.epsilon=Vx.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);gk((()=>{const n=iN(1,this.accBeta1),a=iN(1,this.accBeta2);t.forEach(((t,r)=>{const o=Vx.registeredVariables[t];null==this.accumulatedFirstMoment[r]&&(this.accumulatedFirstMoment[r]={originalName:"".concat(t,"/m"),variable:gk((()=>WS(o).variable(false)))}),null==this.accumulatedSecondMoment[r]&&(this.accumulatedSecondMoment[r]={originalName:"".concat(t,"/v"),variable:gk((()=>WS(o).variable(false)))});const s=Array.isArray(e)?e[r].tensor:e[t];if(null==s)return;const i=this.accumulatedFirstMoment[r].variable,l=this.accumulatedSecondMoment[r].variable,c=LS(zS(i,this.beta1),zS(s,1-this.beta1)),u=LS(zS(l,this.beta2),zS(BS(s),1-this.beta2)),d=PS(c,n),h=PS(u,a);i.assign(c),l.assign(u);const p=LS(zS(PS(d,LS(jS(h),this.epsilon)),-this.learningRate),o);o.assign(p)})),this.accBeta1.assign(zS(this.accBeta1,this.beta1)),this.accBeta2.assign(zS(this.accBeta2,this.beta2))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&yk(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedSecondMoment&&yk(this.accumulatedSecondMoment.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e),gk((()=>{this.accBeta1.assign(sN(this.beta1,this.iterations_+1)),this.accBeta2.assign(sN(this.beta2,this.iterations_+1))}));const t=e.length/2;this.accumulatedFirstMoment=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(false)}))),this.accumulatedSecondMoment=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}const cN=nk({abs_:function(e){const t=$x(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return Vx.runKernel(Fy,e)}{const e={x:t};return Vx.runKernel(sy,e)}}});function uN(e,t){const n=e.length,a=[];for(let r=0;r<n;r++){const o=n-1-r,s=e[o]||1;(t[t.length-1-r]||1)>1&&1===s&&a.unshift(o)}return a}function dN(e,t){const n=[];for(let a=0;a<t.length;a++){const r=e[e.length-a-1],o=t.length-a-1,s=t[o];(null==r||1===r&&s>1)&&n.unshift(o)}return n}function hN(e,t){const n=Math.max(e.length,t.length),a=new Array(n);for(let r=0;r<n;r++){let o=e[e.length-r-1];null==o&&(o=1);let s=t[t.length-r-1];if(null==s&&(s=1),1===o)a[n-r-1]=s;else if(1===s)a[n-r-1]=o;else{if(o!==s){const n="Operands could not be broadcast together with shapes "+"".concat(e," and ").concat(t,".");throw Error(n)}a[n-r-1]=o}}return a}const pN=nk({maximum_:function(e,t){let n=$x(e,"a","maximum"),a=$x(t,"b","maximum");[n,a]=Fx(n,a),"bool"===n.dtype&&(n=DS(n,"int32"),a=DS(a,"int32")),hN(n.shape,a.shape);const r={a:n,b:a};return Vx.runKernel(Hb,r)}});class fN extends nN{static get className(){return"Adamax"}constructor(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=a,this.decay=r,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],gk((()=>{this.iteration=YS(0).variable(),this.accBeta1=YS(t).variable()})),null==a&&(this.epsilon=Vx.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);gk((()=>{const n=iN(1,this.accBeta1),a=PS(-this.learningRate,LS(zS(this.iteration,this.decay),1));t.forEach(((t,r)=>{const o=Vx.registeredVariables[t];null==this.accumulatedFirstMoment[r]&&(this.accumulatedFirstMoment[r]={originalName:"".concat(t,"/m"),variable:WS(o).variable(false)}),null==this.accumulatedWeightedInfNorm[r]&&(this.accumulatedWeightedInfNorm[r]={originalName:"".concat(t,"/v"),variable:WS(o).variable(false)});const s=Array.isArray(e)?e[r].tensor:e[t];if(null==s)return;const i=this.accumulatedFirstMoment[r].variable,l=this.accumulatedWeightedInfNorm[r].variable,c=LS(zS(i,this.beta1),zS(s,1-this.beta1)),u=zS(l,this.beta2),d=cN(s),h=pN(u,d);i.assign(c),l.assign(h);const p=LS(zS(PS(a,n),PS(c,LS(h,this.epsilon))),o);o.assign(p)})),this.iteration.assign(LS(this.iteration,1)),this.accBeta1.assign(zS(this.accBeta1,this.beta1))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&yk(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedWeightedInfNorm&&yk(this.accumulatedWeightedInfNorm.map((e=>e.variable)))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}class mN extends nN{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const a=Array.isArray(e)?e[n].tensor:e[t];if(null==a)return;const r=Vx.registeredVariables[t];gk((()=>{const e=LS(zS(this.c,a),r);r.assign(e)}))})),this.incrementIterations()}setLearningRate(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=bk(YS(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(0!==(e=await this.extractIterations(e)).length)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}}class gN extends mN{static get className(){return"Momentum"}constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(e),this.learningRate=e,this.momentum=t,this.useNesterov=n,this.accumulations=[],this.m=YS(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const a=Vx.registeredVariables[t];if(null==this.accumulations[n]){const e=!1;this.accumulations[n]={originalName:"".concat(t,"/momentum"),variable:gk((()=>WS(a).variable(e)))}}const r=this.accumulations[n].variable,o=Array.isArray(e)?e[n].tensor:e[t];null!=o&&gk((()=>{let e;const t=LS(zS(this.m,r),o);e=this.useNesterov?LS(zS(this.c,LS(o,zS(t,this.m))),a):LS(zS(this.c,t),a),r.assign(t),a.assign(e)}))})),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&yk(this.accumulations.map((e=>e.variable)))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulations=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}class yN extends nN{static get className(){return"RMSProp"}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(super(),this.learningRate=e,this.decay=t,this.momentum=n,this.epsilon=a,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=r,null==a&&(this.epsilon=Vx.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const a=Vx.registeredVariables[t],r=!1;null==this.accumulatedMeanSquares[n]&&(this.accumulatedMeanSquares[n]={originalName:"".concat(t,"/rms"),variable:gk((()=>WS(a).variable(r)))}),null==this.accumulatedMoments[n]&&(this.accumulatedMoments[n]={originalName:"".concat(t,"/momentum"),variable:gk((()=>WS(a).variable(r)))}),null==this.accumulatedMeanGrads[n]&&this.centered&&(this.accumulatedMeanGrads[n]={originalName:"".concat(t,"/mg"),variable:gk((()=>WS(a).variable(r)))});const o=Array.isArray(e)?e[n].tensor:e[t];if(null==o)return;const s=this.accumulatedMeanSquares[n].variable,i=this.accumulatedMoments[n].variable;gk((()=>{const e=LS(zS(s,this.decay),zS(BS(o),1-this.decay));if(this.centered){const t=this.accumulatedMeanGrads[n].variable,r=LS(zS(t,this.decay),zS(o,1-this.decay)),l=PS(zS(o,this.learningRate),jS(iN(e,LS(BS(r),this.epsilon)))),c=LS(zS(i,this.momentum),l);s.assign(e),t.assign(r),i.assign(c);const u=iN(a,c);a.assign(u)}else{const e=LS(zS(s,this.decay),zS(BS(o),1-this.decay)),t=LS(zS(i,this.momentum),PS(zS(o,this.learningRate),jS(LS(e,this.epsilon))));s.assign(e),i.assign(t);const n=iN(a,t);a.assign(n)}}))})),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&yk(this.accumulatedMeanSquares.map((e=>e.variable))),null!=this.accumulatedMeanGrads&&this.centered&&yk(this.accumulatedMeanGrads.map((e=>e.variable))),null!=this.accumulatedMoments&&yk(this.accumulatedMoments.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);const t=this.centered?e.length/3:e.length/2,n=!1;this.accumulatedMeanSquares=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedMoments=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}const bN=[aN,oN,lN,fN,gN,yN,mN];function vN(e){return new Promise((e=>setTimeout(e))).then(e)}class wN{constructor(e){if(!ty().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(wN.URL_SCHEME)&&(e=e.slice(wN.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"===typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=ik.join(e.weightData),n=window.URL.createObjectURL(new Blob([t],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const t=Uk(e,[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}]),a=window.URL.createObjectURL(new Blob([JSON.stringify(t)],{type:"application/json"})),r=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(r.download=this.modelJsonFileName,r.href=a,await vN((()=>r.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=n,await vN((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:Gk(e)}}}}wN.URL_SCHEME="downloads://";class xN{constructor(e){if(null==e||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, "+"but received ".concat(e));this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise(((e,t)=>{const n=new FileReader;n.onload=n=>{const a=JSON.parse(n.target.result),r=a.modelTopology;if(null==r)return void t(new Error("modelTopology field is missing from file ".concat(this.jsonFile.name)));if(null==a.weightsManifest)return void t(new Error("weightManifest field is missing from file ".concat(this.jsonFile.name)));if(0===this.weightsFiles.length)return void e({modelTopology:r});const o=Hk(a,(e=>this.loadWeights(e)));e(o)},n.onerror=e=>t("Failed to read model topology and weights manifest JSON "+"from file '".concat(this.jsonFile.name,"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only."),n.readAsText(this.jsonFile)}))}loadWeights(e){const t=[],n=[];for(const o of e)t.push(...o.weights),n.push(...o.paths);const a=this.checkManifestAndWeightFiles(e),r=n.map((e=>this.loadWeightsFile(e,a[e])));return Promise.all(r).then((e=>[t,e]))}loadWeightsFile(e,t){return new Promise(((n,a)=>{const r=new FileReader;r.onload=e=>{const t=e.target.result;n(t)},r.onerror=t=>a("Failed to weights data from file of path '".concat(e,"'.")),r.readAsArrayBuffer(t)}))}checkManifestAndWeightFiles(e){const t=[],n=this.weightsFiles.map((e=>Wk(e.name))),a={};for(const r of e)r.paths.forEach((e=>{const r=Wk(e);if(-1!==t.indexOf(r))throw new Error("Duplicate file basename found in weights manifest: "+"'".concat(r,"'"));if(t.push(r),-1===n.indexOf(r))throw new Error("Weight file with basename '".concat(r,"' is not provided."));a[e]=this.weightsFiles[n.indexOf(r)]}));if(t.length!==this.weightsFiles.length)throw new Error("Mismatch in the number of files in weights manifest "+"(".concat(t.length,") and the number of weight files provided ")+"(".concat(this.weightsFiles.length,")."));return a}}function kN(e){return new xN(e)}function SN(e,t,n,a){!function(e){hg(null!=e&&Array.isArray(e)&&e.length>0,(()=>"promises must be a none empty array"))}(e),function(e,t){hg(e>=0&&e<=1,(()=>"Progress fraction must be in range [0, 1], but "+"got startFraction ".concat(e))),hg(t>=0&&t<=1,(()=>"Progress fraction must be in range [0, 1], but "+"got endFraction ".concat(t))),hg(t>=e,(()=>"startFraction must be no more than endFraction, but "+"got startFraction ".concat(e," and endFraction ")+"".concat(t)))}(n=null==n?0:n,a=null==a?1:a);let r=0;return Promise.all(e.map((o=>(o.then((o=>{const s=n+ ++r/e.length*(a-n);return t(s),o})),o))))}async function NN(e,t){null==t&&(t={});const n=null==t.fetchFunc?ty().platform.fetch:t.fetchFunc,a=e.map((e=>n(e,t.requestInit,{isBinary:!0}))),r=(null==t.onProgress?await Promise.all(a):await SN(a,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(r):await SN(r,t.onProgress,.5,1)}async function TN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;return CN((e=>NN(e,{requestInit:a})))(e,t,n)}function CN(e){return async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2?arguments[2]:void 0;const r=t.map((()=>!1)),o={},s=null!=a?a.map((()=>!1)):[],i=[];if(t.forEach(((e,t)=>{let n=0;e.weights.forEach((e=>{const l="quantization"in e?e.quantization.dtype:e.dtype,c=sk[l]*mg(e.shape),u=()=>{r[t]=!0,null==o[t]&&(o[t]=[]),o[t].push({manifestEntry:e,groupOffset:n,sizeBytes:c})};null!=a?a.forEach(((t,n)=>{t===e.name&&(u(),s[n]=!0)})):u(),i.push(e.name),n+=c}))})),!s.every((e=>e))){const e=a.filter(((e,t)=>!s[t]));throw new Error("Could not find weights in manifest with names: "+"".concat(e.join(", "),". \n")+"Manifest JSON has weights with names: "+"".concat(i.join(", "),"."))}const l=r.reduce(((e,t,n)=>(t&&e.push(n),e)),[]),c=[];l.forEach((e=>{t[e].paths.forEach((e=>{const t=n+(n.endsWith("/")?"":"/")+e;c.push(t)}))}));const u=await e(c),d={};let h=0;return l.forEach((e=>{const n=t[e].paths.length,a=new ik(u.slice(h,h+n));o[e].forEach((e=>{const t=Rk(a.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(const n in t)d[n]=t[n]})),h+=n})),d}}Kk.registerSaveRouter((e=>ty().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(wN.URL_SCHEME)?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new wN(e)}(e.slice(wN.URL_SCHEME.length)):null));class IN{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?(hg("function"===typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=ty().platform.fetch,hg(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&hg(2===e.length,(()=>"URL paths for http must have a length of 2, "+"(actual length is ".concat(e.length,")."))),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{},this.loadOptions=t}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=Uk(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);if(t.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=e.weightData){const n=ik.join(e.weightData);t.body.append("model.weights.bin",new Blob([n],{type:"application/octet-stream"}),"model.weights.bin")}const a=await this.fetch(this.path,t);if(a.ok)return{modelArtifactsInfo:Gk(e),responses:[a]};throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+"".concat(a.status,"."))}async loadModelJSON(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error("Request to ".concat(this.path," failed with status code ")+"".concat(e.status,". Please verify this URL points to ")+"the model JSON of the model to load.");let t;try{t=await e.json()}catch(a4){let t="Failed to parse model JSON of response from ".concat(this.path,".");throw this.path.endsWith(".pb")?t+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":t+=" Please make sure the server is serving valid JSON for this request.",new Error(t)}const n=t.modelTopology,a=t.weightsManifest;if(null==n&&null==a)throw new Error("The JSON from HTTP path ".concat(this.path," contains neither model ")+"topology or manifest for weights.");return t}async load(){if(this.loadOptions.streamWeights)return this.loadStream();return Hk(await this.loadModelJSON(),(e=>this.loadWeights(e)))}async loadStream(){const e=await this.loadModelJSON(),t=await this.getWeightUrls(e.weightsManifest),n=qk(e.weightsManifest);return Object.assign(Object.assign({},e),{weightSpecs:n,getWeightStream:()=>function(e,t){var n;const a=null==t.fetchFunc?ty().platform.fetch:t.fetchFunc;let r,o=0;return null===(n=t.onProgress)||void 0===n||n.call(t,0),new ReadableStream({pull:async n=>{for(var s;o<e.length;){if(!r){const n=(await a(e[o],t.requestInit,{isBinary:!0})).body;r=n.getReader()}const{done:i,value:l}=await r.read();if(!i)return void n.enqueue(l);o++,r=void 0,null===(s=t.onProgress)||void 0===s||s.call(t,o/e.length)}n.close()}})}(t,this.loadOptions)})}async getWeightUrls(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,a]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),a=e.substring(0,t),r=n>t?e.substring(n):"";return[a+"/",r]}(t),r=this.weightPathPrefix||n,o=[],s=[];for(const i of e)for(const e of i.paths)null!=this.weightUrlConverter?s.push(this.weightUrlConverter(e)):o.push(r+e+a);return this.weightUrlConverter&&o.push(...await Promise.all(s)),o}async loadWeights(e){const t=await this.getWeightUrls(e);return[qk(e),await NN(t,this.loadOptions)]}}function EN(e){return null!=e.match(IN.URL_SCHEME_REGEX)}IN.URL_SCHEME_REGEX=/^https?:\/\//;const AN=(e,t)=>{if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every((e=>EN(e))):EN(e),n)return _N(e,t)}return null};function _N(e,t){return new IN(e,t)}function RN(e,t){return _N(e,t)}Kk.registerSaveRouter(AN),Kk.registerLoadRouter(AN);class DN{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class ON{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class FN{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=t=>Promise.resolve(e.save(t)))}}function LN(e,t,n,a){return new FN(MN(...arguments))}function MN(e,t,n,a){if(1===arguments.length){return null!=e.modelTopology||null!=e.weightSpecs?new DN(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new DN({modelTopology:e}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new DN({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:a})}function PN(e){return new ON(e)}function zN(e){return new ON(e)}const jN=nk({matMul_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=$x(e,"a","matMul"),o=$x(t,"b","matMul");[r,o]=Fx(r,o);const s={a:r,b:o},i={transposeA:n,transposeB:a};return Vx.runKernel(Ny,s,i)}});const BN=nk({oneHot_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"int32";if(t<2)throw new Error("Error in oneHot: depth must be >=2, but it is ".concat(t));const o={indices:$x(e,"indices","oneHot","int32")},s={dtype:r,depth:t,onValue:n,offValue:a};return Vx.runKernel(cv,o,s)}});const WN=nk({imag_:function(e){const t={input:$x(e,"input","imag")};return Vx.runKernel(Nb,t)}});const UN=nk({neg_:function(e){const t={x:$x(e,"x","neg")};return Vx.runKernel(av,t)}});const VN=nk({real_:function(e){const t={input:$x(e,"input","real")};return Vx.runKernel(wv,t)}});const HN=nk({transpose_:function(e,t,n){const a=$x(e,"x","transpose");if(null==t&&(t=a.shape.map(((e,t)=>t)).reverse()),hg(a.rank===t.length,(()=>"Error in transpose: rank of input ".concat(a.rank," ")+"must match length of perm ".concat(t,"."))),t.forEach((e=>{hg(e>=0&&e<a.rank,(()=>"All entries in 'perm' must be between 0 and ".concat(a.rank-1)+" but got ".concat(t)))})),a.rank<=1)return a.clone();const r={x:a},o={perm:t};return"complex64"===a.dtype?gk((()=>{let e=VN(a),t=WN(a);return e=Vx.runKernel(hw,{x:e},o),t=Vx.runKernel(hw,{x:t},o),n&&(t=UN(t)),ak(e,t)})):Vx.runKernel(hw,r,o)}});const GN=nk({confusionMatrix_:function(e,t,n){const a=$x(e,"labels","confusionMatrix"),r=$x(t,"predictions","confusionMatrix");hg(null==n||n>0&&Number.isInteger(n),(()=>"If provided, numClasses must be a positive integer, "+"but got ".concat(n))),hg(1===a.rank,(()=>"Expected the rank of labels to be 1, but got ".concat(a.rank))),hg(1===r.rank,(()=>"Expected the rank of predictions to be 1, "+"but got ".concat(r.rank))),hg(a.shape[0]===r.shape[0],(()=>"Mismatch in the number of examples: "+"".concat(a.shape[0]," vs. ").concat(r.shape[0],". ")+"Labels and predictions should have the same number of elements.")),hg(n>0&&Number.isInteger(n),(()=>"numClasses is required to be a positive integer, but got "+"".concat(n)));const o=BN(DS(a,"int32"),n),s=BN(DS(r,"int32"),n),i=HN(o),l=jN(i,s);return DS(l,"int32")}});function qN(e,t,n){if(fg(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");const a=Qx(e,n);if(3!==a.length&&1!==a.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===a.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return rk(e,t,a,n)}let KN,XN=!1;function YN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,a=!1,r=!1,o=!1,s=!1,i=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&e instanceof ImageData)a=!0;else if("undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement)r=!0;else if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement)o=!0;else if(null!=e.getContext)s=!0;else{if(!("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+"but was ".concat(e.constructor.name));i=!0}if(null!=Ew(vw,Vx.backendName)){const n={pixels:e},a={numChannels:t};return Vx.runKernel(vw,n,a)}const[l,c]=r?[e.videoWidth,e.videoHeight]:[e.width,e.height];let u,d;if(s)u=e.getContext("2d").getImageData(0,0,l,c).data;else if(a||n)u=e.data;else if(o||r||i){if(null==KN)if("undefined"===typeof document){if("undefined"===typeof OffscreenCanvas||"undefined"===typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");KN=new OffscreenCanvas(1,1).getContext("2d")}else KN=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});KN.canvas.width=l,KN.canvas.height=c,KN.drawImage(e,0,0,l,c),u=KN.getImageData(0,0,l,c).data}if(4===t)d=new Int32Array(u);else{const e=l*c;d=new Int32Array(e*t);for(let n=0;n<e;n++)for(let e=0;e<t;++e)d[n*t+e]=u[4*n+e]}return qN(d,[c,l,t],"int32")}function QN(e){return"undefined"!==typeof window&&"undefined"!==typeof ImageBitmap&&window.hasOwnProperty("createImageBitmap")&&!(e instanceof ImageBitmap)&&function(e){return null!=e&&0!==e.width&&0!==e.height}(e)&&!function(e){return null!=e&&e.data instanceof Uint8Array}(e)}async function ZN(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=null;if(ty().getBool("WRAP_TO_IMAGEBITMAP")&&QN(e)){let t;try{t=await createImageBitmap(e,{premultiplyAlpha:"none"})}catch(a4){t=null}n=null!=t&&t.width===e.width&&t.height===e.height?t:e}else n=e;return YN(n,t)}function JN(e){if(2!==e.rank&&3!==e.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank ".concat(e.rank,"."));const t=2===e.rank?1:e.shape[2];if(t>4||2===t)throw new Error("toPixels only supports depth of size "+"1, 3 or 4 but got ".concat(t));if("float32"!==e.dtype&&"int32"!==e.dtype)throw new Error("Unsupported type for toPixels: ".concat(e.dtype,".")+" Please use float32 or int32 tensors.")}async function $N(e,t){let n=$x(e,"img","toPixels");if(!(e instanceof xx)){const e=n;n=DS(e,"int32"),e.dispose()}JN(n);const[a,r]=n.shape.slice(0,2),o=2===n.rank?1:n.shape[2],s=await n.data(),i="float32"===n.dtype?255:1,l=new Uint8ClampedArray(r*a*4);for(let c=0;c<a*r;++c){const e=[0,0,0,255];for(let a=0;a<o;a++){const t=s[c*o+a];if("float32"===n.dtype){if(t<0||t>1)throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(t,"."))}else if("int32"===n.dtype&&(t<0||t>255))throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(t,"."));1===o?(e[0]=t*i,e[1]=t*i,e[2]=t*i):e[a]=t*i}const t=4*c;l[t+0]=Math.round(e[0]),l[t+1]=Math.round(e[1]),l[t+2]=Math.round(e[2]),l[t+3]=Math.round(e[3])}if(null!=t){if(!XN){null!=Ew(nb,Vx.backendName)&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),XN=!0)}t.width=r,t.height=a;const e=t.getContext("2d"),n=new ImageData(l,r,a);e.putImageData(n,0,0)}return n!==e&&n.dispose(),l}function eT(e,t,n){let a=$x(e,"img","draw");if(!(e instanceof xx)){const e=a;a=DS(e,"int32"),e.dispose()}JN(a),function(e){const t=(null===e||void 0===e?void 0:e.alpha)||1;if(t>1||t<0)throw new Error("Alpha value ".concat(t," is suppoed to be in range [0 - 1]."))}(null===n||void 0===n?void 0:n.imageOptions);const r={image:a},o={canvas:t,options:n};Vx.runKernel(nb,r,o)}const tT=nk({fromPixels_:YN});function nT(e,t){const n=e.shape.length,a=t.shape.length;if(n<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher,"+" but the rank was ".concat(n,"."));if(a<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(a,"."));if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type,"+" but the dtype was ".concat(t.dtype,"."));if(t.shape[a-1]>n)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+"".concat(t.shape[a-1]," vs. ").concat(n));if(0===mg(e.shape))throw new Error("Requested more than 0 entries, but input is empty."+" Input shape: ".concat(e.shape,"."));const r=t.shape,o=r[r.length-1];let s=1;for(let d=0;d<r.length-1;++d)s*=r[d];const i=e.shape,l=r.slice();l.pop();let c=1;for(let d=o;d<n;++d)c*=i[d],l.push(i[d]);const u=[...Wg(e.shape).map((e=>e/c)),1].slice(0,o);return[l,s,c,u]}function aT(e,t,n){const a=t.rank>1?t.shape[t.rank-1]:1,r=t.rank>1?t.rank-1:1,o="Must have updates.shape = indices.shape[:batchDim] + "+"shape[sliceDim:], got updates.shape: ".concat(n.shape)+", indices.shape: ".concat(t.shape,", shape: ").concat(e)+", sliceDim: ".concat(a,", and batchDim: ").concat(r,".");if(n.rank<r)throw new Error(o+" update.rank < ".concat(r,". "));if(e.length<a+(n.rank-r))throw new Error(o+" Output shape length < ".concat(a+(n.rank-r)));if(n.rank!==r+e.length-a)throw new Error(o+" update.rank != ".concat(r+e.length-a));for(let s=0;s<r;++s)if(n.shape[s]!==t.shape[s])throw new Error(o+" updates.shape[".concat(s,"] (").concat(n.shape[s],") != indices.shape[").concat(s,"] (").concat(t.shape[s],")."));for(let s=0;s<n.rank-r;++s)if(n.shape[s+r]!==e[s+a])throw new Error(o+" updates.shape[".concat(s+r,"] (").concat(n.shape[s+r],") != shape[").concat(s+r,"] (").concat(e[s+r],")"))}function rT(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+" but the rank was ".concat(e.rank,"."));if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: ".concat(t.dtype));if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: ".concat(n));if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: ".concat(t.shape));if(0===e.size)throw new Error("Updates specified for empty output. updates shape: ".concat(e.shape))}aT(n,t,e)}function oT(e,t,n){const a=t.shape.length,r=a>1?t.shape[a-1]:1,o=n.length;let s=1;for(let l=r;l<o;++l)s*=n[l];const i=r<1?1:r;return{sliceRank:r,numUpdates:mg(t.shape)/i,sliceSize:s,strides:[...Wg(n.slice(0,r)),1],outputSize:mg(n)}}const sT=-2,iT=-1;function lT(e,t,n){const a=e.shape.length;hg(a===t.length,(()=>"Error in slice".concat(a,"D: Length of begin ").concat(t," must ")+"match the rank of the array (".concat(a,")."))),hg(a===n.length,(()=>"Error in slice".concat(a,"D: Length of size ").concat(n," must ")+"match the rank of the array (".concat(a,").")));for(let r=0;r<a;++r)hg(t[r]+n[r]<=e.shape[r],(()=>"Error in slice".concat(a,"D: begin[").concat(r,"] + size[").concat(r,"] ")+"(".concat(t[r]+n[r],") would overflow input.shape[").concat(r,"] (").concat(e.shape[r],")")))}function cT(e){const t=[];let n=0;for(;e>0;)1&e&&t.push(n),e/=2,n++;return t}function uT(e,t,n){const a=[];for(let r=0;r<e.length;r++)a[r]=Math.ceil((t[r]-e[r])/n[r]);return a}function dT(e,t,n,a){const r=[...e];for(let o=r.length;o<a.length;o++)r.push(1);for(let o=0;o<n;o++)0===o?r[t]=1:(r.splice(t,0,1),r.pop());return r}function hT(e,t,n){return n<=e?n:n-(t-1)}function pT(e,t){const n=[];for(let a=0;a<e;a++)n.push(t+a);return n}function fT(e,t,n,a,r,o,s,i,l){const c=e.length;let u=new Array(c),d=new Array(c),h=new Array(c);if(t.length&&n>0){const l=t[0],c=n+1;u=mT(s,l,c,a,e),d=gT(i,l,c,r,e),h=dT(o,l,c,e)}else for(let p=0;p<c;p++)u[p]=bT(s,a,o,e,p,l),d[p]=vT(i,r,o,e,p,l),h[p]=yT(o,p,l);return{begin:u,end:d,strides:h}}function mT(e,t,n,a,r){const o=[...r],s=pT(n,t);for(let i=0;i<o.length;i++)if(s.indexOf(i)>-1)o[i]=0;else{const r=hT(t,n,i);let s=a[r];e&1<<r&&(s=0),o[i]=s}return o}function gT(e,t,n,a,r){const o=[...r],s=pT(n,t);for(let i=0;i<o.length;i++)if(s.indexOf(i)>-1)o[i]=Number.MAX_SAFE_INTEGER;else{const r=hT(t,n,i);let s=a[r];e&1<<r&&(s=Number.MAX_SAFE_INTEGER),o[i]=s}for(let i=0;i<o.length;i++){const e=r[i];o[i]<0&&(o[i]+=e),o[i]=sg(0,o[i],r[i])}return o}function yT(e,t,n){let a=e[t];return(n&1<<t||null==a)&&(a=1),a}function bT(e,t,n,a,r,o){let s=t[r];const i=n[r]||1;(e&1<<r||o&1<<r||null==s)&&(s=i>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const l=a[r];return s<0&&(s+=l),s=sg(0,s,l-1),s}function vT(e,t,n,a,r,o){let s=t[r];const i=n[r]||1;(e&1<<r||o&1<<r||null==s)&&(s=i>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const l=a[r];return s<0&&(s+=l),s=i>0?sg(0,s,l):sg(-1,s,l-1),s}function wT(e,t,n){let a=n.length;for(let r=0;r<n.length;r++)if(n[r]>1){a=r;break}for(let r=a+1;r<n.length;r++)if(t[r]>0||n[r]!==e[r])return!1;return!0}function xT(e,t){let n=e.length>0?e[e.length-1]:1;for(let a=0;a<e.length-1;a++)n+=e[a]*t[a];return n}function kT(e,t,n){let a;const r=e.shape.length;let o;return a="number"===typeof t?[t,...new Array(r-1).fill(0)]:t.length<r?t.concat(new Array(r-t.length).fill(0)):t.slice(),a.forEach((e=>{hg(-1!==e,(()=>"slice() does not support negative begin indexing."))})),o=null==n?new Array(r).fill(-1):"number"===typeof n?[n,...new Array(r-1).fill(-1)]:n.length<r?n.concat(new Array(r-n.length).fill(-1)):n,o=o.map(((t,n)=>t>=0?t:(hg(-1===t,(()=>"Negative size values should be exactly -1 but got "+"".concat(t," for the slice() size at index ").concat(n,"."))),e.shape[n]-a[n]))),[a,o]}function ST(e,t,n,a,r,o,s,i,l){let c;if(null==a?(c=new Array(t.length),c.fill(1)):c=a,null!=s&&0!==(s&s-1))throw new Error("Multiple ellipses in slice is not allowed.");let u=!1;const d={dims:c.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:c.slice(),beginMask:r,endMask:o,ellipsisMask:s,newAxisMask:i,shrinkAxisMask:l};for(let b=0;b<d.dims;b++)u&&0!==(1<<b&i)&&d.numAddAxisAfterEllipsis++,1<<b&s&&(u=!0);u||(d.ellipsisMask|=1<<d.dims,d.dims++);const h={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let a=0;a<e.dims;a++)if(1<<a&e.ellipsisMask){const r=Math.min(t.dims-(e.dims-a)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<r;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=a}else if(1<<a&e.newAxisMask)t.finalShapeGatherIndices.push(sT),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error("Index out of range using input dim ".concat(n,"; input ")+"has only ".concat(t.dims," dims, ").concat(t.begin.length,"."));null!=e.begin&&(t.begin[n]=e.begin[a]),null!=e.end&&(t.end[n]=e.end[a]),t.strides[n]=e.strides[a],e.beginMask&1<<a&&(t.beginMask|=1<<n),e.endMask&1<<a&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<a?(t.finalShapeGatherIndices.push(iT),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(a)),t.inputShapeGatherIndicesSparse[n]=a,n++}}(d,h);let p=!0,f=!0,m=!0;const g=[],y=[];for(let b=0;b<e.length;++b){if(0===h.strides[b])throw Error("strides[".concat(b,"] must be non-zero"));const t=!!(h.shrinkAxisMask&1<<b),n=e[b];if(-1===n){g.push(t?1:-1);continue}const a=[h.beginMask&1<<b,h.endMask&1<<b],r=[h.strides[b]>0?0:-1,h.strides[b]>0?n:n-1];if(t&&h.strides[b]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&1===h.strides[b];const o=!!(h.beginMask&1<<b&&h.endMask&1<<b);if(h.beginValid&&h.endValid){if(t){const e=h.begin[b]<0?n+h.begin[b]:h.begin[b];if(h.begin[b]=e,h.end[b]=h.begin[b]+1,e<0||e>=n)throw Error("slice index ".concat(h.begin[b]," of dimension ").concat(b," out of bounds."))}else h.begin[b]=NT(h.begin[b],0,h.strides[b],n,a,r),h.end[b]=NT(h.end[b],1,h.strides[b],n,a,r);const e=1===h.strides[b]&&0===h.begin[b]&&h.end[b]===n;p=p&&e,f=f&&(0===b&&1===h.strides[b]||e)}else p=p&&1===h.strides[b]&&o,f=f&&(0===b&&1===h.strides[b]||o);let s,i=!1;if(h.beginValid&&h.endValid?(s=h.end[b]-h.begin[b],i=!0):t?(s=1,i=!0):o&&n>=0&&(s=h.strides[b]<0?-n:n,i=!0),i){let e;e=0===s||s<0!==h.strides[b]<0?0:Math.trunc(s/h.strides[b])+(s%h.strides[b]!==0?1:0),g.push(e)}else g.push(-1)}for(let b=0;b<h.finalShapeGatherIndices.length;++b){const e=h.finalShapeGatherIndices[b];e>=0?y.push(g[e]):e===sT&&y.push(1)}return{finalShapeSparse:y.filter(((e,t)=>h.finalShapeGatherIndices[t]!==sT)),finalShape:y,isIdentity:p,sliceDim0:f,isSimpleSlice:m,begin:h.begin,end:h.end,strides:h.strides}}function NT(e,t,n,a,r,o){if(r[t])return n>0?o[t]:o[t+1&1];{const t=e<0?a+e:e;return t<o[0]?o[0]:t>o[1]?o[1]:t}}const TT=.001,CT=.1;function IT(e,t,n){return null==n&&(n=ET()),AT(e,t,((e,t)=>OT(e,t,n)))}function ET(){return 32===Vx.backend.floatPrecision()?TT:CT}function AT(e,t,n){let a=!0;if((rx(e)||rx(t))&&(a=!1),rx(e)&&rx(t)&&(a=!0),a){const n=e.constructor.name,a=t.constructor.name;if(n!==a)throw new Error("Arrays are of different type. Actual: ".concat(n,". ")+"Expected: ".concat(a))}if(Array.isArray(e)&&Array.isArray(t)){const n=Qx(e),a=Qx(t);if(!bg(n,a))throw new Error("Arrays have different shapes. "+"Actual: [".concat(n,"]. Expected: [").concat(a,"]"))}const r=rx(e)?e:ox(e),o=rx(t)?t:ox(t);if(r.length!==o.length)throw new Error("Arrays have different lengths actual: ".concat(r.length," vs ")+"expected: ".concat(o.length,".\n")+"Actual:   ".concat(r,".\n")+"Expected: ".concat(o,"."));for(let s=0;s<o.length;++s){const e=r[s],t=o[s];if(!n(e,t))throw new Error("Arrays differ: actual[".concat(s,"] = ").concat(e,", expected[").concat(s,"] = ").concat(t,".\n")+"Actual:   ".concat(r,".\n")+"Expected: ".concat(o,"."))}"undefined"!==typeof expect&&expect().nothing()}function _T(e,t){e().then((()=>t.fail()),(()=>t())),"undefined"!==typeof expect&&expect().nothing()}function RT(e,t){const n="string"===typeof t||"number"===typeof t||"boolean"===typeof t?[t]:t;return Lg(e)||Lg(e[0])||Lg(t)||Lg(t[0])?AT(e,n,((e,t)=>e==t)):AT(e,t,((e,t)=>OT(e,t,0)))}function DT(e,t,n){if(null==n&&(n=ET()),!OT(e,t,n))throw new Error("Numbers differ: actual === ".concat(e,", expected === ").concat(t));"undefined"!==typeof expect&&expect().nothing()}function OT(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}function FT(e,t,n){for(let a=0;a<e.length;a++)if(e[a]<t||e[a]>n)throw new Error("Value out of range:".concat(e[a]," low: ").concat(t,", high: ").concat(n))}function LT(e,t){const n=new Float32Array(e),a=new Float32Array(t);if(n.length!==a.length)throw new Error("Expected ArrayBuffer to be of length "+"".concat(a.length,", but it was ").concat(n.length));for(let r=0;r<a.length;r++)if(n[r]!==a[r])throw new Error("Expected ArrayBuffer value at ".concat(r," to be ")+"".concat(a[r]," but got ").concat(n[r]," instead"))}function MT(e){for(let t=0;t<e.length;t++){const n=e[t];Array.isArray(n)?MT(n):e[t]=nx(n)}return e}function PT(e){const t=document.createElement("video");return"playsInline"in t&&(t.playsInline=!0),t.muted=!0,t.loop=!0,t.style.position="fixed",t.style.left="0px",t.style.top="0px",t.preload="auto",t.appendChild(e),new Promise((e=>{t.addEventListener("loadeddata",(n=>e(t))),t.load()}))}async function zT(e){await e.play(),"requestVideoFrameCallback"in e&&await new Promise((t=>{e.requestVideoFrameCallback(t)}))}const jT="4.19.0";class BT{static sgd(e){return new mN(e)}static momentum(e,t){return new gN(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}static rmsprop(e){return new yN(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,arguments.length>4&&void 0!==arguments[4]&&arguments[4])}static adam(){return new lN(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)}static adadelta(){return new aN(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}static adamax(){return new fN(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.002,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,arguments.length>4&&void 0!==arguments[4]?arguments[4]:0)}static adagrad(e){return new oN(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1)}}const WT=nk({acos_:function(e){const t={x:$x(e,"x","acos")};return Vx.runKernel(iy,t)}});const UT=nk({acosh_:function(e){const t={x:$x(e,"x","acosh")};return Vx.runKernel(ly,t)}});const VT=nk({addN_:function(e){hg(Array.isArray(e),(()=>"The argument passed to tf.addN() must be a list of tensors")),hg(e.length>=1,(()=>"Must pass at least one tensor to tf.addN(), but got "+"".concat(e.length)));const t=e.map(((e,t)=>$x(e,"tensors".concat(t),"addN"))),n=t[0];t.forEach((e=>{if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((e=>{if(!bg(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));const a=t;return Vx.runKernel(uy,a)}});const HT=nk({all_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a={x:$x(e,"x","all","bool")},r={axis:t,keepDims:n};return Vx.runKernel(dy,a,r)}});const GT=nk({any_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a={x:$x(e,"x","any","bool")},r={axis:t,keepDims:n};return Vx.runKernel(hy,a,r)}});const qT=nk({argMax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:$x(e,"x","argMax")},a={axis:t};return Vx.runKernel(py,n,a)}});const KT=nk({argMin_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:$x(e,"x","argMin")},a={axis:t};return Vx.runKernel(fy,n,a)}});const XT=nk({asin_:function(e){const t={x:$x(e,"x","asin")};return Vx.runKernel(my,t)}});const YT=nk({asinh_:function(e){const t={x:$x(e,"x","asinh")};return Vx.runKernel(gy,t)}});const QT=nk({atan_:function(e){const t={x:$x(e,"x","atan")};return Vx.runKernel(yy,t)}});const ZT=nk({atan2_:function(e,t){let n=$x(e,"a","atan2"),a=$x(t,"b","atan2");[n,a]=Fx(n,a);const r={a:n,b:a};return Vx.runKernel(vy,r)}});const JT=nk({atanh_:function(e){const t={x:$x(e,"x","atanh")};return Vx.runKernel(by,t)}});function $T(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5?arguments[5]:void 0;return nC(e,[...t,e[3]],n,o,a,null,null,hC(r))}function eC(e,t,n,a,r,o){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast";const[i,l]=oC(t);let c;if("channelsLast"===s)c=[i,l,e[3],e[3]];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));c=[i,l,e[1],e[1]]}return nC(e,c,n,a,r,o,!1,s)}function tC(e,t,n,a,r,o){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC";const[i,l,c]=sC(t);let u,d;if("NDHWC"===s)d="channelsLast",u=[i,l,c,e[4],e[4]];else{if("NCDHW"!==s)throw new Error("Unknown dataFormat ".concat(s));d="channelsFirst",u=[i,l,c,e[1],e[1]]}return aC(e,u,n,a,r,!1,d,o)}function nC(e,t,n,a,r,o){let s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",[l,c,u,d]=[-1,-1,-1,-1];if("channelsLast"===i)[l,c,u,d]=e;else{if("channelsFirst"!==i)throw new Error("Unknown dataFormat ".concat(i));[l,d,c,u]=e}const[h,p,,f]=t,[m,g]=oC(n),[y,b]=oC(a),v=iC(h,y),w=iC(p,b),{padInfo:x,outHeight:k,outWidth:S}=function(e,t,n,a,r,o,s,i,l){let c,u,d;if("number"===typeof e){c={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const r=function(e,t,n,a,r){null==a&&(a=rC(e,t,n));const o=e[0],s=e[1],i=lC((o-t+2*a)/n+1,r),l=lC((s-t+2*a)/n+1,r);return[i,l]}([t,n],o,a,e,i);u=r[0],d=r[1]}else if("same"===e){u=Math.ceil(t/a),d=Math.ceil(n/r);const e=Math.max(0,(u-1)*a+o-t),i=Math.max(0,(d-1)*r+s-n),l=Math.floor(e/2),h=e-l,p=Math.floor(i/2);c={top:l,bottom:h,left:p,right:i-p,type:"SAME"}}else if("valid"===e)c={top:0,bottom:0,left:0,right:0,type:"VALID"},u=Math.ceil((t-o+1)/a),d=Math.ceil((n-s+1)/r);else{if("object"!==typeof e)throw Error("Unknown padding parameter: ".concat(e));{const h="channelsLast"===l?e[1][0]:e[2][0],p="channelsLast"===l?e[1][1]:e[2][1],f="channelsLast"===l?e[2][0]:e[3][0],m="channelsLast"===l?e[2][1]:e[3][1];c={top:h,bottom:p,left:f,right:m,type:0===h&&0===p&&0===f&&0===m?"VALID":"EXPLICIT"},u=lC((t-o+h+p)/a+1,i),d=lC((n-s+f+m)/r+1,i)}}return{padInfo:c,outHeight:u,outWidth:d}}(r,c,u,m,g,v,w,o,i),N=s?f*d:f;let T;return"channelsFirst"===i?T=[l,N,k,S]:"channelsLast"===i&&(T=[l,k,S,N]),{batchSize:l,dataFormat:i,inHeight:c,inWidth:u,inChannels:d,outHeight:k,outWidth:S,outChannels:N,padInfo:x,strideHeight:m,strideWidth:g,filterHeight:h,filterWidth:p,effectiveFilterHeight:v,effectiveFilterWidth:w,dilationHeight:y,dilationWidth:b,inShape:e,outShape:T,filterShape:t}}function aC(e,t,n,a,r){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",i=arguments.length>7?arguments[7]:void 0,[l,c,u,d,h]=[-1,-1,-1,-1,-1];if("channelsLast"===s)[l,c,u,d,h]=e;else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));[l,h,c,u,d]=e}const[p,f,m,,g]=t,[y,b,v]=sC(n),[w,x,k]=sC(a),S=iC(p,w),N=iC(f,x),T=iC(m,k),{padInfo:C,outDepth:I,outHeight:E,outWidth:A}=function(e,t,n,a,r,o,s,i,l,c,u){let d,h,p,f;"valid"===e&&(e=0);if("number"===typeof e){d={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};const m=function(e,t,n,a,r,o){null==r&&(r=rC(e,t[0],a[0]));const s=[0,0,0,n];for(let i=0;i<3;i++)e[i]+2*r>=t[i]&&(s[i]=lC((e[i]-t[i]+2*r)/a[i]+1,o));return s}([t,n,a,1],[i,l,c],1,[r,o,s],e,u);h=m[0],p=m[1],f=m[2]}else{if("same"!==e)throw Error("Unknown padding parameter: ".concat(e));{h=Math.ceil(t/r),p=Math.ceil(n/o),f=Math.ceil(a/s);const e=(h-1)*r+i-t,u=(p-1)*o+l-n,m=(f-1)*s+c-a,g=Math.floor(e/2),y=e-g,b=Math.floor(u/2),v=u-b,w=Math.floor(m/2);d={top:b,bottom:v,left:w,right:m-w,front:g,back:y,type:"SAME"}}}return{padInfo:d,outDepth:h,outHeight:p,outWidth:f}}(r,c,u,d,y,b,v,S,N,T,i),_=o?g*h:g;let R;return"channelsFirst"===s?R=[l,_,I,E,A]:"channelsLast"===s&&(R=[l,I,E,A,_]),{batchSize:l,dataFormat:s,inDepth:c,inHeight:u,inWidth:d,inChannels:h,outDepth:I,outHeight:E,outWidth:A,outChannels:_,padInfo:C,strideDepth:y,strideHeight:b,strideWidth:v,filterDepth:p,filterHeight:f,filterWidth:m,effectiveFilterDepth:S,effectiveFilterHeight:N,effectiveFilterWidth:T,dilationDepth:w,dilationHeight:x,dilationWidth:k,inShape:e,outShape:R,filterShape:t}}function rC(e,t,n){const a=iC(t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1);return Math.floor((e[0]*(n-1)-n+a)/2)}function oC(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function sC(e){return"number"===typeof e?[e,e,e]:e}function iC(e,t){return t<=1?e:e+(e-1)*(t-1)}function lC(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode ".concat(t))}}function cC(e){const[t,n,a]=oC(e);return 1===t&&1===n&&1===a}function uC(e,t){return cC(e)||cC(t)}function dC(e){return oC(e).every((e=>e>0))}function hC(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat ".concat(e))}function pC(e,t,n){if(null!=n){if("string"===typeof t)throw Error("Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,"."));if("number"===typeof t)hg(vg(t),(()=>"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")));else{if("object"!==typeof t)throw Error("Error in ".concat(e,": Unknown padding parameter: ").concat(t));t.forEach((t=>{t.forEach((t=>{hg(vg(t),(()=>"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")))}))}))}}}const fC=nk({reshape_:function(e,t){const n={x:$x(e,"x","reshape","string_or_numeric")},a={shape:t};return Vx.runKernel(Sv,n,a)}});const mC=nk({avgPool_:function(e,t,n,a,r){const o=$x(e,"x","avgPool","float32");hg(uC(n,1),(()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")));let s=o,i=!1;3===o.rank&&(i=!0,s=fC(o,[1,o.shape[0],o.shape[1],o.shape[2]])),hg(4===s.rank,(()=>"Error in avgPool: x must be rank 4 but got rank ".concat(s.rank,"."))),pC("avgPool",a,r);const l={x:s},c={filterSize:t,strides:n,pad:a,dimRoundingMode:r};let u=Vx.runKernel(wy,l,c);return u=DS(u,o.dtype),i?fC(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const gC=nk({avgPool3d_:function(e,t,n,a,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC";const s=$x(e,"x","avgPool3d","float32");let i=s,l=!1;4===s.rank&&(l=!0,i=fC(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),hg(5===i.rank,(()=>"Error in avgPool3d: x must be rank 5 but got rank ".concat(i.rank,"."))),hg("NDHWC"===o,(()=>"Error in avgPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(o))),hg("number"===typeof n&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,(()=>"Error in avgPool3d: Stride must be > 0, but got '".concat(n,"'"))),pC("avgPool3d",a,r);const c={x:i},u={filterSize:t,strides:n,pad:a,dimRoundingMode:r,dataFormat:o};let d=Vx.runKernel(ky,c,u);return d=DS(d,i.dtype),l?fC(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const yC=nk({concat_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;hg(e.length>=1,(()=>"Pass at least one tensor to concat"));const n=ek(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((e=>{if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype ".concat(e.dtype,". "))})),1===n.length)return OS(n[0]);const a=n,r={axis:t};return Vx.runKernel(Ly,a,r)}});const bC=nk({sigmoid_:function(e){const t={x:$x(e,"x","sigmoid","float32")};return Vx.runKernel(Wv,t)}});const vC=nk({slice_:function(e,t,n){const a=$x(e,"x","slice","string_or_numeric");if(0===a.rank)throw new Error("Slicing scalar is not possible");const r={x:a},o={begin:t,size:n};return Vx.runKernel(Pv,r,o)}});const wC=nk({tanh_:function(e){const t={x:$x(e,"x","tanh","float32")};return Vx.runKernel(lw,t)}});const xC=nk({basicLSTMCell_:function(e,t,n,a,r,o){const s=$x(e,"forgetBias","basicLSTMCell"),i=$x(t,"lstmKernel","basicLSTMCell"),l=$x(n,"lstmBias","basicLSTMCell"),c=$x(a,"data","basicLSTMCell"),u=$x(r,"c","basicLSTMCell"),d=$x(o,"h","basicLSTMCell"),h=yC([c,d],1),p=jN(h,i),f=LS(p,l),m=f.shape[0],g=f.shape[1]/4,y=[m,g],b=vC(f,[0,0],y),v=vC(f,[0,g],y),w=vC(f,[0,2*g],y),x=vC(f,[0,3*g],y),k=LS(zS(bC(b),wC(v)),zS(u,bC(LS(s,w))));return[k,zS(wC(k),bC(x))]}});const kC=nk({batchToSpaceND_:function(e,t,n){const a=$x(e,"x","batchToSpaceND"),r=t.reduce(((e,t)=>e*t));hg(a.rank>=1+t.length,(()=>"input rank is ".concat(a.rank," but should be > than blockShape.length ").concat(t.length))),hg(n.length===t.length,(()=>"crops.length is ".concat(n.length," but should be equal to blockShape.length  ").concat(t.length))),hg(a.shape[0]%r===0,(()=>"input tensor batch is ".concat(a.shape[0]," but is not divisible by the product of ")+"the elements of blockShape ".concat(t.join(" * ")," === ").concat(r)));const o={x:a},s={blockShape:t,crops:n};return Vx.runKernel(Ty,o,s)}});const SC=nk({batchNorm_:function(e,t,n,a,r,o){null==o&&(o=.001);const s=$x(e,"x","batchNorm"),i=$x(t,"mean","batchNorm"),l=$x(n,"variance","batchNorm");let c,u;null!=r&&(c=$x(r,"scale","batchNorm")),null!=a&&(u=$x(a,"offset","batchNorm")),hg(i.rank===l.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),hg(null==u||i.rank===u.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),hg(null==c||i.rank===c.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const d={x:function(e){let t;return t=0===e.rank||1===e.rank?fC(e,[1,1,1,e.size]):2===e.rank?fC(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?fC(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(s),scale:c,offset:u,mean:i,variance:l},h={varianceEpsilon:o},p=Vx.runKernel(yb,d,h);return fC(p,s.shape)}});const NC=nk({batchNorm2d_:function(e,t,n,a,r,o){const s=$x(e,"x","batchNorm"),i=$x(t,"mean","batchNorm"),l=$x(n,"variance","batchNorm");let c,u;return null!=r&&(c=$x(r,"scale","batchNorm")),null!=a&&(u=$x(a,"offset","batchNorm")),hg(2===s.rank,(()=>"Error in batchNorm2D: x must be rank 2 but got rank "+"".concat(s.rank,"."))),hg(2===i.rank||1===i.rank,(()=>"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+"got rank ".concat(i.rank,"."))),hg(2===l.rank||1===l.rank,(()=>"Error in batchNorm2D: variance must be rank 2 or rank 1 "+"but got rank ".concat(l.rank,"."))),null!=c&&hg(2===c.rank||1===c.rank,(()=>"Error in batchNorm2D: scale must be rank 2 or rank 1 "+"but got rank ".concat(c.rank,"."))),null!=u&&hg(2===u.rank||1===u.rank,(()=>"Error in batchNorm2D: offset must be rank 2 or rank 1 "+"but got rank ".concat(u.rank,"."))),SC(s,i,l,u,c,o)}});const TC=nk({batchNorm3d_:function(e,t,n,a,r,o){const s=$x(e,"x","batchNorm"),i=$x(t,"mean","batchNorm"),l=$x(n,"variance","batchNorm");let c,u;return null!=r&&(c=$x(r,"scale","batchNorm")),null!=a&&(u=$x(a,"offset","batchNorm")),hg(3===s.rank,(()=>"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(s.rank,"."))),hg(3===i.rank||1===i.rank,(()=>"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+"got rank ".concat(i.rank,"."))),hg(3===l.rank||1===l.rank,(()=>"Error in batchNorm3D: variance must be rank 3 or rank 1 "+"but got rank ".concat(l.rank,"."))),null!=c&&hg(3===c.rank||1===c.rank,(()=>"Error in batchNorm3D: scale must be rank 3 or rank 1 "+"but got rank ".concat(c.rank,"."))),null!=u&&hg(3===u.rank||1===u.rank,(()=>"Error in batchNorm3D: offset must be rank 3 or rank 1 "+"but got rank ".concat(u.rank,"."))),SC(s,i,l,u,c,o)}});const CC=nk({batchNorm4d_:function(e,t,n,a,r,o){const s=$x(e,"x","batchNorm"),i=$x(t,"mean","batchNorm"),l=$x(n,"variance","batchNorm");let c,u;return null!=r&&(c=$x(r,"scale","batchNorm")),null!=a&&(u=$x(a,"offset","batchNorm")),hg(4===s.rank,(()=>"Error in batchNorm4D: x must be rank 4 but got rank "+"".concat(s.rank,"."))),hg(4===i.rank||1===i.rank,(()=>"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+"got rank ".concat(i.rank,"."))),hg(4===l.rank||1===l.rank,(()=>"Error in batchNorm4D: variance must be rank 4 or rank 1 "+"but got rank ".concat(l.rank,"."))),null!=c&&hg(4===c.rank||1===c.rank,(()=>"Error in batchNorm4D: scale must be rank 4 or rank 1 "+"but got rank ".concat(c.rank,"."))),null!=u&&hg(4===u.rank||1===u.rank,(()=>"Error in batchNorm4D: offset must be rank 4 or rank 1 "+"but got rank ".concat(u.rank,"."))),SC(s,i,l,u,c,o)}});const IC=nk({bincount_:function(e,t,n){const a=$x(e,"x","bincount"),r=$x(t,"weights","bincount");hg("int32"===a.dtype,(()=>"Error in bincount: input "+"dtype must be int32, but got ".concat(a.dtype))),hg(n>=0,(()=>"size must be non-negative, but got ".concat(n,"."))),hg(r.size===a.size||0===r.size,(()=>"Error in bincount: weights must have the same size as input or"+"0-length, but got input shape: ".concat(a.shape,", weights shape: ")+"".concat(r.shape,".")));const o={x:a,weights:r},s={size:n};return Vx.runKernel(Cy,o,s)}});const EC=nk({bitwiseAnd_:function(e,t){const n=$x(e,"x","bitwiseAnd"),a=$x(t,"y","bitwiseAnd");if(!bg(n.shape,a.shape))throw new Error("BitwiseAnd: Tensors must have the same shape. x: ".concat(n.shape,", y: ").concat(a.shape));if("int32"!==n.dtype||"int32"!==a.dtype)throw new Error("BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ".concat(n.dtype," and type of y: ").concat(a.dtype));const r={a:n,b:a};return Vx.runKernel(Iy,r)}});const AC=nk({broadcastArgs_:function(e,t){const n=$x(e,"s0","broadcastArgs","int32"),a=$x(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error("broadcastArgs(): first input must be a vector (rank=1). "+"Has rank ".concat(n.rank));if(1!==a.rank)throw new Error("broadcastArgs(): second input must be a vector (rank=1). "+"Has rank ".concat(a.rank));const r={s0:n,s1:a};return Vx.runKernel(Ay,r)}});const _C=nk({broadcastTo_:function(e,t){let n=$x(e,"broadcastTo","x");const a=n.shape;if(Xg(t),t.length<n.rank)throw new Error("broadcastTo(): shape.length=".concat(t.length," < input.rank=").concat(n.rank,"."));if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=fC(n,e)}const r=n.shape,o=Array.from(t);for(let l=t.length-1;l>=0;l--)if(r[l]===t[l])o[l]=1;else if(1!==n.shape[l])throw new Error("broadcastTo(): [".concat(a,"] cannot be broadcast to [").concat(t,"]."));if(0===o.map(((e,t)=>e>1?t:-1)).filter((e=>e>=0)).length)return OS(n);const s={x:n},i={reps:o};return Vx.runKernel(cw,s,i)}});const RC=nk({ceil_:function(e){const t={x:$x(e,"x","ceil","float32")};return Vx.runKernel(Ry,t)}});const DC=nk({clipByValue_:function(e,t,n){const a=$x(e,"x","clipByValue");if(hg(t<=n,(()=>"Error in clip: min (".concat(t,") must be ")+"less than or equal to max (".concat(n,")."))),t===n)return rN(a.shape,t,a.dtype);const r={x:a},o={clipValueMin:t,clipValueMax:n};return Vx.runKernel(Dy,r,o)}});const OC=nk({concat1d_:function(e){return yC(e,0)}});const FC=nk({concat2d_:function(e,t){return yC(e,t)}});const LC=nk({concat3d_:function(e,t){return yC(e,t)}});const MC=nk({concat4d_:function(e,t){return yC(e,t)}});const PC=nk({conv2d_:function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],s=arguments.length>6?arguments[6]:void 0;const i=$x(e,"x","conv2d","float32"),l=$x(t,"filter","conv2d","float32");let c=i,u=!1;3===i.rank&&(u=!0,c=fC(i,[1,i.shape[0],i.shape[1],i.shape[2]])),hg(4===c.rank,(()=>"Error in conv2d: input must be rank 4, but got rank ".concat(c.rank,"."))),hg(4===l.rank,(()=>"Error in conv2d: filter must be rank 4, but got rank "+"".concat(l.rank,"."))),pC("conv2d",a,s);const d="NHWC"===r?c.shape[3]:c.shape[1];hg(d===l.shape[2],(()=>"Error in conv2d: depth of input (".concat(d,") must match ")+"input depth for filter ".concat(l.shape[2],"."))),hg(uC(n,o),(()=>"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(o,"'"))),hg(dC(o),(()=>"Error in conv2D: Dilated rates should be larger than 0.")),hg(dC(n),(()=>"Error in conv2D: Strides should be larger than 0."));const h={x:c,filter:l},p={strides:n,pad:a,dataFormat:r,dilations:o,dimRoundingMode:s},f=Vx.runKernel(My,h,p);return u?fC(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const zC=nk({conv1d_:function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=arguments.length>6?arguments[6]:void 0;const i=$x(e,"x","conv1d"),l=$x(t,"filter","conv1d");let c=i,u=!1;2===i.rank&&(u=!0,c=fC(i,[1,i.shape[0],i.shape[1]])),hg(3===c.rank,(()=>"Error in conv1d: input must be rank 3, but got rank ".concat(c.rank,"."))),hg(3===l.rank,(()=>"Error in conv1d: filter must be rank 3, but got rank "+"".concat(l.rank,"."))),pC("conv1d",a,s),hg(c.shape[2]===l.shape[1],(()=>"Error in conv1d: depth of input (".concat(c.shape[2],") must match ")+"input depth for filter ".concat(l.shape[1],"."))),hg(uC(n,o),(()=>"Error in conv1D: Either stride or dilation must be 1. "+"Got stride ".concat(n," and dilation '").concat(o,"'"))),hg(dC(o),(()=>"Error in conv1D: Dilated rates should be larger than 0.")),hg(dC(n),(()=>"Error in conv1D: Stride should be larger than 0.")),hg("NWC"===r,(()=>"Error in conv1d: got dataFormat of ".concat(r," but only NWC is currently supported.")));const d=fC(l,[1,l.shape[0],l.shape[1],l.shape[2]]),h=fC(c,[c.shape[0],1,c.shape[1],c.shape[2]]),p=PC(h,d,[1,n],a,"NHWC",[1,o],s);return fC(p,u?[p.shape[2],p.shape[3]]:[p.shape[0],p.shape[2],p.shape[3]])}});const jC=nk({conv2DBackpropInput_:function(e,t,n,a,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",s=arguments.length>6?arguments[6]:void 0;hg(e.length===t.rank,(()=>"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")));let i=e,l=t,c=!1;3===t.rank&&(c=!0,l=fC(t,[1,t.shape[0],t.shape[1],t.shape[2]]),i=[1,e[0],e[1],e[2]]),hg(4===i.length,(()=>"Error in conv2dDerInput: inShape must be length 4, but got length "+"".concat(i.length,"."))),hg(4===l.rank,(()=>"Error in conv2dDerInput: dy must be rank 4, but got "+"rank ".concat(l.rank))),hg(4===n.rank,(()=>"Error in conv2dDerInput: filter must be rank 4, but got "+"rank ".concat(n.rank)));const u="NHWC"===o?i[3]:i[1],d="NHWC"===o?l.shape[3]:l.shape[1];hg(u===n.shape[2],(()=>"Error in conv2dDerInput: depth of input (".concat(u,") must ")+"match input depth for filter ".concat(n.shape[2],"."))),hg(d===n.shape[3],(()=>"Error in conv2dDerInput: depth of output (".concat(d,") must ")+"match output depth for filter ".concat(n.shape[3],"."))),pC("conv2dDerInput",r,s);const h={dy:l,filter:n},p={strides:a,pad:r,dataFormat:o,dimRoundingMode:s,inputShape:i},f=Vx.runKernel(zy,h,p);return c?fC(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const BC=nk({conv2dTranspose_:function(e,t,n,a,r,o){const s=$x(e,"x","conv2dTranspose"),i=$x(t,"filter","conv2dTranspose");return jC(n,s,i,a,r,"NHWC",o)}});const WC=nk({conv3d_:function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1];const s=$x(e,"x","conv3d"),i=$x(t,"filter","conv3d");let l=s,c=!1;4===s.rank&&(c=!0,l=fC(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),hg(5===l.rank,(()=>"Error in conv3d: input must be rank 5, but got rank ".concat(l.rank,"."))),hg(5===i.rank,(()=>"Error in conv3d: filter must be rank 5, but got rank "+"".concat(i.rank,"."))),hg(l.shape[4]===i.shape[3],(()=>"Error in conv3d: depth of input (".concat(l.shape[4],") must match ")+"input depth for filter ".concat(i.shape[3],"."))),hg(uC(n,o),(()=>"Error in conv3D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(o,"'"))),hg("NDHWC"===r,(()=>"Error in conv3d: got dataFormat of ".concat(r," but only NDHWC is currently supported."))),hg(dC(o),(()=>"Error in conv3D: Dilated rates should be larger than 0.")),hg(dC(n),(()=>"Error in conv3D: Strides should be larger than 0."));const u={x:l,filter:i},d={strides:n,pad:a,dataFormat:r,dilations:o},h=Vx.runKernel(jy,u,d);return c?fC(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}});const UC=nk({conv3DBackpropInput_:function(e,t,n,a,r){hg(e.length===t.rank,(()=>"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")));let o=e,s=t,i=!1;4===t.rank&&(i=!0,s=fC(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),o=[1,e[0],e[1],e[2],e[3]]);const l=o[4],c=s.shape[4];hg(5===o.length,(()=>"Error in conv3dDerInput: inShape must be length 5, but got length "+"".concat(o.length,"."))),hg(5===s.rank,(()=>"Error in conv3dDerInput: dy must be rank 5, but got "+"rank ".concat(s.rank))),hg(5===n.rank,(()=>"Error in conv3dDerInput: filter must be rank 5, but got "+"rank ".concat(n.rank))),hg(l===n.shape[3],(()=>"Error in conv3dDerInput: depth of input (".concat(l,") must ")+"match input depth for filter ".concat(n.shape[3],"."))),hg(c===n.shape[4],(()=>"Error in conv3dDerInput: depth of output (".concat(c,") must ")+"match output depth for filter ".concat(n.shape[4],".")));const u={dy:s,filter:n},d={pad:r,strides:a,inputShape:o},h=Vx.runKernel(Wy,u,d);return i?fC(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}});const VC=nk({conv3dTranspose_:function(e,t,n,a,r){const o=$x(e,"x","conv3dTranspose"),s=$x(t,"filter","conv3dTranspose");return UC(n,o,s,a,r)}});const HC=nk({cos_:function(e){const t={x:$x(e,"x","cos","float32")};return Vx.runKernel(Uy,t)}});const GC=nk({cosh_:function(e){const t={x:$x(e,"x","cosh","float32")};return Vx.runKernel(Vy,t)}});const qC=nk({cumprod_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r={x:$x(e,"x","cumprod")},o={axis:t,exclusive:n,reverse:a};return Vx.runKernel(Hy,r,o)}});const KC=nk({cumsum_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r={x:$x(e,"x","cumsum")},o={axis:t,exclusive:n,reverse:a};return Vx.runKernel(Gy,r,o)}});const XC=nk({denseBincount_:function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=$x(e,"x","denseBincount"),o=$x(t,"weights","denseBincount");hg("int32"===r.dtype,(()=>"Error in denseBincount: input "+"dtype must be int32, but got ".concat(r.dtype))),hg(r.rank<=2,(()=>"Error in denseBincount: input must be at most rank 2, but got "+"rank ".concat(r.rank,"."))),hg(n>=0,(()=>"size must be non-negative, but got ".concat(n,"."))),hg(o.size===r.size||0===o.size,(()=>"Error in denseBincount: weights must have the same shape as x or "+"0-length, but got x shape: ".concat(r.shape,", weights shape: ")+"".concat(o.shape,".")));const s={x:r,weights:o},i={size:n,binaryOutput:a};return Vx.runKernel(Ky,s,i)}});const YC=nk({depthToSpace_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC";const a=$x(e,"x","depthToSpace","float32"),r="NHWC"===n?a.shape[1]:a.shape[2],o="NHWC"===n?a.shape[2]:a.shape[3],s="NHWC"===n?a.shape[3]:a.shape[1];hg(t>1,(()=>"blockSize should be > 1 for depthToSpace, but was: ".concat(t))),hg(r*t>=0,(()=>"Negative dimension size caused by overflow when multiplying\n    ".concat(r," and ").concat(t,"  for depthToSpace with input shape\n    ").concat(a.shape))),hg(o*t>=0,(()=>"Negative dimension size caused by overflow when multiplying\n    ".concat(o," and ").concat(t," for depthToSpace with input shape\n        ").concat(a.shape))),hg(s%(t*t)===0,(()=>"Dimension size must be evenly divisible by ".concat(t*t," but is ").concat(s," for depthToSpace with input shape ").concat(a.shape)));const i={x:a},l={blockSize:t,dataFormat:n};return Vx.runKernel(Xy,i,l)}});const QC=nk({depthwiseConv2d_:function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],s=arguments.length>6?arguments[6]:void 0;const i=$x(e,"x","depthwiseConv2d","float32"),l=$x(t,"filter","depthwiseConv2d","float32");let c=i,u=!1;3===i.rank&&(u=!0,c=fC(i,[1,i.shape[0],i.shape[1],i.shape[2]])),hg(4===c.rank,(()=>"Error in depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(c.rank,"."))),hg(4===l.rank,(()=>"Error in depthwiseConv2d: filter must be rank 4, but got rank "+"".concat(l.rank,".")));const d="NHWC"===r?c.shape[3]:c.shape[1];hg(d===l.shape[2],(()=>"Error in depthwiseConv2d: number of input channels "+"(".concat(d,") must match the inChannels dimension in ")+"filter ".concat(l.shape[2],"."))),pC("depthwiseConv2d",a,s);const h={x:c,filter:l},p={strides:n,pad:a,dataFormat:r,dilations:o,dimRoundingMode:s},f=Vx.runKernel(Yy,h,p);return u?fC(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const ZC=nk({diag_:function(e){const t={x:$x(e,"x","diag")};return Vx.runKernel(Jy,t)}});const JC=nk({dilation2d_:function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC";const s=$x(e,"x","dilation2d"),i=$x(t,"filter","dilation2d");hg(3===s.rank||4===s.rank,(()=>"Error in dilation2d: input must be rank 3 or 4, but got rank "+"".concat(s.rank,"."))),hg(3===i.rank,(()=>"Error in dilation2d: filter must be rank 3, but got rank "+"".concat(i.rank,"."))),hg("NHWC"===o,(()=>"Error in dilation2d: Only NHWC is currently supported, "+"but got dataFormat of ".concat(o)));let l=s,c=!1;3===s.rank&&(l=fC(s,[1,s.shape[0],s.shape[1],s.shape[2]]),c=!0),hg(l.shape[3]===i.shape[2],(()=>"Error in dilation2d:  input and filter must have the same depth: ".concat(l.shape[3]," vs ").concat(i.shape[2])));const u={x:l,filter:i},d={strides:n,pad:a,dilations:r},h=Vx.runKernel($y,u,d);return c?fC(h,[h.shape[1],h.shape[2],h.shape[3]]):h}});const $C=nk({equal_:function(e,t){let n=$x(e,"a","equal","string_or_numeric"),a=$x(t,"b","equal","string_or_numeric");[n,a]=Fx(n,a),hN(n.shape,a.shape);const r={a:n,b:a};return Vx.runKernel(lb,r)}});const eI=nk({where_:function(e,t,n){const a=$x(t,"a","where"),r=$x(n,"b","where"),o=$x(e,"condition","where","bool"),s=hN(hN(o.shape,a.shape),r.shape),i={condition:_C(o,s),t:_C(a,s),e:_C(r,s)};return Vx.runKernel(Lv,i)}});const tI=nk({divNoNan_:function(e,t){let n=$x(e,"a","div"),a=$x(t,"b","div");[n,a]=Fx(n,a);const r=PS(n,a),o=WS(r),s=$C(a,o);return eI(s,o,r)}});const nI=nk({dot_:function(e,t){const n=$x(e,"t1","dot"),a=$x(t,"t2","dot");hg((1===n.rank||2===n.rank)&&(1===a.rank||2===a.rank),(()=>"Error in dot: inputs must all be rank 1 or 2, but got ranks "+"".concat(n.rank," and ").concat(a.rank,".")));const r=1===n.rank?n.size:n.shape[1],o=1===a.rank?a.size:a.shape[0];if(hg(r===o,(()=>"Error in dot: inner dimensions of inputs must match, but got "+"".concat(r," and ").concat(o,"."))),1===n.rank&&1===a.rank){const e=fC(n,[1,-1]),t=fC(a,[-1,1]),r=jN(e,t);return fC(r,[])}if(1===n.rank&&2===a.rank){const e=fC(n,[1,-1]),t=fC(a,[a.shape[0],a.shape[1]]),r=jN(e,t);return fC(r,[r.size])}if(2===n.rank&&1===a.rank){const e=fC(a,[-1,1]),t=jN(n,e);return fC(t,[t.size])}{const e=fC(a,[a.shape[0],a.shape[1]]);return jN(n,e)}}});const aI=nk({einsum_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];const r=n.map(((e,t)=>$x(e,"tensors".concat(t),"einsum"))),o={equation:e};return Vx.runKernel(rb,r,o)}});const rI=nk({elu_:function(e){const t={x:$x(e,"x","elu","float32")};return Vx.runKernel(ob,t)}});const oI=nk({ensureShape_:function(e,t){const n=$x(e,"x","ensureShape","string_or_numeric");if(!yg(n.shape,t))throw new Error("EnsureShape: Shape of tensor ".concat(n.shape," is not compatible with expected shape ").concat(t));return e}});const sI=nk({erf_:function(e){let t=$x(e,"x","erf");hg("int32"===t.dtype||"float32"===t.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===t.dtype&&(t=DS(t,"float32"));const n={x:t};return Vx.runKernel(ib,n)}});function iI(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function lI(e,t,n){const a=e.length+t.length,r=[];let o=0,s=0;for(let i=0;i<a;i++)-1===n.indexOf(i)?r.push(e[o++]):r.push(t[s++]);return r}function cI(e,t){const n=[],a=e.length;for(let r=0;r<a;r++)-1===t.indexOf(r)&&n.push(e[r]);return[n,t.map((t=>e[t]))]}function uI(e,t){return lI(e,t.map((e=>1)),t)}function dI(e,t,n){hg(iI(t,n),(()=>"".concat(e," supports only inner-most axes for now. ")+"Got axes ".concat(t," and rank-").concat(n," input.")))}function hI(e,t){if(iI(e,t))return null;const n=[];for(let a=0;a<t;++a)-1===e.indexOf(a)&&n.push(a);return e.forEach((e=>n.push(e))),n}function pI(e){return e.map(((e,t)=>[t,e])).sort(((e,t)=>e[1]-t[1])).map((e=>e[0]))}function fI(e,t){const n=[];for(let a=t-e;a<t;++a)n.push(a);return n}const mI=nk({max_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a={x:$x(e,"x","max")},r={reductionIndices:t,keepDims:n};return Vx.runKernel(Vb,a,r)}});const gI=nk({min_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a={x:$x(e,"x","min")},r={axis:t,keepDims:n};return Vx.runKernel(Zb,a,r)}});const yI=nk({sum_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=$x(e,"x","sum");"bool"===a.dtype&&(a=DS(a,"int32"));const r={x:a},o={axis:t,keepDims:n};return Vx.runKernel(Hv,r,o)}});function bI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===e.rank)return cN(e);if(1!==e.rank&&null===n)return bI(fC(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return yI(cN(e),n);if(t===1/0)return mI(cN(e),n);if(t===-1/0)return gI(cN(e),n);if("euclidean"===t||2===t)return jS(yI(sN(cN(e),YS(2,"int32")),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}if(Array.isArray(n)&&2===n.length){if(1===t)return mI(yI(cN(e),n[0]),n[1]-1);if(t===1/0)return mI(yI(cN(e),n[1]),n[0]);if(t===-1/0)return gI(yI(cN(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return jS(yI(BS(e),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}throw new Error("Error in norm: invalid axis: ".concat(n))}const vI=nk({norm_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=bI(e=$x(e,"x","norm"),t,n);let o=r.shape;if(a){const t=Cg(n,e.shape);o=uI(r.shape,t)}return fC(r,o)}});const wI=nk({euclideanNorm_:function(e){return vI(e,"euclidean",arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}});const xI=nk({exp_:function(e){const t={x:$x(e,"x","exp")};return Vx.runKernel(cb,t)}});const kI=nk({expandDims_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=$x(e,"x","expandDims","string_or_numeric");hg(t<=n.rank,(()=>"Axis must be <= rank of the tensor"));const a={input:n},r={dim:t};return Vx.runKernel(ub,a,r)}});const SI=nk({expm1_:function(e){const t={x:$x(e,"x","expm1")};return Vx.runKernel(db,t)}});const NI=nk({tile_:function(e,t){const n=$x(e,"x","tile","string_or_numeric");hg(n.rank===t.length,(()=>"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of reps ".concat(t,".")));const a={x:n},r={reps:t};return Vx.runKernel(cw,a,r)}});const TI=nk({eye_:function(e,t,n){null==t&&(t=e);const a=RS([e,t],arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32"),r=e<=t?e:t;for(let s=0;s<r;++s)a.set(1,s,s);const o=fC(a.toTensor(),[e,t]);if(null==n)return o;if(1===n.length)return NI(kI(o,0),[n[0],1,1]);if(2===n.length)return NI(kI(kI(o,0),0),[n[0],n[1],1,1]);if(3===n.length)return NI(kI(kI(kI(o,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+"batchShapes, but received ".concat(n.length,"D."))}});const CI=nk({floor_:function(e){const t={x:$x(e,"x","floor","float32")};return Vx.runKernel(mb,t)}});const II=nk({gather_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const r={x:$x(e,"x","gather"),indices:$x(t,"indices","gather","int32")},o={axis:n,batchDims:a};return Vx.runKernel(bb,r,o)}});const EI=nk({greater_:function(e,t){let n=$x(e,"a","greater","string_or_numeric"),a=$x(t,"b","greater","string_or_numeric");[n,a]=Fx(n,a),hN(n.shape,a.shape);const r={a:n,b:a};return Vx.runKernel(wb,r)}});const AI=nk({greaterEqual_:function(e,t){let n=$x(e,"a","greaterEqual","string_or_numeric"),a=$x(t,"b","greaterEqual","string_or_numeric");[n,a]=Fx(n,a),hN(n.shape,a.shape);const r={a:n,b:a};return Vx.runKernel(xb,r)}});const _I=nk({isFinite_:function(e){const t={x:$x(e,"x","isFinite")};return Vx.runKernel(Tb,t)}});const RI=nk({isInf_:function(e){const t={x:$x(e,"x","isInf")};return Vx.runKernel(Cb,t)}});const DI=nk({isNaN_:function(e){const t={x:$x(e,"x","isNaN")};return Vx.runKernel(Ib,t)}});const OI=nk({leakyRelu_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2;const n={x:$x(e,"x","leakyRelu")},a={alpha:t};return Vx.runKernel(Eb,n,a)}});const FI=nk({less_:function(e,t){let n=$x(e,"a","less","string_or_numeric"),a=$x(t,"b","less","string_or_numeric");[n,a]=Fx(n,a),hN(n.shape,a.shape);const r={a:n,b:a};return Vx.runKernel(Ab,r)}});const LI=nk({lessEqual_:function(e,t){let n=$x(e,"a","lessEqual","string_or_numeric"),a=$x(t,"b","lessEqual","string_or_numeric");[n,a]=Fx(n,a),hN(n.shape,a.shape);const r={a:n,b:a};return Vx.runKernel(_b,r)}});function MI(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");const a={start:e,stop:t,num:n};return Vx.runKernel(Rb,{},a)}const PI=nk({localResponseNormalization_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;const o=$x(e,"x","localResponseNormalization");hg(4===o.rank||3===o.rank,(()=>"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ".concat(o.rank,"."))),hg(vg(t),(()=>"Error in localResponseNormalization: depthRadius must be an "+"integer but got depthRadius ".concat(t,".")));let s=o,i=!1;3===o.rank&&(i=!0,s=fC(o,[1,o.shape[0],o.shape[1],o.shape[2]]));const l={x:s},c={depthRadius:t,bias:n,alpha:a,beta:r},u=Vx.runKernel(Bb,l,c);return i?fC(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const zI=nk({log_:function(e){const t={x:$x(e,"x","log","float32")};return Vx.runKernel(Db,t)}});const jI=nk({log1p_:function(e){const t={x:$x(e,"x","log1p")};return Vx.runKernel(Ob,t)}});const BI=nk({softplus_:function(e){const t={x:$x(e,"x","softplus")};return Vx.runKernel(Uv,t)}});const WI=nk({logSigmoid_:function(e){const t=$x(e,"x","logSigmoid");return KS((e=>({value:UN(BI(UN(e))),gradFunc:t=>zS(t,bC(UN(e)))})))(t)}});const UI=nk({logSoftmax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=$x(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and axis was ").concat(t));const a=KS(((e,n)=>{const a=mI(e,t,!0),r=iN(e,a),o=iN(DS(r,"float32"),zI(yI(xI(r),t,!0)));n([o]);return{value:o,gradFunc:(e,n)=>{const[a]=n,r=xI(a);return iN(e,zS(yI(e,t,!0),r))}}}));return a(n)}});const VI=nk({logSumExp_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a=$x(e,"x","logSumExp"),r=Cg(t,a.shape),o=mI(a,r,!0),s=iN(a,o),i=xI(s),l=yI(i,r),c=zI(l),u=LS(fC(o,c.shape),c);if(n){const e=uI(u.shape,r);return fC(u,e)}return u}});const HI=nk({logicalAnd_:function(e,t){const n=$x(e,"a","logicalAnd","bool"),a=$x(t,"b","logicalAnd","bool");hN(n.shape,a.shape);const r={a:n,b:a};return Vx.runKernel(Fb,r)}});const GI=nk({logicalNot_:function(e){const t={x:$x(e,"x","logicalNot","bool")};return Vx.runKernel(Lb,t)}});const qI=nk({logicalOr_:function(e,t){const n=$x(e,"a","logicalOr","bool"),a=$x(t,"b","logicalOr","bool");hN(n.shape,a.shape);const r={a:n,b:a};return Vx.runKernel(Mb,r)}});const KI=nk({logicalXor_:function(e,t){const n=$x(e,"a","logicalXor","bool"),a=$x(t,"b","logicalXor","bool");return hN(n.shape,a.shape),HI(qI(e,t),GI(HI(e,t)))}}),XI=2147483648;const YI=nk({searchSorted_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left";const a=$x(e,"sortedSequence","searchSorted"),r=$x(t,"values","searchSorted"),o=a.shape[a.shape.length-1],s=r.shape[r.shape.length-1],i=fC(a,[-1,o]),l=fC(r,[-1,s]);if(i.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(i.shape[0]!==l.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(mg(l.shape)>=XI)throw new Error("values tensor size must less than ".concat(XI));if(i.shape[1]>=XI)throw new Error("trailing dim_size must less than ".concat(XI," for int32 output type, was ").concat(i.shape[1]));const c={sortedSequence:i,values:l},u={side:n};return Vx.runKernel(Fv,c,u)}});function QI(e,t){return YI(e,t,"left")}const ZI=nk({maxPool_:function(e,t,n,a,r){const o=$x(e,"x","maxPool");let s=o,i=!1;3===o.rank&&(i=!0,s=fC(o,[1,o.shape[0],o.shape[1],o.shape[2]])),hg(4===s.rank,(()=>"Error in maxPool: input must be rank 4 but got rank ".concat(s.rank,"."))),hg(uC(n,1),(()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'"))),pC("maxPool",a,r);const l={x:s},c={filterSize:t,strides:n,pad:a,dimRoundingMode:r},u=Vx.runKernel(Gb,l,c);return i?fC(u,[u.shape[1],u.shape[2],u.shape[3]]):u}});const JI=nk({maxPool3d_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC";const s=$x(e,"x","maxPool3d");let i=s,l=!1;4===s.rank&&(l=!0,i=fC(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),hg(5===i.rank,(()=>"Error in maxPool3d: x must be rank 5 but got rank ".concat(i.rank,"."))),hg("NDHWC"===o,(()=>"Error in maxPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(o))),pC("maxPool3d",a,r);const c={x:i},u={filterSize:t,strides:n,pad:a,dimRoundingMode:r,dataFormat:o},d=Vx.runKernel(Kb,c,u);return l?fC(d,[d.shape[1],d.shape[2],d.shape[3],d.shape[4]]):d}});const $I=nk({maxPoolWithArgmax_:function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o={x:$x(e,"x","maxPoolWithArgmax")},s={filterSize:t,strides:n,pad:a,includeBatchInIndex:r},i=Vx.runKernel(Yb,o,s);return{result:i[0],indexes:i[1]}}});const eE=nk({mean_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a={x:$x(e,"x","mean")},r={axis:t,keepDims:n};return Vx.runKernel(Qb,a,r)}});function tE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(Xg(e),"complex64"===t){const t=tE(e,"float32"),n=tE(e,"float32");return ak(t,n)}const n=qg(mg(e),t);return Vx.makeTensor(n,e,t)}function nE(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if(Xg(e),"complex64"===t){const t=nE(e,"float32"),n=tE(e,"float32");return ak(t,n)}const n=Gg(mg(e),t);return Vx.makeTensor(n,e,t)}function aE(e,t){let{indexing:n="xy"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("xy"!==n&&"ij"!==n)throw new TypeError("".concat(n," is not a valid third argument to meshgrid"));if(void 0===e)return[];let a=$x(e,"x","meshgrid",e instanceof xx?e.dtype:"float32");if(void 0===t)return[a];let r=$x(t,"y","meshgrid",t instanceof xx?t.dtype:"float32");const o=mg(a.shape),s=mg(r.shape);return"xy"===n?(a=fC(a,[1,-1]),r=fC(r,[-1,1]),[jN(nE([s,1],a.dtype),a),jN(r,nE([1,o],r.dtype))]):(a=fC(a,[-1,1]),r=fC(r,[1,-1]),[jN(a,nE([1,s],a.dtype)),jN(nE([o,1],r.dtype),r)])}const rE=nk({minimum_:function(e,t){let n=$x(e,"a","minimum"),a=$x(t,"b","minimum");[n,a]=Fx(n,a),"bool"===n.dtype&&(n=DS(n,"int32"),a=DS(a,"int32")),hN(n.shape,a.shape);const r={a:n,b:a};return Vx.runKernel(Jb,r)}});const oE=nk({mirrorPad_:function(e,t,n){hg("reflect"===n||"symmetric"===n,(()=>"Invalid mode. Mode must be either reflect or symmetric. "+"Got ".concat(n,".")));const a=$x(e,"x","mirrorPad");if(0===a.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");hg(t.length===a.rank,(()=>"Padding doesn't match input. Must be ".concat(a.rank,". ")+"Got ".concat(t.length,".")));const r="reflect"===n?1:0;for(let i=0;i<a.rank;i++)hg(2===t[i].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),hg(t[i][0]>=0&&t[i][0]<=a.shape[i]-r&&t[i][1]>=0&&t[i][1]<=a.shape[i]-r,(()=>"Padding in dimension ".concat(i," cannot be greater than or equal ")+"to ".concat(a.shape[i]-r," or less than 0 for input of ")+"shape ".concat(a.shape)));const o={paddings:t,mode:n},s={x:a};return Vx.runKernel($b,s,o)}});const sE=nk({mod_:function(e,t){let n=$x(e,"a","mod"),a=$x(t,"b","mod");[n,a]=Fx(n,a);const r={a:n,b:a};return Vx.runKernel(ev,r)}});const iE=nk({moments_:function(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=Cg(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,(e=$x(e,"x","moments")).shape),a=eE(e,n,t);let r=a.shape;t||(r=uI(a.shape,n));const o=BS(iN(DS(e,"float32"),fC(a,r)));return{mean:a,variance:eE(o,n,t)}}});const lE=nk({multiRNNCell_:function(e,t,n,a){const r=$x(t,"data","multiRNNCell"),o=ek(n,"c","multiRNNCell"),s=ek(a,"h","multiRNNCell");let i=r;const l=[];for(let d=0;d<e.length;d++){const t=e[d](i,o[d],s[d]);l.push(t[0]),l.push(t[1]),i=t[1]}const c=[],u=[];for(let d=0;d<l.length;d+=2)c.push(l[d]),u.push(l[d+1]);return[c,u]}});const cE=nk({multinomial_:function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=$x(e,"logits","multinomial"),o=r.size,s=r.rank;if(o<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+"".concat(o,"."));if(s>2)throw new Error("Rank of probabilities must be 1 or 2, but is ".concat(s));n=n||Math.random();const i={logits:1===s?fC(r,[1,-1]):r},l={numSamples:t,seed:n,normalized:a},c=Vx.runKernel(tv,i,l);return 1===s?fC(c,[c.size]):c}});const uE=nk({notEqual_:function(e,t){let n=$x(e,"a","notEqual","string_or_numeric"),a=$x(t,"b","notEqual","string_or_numeric");[n,a]=Fx(n,a),hN(n.shape,a.shape);const r={a:n,b:a};return Vx.runKernel(rv,r)}});const dE=nk({onesLike_:function(e){const t={x:$x(e,"x","onesLike")};return Vx.runKernel(lv,t)}});const hE=nk({outerProduct_:function(e,t){const n=$x(e,"v1","outerProduct"),a=$x(t,"v2","outerProduct");hg(1===n.rank&&1===a.rank,(()=>"Error in outerProduct: inputs must be rank 1, but got ranks "+"".concat(n.rank," and ").concat(a.rank,".")));const r=fC(n,[-1,1]),o=fC(a,[1,-1]);return jN(r,o)}});const pE=nk({pad_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=$x(e,"x","pad");if(0===a.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const r={paddings:t,constantValue:n},o={x:a};return Vx.runKernel(dv,o,r)}});const fE=nk({pad1d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return hg(2===t.length,(()=>"Invalid number of paddings. Must be length of 2.")),pE(e,[t],n)}});const mE=nk({pad2d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return hg(2===t.length&&2===t[0].length&&2===t[1].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),pE(e,t,n)}});const gE=nk({pad3d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return hg(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),pE(e,t,n)}});const yE=nk({pad4d_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return hg(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),pE(e,t,n)}});const bE=nk({spaceToBatchND_:function(e,t,n){const a=$x(e,"x","spaceToBatchND");hg(a.rank>=1+t.length,(()=>"input rank ".concat(a.rank," should be > than [blockShape] ").concat(t.length))),hg(n.length===t.length,(()=>"paddings.shape[0] ".concat(n.length," must be equal to [blockShape] ").concat(t.length))),hg(a.shape.reduce(((e,a,r)=>r>0&&r<=t.length?e&&(a+n[r-1][0]+n[r-1][1])%t[r-1]===0:e),!0),(()=>"input spatial dimensions ".concat(a.shape.slice(1)," with paddings ").concat(n.toString()," must be divisible by blockShapes ").concat(t.toString())));const r={x:a},o={blockShape:t,paddings:n};return Vx.runKernel(Gv,r,o)}});const vE=nk({pool_:function(e,t,n,a,r,o,s){null==r&&(r=[1,1]),null==o&&(o=1),0===a&&(a="valid");const i=$x(e,"x","maxPool");let l=i,c=!1;3===i.rank&&(c=!0,l=fC(i,[1,i.shape[0],i.shape[1],i.shape[2]])),hg(uC(o,r),(()=>"Error in pool: Either strides or dilations must be 1. "+"Got strides ".concat(o," and dilations '").concat(r,"'")));const u=eC(l.shape,t,o,r,a),d=[u.dilationHeight,u.dilationWidth];let h;h="same"===a?function(e,t){const n=e.map(((e,n)=>e+(e-1)*(t[n]-1))),a=n.map((e=>e-1)),r=a.map((e=>Math.floor(e/2))),o=a.map(((e,t)=>e-r[t]));return a.map(((e,t)=>[r[t],o[t]]))}([u.filterHeight,u.filterWidth],d):[[0,0],[0,0]];const p=1===d[0]&&1===d[1],[f,m]=function(e,t,n){const a=n.map((e=>e[0])),r=n.map((e=>e[1])),o=e.concat(a,r),s=t.map(((e,t)=>(e-o[t]%e)%e)),i=r.map(((e,t)=>e+s[t])),l=t.map(((e,t)=>[a[t],i[t]])),c=t.map(((e,t)=>[0,s[t]]));return[l,c]}([u.inHeight,u.inWidth],d,h),g=p?a:"valid",y=p?l:bE(l,d,f),b=("avg"===n?()=>mC(y,t,o,g,s):()=>ZI(y,t,o,g,s))(),v=p?b:kC(b,d,m);return c?fC(v,[v.shape[1],v.shape[2],v.shape[3]]):v}});const wE=nk({prelu_:function(e,t){const n={x:$x(e,"x","prelu"),alpha:$x(t,"alpha","prelu")};return Vx.runKernel(fv,n)}});const xE=nk({prod_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=$x(e,"x","prod");"bool"===a.dtype&&(a=DS(a,"int32"));const r={x:a},o={axis:t,keepDims:n};return Vx.runKernel(mv,r,o)}});const kE=nk({raggedGather_:function(e,t,n,a){const r={paramsNestedSplits:e.map(((e,t)=>$x(e,"tensors".concat(t),"raggedGather","int32"))),paramsDenseValues:$x(t,"paramsDenseValues","raggedGather"),indices:$x(n,"indices","raggedGather","int32")},o={outputRaggedRank:a},s=Vx.runKernel(gv,r,o);return{outputNestedSplits:s.slice(0,s.length-1),outputDenseValues:s[s.length-1]}}});const SE=nk({raggedRange_:function(e,t,n){const a=$x(e,"starts","raggedRange"),r={starts:a,limits:$x(t,"limits","raggedRange",a.dtype),deltas:$x(n,"deltas","raggedRange",a.dtype)},o=Vx.runKernel(yv,r);return{rtNestedSplits:o[0],rtDenseValues:o[1]}}});const NE=nk({raggedTensorToTensor_:function(e,t,n,a,r){const o=$x(e,"shape","raggedTensorToTensor","int32"),s=$x(t,"values","raggedTensorToTensor"),i={shape:o,values:s,defaultValue:$x(n,"defaultValue","raggedTensorToTensor",s.dtype),rowPartitionTensors:a.map(((e,t)=>$x(e,"tensors".concat(t),"raggedTensorToTensor","int32")))},l={rowPartitionTypes:r};return Vx.runKernel(bv,i,l)}});const TE=nk({rand_:function(e,t,n){Xg(e);const a=mg(e);let r=null;if(null==n||"float32"===n)r=new Float32Array(a);else if("int32"===n)r=new Int32Array(a);else{if("bool"!==n)throw new Error("Unknown data type ".concat(n));r=new Uint8Array(a)}for(let o=0;o<a;o++)r[o]=t();return Vx.makeTensor(r,e,n)}});var CE=n(4334);class IE{constructor(e,t,n,a,r){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const o=r||Math.random();this.random=CE.alea(o.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let a,r,o;do{a=2*this.random()-1,r=2*this.random()-1,o=a*a+r*r}while(o>=1||0===o);const s=Math.sqrt(-2*Math.log(o)/o);e=this.mean+this.stdDev*a*s,t=this.mean+this.stdDev*r*s,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class EE{constructor(e,t,n,a){this.alpha=e,this.beta=1/t,this.dtype=n;const r=a||Math.random();this.randu=CE.alea(r.toString()),this.randn=new IE(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,t,n,a,r,o;for(;;){do{a=this.randn.nextValue(),o=1+this.c*a}while(o<=0);if(o*=o*o,e=a*a,t=1-.331*e*e,n=.5*e+this.d*(1-o+Math.log(o)),r=this.randu(),r<t||Math.log(r)<n)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)}convertValue(e){return"float32"===this.dtype?e:Math.round(e)}}class AE{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==a&&(a=Math.random()),"number"===typeof a&&(a=a.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between ".concat(e," - ").concat(t," <= 1 and dtype is not float"));this.random=CE.alea(a)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}const _E=nk({randomGamma_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",r=arguments.length>4?arguments[4]:void 0;if(Xg(e),null==n&&(n=1),null==a&&(a="float32"),"float32"!==a&&"int32"!==a)throw new Error("Unsupported data type ".concat(a));const o=new EE(t,n,a,r),s=RS(e,a);for(let i=0;i<s.values.length;i++)s.values[i]=o.nextValue();return s.toTensor()}});const RE=nk({randomNormal_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;if(Xg(e),null!=a&&"bool"===a)throw new Error("Unsupported data type ".concat(a));const o=new IE(t,n,a,!1,r),s=RS(e,a);for(let i=0;i<s.values.length;i++)s.values[i]=o.nextValue();return s.toTensor()}});const DE=nk({randomStandardNormal_:function(e,t,n){if(null!=t&&"bool"===t)throw new Error("Unsupported data type ".concat(t));return RE(e,0,1,t,n)}});const OE=nk({randomUniform_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",r=arguments.length>4?arguments[4]:void 0;Xg(e);const o=RS(e,a),s=new AE(t,n,null,r);for(let i=0;i<o.values.length;i++)o.values[i]=s.nextValue();return o.toTensor()}});const FE=nk({randomUniformInt_:function(e,t,n,a){return OE(e,t,n,"int32",a)}});function LE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");const r={start:e,stop:t,step:n,dtype:a};return Vx.runKernel(vv,{},r)}const ME=nk({reciprocal_:function(e){const t={x:$x(e,"x","reciprocal")};return Vx.runKernel(xv,t)}});const PE=nk({relu_:function(e){const t={x:$x(e,"x","relu")};return Vx.runKernel(kv,t)}});const zE=nk({relu6_:function(e){const t={x:$x(e,"x","relu6")};return Vx.runKernel(Ev,t)}});const jE=nk({reverse_:function(e,t){const n={x:$x(e,"x","reverse")},a={dims:t};return Vx.runKernel(Av,n,a)}});const BE=nk({reverse1d_:function(e){const t=$x(e,"x","reverse");return hg(1===t.rank,(()=>"Error in reverse1D: x must be rank 1 but got rank ".concat(t.rank,"."))),jE(t,0)}});const WE=nk({reverse2d_:function(e,t){const n=$x(e,"x","reverse");return hg(2===n.rank,(()=>"Error in reverse2D: x must be rank 2 but got rank ".concat(n.rank,"."))),jE(n,t)}});const UE=nk({reverse3d_:function(e,t){const n=$x(e,"x","reverse");return hg(3===n.rank,(()=>"Error in reverse3D: x must be rank 3 but got rank ".concat(n.rank,"."))),jE(n,t)}});const VE=nk({reverse4d_:function(e,t){const n=$x(e,"x","reverse");return hg(4===n.rank,(()=>"Error in reverse4D: x must be rank 4 but got rank ".concat(n.rank,"."))),jE(n,t)}});const HE=nk({round_:function(e){const t={x:$x(e,"x","round")};return Vx.runKernel(_v,t)}});const GE=nk({rsqrt_:function(e){const t={x:$x(e,"x","rsqrt","float32")};return Vx.runKernel(Rv,t)}});const qE=nk({selu_:function(e){const t={x:$x(e,"x","selu")};return Vx.runKernel(Mv,t)}});const KE=nk({separableConv2d_:function(e,t,n,a,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC";const i=$x(e,"x","separableConv2d"),l=$x(t,"depthwiseFilter","separableConv2d"),c=$x(n,"pointwiseFilter","separableConv2d");let u=i,d=!1;if(3===i.rank&&(d=!0,u=fC(i,[1,i.shape[0],i.shape[1],i.shape[2]])),"NCHW"===s)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");hg(4===u.rank,(()=>"Error in separableConv2d: input must be rank 4, but got "+"rank ".concat(u.rank,"."))),hg(4===l.rank,(()=>"Error in separableConv2d: depthwise filter must be rank 4, but "+"got rank ".concat(l.rank,"."))),hg(4===c.rank,(()=>"Error in separableConv2d: pointwise filter must be rank 4, but "+"got rank ".concat(l.rank,"."))),hg(1===c.shape[0],(()=>"Error in separableConv2d: the first dimension of pointwise filter "+" must be 1, but got ".concat(c.shape[0],"."))),hg(1===c.shape[1],(()=>"Error in separableConv2d: the second dimension of pointwise "+"filter must be 1, but got ".concat(c.shape[1],".")));const h=l.shape[2],p=l.shape[3];hg(c.shape[2]===h*p,(()=>"Error in separableConv2d: the third dimension of pointwise filter "+"must be ".concat(h*p,", ")+"but got ".concat(c.shape[2],".")));const f=QC(u,l,a,r,s,o),m=PC(f,c,1,"valid",s);return d?fC(m,[m.shape[1],m.shape[2],m.shape[3]]):m}});const XE=async function(e,t){const n=$x(e,"x","setdiff1d"),a=$x(t,"y","setdiff1d");hg(n.dtype===a.dtype,(()=>"x and y should have the same dtype, but got x (".concat(n.dtype,") and y (").concat(a.dtype,")."))),hg(1===n.rank,(()=>"x should be 1D tensor, but got x (".concat(n.shape,")."))),hg(1===a.rank,(()=>"y should be 1D tensor, but got y (".concat(a.shape,").")));const r=await n.data(),o=await a.data(),s=new Set(o);let i=0;for(let u=0;u<r.length;u++)s.has(r[u])||i++;const l=new yx([i],n.dtype),c=new yx([i],"int32");for(let u=0,d=0;u<r.length;u++)s.has(r[u])||(l.values[d]=r[u],c.values[d]=u,d++);return[l.toTensor(),c.toTensor()]};const YE=nk({sign_:function(e){const t={x:$x(e,"x","sign")};return Vx.runKernel(Bv,t)}});const QE=nk({sin_:function(e){const t={x:$x(e,"x","sin","float32")};return Vx.runKernel(zv,t)}});const ZE=nk({sinh_:function(e){const t={x:$x(e,"x","sinh")};return Vx.runKernel(jv,t)}});const JE=nk({slice1d_:function(e,t,n){const a=$x(e,"x","slice1d");return hg(1===a.rank,(()=>"slice1d expects a rank-1 tensor, but got a rank-".concat(a.rank," tensor"))),vC(a,[t],[n])}});const $E=nk({slice2d_:function(e,t,n){const a=$x(e,"x","slice2d");return hg(2===a.rank,(()=>"slice2d expects a rank-2 tensor, but got a rank-".concat(a.rank," tensor"))),vC(a,t,n)}});const eA=nk({slice3d_:function(e,t,n){const a=$x(e,"x","slice3d");return hg(3===a.rank,(()=>"slice3d expects a rank-3 tensor, but got a rank-".concat(a.rank," tensor"))),vC(a,t,n)}});const tA=nk({slice4d_:function(e,t,n){const a=$x(e,"x","slice4d");return hg(4===a.rank,(()=>"slice4d expects a rank-4 tensor, but got a rank-".concat(a.rank," tensor"))),vC(a,t,n)}});const nA=nk({softmax_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=$x(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and dim was ").concat(t));const a={logits:n},r={dim:t};return Vx.runKernel(Kv,a,r)}});const aA=nk({fft_:function(e){hg("complex64"===e.dtype,(()=>"The dtype for tf.spectral.fft() must be complex64 "+"but got ".concat(e.dtype,".")));const t={input:e};return Vx.runKernel(hb,t)}});const rA=nk({ifft_:function(e){hg("complex64"===e.dtype,(()=>"The dtype for tf.spectral.ifft() must be complex64 "+"but got ".concat(e.dtype,".")));const t={input:e};return Vx.runKernel(Sb,t)}});const oA=nk({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let a;if(t<=2){const r=fC(e,[n,t]);a=rA(r)}else{const r=[n,2*(t-1)],o=fC(VN(e),[n,t]),s=fC(WN(e),[n,t]),i=jE(vC(o,[0,1],[n,t-2]),1),l=zS(jE(vC(s,[0,1],[n,t-2]),1),YS(-1)),c=yC([o,i],1),u=yC([s,l],1),d=fC(ak(c,u),[r[0],r[1]]);a=rA(d)}if(a=VN(a),3===e.rank&&0!==e.shape[0]){const t=a,n=e.shape[0];a=fC(a,[n,a.shape[0]/n,a.shape[1]]),t.dispose()}return a}});const sA=nk({split_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a={x:$x(e,"x","split")},r={numOrSizeSplits:t,axis:n};return Vx.runKernel(qv,a,r)}});const iA=nk({rfft_:function(e,t){hg("float32"===e.dtype,(()=>"The dtype for rfft() must be real value but got ".concat(e.dtype)));let n=e.shape[e.shape.length-1];const a=e.size/n;let r;if(null!=t&&t<n){const a=e.shape.map((e=>0)),o=e.shape.map((e=>e));o[e.shape.length-1]=t,r=vC(e,a,o),n=t}else if(null!=t&&t>n){const a=e.shape.map((e=>e));a[e.shape.length-1]=t-n,r=yC([e,tE(a)],e.shape.length-1),n=t}else r=e;const o=WS(r),s=fC(ak(r,o),[a,n]),i=aA(s),l=Math.floor(n/2)+1,c=VN(i),u=WN(i),d=sA(c,[l,n-l],c.shape.length-1),h=sA(u,[l,n-l],u.shape.length-1),p=r.shape.slice();return p[r.shape.length-1]=l,fC(ak(d[0],h[0]),p)}});const lA=nk({squaredDifference_:function(e,t){let n=$x(e,"a","squaredDifference"),a=$x(t,"b","squaredDifference");[n,a]=Fx(n,a),hN(n.shape,a.shape);const r={a:n,b:a};return Vx.runKernel($v,r,{})}});const cA=nk({squeeze_:function(e,t){const n=$x(e,"x","squeeze","string_or_numeric");return fC(n,Ig(n.shape,t).newShape)}});const uA=nk({stack_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=ek(e,"tensors","stack","string_or_numeric");hg(n.length>=1,(()=>"Pass at least one tensor to tf.stack")),n.length>0&&hg(t<=n[0].rank,(()=>"Axis must be <= rank of the tensor"));const a=n,r={axis:t};return Vx.runKernel(uv,a,r)}});const dA=nk({step_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n={x:$x(e,"x","step")},a={alpha:t};return Vx.runKernel(bw,n,a)}});const hA=nk({stridedSlice_:function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;const c={x:$x(e,"x","stridedSlice","string_or_numeric")},u={begin:t,end:n,strides:a,beginMask:r,endMask:o,ellipsisMask:s,newAxisMask:i,shrinkAxisMask:l};return Vx.runKernel(nw,c,u)}});const pA=nk({tan_:function(e){const t={x:$x(e,"x","tan","float32")};return Vx.runKernel(iw,t)}});function fA(e,t){fg(e);const n=Qx(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return rk(e,null,n,t)}function mA(e,t,n){if(fg(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const a=Qx(e,n);if(2!==a.length&&1!==a.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===a.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return rk(e,t,a,n)}function gA(e,t,n){if(fg(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");const a=Qx(e,n);if(4!==a.length&&1!==a.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===a.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return rk(e,t,a,n)}function yA(e,t,n){if(fg(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");const a=Qx(e,n);if(5!==a.length&&1!==a.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===a.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return rk(e,t,a,n)}function bA(e,t,n){if(fg(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");const a=Qx(e,n);if(6!==a.length&&1!==a.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===a.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return rk(e,t=t||a,a,n)}const vA=nk({tensorScatterUpdate_:function(e,t,n){const a=$x(e,"tensor","tensorScatterupdate"),r=$x(t,"indices","tensorScatterupdate","int32"),o=$x(n,"updates","tensorScatterupdate");if(rT(o,r,a.shape),a.dtype!==o.dtype)throw new Error("tensor and updates must have the same dtype, instead they are ".concat(a.dtype," and ").concat(o.dtype,"."));const s={tensor:a,indices:r,updates:o};return Vx.runKernel(Ov,s,{})}});const wA=nk({topk_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const a=$x(e,"x","topk");if(0===a.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const r=a.shape[a.shape.length-1];if(t<0)throw new Error("'k' passed to topk() must be >= 0 but got ".concat(t));if(t>r)throw new Error("'k' passed to topk() must be <= the last dimension (".concat(r,") ")+"but got ".concat(t));const o={x:a},s={k:t,sorted:n},[i,l]=Vx.runKernel(uw,o,s);return{values:i,indices:l}}});const xA=nk({truncatedNormal_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;if(Xg(e),null!=a&&"bool"===a)throw new Error("Unsupported data type $ { dtype }");const o=new IE(t,n,a,!0,r),s=RS(e,a);for(let i=0;i<s.values.length;i++)s.values[i]=o.nextValue();return s.toTensor()}});const kA=nk({unique_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=$x(e,"x","unique","string_or_numeric");hg(n.rank>0,(()=>"The input tensor must be at least 1D"));const a={x:n},r={axis:t},[o,s]=Vx.runKernel(pw,a,r);return{values:o,indices:s}}});const SA=nk({unsortedSegmentSum_:function(e,t,n){const a=$x(e,"x","unsortedSegmentSum"),r=$x(t,"segmentIds","unsortedSegmentSum","int32");hg(vg(n),(()=>"numSegments must be of dtype int"));const o={x:a,segmentIds:r},s={numSegments:n};return Vx.runKernel(mw,o,s)}});const NA=nk({unstack_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=$x(e,"x","unstack","string_or_numeric");hg(t>=-n.shape.length&&t<n.shape.length,(()=>"Axis = ".concat(t," is not in [-").concat(n.shape.length,", ").concat(n.shape.length,")")));const a={value:n},r={axis:t};return Vx.runKernel(fw,a,r)}});function TA(e,t){return YI(e,t,"right")}function CA(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0;return Vx.makeVariable(e,t,n,a)}function IA(e,t){const n=[];for(let o=0;o<t.length;o++)t[o]&&n.push(o);const a=RS(e,"int32"),r=RS([n.length,e.length],"int32");for(let o=0;o<n.length;o++){const t=a.indexToLoc(n[o]),s=o*e.length;r.values.set(t,s)}return r.toTensor()}const EA=async function(e){const t=$x(e,"condition","whereAsync","bool"),n=await t.data(),a=IA(t.shape,n);return e!==t&&t.dispose(),a};const AA=async function(e,t,n){const a=$x(e,"tensor","boolMask"),r=$x(t,"mask","boolMask","bool"),o=null==n?0:n,s=r.rank,i=a.shape;hg(s>0,(()=>"mask cannot be scalar")),pg(i.slice(o,o+s),r.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let m=o;m<o+s;m++)l*=i[m];const c=i.slice(0,o).concat([l],i.slice(o+s)),u=fC(a,c),d=fC(r,[-1]),h=await EA(d),p=cA(h,[1]),f=II(u,p,o);return e!==a&&a.dispose(),t!==r&&r.dispose(),p.dispose(),u.dispose(),d.dispose(),h.dispose(),f};const _A=nk({movingAverage_:function(e,t,n,a){let r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];const o=$x(e,"v","movingAverage"),s=$x(t,"x","movingAverage"),i=$x(n,"decay","movingAverage");Lx(o,s),hg(bg(o.shape,s.shape),(()=>"Shape mismatch in v and x"));const l=YS(1),c=iN(l,i);let u=zS(iN(s,o),c);if(r){hg(null!=a,(()=>"When using zeroDebias: true, step is required."));const e=$x(a,"step","movingAverage");u=PS(u,iN(l,sN(i,e)))}return LS(o,u)}});const RA=nk({scatterND_:function(e,t,n){Xg(n);const a=$x(e,"indices","scatterND","int32"),r=$x(t,"updates","scatterND");rT(r,a,n);const o={indices:a,updates:r},s={shape:n};return Vx.runKernel(Dv,o,s)}});const DA=nk({sparseToDense_:function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Xg(n);const r=$x(e,"sparseIndices","sparseToDense","int32"),o=$x(t,"sparseValues","sparseToDense","string_or_numeric"),s=$x(a,"defaultValue","sparseToDense",o.dtype);!function(e,t,n,a){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+" but the dtype was ".concat(e.dtype,"."));if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+" but got shape ".concat(e.shape,"."));const r=e.rank>0?e.shape[0]:1,o=e.rank>1?e.shape[1]:1;if(n.length!==o)throw new Error("outputShape has incorrect number of elements:,"+" ".concat(n.length,", should be: ").concat(o,"."));const s=t.size;if(0!==t.rank&&(1!==t.rank||s!==r))throw new Error("sparseValues has incorrect shape "+"".concat(t.shape,", should be [] or [").concat(r,"]"));if(t.dtype!==a.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(r,o,n,s);const i={sparseIndices:r,sparseValues:o,defaultValue:s},l={outputShape:n};return Vx.runKernel(Jv,i,l)}});const OA=nk({gatherND_:function(e,t){const n=$x(t,"indices","gatherND","int32"),a={params:$x(e,"x","gatherND","string_or_numeric"),indices:n};return Vx.runKernel(vb,a)}});const FA=nk({dropout_:function(e,t,n,a){const r=$x(e,"x","dropout");if(hg("float32"===r.dtype,(()=>"x has to be a floating point tensor since it's going to be "+"scaled, but got a ".concat(r.dtype," tensor instead."))),hg(t>=0&&t<1,(()=>"rate must be a float in the range [0, 1), but got ".concat(t,"."))),0===t)return e instanceof xx?r.clone():r;const o=function(e,t){if(null==t)return e.shape.slice();if(bg(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let a=0;a<e.shape.length;a++)null==t[a]&&null!=e.shape[a]?n.push(e.shape[a]):n.push(t[a]);return n}return t}(r,n),s=1-t,i=PS(CI(LS(OE(o,0,1,"float32",a),s)),s);return zS(r,i)}});function LA(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function MA(e,t,n){const a=1-e%2,r=new Float32Array(e);for(let o=0;o<e;++o){const s=2*Math.PI*o/(e+a-1);r[o]=t-n*Math.cos(s)}return fA(r,"float32")}const PA=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const a=$x(e,"predictions","inTopK"),r=$x(t,"targets","inTopK");hg(a.rank>1,(()=>"inTopK() expects the predictions to be of rank 2 or higher, "+"but got ".concat(a.rank))),hg(a.rank-1===r.rank,(()=>"predictions rank should be 1 larger than targets rank, but got predictions rank "+"".concat(a.rank," and targets rank ").concat(r.rank))),pg(a.shape.slice(0,a.shape.length-1),r.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const o=a.shape[a.shape.length-1];hg(n>0&&n<=o,(()=>"'k' passed to inTopK() must be > 0 && <= the predictions last "+"dimension (".concat(o,"), but got ").concat(n)));const s=await a.data(),i=await r.data(),[l,c]=[s.length/o,o],u=Eg("bool",l);for(let d=0;d<l;d++){const e=d*c,t=s.subarray(e,e+c),a=[];for(let n=0;n<t.length;n++)a.push({value:t[n],index:n});a.sort(((e,t)=>t.value-e.value)),u[d]=0;for(let r=0;r<n;r++)if(a[r].index===i[d]){u[d]=1;break}}return e!==a&&a.dispose(),t!==r&&r.dispose(),ok(u,r.shape,"bool")};const zA=nk({conv2DBackpropFilter_:function(e,t,n,a,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",s=arguments.length>6?arguments[6]:void 0,i=e;3===e.rank&&(i=fC(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=fC(t,[1,t.shape[0],t.shape[1],t.shape[2]])),hg(4===i.rank,(()=>"Error in conv2dDerFilter: input must be rank 4, but got shape "+"".concat(i.shape,"."))),hg(4===l.rank,(()=>"Error in conv2dDerFilter: dy must be rank 4, but got shape "+"".concat(l.shape,"."))),hg(4===n.length,(()=>"Error in conv2dDerFilter: filterShape must be length 4, but got "+"".concat(n,".")));const c="NHWC"===o?i.shape[3]:i.shape[1],u="NHWC"===o?l.shape[3]:l.shape[1];hg(c===n[2],(()=>"Error in conv2dDerFilter: depth of input ".concat(c,") must ")+"match input depth in filter (".concat(n[2],"."))),hg(u===n[3],(()=>"Error in conv2dDerFilter: depth of dy (".concat(u,") must ")+"match output depth for filter (".concat(n[3],")."))),pC("conv2dDerFilter",r,s);const d={x:i,dy:l},h={strides:a,pad:r,dataFormat:o,dimRoundingMode:s,filterShape:n};return Vx.runKernel(Py,d,h)}});function jA(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return zS(e,dA(t));throw new Error("Cannot compute gradient for fused activation ".concat(n,"."))}function BA(e,t){let n=t;const a=dN(e.shape,t.shape);return a.length>0&&(n=yI(n,a)),fC(n,e.shape)}function WA(e,t,n,a){if("linear"===t)return e;if("relu"===t)return PE(e);if("elu"===t)return rI(e);if("relu6"===t)return zE(e);if("prelu"===t)return wE(e,n);if("leakyrelu"===t)return OI(e,a);if("sigmoid"===t)return bC(e);throw new Error("Unknown fused activation ".concat(t,"."))}const UA=(e,t)=>!(e>0)||"linear"===t;const VA=nk({fusedConv2d_:function(e){let{x:t,filter:n,strides:a,pad:r,dataFormat:o="NHWC",dilations:s=[1,1],dimRoundingMode:i,bias:l,activation:c="linear",preluActivationWeights:u,leakyreluAlpha:d}=e;if(c=c||"linear",!1===UA(Vx.state.gradientDepth,c)){hg("NHWC"===o,(()=>"Error in fused conv2d: got dataFormat of ".concat(o," but ")+"only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear."));let e=PC(t,n,a,r,o,s,i);return null!=l&&(e=LS(e,l)),WA(e,c,u,d)}const h=$x(t,"x","conv2d","float32"),p=$x(n,"filter","conv2d","float32");let f=h,m=!1;3===h.rank&&(m=!0,f=fC(h,[1,h.shape[0],h.shape[1],h.shape[2]])),hg(4===f.rank,(()=>"Error in fused conv2d: input must be rank 4, but got rank "+"".concat(f.rank,"."))),hg(4===p.rank,(()=>"Error in fused conv2d: filter must be rank 4, but got rank "+"".concat(p.rank,"."))),pC("fused conv2d",r,i);const g="NHWC"===o?f.shape[3]:f.shape[1];hg(p.shape[2]===g,(()=>"Error in conv2d: depth of input (".concat(g,") must match ")+"input depth for filter ".concat(p.shape[2],"."))),hg(uC(a,s),(()=>"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(a," and dilations '").concat(s,"'")));const y=nC(f.shape,p.shape,a,s,r,i);let b,v;if(null!=l&&(b=$x(l,"bias","fused conv2d"),[b]=Fx(b,h),"NHWC"===o?hN(y.outShape,b.shape):(hg(b.shape.length<=1,(()=>"Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of "+"rank-".concat(b.shape.length,"."))),hg(0===b.shape.length||b.shape[0]===y.outChannels||1===b.shape[0],(()=>"Error in fused conv2d: bias shape (".concat(b.shape,") is not ")+"compatible with the number of output channels "+"(".concat(y.outChannels,")"))))),null!=u){const e=u.shape;if(hg(e.length<=1||3===e.length,(()=>"Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of "+"rank-".concat(e.length,"."))),1===e.length)hg(1===e[0]||e[0]===y.outChannels,(()=>"Error in fused conv2d: PReLU activation weights "+"(".concat(e,") is not compatible with the number of output ")+"channels (".concat(y.outChannels,").")));else if(3===e.length)try{hN(e,y.outShape)}catch(a4){const n="Error in fused conv2d: PReLU activation weights (".concat(e,") ")+"is not compatible with the output shape of the conv2d "+"(".concat(y.outShape,").");throw Error(n)}v=$x(u,"prelu weights","fused conv2d")}const w=(e,t)=>{hg("NHWC"===o,(()=>"Error in gradient of fused conv2D: got dataFormat of ".concat(o," but only NHWC is currently supported.")));const[n,i,l,u]=t,d=jA(e,l,c);hg(cC(s),(()=>"Error in gradient of fused conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(s,"'")));const h=[jC(i.shape,d,n,a,r),zA(i,d,n.shape,a,r)];if(null!=u){const e=BA(u,d);h.push(e)}return h},x={x:f,filter:p,bias:b,preluActivationWeights:v},k={strides:a,pad:r,dataFormat:o,dilations:s,dimRoundingMode:i,activation:c,leakyreluAlpha:d};if(null==l){const e=KS(((e,t,n)=>{let a=Vx.runKernel(kw,x,k);return n([t,e,a]),m&&(a=fC(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:w}}));return e(f,p)}{const e=KS(((e,t,n,a)=>{let r=Vx.runKernel(kw,x,k);return a([t,e,r,n]),m&&(r=fC(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:w}}));return e(f,p,b)}}});const HA=nk({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,a,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],s=arguments.length>6?arguments[6]:void 0,i=e;3===e.rank&&(i=fC(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let l=t;3===l.rank&&(l=fC(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const c={x:i,dy:l},u={strides:a,pad:r,dimRoundingMode:s,dilations:o,filterShape:n};return Vx.runKernel(Qy,c,u)}});const GA=nk({depthwiseConv2dNativeBackpropInput_:function(e,t,n,a,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],s=arguments.length>6?arguments[6]:void 0,i=t,l=!1;3===t.rank&&(l=!0,i=fC(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const c={dy:i,filter:n},u={strides:a,pad:r,dimRoundingMode:s,dilations:o,inputShape:e},d=Vx.runKernel(Zy,c,u);return l?fC(d,[d.shape[1],d.shape[2],d.shape[3]]):d}});const qA=nk({fusedDepthwiseConv2d_:function(e){let{x:t,filter:n,strides:a,pad:r,dataFormat:o="NHWC",dilations:s=[1,1],dimRoundingMode:i,bias:l,activation:c="linear",preluActivationWeights:u,leakyreluAlpha:d}=e;if(!1===UA(Vx.state.gradientDepth,c)){let e=QC(t,n,a,r,o,s,i);return null!=l&&(e=LS(e,l)),WA(e,c,u,d)}const h=$x(t,"x","depthwiseConv2d","float32"),p=$x(n,"filter","depthwiseConv2d","float32");let f=h,m=!1;3===h.rank&&(m=!0,f=fC(h,[1,h.shape[0],h.shape[1],h.shape[2]])),hg(4===f.rank,(()=>"Error in fused depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(f.rank,"."))),hg(4===p.rank,(()=>"Error in fused depthwiseConv2d: filter must be rank 4, "+"but got rank ".concat(p.rank,"."))),hg(f.shape[3]===p.shape[2],(()=>"Error in fused depthwiseConv2d: number of input channels "+"(".concat(f.shape[3],") must match the inChannels dimension in ")+"filter ".concat(p.shape[2],"."))),null==s&&(s=[1,1]),hg(uC(a,s),(()=>"Error in fused depthwiseConv2d: Either strides or dilations must "+"be 1. Got strides ".concat(a," and dilations '").concat(s,"'"))),pC("fused depthwiseConv2d",r,i);const g=nC(f.shape,p.shape,a,s,r,i,!0);let y,b;null!=l&&(y=$x(l,"bias","fused conv2d"),[y]=Fx(y,h),hN(g.outShape,y.shape)),null!=u&&(b=$x(u,"prelu weights","fused depthwiseConv2d"));const v=(e,t)=>{hg(cC(s),(()=>"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(s,"'")));const[n,o,l,u]=t,d=jA(e,l,c),h=GA(o.shape,d,n,a,r,s,i),p=HA(o,d,n.shape,a,r,s,i);if(null!=u){return[h,p,BA(y,d)]}return[h,p]},w={x:f,filter:p,bias:y,preluActivationWeights:b},x={strides:a,pad:r,dataFormat:o,dilations:s,dimRoundingMode:i,activation:c,leakyreluAlpha:d};if(null==l){const e=KS(((e,t,n)=>{let a=Vx.runKernel(Sw,w,x);return n([t,e,a]),m&&(a=fC(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:v}}));return e(f,p)}{const e=KS(((e,t,n,a)=>{let r=Vx.runKernel(Sw,w,x);return a([t,e,r,n]),m&&(r=fC(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:v}}));return e(f,p,y)}}});const KA=nk({fusedMatMul_:function(e){let{a:t,b:n,transposeA:a=!1,transposeB:r=!1,bias:o,activation:s="linear",preluActivationWeights:i,leakyreluAlpha:l=.2}=e;if(!1===UA(Vx.state.gradientDepth,s)){let e=jN(t,n,a,r);return null!=o&&(e=LS(e,o)),WA(e,s,i,l)}let c=$x(t,"a","fused matMul"),u=$x(n,"b","fused matMul");[c,u]=Fx(c,u);const d=a?c.shape[c.rank-2]:c.shape[c.rank-1],h=r?u.shape[u.rank-1]:u.shape[u.rank-2],p=a?c.shape[c.rank-1]:c.shape[c.rank-2],f=r?u.shape[u.rank-2]:u.shape[u.rank-1],m=c.shape.slice(0,-2),g=u.shape.slice(0,-2),y=mg(m),b=mg(g);hg(d===h,(()=>"Error in fused matMul: inner shapes (".concat(d,") and (")+"".concat(h,") of Tensors with shapes ").concat(c.shape," and ")+"".concat(u.shape," and transposeA=").concat(a)+" and transposeB=".concat(r," must match.")));const v=hN(c.shape.slice(0,-2),u.shape.slice(0,-2)).concat([p,f]),w=fC(c,a?[y,d,p]:[y,p,d]),x=fC(u,r?[b,f,h]:[b,h,f]);let k,S;null!=o&&(k=$x(o,"bias","fused matMul"),[k]=Fx(k,c),hN(v,k.shape)),null!=i&&(S=$x(i,"prelu weights","fused matMul"));const N=(e,t)=>{const[n,i,l,c]=t,u=jA(fC(e,l.shape),l,s);let d,h;if(a||r?!a&&r?(d=jN(u,i,!1,!1),h=jN(u,n,!0,!1)):a&&!r?(d=jN(i,u,!1,!0),h=jN(n,u,!1,!1)):(d=jN(i,u,!0,!0),h=jN(u,n,!0,!0)):(d=jN(u,i,!1,!0),h=jN(n,u,!0,!1)),null!=o){return[d,h,BA(c,u)]}return[d,h]},T={a:w,b:x,bias:k,preluActivationWeights:S},C={transposeA:a,transposeB:r,activation:s,leakyreluAlpha:l};if(null==o){const e=KS(((e,t,n)=>{const a=Vx.runKernel(xw,T,C);return n([e,t,a]),{value:fC(a,v),gradFunc:N}}));return e(w,x)}{const e=KS(((e,t,n,a)=>{const r=Vx.runKernel(xw,T,C);return a([e,t,r,n]),{value:fC(r,v),gradFunc:N}}));return e(w,x,k)}}});const XA=nk({hammingWindow_:function(e){return MA(e,.54,.46)}});const YA=nk({hannWindow_:function(e){return MA(e,.5,.5)}});const QA=nk({frame_:function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=0;const s=[];for(;o+t<=e.size;)s.push(vC(e,o,t)),o+=n;if(a)for(;o<e.size;){const a=o+t-e.size,i=yC([vC(e,o,t-a),rN([a],r)]);s.push(i),o+=n}return 0===s.length?mA([],[0,t]):fC(yC(s),[s.length,t])}});const ZA=nk({stft_:function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:YA;null==a&&(a=LA(t));const o=QA(e,t,n),s=zS(o,r(t));return iA(s,a)}});const JA=nk({cropAndResize_:function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const s=$x(e,"image","cropAndResize"),i=$x(t,"boxes","cropAndResize","float32"),l=$x(n,"boxInd","cropAndResize","int32"),c=i.shape[0];hg(4===s.rank,(()=>"Error in cropAndResize: image must be rank 4,"+"but got rank ".concat(s.rank,"."))),hg(2===i.rank&&4===i.shape[1],(()=>"Error in cropAndResize: boxes must be have size [".concat(c,",4] ")+"but had shape ".concat(i.shape,"."))),hg(1===l.rank&&l.shape[0]===c,(()=>"Error in cropAndResize: boxInd must be have size [".concat(c,"] ")+"but had shape ".concat(i.shape,"."))),hg(2===a.length,(()=>"Error in cropAndResize: cropSize must be of length 2, but got "+"length ".concat(a.length,"."))),hg(a[0]>=1&&a[1]>=1,(()=>"cropSize must be atleast [1,1], but was ".concat(a))),hg("bilinear"===r||"nearest"===r,(()=>"method must be bilinear or nearest, but was ".concat(r)));const u={image:s,boxes:i,boxInd:l},d={method:r,extrapolationValue:o,cropSize:a};return Vx.runKernel(qy,u,d)}});const $A=nk({flipLeftRight_:function(e){const t=$x(e,"image","flipLeftRight","float32");hg(4===t.rank,(()=>"Error in flipLeftRight: image must be rank 4,"+"but got rank ".concat(t.rank,".")));const n={image:t};return Vx.runKernel(fb,n,{})}});const e_=nk({grayscaleToRGB_:function(e){const t=$x(e,"image","grayscaleToRGB"),n=t.rank-1,a=t.shape[n];hg(t.rank>=2,(()=>"Error in grayscaleToRGB: images must be at least rank 2, "+"but got rank ".concat(t.rank,"."))),hg(1===a,(()=>"Error in grayscaleToRGB: last dimension of a grayscale image "+"should be size 1, but got size ".concat(a,".")));const r=new Array(t.rank);return r.fill(1,0,n),r[n]=3,NI(t,r)}});const t_=nk({rgbToGrayscale_:function(e){const t=$x(e,"image","RGBToGrayscale"),n=t.rank-1,a=t.shape[n];hg(t.rank>=2,(()=>"Error in RGBToGrayscale: images must be at least rank 2, "+"but got rank ".concat(t.rank,"."))),hg(3===a,(()=>"Error in RGBToGrayscale: last dimension of an RGB image "+"should be size 3, but got size ".concat(a,".")));const r=t.dtype,o=DS(t,"float32"),s=fA([.2989,.587,.114]);let i;switch(t.rank){case 2:i=aI("ij,j->i",o,s);break;case 3:i=aI("ijk,k->ij",o,s);break;case 4:i=aI("ijkl,l->ijk",o,s);break;case 5:i=aI("ijklm,m->ijkl",o,s);break;case 6:i=aI("ijklmn,n->ijklm",o,s);break;default:throw new Error("Not a valid tensor rank.")}return i=kI(i,-1),DS(i,r)}});const n_=nk({rotateWithOffset_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const r=$x(e,"image","rotateWithOffset","float32");hg(4===r.rank,(()=>"Error in rotateWithOffset: image must be rank 4,"+"but got rank ".concat(r.rank,".")));const o={image:r},s={radians:t,fillValue:n,center:a};return Vx.runKernel(ww,o,s)}});function a_(e,t,n,a,r,o){null==a&&(a=.5),null==r&&(r=Number.NEGATIVE_INFINITY),null==o&&(o=0);const s=e.shape[0];return n=Math.min(n,s),hg(0<=a&&a<=1,(()=>"iouThreshold must be in [0, 1], but was '".concat(a,"'"))),hg(2===e.rank,(()=>"boxes must be a 2D tensor, but was of rank '".concat(e.rank,"'"))),hg(4===e.shape[1],(()=>"boxes must have 4 columns, but 2nd dimension was ".concat(e.shape[1]))),hg(1===t.rank,(()=>"scores must be a 1D tensor")),hg(t.shape[0]===s,(()=>"scores has incompatible shape with boxes. Expected ".concat(s,", ")+"but was ".concat(t.shape[0]))),hg(0<=o&&o<=1,(()=>"softNmsSigma must be in [0, 1], but was '".concat(o,"'"))),{maxOutputSize:n,iouThreshold:a,scoreThreshold:r,softNmsSigma:o}}const r_=nk({nonMaxSuppression_:function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY;const o=$x(e,"boxes","nonMaxSuppression","float32"),s=$x(t,"scores","nonMaxSuppression","float32"),i=a_(o,s,n,a,r);n=i.maxOutputSize,a=i.iouThreshold,r=i.scoreThreshold;const l={maxOutputSize:n,iouThreshold:a,scoreThreshold:r};return Vx.runKernel(ov,{boxes:o,scores:s},l)}});function o_(e,t,n){const a=function(e,t,n){return function(e,t,n){let a=0,r=e.length,o=0,s=!1;for(;a<r;){o=a+(r-a>>>1);const i=n(t,e[o]);i>0?a=o+1:(r=o,s=!i)}return s?a:-a-1}(e,t,n||s_)}(e,t,n),r=a<0?-(a+1):a;e.splice(r,0,t)}function s_(e,t){return e>t?1:e<t?-1:0}function i_(e,t,n,a,r){return u_(e,t,n,a,r,0)}function l_(e,t,n,a,r,o){return u_(e,t,n,a,r,0,!1,o,!0)}function c_(e,t,n,a,r,o){return u_(e,t,n,a,r,o,!0)}function u_(e,t,n,a,r,o){let s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],i=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];const c=[];for(let g=0;g<t.length;g++)t[g]>r&&c.push({score:t[g],boxIndex:g,suppressBeginIndex:0});c.sort(p_);const u=o>0?-.5/o:0,d=[],h=[];for(;d.length<n&&c.length>0;){const t=c.pop(),{score:n,boxIndex:o,suppressBeginIndex:s}=t;if(n<r)break;let i=!1;for(let l=d.length-1;l>=s;--l){const n=d_(e,o,d[l]);if(n>=a){i=!0;break}if(t.score=t.score*h_(a,u,n),t.score<=r)break}t.suppressBeginIndex=d.length,i||(t.score===n?(d.push(o),h.push(t.score)):t.score>r&&o_(c,t,p_))}const p=d.length,f=n-p;i&&f>0&&(d.push(...new Array(f).fill(0)),h.push(...new Array(f).fill(0)));const m={selectedIndices:d};return s&&(m.selectedScores=h),l&&(m.validOutputs=p),m}function d_(e,t,n){const a=e.subarray(4*t,4*t+4),r=e.subarray(4*n,4*n+4),o=Math.min(a[0],a[2]),s=Math.min(a[1],a[3]),i=Math.max(a[0],a[2]),l=Math.max(a[1],a[3]),c=Math.min(r[0],r[2]),u=Math.min(r[1],r[3]),d=Math.max(r[0],r[2]),h=Math.max(r[1],r[3]),p=(i-o)*(l-s),f=(d-c)*(h-u);if(p<=0||f<=0)return 0;const m=Math.max(o,c),g=Math.max(s,u),y=Math.min(i,d),b=Math.min(l,h),v=Math.max(y-m,0)*Math.max(b-g,0);return v/(p+f-v)}function h_(e,t,n){const a=Math.exp(t*n*n);return n<=e?a:0}function p_(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}const f_=async function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY;const o=$x(e,"boxes","nonMaxSuppressionAsync"),s=$x(t,"scores","nonMaxSuppressionAsync"),i=a_(o,s,n,a,r);n=i.maxOutputSize,a=i.iouThreshold,r=i.scoreThreshold;const l=await Promise.all([o.data(),s.data()]),c=l[0],u=l[1],{selectedIndices:d}=i_(c,u,n,a,r);return o!==e&&o.dispose(),s!==t&&s.dispose(),fA(d,"int32")};const m_=nk({nonMaxSuppressionWithScore_:function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const s=$x(e,"boxes","nonMaxSuppression"),i=$x(t,"scores","nonMaxSuppression"),l=a_(s,i,n,a,r,o);n=l.maxOutputSize,a=l.iouThreshold,r=l.scoreThreshold,o=l.softNmsSigma;const c={boxes:s,scores:i},u={maxOutputSize:n,iouThreshold:a,scoreThreshold:r,softNmsSigma:o},d=Vx.runKernel(iv,c,u);return{selectedIndices:d[0],selectedScores:d[1]}}});const g_=async function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const s=$x(e,"boxes","nonMaxSuppressionAsync"),i=$x(t,"scores","nonMaxSuppressionAsync"),l=a_(s,i,n,a,r,o);n=l.maxOutputSize,a=l.iouThreshold,r=l.scoreThreshold,o=l.softNmsSigma;const c=await Promise.all([s.data(),i.data()]),u=c[0],d=c[1],{selectedIndices:h,selectedScores:p}=c_(u,d,n,a,r,o);return s!==e&&s.dispose(),i!==t&&i.dispose(),{selectedIndices:fA(h,"int32"),selectedScores:fA(p)}};const y_=nk({nonMaxSuppressionPadded_:function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const s=$x(e,"boxes","nonMaxSuppression"),i=$x(t,"scores","nonMaxSuppression"),l=a_(s,i,n,a,r,null),c={boxes:s,scores:i},u={maxOutputSize:l.maxOutputSize,iouThreshold:l.iouThreshold,scoreThreshold:l.scoreThreshold,padToMaxOutputSize:o},d=Vx.runKernel(sv,c,u);return{selectedIndices:d[0],validOutputs:d[1]}}});const b_=async function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const s=$x(e,"boxes","nonMaxSuppressionAsync"),i=$x(t,"scores","nonMaxSuppressionAsync"),l=a_(s,i,n,a,r,null),c=l.maxOutputSize,u=l.iouThreshold,d=l.scoreThreshold,[h,p]=await Promise.all([s.data(),i.data()]),{selectedIndices:f,validOutputs:m}=l_(h,p,c,u,d,o);return s!==e&&s.dispose(),i!==t&&i.dispose(),{selectedIndices:fA(f,"int32"),validOutputs:YS(m,"int32")}};const v_=nk({resizeBilinear_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=$x(e,"images","resizeBilinear");hg(3===r.rank||4===r.rank,(()=>"Error in resizeBilinear: x must be rank 3 or 4, but got "+"rank ".concat(r.rank,"."))),hg(2===t.length,(()=>"Error in resizeBilinear: new shape must 2D, but got shape "+"".concat(t,"."))),hg(!1===a||!1===n,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let o=r,s=!1;3===r.rank&&(s=!0,o=fC(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const[]=t,i={images:o},l={alignCorners:n,halfPixelCenters:a,size:t},c=Vx.runKernel(Cv,i,l);return s?fC(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const w_=nk({resizeNearestNeighbor_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=$x(e,"images","resizeNearestNeighbor");hg(3===r.rank||4===r.rank,(()=>"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+"rank ".concat(r.rank,"."))),hg(2===t.length,(()=>"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+"".concat(t,"."))),hg("float32"===r.dtype||"int32"===r.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),hg(!1===a||!1===n,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let o=r,s=!1;3===r.rank&&(s=!0,o=fC(r,[1,r.shape[0],r.shape[1],r.shape[2]]));const[]=t,i={images:o},l={alignCorners:n,halfPixelCenters:a,size:t},c=Vx.runKernel(Nv,i,l);return s?fC(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const x_=nk({threshold_:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const r=$x(e,"image","threshold"),o=r.shape[0]*r.shape[1];let s,i,l,c,u=zS(fA([a]),255);if(hg(3===r.rank,(()=>"Error in threshold: image must be rank 3,"+"but got rank ".concat(r.rank,"."))),hg(3===r.shape[2]||1===r.shape[2],(()=>"Error in threshold: image color channel must be equal to 3 or 1"+"but got ".concat(r.shape[2],"."))),hg("int32"===r.dtype||"float32"===r.dtype,(()=>"Error in dtype: image dtype must be int32 or float32,"+"but got dtype ".concat(r.dtype,"."))),hg("otsu"===t||"binary"===t,(()=>"Method must be binary or otsu, but was ".concat(t))),3===r.shape[2]){[s,i,l]=sA(r,[1,1,1],-1);const e=zS(s,.2989),t=zS(i,.587),n=zS(l,.114);c=LS(LS(e,t),n)}else c=e;if("otsu"===t){u=function(e,t){let n,a,r,o,s,i,l=fA([-1]),c=fA([0]),u=fA([0]);for(let d=0;d<e.size-1;d++){n=vC(e,0,d+1),a=vC(e,d+1),s=PS(yI(n),t),i=PS(yI(a),t);const h=yI(zS(n,LE(0,n.size)));r=PS(h,yI(n));const p=rN(a.shape,n.size),f=LS(LE(0,a.size),p),m=zS(a,f);o=PS(yI(m),yI(a));const g=iN(r,o),y=iN(r,o),b=zS(s,i);u=zS(zS(b,g),y);const v=EI(u,c);c=eI(v,u,c),l=eI(v,fA([d]),l)}return l}(IC(DS(HE(c),"int32"),ok([]),256),o)}const d=n?LI(c,u):EI(c,u);return DS(zS(d,255),"int32")}});const k_=nk({transform_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0;const s=$x(e,"image","transform","float32"),i=$x(t,"transforms","transform","float32");hg(4===s.rank,(()=>"Error in transform: image must be rank 4,"+"but got rank ".concat(s.rank,"."))),hg(2===i.rank&&(i.shape[0]===s.shape[0]||1===i.shape[0])&&8===i.shape[1],(()=>"Error in transform: Input transform should be batch x 8 or 1 x 8")),hg(null==o||2===o.length,(()=>"Error in transform: outputShape must be [height, width] or null, "+"but got ".concat(o,".")));const l={image:s,transforms:i},c={interpolation:n,fillMode:a,fillValue:r,outputShape:o};return Vx.runKernel(dw,l,c)}});const S_=nk({bandPart_:function(e,t,n){const a=$x(e,"a","bandPart");hg(a.rank>=2,(()=>"bandPart(): Rank must be at least 2, got ".concat(a.rank,".")));const r=a.shape,[o,s]=a.shape.slice(-2);let i,l;"number"===typeof t?(hg(t%1===0,(()=>"bandPart(): numLower must be an integer, got ".concat(t,"."))),hg(t<=o,(()=>"bandPart(): numLower (".concat(t,")")+" must not be greater than the number of rows (".concat(o,")."))),i=$x(t<0?o:t,"numLower","bandPart")):(hg("int32"===t.dtype,(()=>"bandPart(): numLower's dtype must be an int32.")),i=eI(FI(t,0),o,rE(t,o))),"number"===typeof n?(hg(n%1===0,(()=>"bandPart(): numUpper must be an integer, got ".concat(n,"."))),hg(n<=s,(()=>"bandPart(): numUpper (".concat(n,")")+" must not be greater than the number of columns (".concat(s,")."))),l=$x(n<0?s:n,"numUpper","bandPart")):(hg("int32"===n.dtype,(()=>"bandPart(): numUpper's dtype must be an int32.")),l=eI(FI(n,0),s,rE(n,s)));const c=fC(LE(0,o,1,"int32"),[-1,1]),u=LE(0,s,1,"int32"),d=iN(c,u),h=HI(LI(d,i),AI(d,UN(l))),p=tE([o,s],a.dtype);return fC(uA(NA(fC(a,[-1,o,s])).map((e=>eI(h,e,p)))),r)}});const N_=nk({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,hg(null!=e&&e.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const n=e[0].shape[0];for(let t=1;t<e.length;++t)hg(e[t].shape[0]===n,(()=>"Gram-Schmidt: Non-unique lengths found in the input vectors: "+"(".concat(e[t].shape[0]," vs. ").concat(n,")")))}else t=!0,e=sA(e,e.shape[0],0).map((e=>cA(e,[0])));hg(e.length<=e[0].shape[0],(()=>"Gram-Schmidt: Number of vectors (".concat(e.length,") exceeds ")+"number of dimensions (".concat(e[0].shape[0],").")));const n=[],a=e;for(let r=0;r<e.length;++r)n.push(Vx.tidy((()=>{let e=a[r];if(r>0)for(let t=0;t<r;++t){const a=zS(yI(zS(n[t],e)),n[t]);e=iN(e,a)}return PS(e,vI(e,"euclidean"))})));return t?uA(n,0):n}});function T_(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Vx.tidy((()=>{hg(2===e.shape.length,(()=>"qr2d() requires a 2D Tensor, but got a ".concat(e.shape.length,"D Tensor.")));const n=e.shape[0],a=e.shape[1];let r=TI(n),o=OS(e);const s=mA([[1]],[1,1]);let i=OS(s);const l=n>=a?a:n;for(let e=0;e<l;++e){const t=o,l=i,c=r;[i,o,r]=Vx.tidy((()=>{const t=vC(o,[e,e],[n-e,1]),l=vI(t),c=vC(o,[e,e],[1,1]),u=eI(EI(c,0),mA([[-1]]),mA([[1]])),d=iN(c,zS(u,l)),h=PS(t,d);i=1===h.shape[0]?OS(s):yC([s,vC(h,[1,0],[h.shape[0]-1,h.shape[1]])],0);const p=UN(PS(jN(u,d),l)),f=vC(o,[e,0],[n-e,a]),m=zS(p,i),g=HN(i);if(0===e)o=iN(f,jN(m,jN(g,f)));else{const t=iN(f,jN(m,jN(g,f)));o=yC([vC(o,[0,0],[e,a]),t],0)}const y=HN(m),b=vC(r,[0,e],[n,r.shape[1]-e]);if(0===e)r=iN(b,jN(jN(b,i),y));else{const t=iN(b,jN(jN(b,i),y));r=yC([vC(r,[0,0],[n,e]),t],1)}return[i,o,r]})),yk([t,l,c])}return!t&&n>a&&(r=vC(r,[0,0],[n,a]),o=vC(o,[0,0],[a,a])),[r,o]}))}const C_=nk({qr_:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(hg(e.rank>=2,(()=>"qr() requires input tensor to have a rank >= 2, but got rank ".concat(e.rank))),2===e.rank)return T_(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce(((e,t)=>e*t)),a=NA(fC(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),r=[],o=[];a.forEach((e=>{const[n,a]=T_(e,t);r.push(n),o.push(a)}));return[fC(uA(r,0),e.shape),fC(uA(o,0),e.shape)]}}});var I_;!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(I_||(I_={}));const E_=nk({computeWeightedLoss_:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I_.SUM_BY_NONZERO_WEIGHTS;const a=$x(e,"losses","computeWeightedLoss");let r=null;null!=t&&(r=$x(t,"weights","computeWeightedLoss"));const o=null==r?a:zS(a,r);if(n===I_.NONE)return o;if(n===I_.SUM)return yI(o);if(n===I_.MEAN){if(null==r)return eE(o);{const e=a.size/r.size,t=PS(yI(o),yI(r));return e>1?PS(t,YS(e)):t}}if(n===I_.SUM_BY_NONZERO_WEIGHTS){if(null==r)return PS(yI(o),YS(a.size));{const e=zS(r,nE(a.shape)),t=DS(yI(uE(e,YS(0))),"float32");return PS(yI(o),t)}}throw Error("Unknown reduction: ".concat(n))}});const A_=nk({absoluteDifference_:function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I_.SUM_BY_NONZERO_WEIGHTS;const r=$x(e,"labels","absoluteDifference"),o=$x(t,"predictions","absoluteDifference");let s=null;null!=n&&(s=$x(n,"weights","absoluteDifference")),pg(r.shape,o.shape,"Error in absoluteDifference: ");const i=cN(iN(r,o));return E_(i,s,a)}});const __=nk({cosineDistance_:function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:I_.SUM_BY_NONZERO_WEIGHTS;const o=$x(e,"labels","cosineDistance"),s=$x(t,"predictions","cosineDistance");let i=null;null!=a&&(i=$x(a,"weights","cosineDistance")),pg(o.shape,s.shape,"Error in cosineDistance: ");const l=YS(1),c=iN(l,yI(zS(o,s),n,!0));return E_(c,i,r)}});const R_=nk({hingeLoss_:function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I_.SUM_BY_NONZERO_WEIGHTS,r=$x(e,"labels","hingeLoss");const o=$x(t,"predictions","hingeLoss");let s=null;null!=n&&(s=$x(n,"weights","hingeLoss")),pg(r.shape,o.shape,"Error in hingeLoss: ");const i=YS(1);r=iN(zS(YS(2),r),i);const l=PE(iN(i,zS(r,o)));return E_(l,s,a)}});const D_=nk({huberLoss_:function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:I_.SUM_BY_NONZERO_WEIGHTS;const o=$x(e,"labels","huberLoss"),s=$x(t,"predictions","huberLoss");let i=null;null!=n&&(i=$x(n,"weights","huberLoss")),pg(o.shape,s.shape,"Error in huberLoss: ");const l=YS(a),c=cN(iN(s,o)),u=rE(c,l),d=iN(c,u),h=LS(zS(YS(.5),BS(u)),zS(l,d));return E_(h,i,r)}});const O_=nk({logLoss_:function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:I_.SUM_BY_NONZERO_WEIGHTS;const o=$x(e,"labels","logLoss"),s=$x(t,"predictions","logLoss");let i=null;null!=n&&(i=$x(n,"weights","logLoss")),pg(o.shape,s.shape,"Error in logLoss: ");const l=YS(1),c=YS(a),u=UN(zS(o,zI(LS(s,c)))),d=zS(iN(l,o),zI(LS(iN(l,s),c))),h=iN(u,d);return E_(h,i,r)}});const F_=nk({meanSquaredError_:function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I_.SUM_BY_NONZERO_WEIGHTS;const r=$x(e,"labels","meanSquaredError"),o=$x(t,"predictions","meanSquaredError");let s=null;null!=n&&(s=$x(n,"weights","meanSquaredError")),pg(r.shape,o.shape,"Error in meanSquaredError: ");const i=lA(r,o);return E_(i,s,a)}});const L_=nk({sigmoidCrossEntropy_:function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:I_.SUM_BY_NONZERO_WEIGHTS,o=$x(e,"multiClassLabels","sigmoidCrossEntropy");const s=$x(t,"logits","sigmoidCrossEntropy");let i=null;if(null!=n&&(i=$x(n,"weights","sigmoidCrossEntropy")),pg(o.shape,s.shape,"Error in sigmoidCrossEntropy: "),a>0){const e=YS(a),t=YS(1),n=YS(.5);o=LS(zS(o,iN(t,e)),zS(n,e))}const l=function(e,t){const n=$x(e,"labels","sigmoidCrossEntropyWithLogits"),a=$x(t,"logits","sigmoidCrossEntropyWithLogits");pg(n.shape,a.shape,"Error in sigmoidCrossEntropyWithLogits: ");const r=PE(a),o=zS(a,n),s=jI(xI(UN(cN(a))));return LS(iN(r,o),s)}(o,s);return E_(l,i,r)}});const M_=nk({softmaxCrossEntropy_:function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:I_.SUM_BY_NONZERO_WEIGHTS,o=$x(e,"onehotLabels","softmaxCrossEntropy");const s=$x(t,"logits","softmaxCrossEntropy");let i=null;if(null!=n&&(i=$x(n,"weights","softmaxCrossEntropy")),pg(o.shape,s.shape,"Error in softmaxCrossEntropy: "),a>0){const e=YS(a),t=YS(1),n=YS(o.shape[1]);o=LS(zS(o,iN(t,e)),PS(e,n))}const l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+"supported. Labels / logits was rank ".concat(t.rank," ")+"and dim was ".concat(n));const a=KS(((e,t,a)=>{const r=VI(t,[n],!0),o=iN(DS(t,"float32"),r);a([e,o]);const s=UN(zS(o,e));return{value:yI(s,[n]),gradFunc:(e,t)=>{const[a,r]=t,o=uI(e.shape,[n]);return[zS(fC(e,o),iN(DS(a,"float32"),xI(r))),zS(fC(e,o),iN(xI(r),DS(a,"float32")))]}}}));return a(e,t)}(o,s);return E_(l,i,r)}});const P_=nk({sparseFillEmptyRows_:function(e,t,n,a){const r=$x(e,"indices","sparseFillEmptyRows","int32"),o=$x(t,"values","sparseFillEmptyRows"),s=$x(n,"denseShape","sparseFillEmptyRows","int32"),i=$x(a,"defaultValue","sparseFillEmptyRows",o.dtype);if(2!==r.rank)throw new Error("Indices should be Tensor2D but received shape\n        ".concat(r.shape));if(1!==o.rank)throw new Error("Values should be Tensor1D but received shape ".concat(o.shape));if(1!==s.rank)throw new Error("Dense shape should be Tensor1D but received shape ".concat(s.shape));if(0!==i.rank)throw new Error("Default value should be a scalar but received shape ".concat(i.shape));const l={indices:r,values:o,denseShape:s,defaultValue:i},c=Vx.runKernel(Xv,l);return{outputIndices:c[0],outputValues:c[1],emptyRowIndicator:c[2],reverseIndexMap:c[3]}}});const z_=nk({sparseReshape_:function(e,t,n){const a=$x(e,"inputIndices","sparseReshape","int32"),r=$x(t,"inputShape","sparseReshape","int32"),o=$x(n,"newShape","sparseReshape","int32");if(2!==a.rank)throw new Error("Input indices should be Tensor2D but received shape\n        ".concat(a.shape));if(1!==r.rank)throw new Error("Input shape should be Tensor1D but received shape ".concat(r.shape));if(1!==o.rank)throw new Error("New shape should be Tensor1D but received shape ".concat(o.shape));const s={inputIndices:a,inputShape:r,newShape:o},i=Vx.runKernel(Yv,s);return{outputIndices:i[0],outputShape:i[1]}}});const j_=nk({sparseSegmentMean_:function(e,t,n){const a=$x(e,"data","sparseSegmentMean"),r=$x(t,"indices","sparseSegmentMean","int32"),o=$x(n,"segmentIds","sparseSegmentMean","int32");if(a.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.rank)throw new Error("Indices should be Tensor1D but received shape\n          ".concat(r.shape));if(1!==o.rank)throw new Error("Segment ids should be Tensor1D but received shape\n          ".concat(o.shape));const s={data:a,indices:r,segmentIds:o};return Vx.runKernel(Qv,s)}});const B_=nk({sparseSegmentSum_:function(e,t,n){const a=$x(e,"data","sparseSegmentSum"),r=$x(t,"indices","sparseSegmentSum","int32"),o=$x(n,"segmentIds","sparseSegmentSum","int32");if(a.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.rank)throw new Error("Indices should be Tensor1D but received shape\n         ".concat(r.shape));if(1!==o.rank)throw new Error("Segment ids should be Tensor1D but received shape\n         ".concat(o.shape));const s={data:a,indices:r,segmentIds:o};return Vx.runKernel(Zv,s)}});const W_=nk({stringNGrams_:function(e,t,n,a,r,o,s,i){const l=$x(e,"data","stringNGrams","string");if("string"!==l.dtype)throw new Error("Data must be of datatype string");if(1!==l.shape.length)throw new Error("Data must be a vector, saw: ".concat(l.shape));const c=$x(t,"dataSplits","stringNGrams");if("int32"!==c.dtype)throw new Error("Data splits must be of datatype int32");const u={separator:n,nGramWidths:a,leftPad:r,rightPad:o,padWidth:s,preserveShortSequences:i},d={data:l,dataSplits:c},h=Vx.runKernel(aw,d,u);return{nGrams:h[0],nGramsSplits:h[1]}}});const U_=nk({stringSplit_:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const a=$x(e,"input","stringSplit","string"),r=$x(t,"delimiter","stringSplit","string");if(1!==a.rank)throw new Error("Input should be Tensor1D but received shape ".concat(a.shape));if(0!==r.rank)throw new Error("Delimiter should be a scalar but received shape ".concat(r.shape));const o={skipEmpty:n},s={input:a,delimiter:r},i=Vx.runKernel(rw,s,o);return{indices:i[0],values:i[1],shape:i[2]}}});const V_=nk({stringToHashBucketFast_:function(e,t){const n=$x(e,"input","stringToHashBucketFast","string"),a={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");const r={input:n};return Vx.runKernel(ow,r,a)}});const H_=nk({staticRegexReplace_:function(e,t,n){let a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const r=$x(e,"input","staticRegexReplace","string"),o={pattern:t,rewrite:n,replaceGlobal:a};return Vx.runKernel(tw,{x:r},o)}}),G_={fft:aA,ifft:rA,rfft:iA,irfft:oA},q_={hammingWindow:XA,hannWindow:YA,frame:QA,stft:ZA},K_={flipLeftRight:$A,grayscaleToRGB:e_,resizeNearestNeighbor:w_,resizeBilinear:v_,rgbToGrayscale:t_,rotateWithOffset:n_,cropAndResize:JA,nonMaxSuppression:r_,nonMaxSuppressionAsync:f_,nonMaxSuppressionWithScore:m_,nonMaxSuppressionWithScoreAsync:g_,nonMaxSuppressionPadded:y_,nonMaxSuppressionPaddedAsync:b_,threshold:x_,transform:k_},X_={bandPart:S_,gramSchmidt:N_,qr:C_},Y_={absoluteDifference:A_,computeWeightedLoss:E_,cosineDistance:__,hingeLoss:R_,huberLoss:D_,logLoss:O_,meanSquaredError:F_,sigmoidCrossEntropy:L_,softmaxCrossEntropy:M_},Q_={sparseFillEmptyRows:P_,sparseReshape:z_,sparseSegmentMean:j_,sparseSegmentSum:B_},Z_={stringNGrams:W_,stringSplit:U_,stringToHashBucketFast:V_,staticRegexReplace:H_},J_=BT,$_="undefined"!==typeof requestAnimationFrame?requestAnimationFrame:"undefined"!==typeof setImmediate?setImmediate:e=>e();function eR(){return new Promise((e=>$_((()=>e()))))}function tR(e,t){const n=e[0].length;e.forEach(((e,t)=>{hg(e.length===n,(()=>"Error in concat".concat(n,"D: rank of tensors[").concat(t,"] must be the same ")+"as the rank of the rest (".concat(n,")")))})),hg(t>=0&&t<n,(()=>"Error in concat".concat(n,"D: axis must be between 0 and ").concat(n-1,".")));const a=e[0];e.forEach(((e,r)=>{for(let o=0;o<n;o++)hg(o===t||e[o]===a[o],(()=>"Error in concat".concat(n,"D: Shape of tensors[").concat(r,"] (").concat(e,") ")+"does not match the shape of the rest (".concat(a,") ")+"along the non-concatenated axis ".concat(r,".")))}))}function nR(e,t){const n=e[0].slice();for(let a=1;a<e.length;a++)n[t]+=e[a][t];return n}var aR;function rR(e,t,n){let a=new Array;if(null==n&&null==t)return a;if(null==t)for(;a.length<e+n.length;)a.push(-1);else a=t.slice();if(null==n)return a;if(e+n.length!==a.length)throw new Error("rt input.shape and shape=".concat(t," are incompatible: rt input.rank = ").concat(e+n.length,", but shape.rank = ").concat(a.length));for(let r=1;r<n.length;++r){const o=n[r],s=a[a.length-n.length+r],i=a[s];if(o>=0)if(i>=0){if(i!==o)throw new Error("rt input.shape and shape=".concat(t," are incompatible: rt input.shape[").concat(r+e,"] = ").concat(o," but shape[").concat(r+e,"] = ").concat(i))}else a[s]=o}return a}function oR(e){const t={FIRST_DIM_SIZE:aR.FIRST_DIM_SIZE,VALUE_ROWIDS:aR.VALUE_ROWIDS,ROW_LENGTHS:aR.ROW_LENGTHS,ROW_SPLITS:aR.ROW_SPLITS,ROW_LIMITS:aR.ROW_LIMITS,ROW_STARTS:aR.ROW_STARTS},n=[];for(const a of e){if(!(a in t))break;n.push(t[a])}return n}function sR(e){return 0===e.length?0:e[0]===aR.FIRST_DIM_SIZE?e.length-1:e.length}function iR(e,t){if(null==e||null==t)return;const n=e.length,a=t.length;if(n>=a)throw new Error("defaultValue.shape=".concat(e," and ragged tensor flatValues.shape=").concat(t,", are incompatible: defaultValue.rank = ").concat(n," must be less than ragged tensor input flatValues.rank = ").concat(a,")"));for(let r=0;r<Math.min(n,a-1);++r){const n=e[r],a=t[r+1];if(n>=0&&a>=0&&1!==n&&n!==a)throw new Error("defaultValue.shape=".concat(e,", and ragged tensor input flatValues.shape=").concat(t," are incompatible: defaultValue.shape[").concat(r-e.length,"] = ").concat(n," but ragged tensor input.flatValues.shape[").concat(r-e.length,"] = ").concat(a))}}!function(e){e[e.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",e[e.VALUE_ROWIDS=1]="VALUE_ROWIDS",e[e.ROW_LENGTHS=2]="ROW_LENGTHS",e[e.ROW_SPLITS=3]="ROW_SPLITS",e[e.ROW_LIMITS=4]="ROW_LIMITS",e[e.ROW_STARTS=5]="ROW_STARTS"}(aR||(aR={}));const lR=30;function cR(e){return e<=lR?e:Bg(e,Math.floor(Math.sqrt(e)))}function uR(e,t,n){return[n*("number"===typeof e?e:e[0]),t*("number"===typeof e?e:e[1])]}function dR(e,t,n){let a=[];if(!(arguments.length>3&&void 0!==arguments[3])||arguments[3])a=a.concat(t.slice(0)),a.push(e[0]/n),a=a.concat(e.slice(1));else{a=a.concat(e[0]);const n=t.length;for(let r=0;r<n;++r)a=a.concat([e[r+1]/t[r],t[r]]);a=a.concat(e.slice(n+1))}return a}function hR(e,t){const n=[];if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){n.push(t);for(let a=t+1;a<e;++a)a<=2*t?(n.push(a),n.push(a-(t+1))):n.push(a)}else{const a=[],r=[];for(let n=1;n<e;++n)n>=2*t+1||n%2===1?r.push(n):a.push(n);n.push(...a),n.push(0),n.push(...r)}return n}function pR(e,t,n){let a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const r=[];a?r.push(e[0]/n):r.push(e[0]*n);for(let o=1;o<e.length;++o)o<=t.length?a?r.push(t[o-1]*e[o]):r.push(e[o]/t[o-1]):r.push(e[o]);return r}function fR(e,t){const n=[0];for(let a=0;a<t;++a)n.push(e[a][0]);return n}function mR(e,t,n){const a=e.slice(0,1);for(let r=0;r<n;++r)a.push(e[r+1]-t[r][0]-t[r][1]);return a}const gR=1.7580993408473768,yR=1.0507009873554805,bR=.3275911,vR=.254829592,wR=-.284496736,xR=1.421413741,kR=-1.453152027,SR=1.061405429;function NR(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+"".concat(e.length,", imag: ").concat(t.length,"."));const n=new Float32Array(2*e.length);for(let a=0;a<n.length;a+=2)n[a]=e[a/2],n[a+1]=t[a/2];return n}function TR(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let a=0;a<e.length;a+=2)t[a/2]=e[a],n[a/2]=e[a+1];return{real:t,imag:n}}function CR(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),a=new Float32Array(t);for(let r=0;r<e.length;r+=4)n[Math.floor(r/4)]=e[r],a[Math.floor(r/4)]=e[r+1];return{real:n,imag:a}}function IR(e){const t=Math.floor(e.length/4),n=new Float32Array(t),a=new Float32Array(t);for(let r=2;r<e.length;r+=4)n[Math.floor(r/4)]=e[r],a[Math.floor(r/4)]=e[r+1];return{real:n,imag:a}}function ER(e,t){return{real:e[2*t],imag:e[2*t+1]}}function AR(e,t,n,a){e[2*a]=t,e[2*a+1]=n}function _R(e,t){const n=new Float32Array(e/2),a=new Float32Array(e/2);for(let r=0;r<Math.ceil(e/2);r++){const o=(t?2:-2)*Math.PI*(r/e);n[r]=Math.cos(o),a[r]=Math.sin(o)}return{real:n,imag:a}}function RR(e,t,n){const a=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(a),imag:Math.sin(a)}}const DR="->",OR=/->/g,FR=",",LR="...";function MR(e,t){const n=((e=e.replace(/\s/g,"")).length-e.replace(OR,"").length)/DR.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error('Equation must contain exactly one arrow ("'.concat(DR,'").'));const[a,r]=e.split(DR);hg(-1===a.indexOf(LR),(()=>'The ellipsis notation ("'.concat(LR,'") is not supported yet.')));const o=a.split(FR),s=o.length;if(t!==s)throw new Error("Expected ".concat(s," input tensors, received ").concat(t));if(s>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const i=[];for(let d=0;d<r.length;++d){const e=r[d];if(!o.some((t=>-1!==t.indexOf(e))))throw new Error("Output subscripts contain the label ".concat(e," ")+"not present in the input subscripts.");-1===i.indexOf(e)&&i.push(e)}for(let d=0;d<a.length;++d){const e=a[d];-1===i.indexOf(e)&&e!==FR&&i.push(e)}const l=new Array(o.length);for(let d=0;d<s;++d){if(new Set(o[d].split("")).size!==o[d].length)throw new Error("Found duplicate axes in input component ".concat(o[d],". ")+"Support for duplicate axes in input is not implemented yet.");l[d]=[];for(let e=0;e<o[d].length;++e)l[d].push(i.indexOf(o[d][e]))}const c=i.length,u=[];for(let d=r.length;d<c;++d)u.push(d);return{allDims:i,summedDims:u,idDims:l}}function PR(e,t){let n=new Array(e);n.fill(-1);for(let r=0;r<t.length;++r)n[t[r]]=r;const a=[];for(let r=0;r<e;++r)-1===n[r]&&a.push(r);return n=n.filter((e=>-1!==e)),{permutationIndices:n,expandDims:a}}function zR(e,t,n){const a=new Array(e);for(let r=0;r<n.length;++r){const e=n[r].shape;for(let n=0;n<t[r].length;++n)void 0===a[t[r][n]]?a[t[r][n]]=e[n]:hg(a[t[r][n]]===e[n],(()=>"Expected dimension ".concat(a[t[r][n]]," at axis ").concat(n," ")+"of input shaped ".concat(JSON.stringify(e),", ")+"but got dimension ".concat(e[n])))}}function jR(e,t){const n=e,a=[];let r=0;0===e.length&&n.push(-1),r=e.length+1;for(let s=0;s<r;++s)a.push([]);const o=[];for(let s=0;s<n.length;++s){const e=WR(t,n[s]);for(const t of e)-1===o.indexOf(t)&&(a[s].push(t),o.push(t))}return{path:n,steps:a}}function BR(e){return e.every(((e,t)=>e===t))}function WR(e,t){const n=[];for(let a=0;a<e.length;++a)0!==e[a].length&&-1===e[a].indexOf(t)&&-1!==t||n.push(a);return n}function UR(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=[];if("number"===typeof t)hg(e.shape[n]%t===0,(()=>"Number of splits must evenly divide the axis.")),a=new Array(t).fill(e.shape[n]/t);else{const r=t.reduce(((e,t)=>(-1===t&&(e+=1),e)),0);hg(r<=1,(()=>"There should be only one negative value in split array."));const o=t.indexOf(-1);if(-1!==o){const a=t.reduce(((e,t)=>t>0?e+t:e));t[o]=e.shape[n]-a}hg(e.shape[n]===t.reduce(((e,t)=>e+t)),(()=>"The sum of sizes must match the size of the axis dimension.")),a=t}return a}function VR(e){return"Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ".concat(e)}function HR(e,t){return"indices(".concat(e,", 0) is invalid: ").concat(t," < 0")}function GR(e,t,n){return"indices(".concat(e,", 0) is invalid: ").concat(t," >= ").concat(n)}function qR(e,t){return"only one output dimension may be -1, not both ".concat(e," and ").concat(t)}function KR(e,t){return"size ".concat(e," must be non-negative, not ").concat(t)}function XR(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function YR(e,t){const n=mg(e),a=mg(t);return"Input to reshape is a SparseTensor with ".concat(n,"\n  dense values, but the requested shape requires a multiple of ").concat(a,". inputShape=").concat(e," outputShape= ").concat(t)}function QR(e,t){const n=mg(e),a=mg(t);return"Input to reshape is a tensor with ".concat(n," dense values, but the requested shape has ").concat(a,". inputShape=").concat(e," outputShape=").concat(t)}function ZR(){return"segment ids must be >= 0"}function JR(){return"segment ids are not increasing"}function $R(e,t){return"Segment id ".concat(e," out of range [0, ").concat(t,"), possibly because segmentIds input is not sorted.")}function eD(e,t,n){return"Bad: indices[".concat(e,"] == ").concat(t," out of range [0, ").concat(n,")")}function tD(e,t){let n,a=!1;for(e<=lR?(n=e,a=!0):n=Bg(e,Math.floor(Math.sqrt(e)));!a;)n>t||n===e?a=!0:n=Bg(e,n+1);return n}function nD(e,t,n){const a=[],r=e.length;for(let o=0;o<r;o++)o!==t?a.push(e[o]):a.push(n);return a}function aD(e,t,n,a){const r=t.shape.length,o=e.shape.length;if(0!==a&&(a<-r||a>r))throw new Error("Expect batchDims in the range of [-".concat(r,", ").concat(r,"], but got ").concat(a));if(a<0&&(a+=r),a>o)throw new Error("batchDims (".concat(a,") must be less than rank(x) (\n    ").concat(o,")."));if(n<a)throw new Error("batchDims (".concat(a,") must be less than or equal to axis (").concat(n,")."));for(let d=0;d<a;++d)if(e.shape[d]!==t.shape[d])throw new Error("x.shape[".concat(d,"]: ").concat(e.shape[d]," should be equal to indices.shape[").concat(d,"]: ").concat(t.shape[d],"."));const s=e.shape[n],i=[];let l=1,c=1,u=1;for(let d=0;d<a;++d)i.push(e.shape[d]),l*=e.shape[d];for(let d=a;d<n;d++)i.push(e.shape[d]),c*=e.shape[d];for(let d=a;d<r;d++)i.push(t.shape[d]);for(let d=n+1;d<o;d++)i.push(e.shape[d]),u*=e.shape[d];return{batchSize:l,sliceSize:u,outerSize:c,dimSize:s,outputShape:i}}function rD(e){try{return e.map((e=>ax(e)))}catch(r4){throw new Error("Failed to decode encoded string bytes into utf-8, error: ".concat(r4))}}function oD(e){return e.map((e=>nx(e)))}!function(){for(const e of bN)eN(e)}();var sD,iD;ty().registerFlag("KEEP_INTERMEDIATE_TENSORS",(()=>!1),(e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(sD||(sD={})),function(e){let t;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(iD||(iD={}));const lD={};function cD(e){return lD[e]}function uD(e,t,n,a,r){const o=t.inputParams[e];if(o&&void 0!==o.inputIndexStart){const e=o.inputIndexStart,s=0===o.inputIndexEnd?void 0:void 0===o.inputIndexEnd?e+1:o.inputIndexEnd,i=e<0?t.inputNames.length+e:e;if("tensor"===o.type)return dD(t.inputNames[i],n,a,r);if("tensors"===o.type){const o=t.inputs.slice(e,s);return t.inputNames.slice(e,s).filter(((e,t)=>{var n;return"NoOp"!==(null===(n=o[t])||void 0===n?void 0:n.op)})).map((e=>dD(e,n,a,r)))}const l=dD(t.inputNames[i],n,a,r),c=l.dataSync();return"number"===o.type?c[0]:Vg(l.shape,c)}const s=t.attrParams[e];return s&&s.value}function dD(e,t,n,a){const[r,o]=mD(e,n);if(null!=a){const e=a.getHashTableHandleByName(r);if(null!=e)return e}const s=n.currentContextIds.find((e=>!!t[fD(r,e)]));return void 0!==s?t[fD(r,s)][o]:void 0}function hD(e,t,n){return t[fD(e,n.currentContextId)]}function pD(e,t){const[n,a,r]=mD(e,t);return[fD(n,t&&t.currentContextId),a,r]}function fD(e,t){return t?"".concat(e,"-").concat(t):e}function mD(e,t){if(""===e)return["",0,void 0];const n=null!=t&&null!=t.parseNodeNameCache;if(n){const n=t.parseNodeNameCache.get(e);if(null!=n)return n}const a=e.split(":");let r;if(1===a.length)r=[e,0,void 0];else{const e=a[0],t=3===a.length?a[1]:void 0;r=[e,Number(a[a.length-1]),t]}return n&&t.parseNodeNameCache.set(e,r),r}function gD(e,t,n){let a=uD("pad",e,t,n);if("explicit"===a){a=uD("explicitPaddings",e,t,n);const r=[[0,0],[0,0],[0,0],[0,0]];for(let e=0;e<4;e++)r[e][0]=a[2*e],r[e][1]=a[2*e+1];return r}return a}function yD(e){return e.kept?e:OS(e)}const bD=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],vD=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],wD=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],xD=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],kD=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],SD=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],ND=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],TD=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],CD=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],ID=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],ED=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],AD=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],_D=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],RD=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],DD=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],OD=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],FD=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],LD=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],MD=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];class PD{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[].concat(...[w,x,k,S,N,T,C,I,E,A,_,R,D,O,F,L,M,P,z].map((e=>e.json)));this.opMappers=e.reduce(((e,t)=>(e[t.tfOpName]=t,e)),{})}transformGraph(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.node,a=[],r=[],o=[],s=n.reduce(((e,t)=>(e[t.name]=this.mapNode(t),t.op.startsWith("Placeholder")?a.push(e[t.name]):"Const"===t.op?r.push(e[t.name]):null!=t.input&&0!==t.input.length||o.push(e[t.name]),e)),{});let i=[];const l=[];let c={},u={};null!=t&&(c=this.mapSignatureEntries(t.inputs),u=this.mapSignatureEntries(t.outputs));const d=Object.keys(s);d.forEach((e=>{const t=s[e];t.inputNames.forEach(((e,n)=>{const[a,,r]=pD(e),o=s[a];if(null!=o.outputs){const e=o.outputs.indexOf(r);if(-1!==e){const r="".concat(a,":").concat(e);t.inputNames[n]=r}}t.inputs.push(o),o.children.push(t)}))})),0===Object.keys(u).length?d.forEach((e=>{const t=s[e];0===t.children.length&&l.push(t)})):Object.keys(u).forEach((e=>{const[t]=pD(e),n=s[t];null!=n&&(n.signatureKey=u[e],l.push(n))})),Object.keys(c).length>0?Object.keys(c).forEach((e=>{const[t]=pD(e),n=s[t];n&&(n.signatureKey=c[e],i.push(n))})):i=a;let h={};null!=e.library&&null!=e.library.function&&(h=e.library.function.reduce(((e,t)=>(e[t.signature.name]=this.mapFunction(t),e)),{}));const p={nodes:s,inputs:i,outputs:l,weights:r,placeholders:a,signature:t,functions:h};return o.length>0&&(p.initNodes=o),p}mapSignatureEntries(e){return Object.keys(e||{}).reduce(((t,n)=>(t[e[n].name]=n,t)),{})}mapNode(e){const t=cD(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});const n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((e=>e.startsWith("^")?e.slice(1):e)),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce(((e,t)=>(e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e)),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce(((t,n)=>{const a=n.type;let r;switch(n.type){case"string":r=jD(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=jD(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":r=YD(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=YD(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":r=WD(e.attr,n.tfName,n.defaultValue||0),void 0===r&&n.tfDeprecatedName&&(r=WD(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":r=XD(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=XD(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":r=BD(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=BD(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":r=ZD(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=ZD(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":r=KD(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=KD(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":r=QD(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=QD(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":r=HD(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=HD(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":r=GD(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=GD(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":r=VD(e.attr,n.tfName,n.defaultValue),void 0===r&&n.tfDeprecatedName&&(r=VD(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: ".concat(n.type," for op: ").concat(e.op))}return t[n.name]={value:r,type:a},t}),{})),n}mapFunction(e){const t=e.nodeDef,n=[];let a={};null!=t&&(a=t.reduce(((e,t)=>(e[t.name]=this.mapNode(t),"Const"===t.op&&n.push(e[t.name]),e)),{}));const r=[],o=[];e.signature.inputArg.forEach((e=>{const[t]=pD(e.name),n={name:t,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:UD(e.type),type:"dtype"}},children:[]};n.signatureKey=e.name,r.push(n),a[t]=n}));Object.keys(a).forEach((e=>{const t=a[e];t.inputNames.forEach(((e,n)=>{const[r,,o]=pD(e),s=a[r];if(null!=s.outputs){const e=s.outputs.indexOf(o);if(-1!==e){const a="".concat(r,":").concat(e);t.inputNames[n]=a}}t.inputs.push(s),s.children.push(t)}))}));const s=e.ret;e.signature.outputArg.forEach((e=>{const[t,n]=pD(s[e.name]),r=a[t];null!=r&&(r.defaultOutput=n,o.push(r))}));const i=this.mapArgsToSignature(e);return{nodes:a,inputs:r,outputs:o,weights:n,placeholders:[],signature:i}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce(((e,t)=>(e[t.name]=this.mapArgToTensorInfo(t),e)),{}),outputs:e.signature.outputArg.reduce(((t,n)=>(t[n.name]=this.mapArgToTensorInfo(n,e.ret),t)),{})}}mapArgToTensorInfo(e,t){let n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}function zD(e,t){const n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){const t=ty().global;if("undefined"!==typeof t.atob)return t.atob(e);if("undefined"!==typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function jD(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=e[t];return null!=r?zD(r.s,a):n}function BD(e,t,n){const a=e[t];return a?a.b:n}function WD(e,t,n){const a=e[t]||{},r=null!=a.i?a.i:null!=a.f?a.f:n;return"number"===typeof r?r:parseInt(r,10)}function UD(e){switch("string"===typeof e&&(e=sD[e]),e){case sD.DT_FLOAT:case sD.DT_HALF:return"float32";case sD.DT_INT32:case sD.DT_INT64:case sD.DT_INT8:case sD.DT_UINT8:return"int32";case sD.DT_BOOL:return"bool";case sD.DT_DOUBLE:return"float32";case sD.DT_STRING:return"string";case sD.DT_COMPLEX64:case sD.DT_COMPLEX128:return"complex64";default:return null}}function VD(e,t,n){const a=e[t];return a&&a.func?a.func.name:n}function HD(e,t,n){const a=e[t];return a&&a.type?UD(a.type):n}function GD(e,t,n){const a=e[t];return a&&a.list&&a.list.type?a.list.type.map((e=>UD(e))):n}function qD(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((e=>"number"===typeof e.size?e.size:parseInt(e.size,10))):[]}function KD(e,t,n){const a=e[t];return a&&a.shape?qD(a.shape):n}function XD(e,t,n){const a=e[t];return a?((a.list.f&&a.list.f.length?a.list.f:a.list.i)||[]).map((e=>"number"===typeof e?e:parseInt(e,10))):n}function YD(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=e[t];return r&&r.list&&r.list.s?r.list.s.map((e=>zD(e,a))):n}function QD(e,t,n){const a=e[t];return a&&a.list&&a.list.shape?a.list.shape.map((e=>qD(e))):n}function ZD(e,t,n){const a=e[t];return a&&a.list&&a.list.b?a.list.b:n}class JD{constructor(e,t,n){this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map((e=>this.getInput(e))),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce(((e,t)=>(e[t]=this.getAttr(t),e)),{}))}getInput(e){return dD(e,this.tensorMap,this.context)}getAttr(e,t){const n=this.node.rawAttrs[e];if(null!=n.tensor)return dD(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return WD(this.node.rawAttrs,e,t);if(null!=n.s)return jD(this.node.rawAttrs,e,t);if(null!=n.b)return BD(this.node.rawAttrs,e,t);if(null!=n.shape)return KD(this.node.rawAttrs,e,t);if(null!=n.type)return HD(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return XD(this.node.rawAttrs,e,t);if(null!=n.list.s)return YD(this.node.rawAttrs,e,t);if(null!=n.list.shape)return QD(this.node.rawAttrs,e,t);if(null!=n.list.b)return ZD(this.node.rawAttrs,e,t);if(null!=n.list.type)return GD(this.node.rawAttrs,e,t)}return t}}function $D(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("number"!==typeof e&&"number"!==typeof t){hg(e.length===t.length,(()=>n+" Shapes ".concat(e," and ").concat(t," must match")));for(let a=0;a<e.length;a++){const r=e[a],o=t[a];hg(r<0||o<0||r===o,(()=>n+" Shapes ".concat(e," and ").concat(t," must match")))}}}function eO(e){return"number"!==typeof e&&!e.some((e=>e<0))}function tO(e,t,n){let a=nO(e,n);const r=!eO(a);if(r&&0===t.length)throw new Error("Tried to calculate elements of an empty list"+" with non-fully-defined elementShape: ".concat(a));if(r&&t.forEach((e=>{a=nO(e.shape,a)})),!eO(a))throw new Error("Non-fully-defined elementShape: ".concat(a));return a}function nO(e,t){if("number"===typeof e)return t;if("number"===typeof t)return e;if(e.length!==t.length)throw new Error("Incompatible ranks during merge: ".concat(e," vs. ").concat(t));const n=[];for(let a=0;a<e.length;++a){const r=e[a],o=t[a];if(r>=0&&o>=0&&r!==o)throw new Error("Incompatible shape during merge: ".concat(e," vs. ").concat(t));n[a]=r>=0?r:o}return n}class aO{constructor(e,t,n,a,r,o,s){this.name=e,this.dtype=t,this.maxSize=n,this.elementShape=a,this.identicalElementShapes=r,this.dynamicSize=o,this.clearAfterRead=s,this.tensors=[],this.closed_=!1,this.idTensor=YS(0),bk(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||e>=this.size())throw new Error("Tried to read from index ".concat(e,", but array size is: ").concat(this.size()));const t=this.tensors[e];if(t.cleared)throw new Error("TensorArray ".concat(this.name,": Could not read index ").concat(e," twice because it was cleared after a previous read ")+"(perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}readMany(e){return e.map((e=>this.read(e)))}write(e,t){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index ".concat(e,", but array is not resizeable and size is: ").concat(this.maxSize));const n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,",\n          because the value dtype is ").concat(t.dtype,", but TensorArray dtype is ").concat(this.dtype,"."));if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),$D(this.elementShape,t.shape,"TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,".")),n.read)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been read."));if(n.written)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been written."));n.tensor=t,bk(t),n.written=!0,this.tensors[e]=n}writeMany(e,t){if(e.length!==t.length)throw new Error("TensorArray ".concat(this.name,": could not write multiple tensors,")+"because the index size: ".concat(e.length," is not the same as tensors size: ").concat(t.length,"."));e.forEach(((e,n)=>this.write(e,t[n])))}gather(e,t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but gather requested dtype ").concat(t));if(e)e=e.slice(0,this.size());else{e=[];for(let t=0;t<this.size();t++)e.push(t)}if(0===e.length)return ok([],[0].concat(this.elementShape));const n=this.readMany(e);return $D(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),uA(n,0)}concat(e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but concat requested dtype ").concat(e));if(0===this.size())return ok([],[0].concat(this.elementShape));const t=[];for(let a=0;a<this.size();a++)t.push(a);const n=this.readMany(t);return $D(this.elementShape,n[0].shape,"TensorArray shape mismatch: tensor array shape (".concat(this.elementShape,") vs first tensor shape (").concat(n[0].shape,")")),yC(n,0)}scatter(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(e.length," vs. ").concat(t.shape[0]));const n=Math.max(...e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error("Max index must be < array size (".concat(n,"  vs. ").concat(this.maxSize,")"));this.writeMany(e,NA(t,0))}split(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));let n=0;const a=e.map((e=>(n+=e,n)));if(n!==t.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(n,", and tensor's shape is: ").concat(t.shape));if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths (".concat(this.maxSize," vs. ").concat(e.length,"), ")+"and the TensorArray is not marked as dynamically resizeable");const r=0===n?0:t.size/n,o=[];gk((()=>{t=fC(t,[1,n,r]);for(let n=0;n<e.length;++n){const s=[0,0===n?0:a[n-1],0],i=[1,e[n],r];o[n]=fC(vC(t,s,i),this.elementShape)}return o}));const s=[];for(let i=0;i<e.length;i++)s[i]=i;this.writeMany(s,o)}}class rO{get id(){return this.idTensor.id}constructor(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;this.tensors=e,this.elementShape=t,this.elementDtype=n,null!=e&&e.forEach((e=>{if(n!==e.dtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(e.dtype));$D(t,e.shape,"TensorList shape mismatch: "),bk(e)})),this.idTensor=YS(0),this.maxNumElements=a,bk(this.idTensor)}copy(){return new rO([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(-1!==n&&this.tensors.length!==n)throw new Error("Operation expected a list with ".concat(n," elements but got a list with ").concat(this.tensors.length," elements."));$D(e,this.elementShape,"TensorList shape mismatch: ");const a=tO(this.elementShape,this.tensors,e);return gk((()=>{const e=this.tensors.map((e=>fC(e,a)));return uA(e,0)}))}popBack(e,t){if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(0===this.size())throw new Error("Trying to pop from an empty list.");const n=tO(this.elementShape,this.tensors,e),a=this.tensors.pop();return a.kept=!1,$D(a.shape,e,"TensorList shape mismatch: "),fC(a,n)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(this.elementDtype));if($D(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");bk(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error("TensorListResize expects size to be non-negative. Got: ".concat(e));if(-1!==this.maxNumElements&&e>this.maxNumElements)throw new Error("TensorListResize input size ".concat(e," is greater maxNumElement ").concat(this.maxNumElements,"."));const t=new rO([],this.elementShape,this.elementDtype,this.maxNumElements);t.tensors.length=e;for(let n=0;n<Math.min(this.tensors.length,e);++n)t.tensors[n]=this.tensors[n];return t}getItem(e,t,n){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(this.elementDtype));if(e<0||e>this.tensors.length)throw new Error("Trying to access element ".concat(e," in a list with ").concat(this.tensors.length," elements."));if(null==this.tensors[e])throw new Error("element at index ".concat(e," is null."));$D(this.tensors[e].shape,t,"TensorList shape mismatch: ");const a=tO(this.elementShape,this.tensors,t);return fC(this.tensors[e],a)}setItem(e,t){if(t.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t.dtype,", but list elements ").concat(this.elementDtype));if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error("Trying to set element ".concat(e," in a list with max ").concat(this.maxNumElements," elements."));$D(this.elementShape,t.shape,"TensorList shape mismatch: "),bk(t),null!=this.tensors[e]&&(this.tensors[e].kept=!1),this.tensors[e]=t}gather(e,t,n){if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));$D(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());const a=tO(this.elementShape,this.tensors,n);return 0===e.length?ok([],[0].concat(a)):gk((()=>{const t=e.map((e=>fC(this.tensors[e],a)));return uA(t,0)}))}concat(e,t){if(e&&e!==this.elementDtype)throw new Error("TensorList dtype is ".concat(this.elementDtype," but concat requested dtype ").concat(e));$D(this.elementShape,t,"TensorList shape mismatch: ");const n=tO(this.elementShape,this.tensors,t);return 0===this.size()?ok([],[0].concat(n)):gk((()=>{const e=this.tensors.map((e=>fC(e,n)));return yC(e,0)}))}}const oO=async(e,t,n)=>{switch(e.op){case"If":case"StatelessIf":{const a=uD("thenBranch",e,t,n),r=uD("elseBranch",e,t,n),o=uD("cond",e,t,n),s=uD("args",e,t,n);return(await o.data())[0]?n.functionMap[a].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap):n.functionMap[r].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const a=uD("body",e,t,n),r=uD("cond",e,t,n),o=uD("args",e,t,n),s=await n.functionMap[r].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap),i=o.map((e=>e.id));let l=await s[0].data();s.forEach((e=>{e.kept||-1!==i.indexOf(e.id)||e.dispose()}));let c=o;for(;l[0];){const e=c;c=await n.functionMap[a].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);const t=c.map((e=>e.id));e.forEach((e=>{e.kept||-1!==i.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}));const o=await n.functionMap[r].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);l=await o[0].data(),o.forEach((e=>{e.kept||-1!==i.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}))}return c}case"LoopCond":return[yD(uD("pred",e,t,n))];case"Switch":{const a=uD("pred",e,t,n);let r=uD("data",e,t,n);return r.kept||(r=yD(r)),(await a.data())[0]?[void 0,r]:[r,void 0]}case"Merge":{const a=e.inputNames.find((e=>void 0!==dD(e,t,n)));if(a){return[yD(dD(a,t,n))]}return}case"Enter":{const a=uD("frameName",e,t,n),r=uD("tensor",e,t,n);return n.enterFrame(a),[yD(r)]}case"Exit":{const a=uD("tensor",e,t,n);return n.exitFrame(),[yD(a)]}case"NextIteration":{const a=uD("tensor",e,t,n);return n.nextIteration(),[yD(a)]}case"TensorArrayV3":{const a=uD("size",e,t,n),r=uD("dtype",e,t,n),o=uD("elementShape",e,t,n),s=uD("dynamicSize",e,t,n),i=uD("clearAfterRead",e,t,n),l=uD("identicalElementShapes",e,t,n),c=uD("name",e,t,n),u=new aO(c,r,a,o,l,s,i);return n.addTensorArray(u),[u.idTensor,YS(1)]}case"TensorArrayWriteV3":{const a=uD("tensorArrayId",e,t,n),r=uD("index",e,t,n),o=uD("tensor",e,t,n),s=n.getTensorArray(a.id);return s.write(r,o),[s.idTensor]}case"TensorArrayReadV3":{const a=uD("tensorArrayId",e,t,n),r=uD("index",e,t,n);return[n.getTensorArray(a.id).read(r)]}case"TensorArrayGatherV3":{const a=uD("tensorArrayId",e,t,n),r=uD("indices",e,t,n),o=uD("dtype",e,t,n);return[n.getTensorArray(a.id).gather(r,o)]}case"TensorArrayScatterV3":{const a=uD("tensorArrayId",e,t,n),r=uD("indices",e,t,n),o=uD("tensor",e,t,n),s=n.getTensorArray(a.id);return s.scatter(r,o),[s.idTensor]}case"TensorArrayConcatV3":{const a=uD("tensorArrayId",e,t,n),r=n.getTensorArray(a.id),o=uD("dtype",e,t,n);return[r.concat(o)]}case"TensorArraySplitV3":{const a=uD("tensorArrayId",e,t,n),r=uD("tensor",e,t,n),o=uD("lengths",e,t,n),s=n.getTensorArray(a.id);return s.split(o,r),[s.idTensor]}case"TensorArraySizeV3":{const a=uD("tensorArrayId",e,t,n);return[YS(n.getTensorArray(a.id).size(),"int32")]}case"TensorArrayCloseV3":{const a=uD("tensorArrayId",e,t,n),r=n.getTensorArray(a.id);return r.clearAndClose(),[r.idTensor]}case"TensorListSetItem":{const a=uD("tensorListId",e,t,n),r=uD("index",e,t,n),o=uD("tensor",e,t,n),s=n.getTensorList(a.id);return s.setItem(r,o),[s.idTensor]}case"TensorListGetItem":{const a=uD("tensorListId",e,t,n),r=uD("index",e,t,n),o=uD("elementShape",e,t,n),s=uD("elementDType",e,t,n);return[n.getTensorList(a.id).getItem(r,o,s)]}case"TensorListScatterV2":case"TensorListScatter":{const a=uD("indices",e,t,n),r=function(e,t,n,a){if(t.length!==e.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(t.length," vs. ").concat(e.shape[0]));const r=Math.max(...t);if(null!=a&&-1!==a&&r>=a)throw new Error("Max index must be < array size (".concat(r,"  vs. ").concat(a,")"));const o=new rO([],n,e.dtype,a),s=NA(e,0);return t.forEach(((e,t)=>{o.setItem(e,s[t])})),o}(uD("tensor",e,t,n),a,uD("elementShape",e,t,n),uD("numElements",e,t,n));return n.addTensorList(r),[r.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const a=uD("elementShape",e,t,n),r=uD("elementDType",e,t,n);let o;o="TensorListReserve"===e.op?"numElements":"maxNumElements";const s=uD(o,e,t,n),i=function(e,t,n,a){return new rO([],e,t,a)}(a,r,0,"TensorListReserve"===e.op?-1:s);return n.addTensorList(i),[i.idTensor]}case"TensorListGather":{const a=uD("tensorListId",e,t,n),r=uD("indices",e,t,n),o=uD("elementShape",e,t,n),s=uD("elementDType",e,t,n);return[n.getTensorList(a.id).gather(r,s,o)]}case"TensorListStack":{const a=uD("tensorListId",e,t,n),r=uD("elementShape",e,t,n),o=uD("elementDType",e,t,n),s=uD("numElements",e,t,n);return[n.getTensorList(a.id).stack(r,o,s)]}case"TensorListFromTensor":{const a=function(e,t,n){const a=e.dtype;if(e.shape.length<1)throw new Error("Tensor must be at least a vector, but saw shape: ".concat(e.shape));if(e.dtype!==n)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(n));$D(e.shape.slice(1),t,"TensorList shape mismatch: ");const r=NA(e);return new rO(r,t,a)}(uD("tensor",e,t,n),uD("elementShape",e,t,n),uD("elementDType",e,t,n));return n.addTensorList(a),[a.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const a=uD("tensorListId",e,t,n),r=n.getTensorList(a.id),o=uD("dtype",e,t,n),s=uD("elementShape",e,t,n);return[r.concat(o,s)]}case"TensorListPushBack":{const a=uD("tensorListId",e,t,n),r=uD("tensor",e,t,n),o=n.getTensorList(a.id);return o.pushBack(r),[o.idTensor]}case"TensorListPopBack":{const a=uD("tensorListId",e,t,n),r=uD("elementShape",e,t,n),o=uD("elementDType",e,t,n);return[n.getTensorList(a.id).popBack(r,o)]}case"TensorListSplit":{const a=uD("tensor",e,t,n),r=uD("elementShape",e,t,n),o=function(e,t,n){let a=0;const r=t.map((e=>(a+=e,a)));if(a!==e.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(a,", and tensor's shape is: ").concat(e.shape));const o=nO(e.shape.slice(1),n),s=0===a?0:e.size/a,i=gk((()=>{const n=[];e=fC(e,[1,a,s]);for(let a=0;a<t.length;++a){const i=[0,0===a?0:r[a-1],0],l=[1,t[a],s];n[a]=fC(vC(e,i,l),o)}return e.dispose(),n})),l=new rO([],n,e.dtype,t.length);for(let c=0;c<i.length;c++)l.setItem(c,i[c]);return l}(a,uD("lengths",e,t,n),r);return n.addTensorList(o),[o.idTensor]}case"TensorListLength":{const a=uD("tensorListId",e,t,n);return[YS(n.getTensorList(a.id).size(),"int32")]}case"TensorListResize":{const a=uD("tensorListId",e,t,n),r=uD("size",e,t,n),o=n.getTensorList(a.id).resize(r);return n.addTensorList(o),[o.idTensor]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}};function sO(e,t,n){const[a,r]=uD("fusedOps",e,t,n),o="biasadd"===a,s=!o,i="prelu"===r,l="fusedbatchnorm"===a,c=uD("numArgs",e,t,n);if(o){if(i&&2!==c)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!i&&o&&1!==c)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const u=uD("strides",e,t,n),d=gD(e,t,n),h=uD("dataFormat",e,t,n).toUpperCase(),p=uD("dilations",e,t,n);let[f,m]=uD("args",e,t,n);s&&(m=f,f=void 0);return{stride:u,pad:d,dataFormat:h,dilations:p,biasArg:f,preluArg:m,activationFunc:r,leakyreluAlpha:uD("leakyreluAlpha",e,t,n)}}function iO(e,t,n){return{boxes:uD("boxes",e,t,n),scores:uD("scores",e,t,n),maxOutputSize:uD("maxOutputSize",e,t,n),iouThreshold:uD("iouThreshold",e,t,n),scoreThreshold:uD("scoreThreshold",e,t,n),softNmsSigma:uD("softNmsSigma",e,t,n)}}class lO{get id(){return this.handle.id}constructor(e,t){this.keyDType=e,this.valueDType=t,this.handle=YS(0),this.tensorMap=new Map,bk(this.handle)}clearAndClose(){this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return YS(this.size(),"int32")}async import(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),gk((()=>{const e=NA(t),a=n.length,r=e.length;hg(a===r,(()=>"The number of elements doesn't match, keys has "+"".concat(a," elements, the values has ").concat(r," ")+"elements."));for(let t=0;t<a;t++){const a=n[t],r=e[t];bk(r),this.tensorMap.set(a,r)}return this.handle}))}async find(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return gk((()=>{const e=[];for(let a=0;a<n.length;a++){const r=n[a],o=this.findWithDefault(r,t);e.push(o)}return uA(e)}))}findWithDefault(e,t){const n=this.tensorMap.get(e);return null!=n?n:t}checkKeyAndValueTensor(e,t){if(e.dtype!==this.keyDType)throw new Error("Expect key dtype ".concat(this.keyDType,", but got ")+"".concat(e.dtype));if(t.dtype!==this.valueDType)throw new Error("Expect value dtype ".concat(this.valueDType,", but got ")+"".concat(t.dtype))}}function cO(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:gk;const o=((e,t,n)=>{switch(e.category){case"arithmetic":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j;switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[a.add(uD("a",e,t,n),uD("b",e,t,n))];case"AddN":return[a.addN(uD("tensors",e,t,n))];case"FloorMod":case"Mod":return[a.mod(uD("a",e,t,n),uD("b",e,t,n))];case"Mul":return[a.mul(uD("a",e,t,n),uD("b",e,t,n))];case"RealDiv":case"Div":return[a.div(uD("a",e,t,n),uD("b",e,t,n))];case"DivNoNan":return[a.divNoNan(uD("a",e,t,n),uD("b",e,t,n))];case"FloorDiv":return[a.floorDiv(uD("a",e,t,n),uD("b",e,t,n))];case"Sub":return[a.sub(uD("a",e,t,n),uD("b",e,t,n))];case"Minimum":return[a.minimum(uD("a",e,t,n),uD("b",e,t,n))];case"Maximum":return[a.maximum(uD("a",e,t,n),uD("b",e,t,n))];case"Pow":return[a.pow(uD("a",e,t,n),uD("b",e,t,n))];case"SquaredDifference":return[a.squaredDifference(uD("a",e,t,n),uD("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"basic_math":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j;switch(e.op){case"Abs":case"ComplexAbs":return[a.abs(uD("x",e,t,n))];case"Acos":return[a.acos(uD("x",e,t,n))];case"Acosh":return[a.acosh(uD("x",e,t,n))];case"Asin":return[a.asin(uD("x",e,t,n))];case"Asinh":return[a.asinh(uD("x",e,t,n))];case"Atan":return[a.atan(uD("x",e,t,n))];case"Atan2":return[a.atan2(uD("x",e,t,n),uD("y",e,t,n))];case"Atanh":return[a.atanh(uD("x",e,t,n))];case"Ceil":return[a.ceil(uD("x",e,t,n))];case"Complex":return[a.complex(uD("real",e,t,n),uD("imag",e,t,n))];case"Cos":return[a.cos(uD("x",e,t,n))];case"Cosh":return[a.cosh(uD("x",e,t,n))];case"Elu":return[a.elu(uD("x",e,t,n))];case"Erf":return[a.erf(uD("x",e,t,n))];case"Exp":return[a.exp(uD("x",e,t,n))];case"Expm1":return[a.expm1(uD("x",e,t,n))];case"Floor":return[a.floor(uD("x",e,t,n))];case"Log":return[a.log(uD("x",e,t,n))];case"Log1p":return[a.log1p(uD("x",e,t,n))];case"Imag":return[a.imag(uD("x",e,t,n))];case"Neg":return[a.neg(uD("x",e,t,n))];case"Reciprocal":return[a.reciprocal(uD("x",e,t,n))];case"Real":return[a.real(uD("x",e,t,n))];case"Relu":return[a.relu(uD("x",e,t,n))];case"Round":return[a.round(uD("x",e,t,n))];case"Selu":return[a.selu(uD("x",e,t,n))];case"Sigmoid":return[a.sigmoid(uD("x",e,t,n))];case"Sin":return[a.sin(uD("x",e,t,n))];case"Sign":return[a.sign(uD("x",e,t,n))];case"Sinh":return[a.sinh(uD("x",e,t,n))];case"Softplus":return[a.softplus(uD("x",e,t,n))];case"Sqrt":return[a.sqrt(uD("x",e,t,n))];case"Square":return[a.square(uD("x",e,t,n))];case"Tanh":return[a.tanh(uD("x",e,t,n))];case"Tan":return[a.tan(uD("x",e,t,n))];case"ClipByValue":return[a.clipByValue(uD("x",e,t,n),uD("clipValueMin",e,t,n),uD("clipValueMax",e,t,n))];case"Relu6":return[a.relu6(uD("x",e,t,n))];case"Rsqrt":return[a.rsqrt(dD(e.inputNames[0],t,n))];case"LeakyRelu":return[a.leakyRelu(uD("x",e,t,n),uD("alpha",e,t,n))];case"Prelu":return[a.prelu(uD("x",e,t,n),uD("alpha",e,t,n))];case"IsNan":return[a.isNaN(dD(e.inputNames[0],t,n))];case"IsInf":return[a.isInf(dD(e.inputNames[0],t,n))];case"IsFinite":return[a.isFinite(dD(e.inputNames[0],t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"control":return oO(e,t,n);case"convolution":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j;switch(e.op){case"Conv1D":{const r=uD("stride",e,t,n),o=uD("pad",e,t,n),s=uD("dataFormat",e,t,n).toUpperCase(),i=uD("dilation",e,t,n);return[a.conv1d(uD("x",e,t,n),uD("filter",e,t,n),r,o,s,i)]}case"Conv2D":{const r=uD("strides",e,t,n),o=gD(e,t,n),s=uD("dataFormat",e,t,n).toUpperCase(),i=uD("dilations",e,t,n);return[a.conv2d(uD("x",e,t,n),uD("filter",e,t,n),[r[1],r[2]],o,s,[i[1],i[2]])]}case"_FusedConv2D":{const{stride:r,pad:o,dataFormat:s,dilations:i,biasArg:l,preluArg:c,activationFunc:u,leakyreluAlpha:d}=sO(e,t,n);return[a.fused.conv2d({x:uD("x",e,t,n),filter:uD("filter",e,t,n),strides:[r[1],r[2]],pad:o,dataFormat:s,dilations:[i[1],i[2]],bias:l,activation:u,preluActivationWeights:c,leakyreluAlpha:d})]}case"FusedDepthwiseConv2dNative":{const{stride:r,pad:o,dataFormat:s,dilations:i,biasArg:l,preluArg:c,activationFunc:u,leakyreluAlpha:d}=sO(e,t,n);return[a.fused.depthwiseConv2d({x:uD("x",e,t,n),filter:uD("filter",e,t,n),strides:[r[1],r[2]],pad:o,dataFormat:s,dilations:[i[1],i[2]],bias:l,activation:u,preluActivationWeights:c,leakyreluAlpha:d})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const r=uD("outputShape",e,t,n),o=uD("strides",e,t,n),s=gD(e,t,n);return[a.conv2dTranspose(uD("x",e,t,n),uD("filter",e,t,n),r,[o[1],o[2]],s)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const r=uD("strides",e,t,n),o=gD(e,t,n),s=uD("dilations",e,t,n),i=uD("dataFormat",e,t,n).toUpperCase();return[a.depthwiseConv2d(uD("input",e,t,n),uD("filter",e,t,n),[r[1],r[2]],o,i,[s[1],s[2]])]}case"Conv3D":{const r=uD("strides",e,t,n),o=uD("pad",e,t,n),s=uD("dataFormat",e,t,n).toUpperCase(),i=uD("dilations",e,t,n);return[a.conv3d(uD("x",e,t,n),uD("filter",e,t,n),[r[1],r[2],r[3]],o,s,[i[1],i[2],i[3]])]}case"AvgPool":{const r=uD("strides",e,t,n),o=uD("pad",e,t,n),s=uD("kernelSize",e,t,n);return[a.avgPool(uD("x",e,t,n),[s[1],s[2]],[r[1],r[2]],o)]}case"MaxPool":{const r=uD("strides",e,t,n),o=uD("pad",e,t,n),s=uD("kernelSize",e,t,n);return[a.maxPool(uD("x",e,t,n),[s[1],s[2]],[r[1],r[2]],o)]}case"MaxPoolWithArgmax":{const r=uD("strides",e,t,n),o=uD("pad",e,t,n),s=uD("kernelSize",e,t,n),i=uD("includeBatchInIndex",e,t,n),{result:l,indexes:c}=a.maxPoolWithArgmax(uD("x",e,t,n),[s[1],s[2]],[r[1],r[2]],o,i);return[l,c]}case"AvgPool3D":{const r=uD("strides",e,t,n),o=uD("pad",e,t,n),s=uD("kernelSize",e,t,n);return[a.avgPool3d(uD("x",e,t,n),[s[1],s[2],s[3]],[r[1],r[2],r[3]],o)]}case"MaxPool3D":{const r=uD("strides",e,t,n),o=uD("pad",e,t,n),s=uD("kernelSize",e,t,n);return[a.maxPool3d(uD("x",e,t,n),[s[1],s[2],s[3]],[r[1],r[2],r[3]],o)]}case"Dilation2D":{const r=uD("strides",e,t,n),o=uD("pad",e,t,n),s=uD("dilations",e,t,n),i=r[1],l=r[2],c=s[1],u=s[2];return[a.dilation2d(uD("x",e,t,n),uD("filter",e,t,n),[i,l],o,[c,u],"NHWC")]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"creation":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j;switch(e.op){case"Fill":{const r=uD("shape",e,t,n),o=uD("dtype",e,t,n),s=uD("value",e,t,n);return[a.fill(r,s,o)]}case"LinSpace":{const r=uD("start",e,t,n),o=uD("stop",e,t,n),s=uD("num",e,t,n);return[a.linspace(r,o,s)]}case"Multinomial":{const r=uD("logits",e,t,n),o=uD("numSamples",e,t,n),s=uD("seed",e,t,n);return[a.multinomial(r,o,s)]}case"OneHot":{const r=uD("indices",e,t,n),o=uD("depth",e,t,n),s=uD("onValue",e,t,n),i=uD("offValue",e,t,n),l=uD("dtype",e,t,n);return[a.oneHot(r,o,s,i,l)]}case"Ones":return[a.ones(uD("shape",e,t,n),uD("dtype",e,t,n))];case"OnesLike":return[a.onesLike(uD("x",e,t,n))];case"RandomStandardNormal":return[a.randomStandardNormal(uD("shape",e,t,n),uD("dtype",e,t,n),uD("seed",e,t,n))];case"RandomUniform":return[a.randomUniform(uD("shape",e,t,n),uD("minval",e,t,n),uD("maxval",e,t,n),uD("dtype",e,t,n))];case"RandomUniformInt":return[a.randomUniformInt(uD("shape",e,t,n),uD("minval",e,t,n),uD("maxval",e,t,n),uD("seed",e,t,n))];case"Range":{const r=uD("start",e,t,n),o=uD("stop",e,t,n),s=uD("step",e,t,n);return[a.range(r,o,s,uD("dtype",e,t,n))]}case"TruncatedNormal":{const r=uD("shape",e,t,n),o=uD("mean",e,t,n),s=uD("stdDev",e,t,n),i=uD("seed",e,t,n);return[a.truncatedNormal(r,o,s,uD("dtype",e,t,n),i)]}case"Zeros":return[a.zeros(uD("shape",e,t,n),uD("dtype",e,t,n))];case"ZerosLike":return[a.zerosLike(uD("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"dynamic":return async function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:j;switch(e.op){case"NonMaxSuppressionV5":{const{boxes:a,scores:o,maxOutputSize:s,iouThreshold:i,scoreThreshold:l,softNmsSigma:c}=iO(e,t,n),u=await r.image.nonMaxSuppressionWithScoreAsync(a,o,s,i,l,c);return[u.selectedIndices,u.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:a,scores:o,maxOutputSize:s,iouThreshold:i,scoreThreshold:l}=iO(e,t,n),c=uD("padToMaxOutputSize",e,t,n),u=await r.image.nonMaxSuppressionPaddedAsync(a,o,s,i,l,c);return[u.selectedIndices,u.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:a,scores:o,maxOutputSize:s,iouThreshold:i,scoreThreshold:l}=iO(e,t,n);return[await r.image.nonMaxSuppressionAsync(a,o,s,i,l)]}case"Where":{const a=r.cast(uD("condition",e,t,n),"bool"),o=[await r.whereAsync(a)];return a.dispose(),o}case"ListDiff":return r.setdiff1dAsync(uD("x",e,t,n),uD("y",e,t,n));default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n);case"evaluation":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j;switch(e.op){case"LowerBound":{const r=uD("sortedSequence",e,t,n),o=uD("values",e,t,n);return[a.lowerBound(r,o)]}case"TopKV2":{const r=uD("x",e,t,n),o=uD("k",e,t,n),s=uD("sorted",e,t,n),i=a.topk(r,o,s);return[i.values,i.indices]}case"UpperBound":{const r=uD("sortedSequence",e,t,n),o=uD("values",e,t,n);return[a.upperBound(r,o)]}case"Unique":{const r=uD("x",e,t,n),o=a.unique(r);return[o.values,o.indices]}case"UniqueV2":{const r=uD("x",e,t,n),o=uD("axis",e,t,n),s=a.unique(r,o);return[s.values,s.indices]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"image":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j;switch(e.op){case"ResizeBilinear":{const r=uD("images",e,t,n),o=uD("size",e,t,n),s=uD("alignCorners",e,t,n),i=uD("halfPixelCenters",e,t,n);return[a.image.resizeBilinear(r,[o[0],o[1]],s,i)]}case"ResizeNearestNeighbor":{const r=uD("images",e,t,n),o=uD("size",e,t,n),s=uD("alignCorners",e,t,n),i=uD("halfPixelCenters",e,t,n);return[a.image.resizeNearestNeighbor(r,[o[0],o[1]],s,i)]}case"CropAndResize":{const r=uD("image",e,t,n),o=uD("boxes",e,t,n),s=uD("boxInd",e,t,n),i=uD("cropSize",e,t,n),l=uD("method",e,t,n),c=uD("extrapolationValue",e,t,n);return[a.image.cropAndResize(r,o,s,i,l,c)]}case"ImageProjectiveTransformV3":{const r=uD("images",e,t,n),o=uD("transforms",e,t,n),s=uD("outputShape",e,t,n),i=uD("fillValue",e,t,n),l=uD("interpolation",e,t,n),c=uD("fillMode",e,t,n);return[a.image.transform(r,o,l.toLowerCase(),c.toLowerCase(),i,s)]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"graph":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j;switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":const r=uD("default",e,t,n);return[dD(e.name,t,n)||r];case"Placeholder":return[dD(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[yD(uD("x",e,t,n))];case"IdentityN":return uD("x",e,t,n).map((e=>yD(e)));case"Shape":return[a.tensor1d(uD("x",e,t,n).shape,"int32")];case"ShapeN":return uD("x",e,t,n).map((e=>a.tensor1d(e.shape)));case"Size":return[a.scalar(uD("x",e,t,n).size,"int32")];case"Rank":return[a.scalar(uD("x",e,t,n).rank,"int32")];case"NoOp":return[a.scalar(1)];case"Print":const o=uD("x",e,t,n),s=uD("data",e,t,n),i=uD("message",e,t,n),l=uD("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(i);for(let e=0;e<s.length;e++)console.log(Array.prototype.slice.call(s[e].dataSync()).slice(0,l));return[o];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"logical":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j;switch(e.op){case"Equal":return[a.equal(uD("a",e,t,n),uD("b",e,t,n))];case"NotEqual":return[a.notEqual(uD("a",e,t,n),uD("b",e,t,n))];case"Greater":return[a.greater(uD("a",e,t,n),uD("b",e,t,n))];case"GreaterEqual":return[a.greaterEqual(uD("a",e,t,n),uD("b",e,t,n))];case"Less":return[a.less(uD("a",e,t,n),uD("b",e,t,n))];case"LessEqual":return[a.lessEqual(uD("a",e,t,n),uD("b",e,t,n))];case"LogicalAnd":return[a.logicalAnd(uD("a",e,t,n),uD("b",e,t,n))];case"LogicalNot":return[a.logicalNot(uD("a",e,t,n))];case"LogicalOr":return[a.logicalOr(uD("a",e,t,n),uD("b",e,t,n))];case"Select":case"SelectV2":return[a.where(uD("condition",e,t,n),uD("a",e,t,n),uD("b",e,t,n))];case"BitwiseAnd":return[a.bitwiseAnd(uD("a",e,t,n),uD("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"matrices":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j;switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[a.matMul(uD("a",e,t,n),uD("b",e,t,n),uD("transposeA",e,t,n),uD("transposeB",e,t,n))];case"Einsum":return[a.einsum(uD("equation",e,t,n),...uD("tensors",e,t,n))];case"Transpose":return[a.transpose(uD("x",e,t,n),uD("perm",e,t,n))];case"_FusedMatMul":const[r,o]=uD("fusedOps",e,t,n),s="biasadd"===r,i="prelu"===o,l=uD("numArgs",e,t,n),c=uD("leakyreluAlpha",e,t,n);if(s){if(i&&2!==l)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!i&&1!==l)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[u,d]=uD("args",e,t,n);return[a.fused.matMul({a:uD("a",e,t,n),b:uD("b",e,t,n),transposeA:uD("transposeA",e,t,n),transposeB:uD("transposeB",e,t,n),bias:u,activation:o,preluActivationWeights:d,leakyreluAlpha:c})];case"MatrixBandPart":return[a.linalg.bandPart(uD("a",e,t,n),uD("numLower",e,t,n),uD("numUpper",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"normalization":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j;switch(e.op){case"EuclideanNorm":return[a.euclideanNorm(uD("x",e,t,n),uD("axis",e,t,n),uD("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[a.batchNorm(uD("x",e,t,n),uD("mean",e,t,n),uD("variance",e,t,n),uD("offset",e,t,n),uD("scale",e,t,n),uD("epsilon",e,t,n))];case"LRN":return[a.localResponseNormalization(uD("x",e,t,n),uD("radius",e,t,n),uD("bias",e,t,n),uD("alpha",e,t,n),uD("beta",e,t,n))];case"Softmax":return[a.softmax(uD("x",e,t,n))];case"LogSoftmax":return[a.logSoftmax(uD("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"ragged":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j;switch(e.op){case"RaggedGather":{const{outputNestedSplits:r,outputDenseValues:o}=a.raggedGather(uD("paramsNestedSplits",e,t,n),uD("paramsDenseValues",e,t,n),uD("indices",e,t,n),uD("outputRaggedRank",e,t,n));return r.concat(o)}case"RaggedRange":{const{rtNestedSplits:r,rtDenseValues:o}=a.raggedRange(uD("starts",e,t,n),uD("limits",e,t,n),uD("splits",e,t,n));return[r,o]}case"RaggedTensorToTensor":return[a.raggedTensorToTensor(uD("shape",e,t,n),uD("values",e,t,n),uD("defaultValue",e,t,n),uD("rowPartitionTensors",e,t,n),uD("rowPartitionTypes",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"reduction":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j;switch(e.op){case"Max":{const r=uD("axis",e,t,n),o=uD("keepDims",e,t,n);return[a.max(uD("x",e,t,n),r,o)]}case"Mean":{const r=uD("axis",e,t,n),o=uD("keepDims",e,t,n);return[a.mean(uD("x",e,t,n),r,o)]}case"Min":{const r=uD("axis",e,t,n),o=uD("keepDims",e,t,n);return[a.min(uD("x",e,t,n),r,o)]}case"Sum":{const r=uD("axis",e,t,n),o=uD("keepDims",e,t,n);return[a.sum(uD("x",e,t,n),r,o)]}case"All":{const r=uD("axis",e,t,n),o=uD("keepDims",e,t,n);return[a.all(uD("x",e,t,n),r,o)]}case"Any":{const r=uD("axis",e,t,n),o=uD("keepDims",e,t,n);return[a.any(uD("x",e,t,n),r,o)]}case"ArgMax":{const r=uD("axis",e,t,n);return[a.argMax(uD("x",e,t,n),r)]}case"ArgMin":{const r=uD("axis",e,t,n);return[a.argMin(uD("x",e,t,n),r)]}case"Prod":{const r=uD("axis",e,t,n),o=uD("keepDims",e,t,n);return[a.prod(uD("x",e,t,n),r,o)]}case"Cumprod":{const r=uD("axis",e,t,n),o=uD("exclusive",e,t,n),s=uD("reverse",e,t,n);return[a.cumprod(uD("x",e,t,n),r,o,s)]}case"Cumsum":{const r=uD("axis",e,t,n),o=uD("exclusive",e,t,n),s=uD("reverse",e,t,n);return[a.cumsum(uD("x",e,t,n),r,o,s)]}case"Bincount":const r=uD("x",e,t,n),o=uD("weights",e,t,n),s=uD("size",e,t,n);return[a.bincount(r,o,s)];case"DenseBincount":{const r=uD("x",e,t,n),o=uD("weights",e,t,n),s=uD("size",e,t,n),i=uD("binaryOutput",e,t,n);return[a.denseBincount(r,o,s,i)]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"slice_join":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j;switch(e.op){case"ConcatV2":case"Concat":{const r=uD("n",e,t,n),o=uD("axis",e,t,n);let s=uD("tensors",e,t,n);return s=s.slice(0,r),[a.concat(s,o)]}case"Gather":{const r=uD("x",e,t,n),o=uD("indices",e,t,n);return[a.gather(r,a.cast(o,"int32"),0)]}case"GatherV2":{const r=uD("axis",e,t,n),o=uD("batchDims",e,t,n),s=uD("x",e,t,n),i=uD("indices",e,t,n);return[a.gather(s,a.cast(i,"int32"),r,o)]}case"Reverse":{const r=uD("dims",e,t,n),o=[];for(let e=0;e<r.length;e++)r[e]&&o.push(e);const s=uD("x",e,t,n);return[a.reverse(s,o)]}case"ReverseV2":{const r=uD("axis",e,t,n),o=uD("x",e,t,n);return[a.reverse(o,r)]}case"Slice":{const r=uD("begin",e,t,n),o=uD("size",e,t,n);return[a.slice(uD("x",e,t,n),r,o)]}case"StridedSlice":{const r=uD("begin",e,t,n),o=uD("end",e,t,n),s=uD("strides",e,t,n),i=uD("beginMask",e,t,n),l=uD("endMask",e,t,n),c=uD("ellipsisMask",e,t,n),u=uD("newAxisMask",e,t,n),d=uD("shrinkAxisMask",e,t,n),h=uD("x",e,t,n);return[a.stridedSlice(h,r,o,s,i,l,c,u,d)]}case"Pack":return gk((()=>{const r=uD("axis",e,t,n),o=uD("tensors",e,t,n),s=o[0].shape,i=a.squeeze(o[0]).shape,l=o.map((e=>{const t=bg(e.shape,s);if(!t&&!bg(a.squeeze(e).shape,i))throw new Error("the input tensors shape does not match");return t?e:a.reshape(e,s)}));return[a.stack(l,r)]}));case"Unpack":{const r=uD("axis",e,t,n),o=uD("tensor",e,t,n);return a.unstack(o,r)}case"Tile":{const r=uD("reps",e,t,n);return[a.tile(uD("x",e,t,n),r)]}case"Split":case"SplitV":{const r=uD("axis",e,t,n),o=uD("numOrSizeSplits",e,t,n),s=uD("x",e,t,n);return a.split(s,o,r)}case"ScatterNd":{const r=uD("indices",e,t,n),o=uD("values",e,t,n),s=uD("shape",e,t,n);return[a.scatterND(r,o,s)]}case"GatherNd":{const r=uD("x",e,t,n),o=uD("indices",e,t,n);return[a.gatherND(r,o)]}case"SparseToDense":{const r=uD("sparseIndices",e,t,n),o=uD("outputShape",e,t,n),s=uD("sparseValues",e,t,n),i=uD("defaultValue",e,t,n);return[a.sparseToDense(r,s,o,s.dtype===i.dtype?i:a.cast(i,s.dtype))]}case"TensorScatterUpdate":{const r=uD("indices",e,t,n),o=uD("values",e,t,n),s=uD("tensor",e,t,n);return[a.tensorScatterUpdate(s,r,o)]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"sparse":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j;switch(e.op){case"SparseFillEmptyRows":{const{outputIndices:r,outputValues:o,emptyRowIndicator:s,reverseIndexMap:i}=a.sparse.sparseFillEmptyRows(uD("indices",e,t,n),uD("values",e,t,n),uD("denseShape",e,t,n),uD("defaultValue",e,t,n));return[r,o,s,i]}case"SparseReshape":{const{outputIndices:r,outputShape:o}=a.sparse.sparseReshape(uD("inputIndices",e,t,n),uD("inputShape",e,t,n),uD("newShape",e,t,n));return[r,o]}case"SparseSegmentMean":return[a.sparse.sparseSegmentMean(uD("data",e,t,n),uD("indices",e,t,n),uD("segmentIds",e,t,n))];case"SparseSegmentSum":return[a.sparse.sparseSegmentSum(uD("data",e,t,n),uD("indices",e,t,n),uD("segmentIds",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"spectral":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j;switch(e.op){case"FFT":return[a.fft(uD("x",e,t,n))];case"IFFT":return[a.ifft(uD("x",e,t,n))];case"RFFT":return[a.rfft(uD("x",e,t,n))];case"IRFFT":return[a.irfft(uD("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"string":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j;switch(e.op){case"StaticRegexReplace":return[a.string.staticRegexReplace(uD("input",e,t,n),uD("pattern",e,t,n),uD("rewrite",e,t,n),uD("replaceGlobal",e,t,n))];case"StringNGrams":{const{nGrams:r,nGramsSplits:o}=a.string.stringNGrams(uD("data",e,t,n),uD("dataSplits",e,t,n),uD("separator",e,t,n),uD("nGramWidths",e,t,n),uD("leftPad",e,t,n),uD("rightPad",e,t,n),uD("padWidth",e,t,n),uD("preserveShortSequences",e,t,n));return[r,o]}case"StringSplit":{const{indices:r,values:o,shape:s}=a.string.stringSplit(uD("input",e,t,n),uD("delimiter",e,t,n),uD("skipEmpty",e,t,n));return[r,o,s]}case"StringToHashBucketFast":return[a.string.stringToHashBucketFast(uD("input",e,t,n),uD("numBuckets",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"transformation":return r((()=>function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:j;switch(e.op){case"Cast":return[a.cast(uD("x",e,t,n),uD("dtype",e,t,n))];case"ExpandDims":{const r=uD("axis",e,t,n);return[a.expandDims(uD("x",e,t,n),r)]}case"Squeeze":{const r=uD("axis",e,t,n);return[a.squeeze(uD("x",e,t,n),r)]}case"Reshape":return[a.reshape(uD("x",e,t,n),uD("shape",e,t,n))];case"EnsureShape":return[a.ensureShape(uD("x",e,t,n),uD("shape",e,t,n))];case"MirrorPad":return[a.mirrorPad(uD("x",e,t,n),uD("padding",e,t,n),uD("mode",e,t,n))];case"PadV2":case"Pad":return[a.pad(uD("x",e,t,n),uD("padding",e,t,n),uD("constantValue",e,t,n))];case"SpaceToBatchND":{const r=uD("blockShape",e,t,n),o=uD("paddings",e,t,n);return[a.spaceToBatchND(uD("x",e,t,n),r,o)]}case"BatchToSpaceND":{const r=uD("blockShape",e,t,n),o=uD("crops",e,t,n);return[a.batchToSpaceND(uD("x",e,t,n),r,o)]}case"DepthToSpace":{const r=uD("blockSize",e,t,n),o=uD("dataFormat",e,t,n).toUpperCase();return[a.depthToSpace(uD("x",e,t,n),r,o)]}case"BroadcastTo":return[a.broadcastTo(uD("x",e,t,n),uD("shape",e,t,n))];case"BroadcastArgs":return[a.broadcastArgs(uD("s0",e,t,n),uD("s1",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)));case"hash_table":return(async(e,t,n,a)=>{switch(e.op){case"HashTable":case"HashTableV2":{const r=a.getHashTableHandleByName(e.name);if(null!=r)return[r];{const r=uD("keyDType",e,t,n),o=uD("valueDType",e,t,n),s=new lO(r,o);return a.addHashTable(e.name,s),[s.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const r=uD("tableHandle",e,t,n,a),o=uD("keys",e,t,n),s=uD("values",e,t,n),i=a.getHashTableById(r.id);return[await i.import(o,s)]}case"LookupTableFind":case"LookupTableFindV2":{const r=uD("tableHandle",e,t,n,a),o=uD("keys",e,t,n),s=uD("defaultValue",e,t,n),i=a.getHashTableById(r.id);return[await i.find(o,s)]}case"LookupTableSize":case"LookupTableSizeV2":{const r=uD("tableHandle",e,t,n,a);return[a.getHashTableById(r.id).tensorSize()]}default:throw TypeError("Node type ".concat(e.op," is not implemented"))}})(e,t,n,a);case"custom":const o=cD(e.op);if(o&&o.customExecutor)return o.customExecutor(new JD(e,t,n));throw TypeError("Custom op ".concat(e.op," is not registered."));default:throw TypeError("Unknown op '".concat(e.op,"'. File an issue at ")+"https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}})(e,t,n);return Zg(o)?o.then((e=>[].concat(e))):[].concat(o)}class uO{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4?arguments[4]:void 0;this.weightMap=e,this.tensorArrayMap=t,this.tensorListMap=n,this.functionMap=a,this.parseNodeNameCache=r,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,t){return{id:e,frameName:t,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let t=0;t<this.contexts.length-1;t++){const n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map((e=>0===e.id&&0===e.iterationId?"":"".concat(e.frameName,"-").concat(e.iterationId))).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(const t in this.tensorListMap)this.tensorListMap[t].clearAndClose(e)}}function dO(e,t,n,a){const r=new Set,o=[];let s=null,i=null;const l=new Set,c=new Set(Object.keys(e).map((e=>mD(e)[0])));a=a||[];const u=new Set(a.map((e=>mD(e.name)[0]))),d=[...t];for(;d.length>0;){const e=d.pop();(yO(e)||bO(e)||vO(e))&&null==s&&(s=e,i=s.children.map((e=>e.name)).filter((e=>r.has(e)))),r.add(e.name),null==n[e.name]&&(c.has(e.name)||u.has(e.name)||(0!==e.inputs.length?e.inputs.forEach((e=>{l.has(e.name)||(l.add(e.name),d.push(e))})):o.push(e.name)))}return{inputs:e,outputs:t,usedNodes:r,missingInputs:o,dynamicNode:s,syncInputs:i}}function hO(e,t){const{usedNodes:n,inputs:a}=t,r=Object.keys(a).map((e=>mD(e)[0])).map((t=>e.nodes[t])),o=e.initNodes||[],s=e=>n.has("string"===typeof e?e:e.name);function i(e){return[...new Map(e.map((e=>[e.name,e]))).values()]}const l=i([...r,...e.weights,...o]).filter(s),c=i([...l,...Object.values(e.nodes)]).filter(s),u=new Map(c.map((e=>[e.name,e]))),d={};for(const m of c){d[m.name]=d[m.name]||0;for(const e of m.children)s(e)||(d[e.name]=Number.POSITIVE_INFINITY),d[e.name]=(d[e.name]||0)+1}const h=Object.entries(d).filter((e=>{let[,t]=e;return 0===t})).map((e=>{let[t]=e;return t})),p=[...h];for(;h.length>0;){const e=h.pop(),t=u.get(e);for(const n of t.children.filter(s))0===--d[n.name]&&(p.push(n.name),h.push(n.name))}const f=function(e,t){const n=new Map(e.map((e=>[e.name,e]))),a=t.map((e=>e.name)),r=new Set(a);for(;a.length>0;){const e=a.pop(),t=n.get(e);for(const o of t.children)n.has(o.name)&&!r.has(o.name)&&(r.add(o.name),a.push(o.name))}const o=e.filter((e=>r.has(e.name)));return o}(p.map((e=>u.get(e))),l);return function(e,t){const n=new Map(e.map(((e,t)=>[e.name,t]))),a=new Set(t.map((e=>e.name))),r=e=>a.has("string"===typeof e?e:e.name),o=new Set(e.map((e=>e.name))),s=e=>o.has("string"===typeof e?e:e.name);for(const i of e){for(const e of i.children.filter(s)){if(!n.has(e.name))throw new pO("Child ".concat(e.name," of node ").concat(i.name," is unreachable."));if(n.get(i.name)>n.get(e.name))throw new pO("Node ".concat(i.name," is scheduled to run after its child ").concat(e.name,"."))}if(!r(i))for(const e of i.inputs){if(!n.has(e.name))throw new pO("Input ".concat(e.name," of node ").concat(i.name," is unreachable."));if(n.get(e.name)>n.get(i.name))throw new pO("Node ".concat(i.name," is scheduled to run before its input ").concat(e.name,"."))}}}(f,l),f}class pO extends Error{constructor(e){super("NodesExecutionOrderError: ".concat(e))}}const fO=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),mO=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),gO=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function yO(e){return fO.has(e.op)}function bO(e){return mO.has(e.op)}function vO(e){return gO.has(e.op)}class wO{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const t=Object.keys(e).map((t=>e[t].map((e=>e.id))));this._weightIds=[].concat(...t),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get outputs(){return this._outputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get inputNodes(){return this._inputs.map((e=>e.signatureKey||e.name))}get outputNodes(){return this._outputs.map((e=>{const t=e.signatureKey||e.name;return e.defaultOutput?"".concat(t,":").concat(e.defaultOutput):t}))}get functions(){return Object.keys(this._functions).reduce(((e,t)=>(e[t]=this._functions[t].signature,e)),{})}constructor(e,t){this.graph=e,this.parent=t,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,null!=e.functions&&Object.keys(e.functions).forEach((t=>{this._functionExecutorMap[t]=new wO(e.functions[t],this)}))}getCompilationKey(e,t){const n=e.map((e=>e.name)).sort(),a=t.map((e=>e.name)).sort();return n.join(this.SEPARATOR)+"--"+a.join(this.SEPARATOR)}compile(e,t){const n=dO(e,t,this.weightMap,this._initNodes),{missingInputs:a,dynamicNode:r,syncInputs:o}=n;if(null!=r)throw new Error("This execution contains the node '".concat(r.name,"', which has ")+"the dynamic op '".concat(r.op,"'. Please use ")+"model.executeAsync() instead. Alternatively, to avoid the "+"dynamic ops, specify the inputs [".concat(o,"]"));if(a.length>0){const n=t.map((e=>e.name)),r=Object.keys(e);throw new Error("Cannot compute the outputs [".concat(n,"] from the provided inputs ")+"[".concat(r,"]. Missing the following inputs: [").concat(a,"]"))}const s=hO(this.graph,n),i=function(e){const t=new Map(e.map(((e,t)=>[e.name,t]))),n=Number.MAX_SAFE_INTEGER,a=e.map(((e,t)=>yO(e)?n:t)),r=e=>{const n=a[t.get(e.name)];return null==n?-1:n},o=e.map(((e,t)=>e.children.map(r).reduce(((e,t)=>Math.max(e,t)),a[t]))),s=new Map;for(let i=0;i<e.length;++i){const t=o[i];if(t===n)continue;const a=e[i],r=e[t];s.has(r.name)||s.set(r.name,[]),s.get(r.name).push(a)}return s}(s);return{orderedNodes:s,nodeLiveUntilMap:i}}cloneAndKeepTensor(e){if(null==e)return null;const t=e.clone();return bk(t),t}cloneTensorList(e){if(!e)return null;const t=e.map((e=>this.cloneAndKeepTensor(e)));return t}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map((e=>{let[t,n]=e;return[t,this.cloneTensorList(n)]})))}execute(e,t){this.disposeIntermediateTensors(),e=this.mapInputs(e);const n=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);const a=n.map((e=>this.graph.nodes[mD(e)[0]])),r=t.map((e=>mD(e)[0])),o=new Set(r);let s=r.map((e=>this.graph.nodes[e]));0===s.length&&(s=this._outputs);const i=this.getCompilationKey(a,s);let l=this.compiledMap.get(i);null==l&&(l=this.compile(e,s),this.compiledMap.set(i,l));try{this.keepIntermediateTensors=ty().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(a4){this.keepIntermediateTensors=!1,console.warn(a4.message)}const c={},u={};return gk((()=>{const n=new uO(this.weightMap,c,u,this.functionExecutorMap,this.parseNodeNameCache),a=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach((t=>{const[r,o]=mD(t,n),s=[];s[o]=e[t],a[r]=s,this.keepIntermediateTensors&&(this.clonedTensorsMap[r]=this.cloneTensorList(s))}));const r=this.getFrozenTensorIds(a),{orderedNodes:s,nodeLiveUntilMap:i}=l;for(const e of s){if(a[e.name])continue;const t=cO(e,a,n,this._resourceManager);if(Zg(t))throw new Error("The execution of the op '".concat(e.op,"' returned a promise. ")+"Please use model.executeAsync() instead.");a[e.name]=t,this.keepIntermediateTensors&&(this.clonedTensorsMap[e.name]=this.cloneTensorList(t)),this.checkTensorForDisposalWithNodeLiveUntilInfo(e,a,n,r,o,i.get(e.name))}return null==this.parent&&n.dispose(r),t.map((e=>dD(e,a,n)))}))}getFrozenTensorIds(e){const t=[].concat.apply([],Object.keys(e).map((t=>e[t])).map((e=>e.map((e=>e.id)))));return new Set(t)}checkTensorForDisposal(e,t,n,a,r,o,s){if(!yO(t)&&!o.has(e)){for(const a of n[e])null!=a&&(s[a.id]=(s[a.id]||0)+t.children.length);for(const e of t.inputs){if(yO(e))continue;const t=hD(e.name,n,a);if(null!=t)for(const e of t){if(!e||e.kept||r.has(e.id))continue;const t=s[e.id];1===t?(e.dispose(),delete s[e.id]):null!=t&&s[e.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,t,n,a,r,o){function s(e){return yO(e)||r.has(e.name)}if(!yO(e)&&null!=o)for(const i of o){if(s(i))continue;const e=hD(i.name,t,n);for(const t of e)!t||t.kept||a.has(t.id)||t.dispose()}}async executeAsync(e,t){return this._executeAsync(e,t)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach((e=>{for(const t of e)t&&!t.isDisposed&&t.dispose()})),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};this.disposeIntermediateTensors(),n||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t));try{this.keepIntermediateTensors=ty().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(a4){this.keepIntermediateTensors=!1,console.warn(a4.message)}const o=new uO(this.weightMap,a,r,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const s=await this.executeWithControlFlow(e,o,t,n),i=t.map((e=>dD(e,s,o))),l=i.map((e=>e.id)),c=Object.keys(e).map((t=>e[t].id)),u=new Set([...l,...c,...this.weightIds]);return Object.values(s).forEach((e=>{e.forEach((e=>{!e||e.isDisposed||u.has(e.id)||e.dispose()}))})),null==this.parent&&o.dispose(u),i}async executeFunctionAsync(e,t,n){const a=e.reduce(((e,t,n)=>(e[this.inputs[n].name]=t,e)),{});return this._executeAsync(a,this.outputNodes,!0,t,n)}async executeWithControlFlow(e,t,n,a){const r=Object.keys(e),o=r.map((e=>this.graph.nodes[mD(e)[0]])),s=n.map((e=>mD(e)[0])),i=new Set(s);let l=s.map((e=>this.graph.nodes[e]));0===l.length&&(l=this._outputs);const{usedNodes:c,missingInputs:u,dynamicNode:d,syncInputs:h}=dO(e,l,this.weightMap,this._initNodes),p=[...o,...this.graph.weights,...this._initNodes||[]].map((e=>({node:e,contexts:t.currentContext}))),f=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,a]=mD(t),r=[];r[a]=e[t],f[n]=r}));const m={},g=this.getFrozenTensorIds(f),y={};for(;p.length>0;){const e=this.processStack(o,p,t,f,y,g,i,m,c);await Promise.all(e)}null!=d||a||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const b=l.filter((e=>!yO(e)&&!dD(e.name,f,t))).map((e=>e.name));if(b.length>0){let e="";throw null!=d&&(e="Alternatively, to avoid the dynamic ops, use model.execute() "+"and specify the inputs [".concat(h,"]")),new Error("Cannot compute the outputs [".concat(b,"] from the provided ")+"inputs [".concat(r,"]. Consider providing the following inputs: ")+"[".concat(u,"]. ").concat(e))}return f}processStack(e,t,n,a,r,o,s,i,l){const c=[];for(;t.length>0;){const e=t.pop();n.currentContext=e.contexts;let u="";if("Enter"===e.node.op&&uD("isConstant",e.node,a,n)&&([u]=pD(e.node.name,n)),null==a[e.node.name]){const d=cO(e.node,a,n,this._resourceManager);u||([u]=pD(e.node.name,n));const h=n.currentContext;Zg(d)?c.push(d.then((c=>(a[u]=c,this.keepIntermediateTensors&&(this.clonedTensorsMap[u]=this.cloneTensorList(c)),n.currentContext=h,this.checkTensorForDisposal(u,e.node,a,n,o,s,i),this.processChildNodes(e.node,t,n,a,r,l),c)))):(a[u]=d,this.keepIntermediateTensors&&(this.clonedTensorsMap[u]=this.cloneTensorList(d)),this.checkTensorForDisposal(u,e.node,a,n,o,s,i),this.processChildNodes(e.node,t,n,a,r,l))}else this.processChildNodes(e.node,t,n,a,r,l)}return c}processChildNodes(e,t,n,a,r,o){e.children.forEach((e=>{const[s]=pD(e.name,n);!r[s]&&o.has(e.name)&&("Merge"===e.op?e.inputNames.some((e=>!!dD(e,a,n)))&&(r[s]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((e=>!!dD(e,a,n)))&&(r[s]=!0,t.push({contexts:n.currentContext,node:e})))}))}dispose(){Object.keys(this.weightMap).forEach((e=>this.weightMap[e].forEach((e=>e.dispose()))))}checkInputShapeAndType(e){Object.keys(e).forEach((t=>{const n=e[t],[a]=mD(t),r=this.graph.nodes[a];if(r.attrParams.shape&&r.attrParams.shape.value){const e=r.attrParams.shape.value;hg(e.length===n.shape.length&&n.shape.every(((t,n)=>-1===e[n]||e[n]===t)),(()=>"The shape of dict['".concat(r.name,"'] provided in ")+"model.execute(dict) must be [".concat(e,"], but was ")+"[".concat(n.shape,"]")))}r.attrParams.dtype&&r.attrParams.dtype.value&&hg(n.dtype===r.attrParams.dtype.value,(()=>"The dtype of dict['".concat(r.name,"'] provided in ")+"model.execute(dict) must be "+"".concat(r.attrParams.dtype.value,", but was ").concat(n.dtype)))}))}mapInputs(e){var t,n;const a={};for(const r in e){const o=null===(n=null===(t=this._signature)||void 0===t?void 0:t.inputs)||void 0===n?void 0:n[r];null!=o?a[o.name]=e[r]:a[r]=e[r]}return a}checkInputs(e){const t=Object.keys(e).filter((e=>{const[t]=mD(e);return null==this.graph.nodes[t]}));if(t.length>0)throw new Error("The dict provided in model.execute(dict) has "+"keys: [".concat(t,"] that are not part of graph"))}mapOutputs(e){return e.map((e=>{var t,n;const a=null===(n=null===(t=this._signature)||void 0===t?void 0:t.outputs)||void 0===n?void 0:n[e];return null!=a?a.name:e}),{})}checkOutputs(e){e.forEach((e=>{const[t]=mD(e);if(!this.graph.nodes[t])throw new Error("The output '".concat(e,"' is not found in the graph"))}))}}class xO{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.hashTableNameToHandle=e,this.hashTableMap=t}addHashTable(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}const kO="?tfjs-format=file",SO="model.json";class NO{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;this.modelUrl=e,this.loadOptions=t,this.version="n/a",this.io=n,null==t&&(this.loadOptions={}),this.resourceManager=new xO}findIOHandler(){const e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const t=this.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error("Found more than one (".concat(t.length,") load handlers for ")+"URL '".concat([e],"'"));this.handler=t[0]}}load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return Zg(e)?e.then((e=>null==e.getWeightStream?this.loadSync(e):this.loadStreaming(e))):this.loadSync(e)}loadSync(e){const t=this.io.decodeWeights(e.weightData,e.weightSpecs);return this.loadWithWeightMap(e,t)}async loadStreaming(e){if(null==e.getWeightStream)throw new Error("Model artifacts missing streamWeights function");const t=await Mk(e.getWeightStream(),e.weightSpecs);return this.loadWithWeightMap(e,t)}loadWithWeightMap(e,t){this.artifacts=e;const n=this.artifacts.modelTopology;let a=this.artifacts.signature;if(null!=this.artifacts.userDefinedMetadata){const e=this.artifacts.userDefinedMetadata;null!=e.signature&&(a=e.signature),null!=e.structuredOutputKeys&&(this.structuredOutputKeys=e.structuredOutputKeys)}if(this.signature=a,this.version="".concat(n.versions.producer,".").concat(n.versions.minConsumer),this.executor=new wO(PD.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(t),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){const t=PD.Instance.transformGraph(e.modelInitializer);this.initializer=new wO(t),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,t){if("string"===typeof e){const t=this.io.getSaveHandlers(e);if(0===t.length)throw new Error("Cannot find any save handlers for URL '".concat(e,"'"));if(t.length>1)throw new Error("Found more than one (".concat(t.length,") save handlers for ")+"URL '".concat(e,"'"));e=t[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const t={};return(e instanceof xx?[e]:e).forEach(((e,n)=>t[this.structuredOutputKeys[n]]=e)),t}return e}predict(e,t){const n=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(n)}async predictAsync(e,t){const n=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(n)}normalizeInputs(e){var t;if(!(e instanceof xx)&&!Array.isArray(e)){const n=null===(t=this.signature)||void 0===t?void 0:t.inputs;if(null!=n)for(const t in n){const a=n[t];null!=a.resourceId&&(e[t]=this.resourceIdToCapturedInput[a.resourceId])}return e}e=Array.isArray(e)?e:[e];const n=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+n!==this.inputNodes.length)throw new Error("Input tensor count mismatch, the graph model has ".concat(this.inputNodes.length-n," non-resource placeholders, while there are ").concat(e.length," input tensors provided."));let a=0;return this.inputNodes.reduce(((t,n)=>{var r,o,s;const i=null===(s=null===(o=null===(r=this.signature)||void 0===r?void 0:r.inputs)||void 0===o?void 0:o[n])||void 0===s?void 0:s.resourceId;return t[n]=null!=i?this.resourceIdToCapturedInput[i]:e[a++],t}),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return null==this.initializer?[]:null==this.initializerSignature?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const t=this.initializerSignature.outputs,n=Object.keys(t);for(let a=0;a<n.length;a++){const r=t[n[a]];this.resourceIdToCapturedInput[r.resourceId]=e[a]}}}execute(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=this.executor.execute(e,t);return n.length>1?n:n[0]}async executeAsync(e,t){null==this.resourceIdToCapturedInput&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=await this.executor.executeAsync(e,t);return n.length>1?n:n[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce(((t,n)=>(t[n]=[e[n]],t)),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&yk(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function TO(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;if(null==e)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==t&&(t={}),t.fromTFHub&&"string"===typeof e&&(e=function(e){e.endsWith("/")||(e+="/");return"".concat(e).concat(SO).concat(kO)}(e));const a=new NO(e,t,n);return await a.load(),a}function CO(e,t,n,a){return new(n||(n=Promise))((function(r,o){function s(e){try{l(a.next(e))}catch(e){o(e)}}function i(e){try{l(a.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}l((a=a.apply(e,t||[])).next())}))}function IO(e,t){var n,a,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,a&&(r=2&o[0]?a.return:o[0]?a.throw||((r=a.return)&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;switch(a=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,a=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],a=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}var EO={0:"tench, Tinca tinca",1:"goldfish, Carassius auratus",2:"great white shark, white shark, man-eater, man-eating shark, Carcharodon carcharias",3:"tiger shark, Galeocerdo cuvieri",4:"hammerhead, hammerhead shark",5:"electric ray, crampfish, numbfish, torpedo",6:"stingray",7:"cock",8:"hen",9:"ostrich, Struthio camelus",10:"brambling, Fringilla montifringilla",11:"goldfinch, Carduelis carduelis",12:"house finch, linnet, Carpodacus mexicanus",13:"junco, snowbird",14:"indigo bunting, indigo finch, indigo bird, Passerina cyanea",15:"robin, American robin, Turdus migratorius",16:"bulbul",17:"jay",18:"magpie",19:"chickadee",20:"water ouzel, dipper",21:"kite",22:"bald eagle, American eagle, Haliaeetus leucocephalus",23:"vulture",24:"great grey owl, great gray owl, Strix nebulosa",25:"European fire salamander, Salamandra salamandra",26:"common newt, Triturus vulgaris",27:"eft",28:"spotted salamander, Ambystoma maculatum",29:"axolotl, mud puppy, Ambystoma mexicanum",30:"bullfrog, Rana catesbeiana",31:"tree frog, tree-frog",32:"tailed frog, bell toad, ribbed toad, tailed toad, Ascaphus trui",33:"loggerhead, loggerhead turtle, Caretta caretta",34:"leatherback turtle, leatherback, leathery turtle, Dermochelys coriacea",35:"mud turtle",36:"terrapin",37:"box turtle, box tortoise",38:"banded gecko",39:"common iguana, iguana, Iguana iguana",40:"American chameleon, anole, Anolis carolinensis",41:"whiptail, whiptail lizard",42:"agama",43:"frilled lizard, Chlamydosaurus kingi",44:"alligator lizard",45:"Gila monster, Heloderma suspectum",46:"green lizard, Lacerta viridis",47:"African chameleon, Chamaeleo chamaeleon",48:"Komodo dragon, Komodo lizard, dragon lizard, giant lizard, Varanus komodoensis",49:"African crocodile, Nile crocodile, Crocodylus niloticus",50:"American alligator, Alligator mississipiensis",51:"triceratops",52:"thunder snake, worm snake, Carphophis amoenus",53:"ringneck snake, ring-necked snake, ring snake",54:"hognose snake, puff adder, sand viper",55:"green snake, grass snake",56:"king snake, kingsnake",57:"garter snake, grass snake",58:"water snake",59:"vine snake",60:"night snake, Hypsiglena torquata",61:"boa constrictor, Constrictor constrictor",62:"rock python, rock snake, Python sebae",63:"Indian cobra, Naja naja",64:"green mamba",65:"sea snake",66:"horned viper, cerastes, sand viper, horned asp, Cerastes cornutus",67:"diamondback, diamondback rattlesnake, Crotalus adamanteus",68:"sidewinder, horned rattlesnake, Crotalus cerastes",69:"trilobite",70:"harvestman, daddy longlegs, Phalangium opilio",71:"scorpion",72:"black and gold garden spider, Argiope aurantia",73:"barn spider, Araneus cavaticus",74:"garden spider, Aranea diademata",75:"black widow, Latrodectus mactans",76:"tarantula",77:"wolf spider, hunting spider",78:"tick",79:"centipede",80:"black grouse",81:"ptarmigan",82:"ruffed grouse, partridge, Bonasa umbellus",83:"prairie chicken, prairie grouse, prairie fowl",84:"peacock",85:"quail",86:"partridge",87:"African grey, African gray, Psittacus erithacus",88:"macaw",89:"sulphur-crested cockatoo, Kakatoe galerita, Cacatua galerita",90:"lorikeet",91:"coucal",92:"bee eater",93:"hornbill",94:"hummingbird",95:"jacamar",96:"toucan",97:"drake",98:"red-breasted merganser, Mergus serrator",99:"goose",100:"black swan, Cygnus atratus",101:"tusker",102:"echidna, spiny anteater, anteater",103:"platypus, duckbill, duckbilled platypus, duck-billed platypus, Ornithorhynchus anatinus",104:"wallaby, brush kangaroo",105:"koala, koala bear, kangaroo bear, native bear, Phascolarctos cinereus",106:"wombat",107:"jelly fish",108:"sea anemone, anemone",109:"brain coral",110:"flatworm, platyhelminth",111:"nematode, nematode worm, roundworm",112:"conch",113:"snail",114:"slug",115:"sea slug, nudibranch",116:"chiton, coat-of-mail shell, sea cradle, polyplacophore",117:"chambered nautilus, pearly nautilus, nautilus",118:"Dungeness crab, Cancer magister",119:"rock crab, Cancer irroratus",120:"fiddler crab",121:"king crab, Alaska crab, Alaskan king crab, Alaska king crab, Paralithodes camtschatica",122:"American lobster, Northern lobster, Maine lobster, Homarus americanus",123:"spiny lobster, langouste, rock lobster, crawfish, crayfish, sea crawfish",124:"crayfish, crawfish, crawdad, crawdaddy",125:"hermit crab",126:"isopod",127:"white stork, Ciconia ciconia",128:"black stork, Ciconia nigra",129:"spoonbill",130:"flamingo",131:"little blue heron, Egretta caerulea",132:"American egret, great white heron, Egretta albus",133:"bittern",134:"crane",135:"limpkin, Aramus pictus",136:"European gallinule, Porphyrio porphyrio",137:"American coot, marsh hen, mud hen, water hen, Fulica americana",138:"bustard",139:"ruddy turnstone, Arenaria interpres",140:"red-backed sandpiper, dunlin, Erolia alpina",141:"redshank, Tringa totanus",142:"dowitcher",143:"oystercatcher, oyster catcher",144:"pelican",145:"king penguin, Aptenodytes patagonica",146:"albatross, mollymawk",147:"grey whale, gray whale, devilfish, Eschrichtius gibbosus, Eschrichtius robustus",148:"killer whale, killer, orca, grampus, sea wolf, Orcinus orca",149:"dugong, Dugong dugon",150:"sea lion",151:"Chihuahua",152:"Japanese spaniel",153:"Maltese dog, Maltese terrier, Maltese",154:"Pekinese, Pekingese, Peke",155:"Shih-Tzu",156:"Blenheim spaniel",157:"papillon",158:"toy terrier",159:"Rhodesian ridgeback",160:"Afghan hound, Afghan",161:"basset, basset hound",162:"beagle",163:"bloodhound, sleuthhound",164:"bluetick",165:"black-and-tan coonhound",166:"Walker hound, Walker foxhound",167:"English foxhound",168:"redbone",169:"borzoi, Russian wolfhound",170:"Irish wolfhound",171:"Italian greyhound",172:"whippet",173:"Ibizan hound, Ibizan Podenco",174:"Norwegian elkhound, elkhound",175:"otterhound, otter hound",176:"Saluki, gazelle hound",177:"Scottish deerhound, deerhound",178:"Weimaraner",179:"Staffordshire bullterrier, Staffordshire bull terrier",180:"American Staffordshire terrier, Staffordshire terrier, American pit bull terrier, pit bull terrier",181:"Bedlington terrier",182:"Border terrier",183:"Kerry blue terrier",184:"Irish terrier",185:"Norfolk terrier",186:"Norwich terrier",187:"Yorkshire terrier",188:"wire-haired fox terrier",189:"Lakeland terrier",190:"Sealyham terrier, Sealyham",191:"Airedale, Airedale terrier",192:"cairn, cairn terrier",193:"Australian terrier",194:"Dandie Dinmont, Dandie Dinmont terrier",195:"Boston bull, Boston terrier",196:"miniature schnauzer",197:"giant schnauzer",198:"standard schnauzer",199:"Scotch terrier, Scottish terrier, Scottie",200:"Tibetan terrier, chrysanthemum dog",201:"silky terrier, Sydney silky",202:"soft-coated wheaten terrier",203:"West Highland white terrier",204:"Lhasa, Lhasa apso",205:"flat-coated retriever",206:"curly-coated retriever",207:"golden retriever",208:"Labrador retriever",209:"Chesapeake Bay retriever",210:"German short-haired pointer",211:"vizsla, Hungarian pointer",212:"English setter",213:"Irish setter, red setter",214:"Gordon setter",215:"Brittany spaniel",216:"clumber, clumber spaniel",217:"English springer, English springer spaniel",218:"Welsh springer spaniel",219:"cocker spaniel, English cocker spaniel, cocker",220:"Sussex spaniel",221:"Irish water spaniel",222:"kuvasz",223:"schipperke",224:"groenendael",225:"malinois",226:"briard",227:"kelpie",228:"komondor",229:"Old English sheepdog, bobtail",230:"Shetland sheepdog, Shetland sheep dog, Shetland",231:"collie",232:"Border collie",233:"Bouvier des Flandres, Bouviers des Flandres",234:"Rottweiler",235:"German shepherd, German shepherd dog, German police dog, alsatian",236:"Doberman, Doberman pinscher",237:"miniature pinscher",238:"Greater Swiss Mountain dog",239:"Bernese mountain dog",240:"Appenzeller",241:"EntleBucher",242:"boxer",243:"bull mastiff",244:"Tibetan mastiff",245:"French bulldog",246:"Great Dane",247:"Saint Bernard, St Bernard",248:"Eskimo dog, husky",249:"malamute, malemute, Alaskan malamute",250:"Siberian husky",251:"dalmatian, coach dog, carriage dog",252:"affenpinscher, monkey pinscher, monkey dog",253:"basenji",254:"pug, pug-dog",255:"Leonberg",256:"Newfoundland, Newfoundland dog",257:"Great Pyrenees",258:"Samoyed, Samoyede",259:"Pomeranian",260:"chow, chow chow",261:"keeshond",262:"Brabancon griffon",263:"Pembroke, Pembroke Welsh corgi",264:"Cardigan, Cardigan Welsh corgi",265:"toy poodle",266:"miniature poodle",267:"standard poodle",268:"Mexican hairless",269:"timber wolf, grey wolf, gray wolf, Canis lupus",270:"white wolf, Arctic wolf, Canis lupus tundrarum",271:"red wolf, maned wolf, Canis rufus, Canis niger",272:"coyote, prairie wolf, brush wolf, Canis latrans",273:"dingo, warrigal, warragal, Canis dingo",274:"dhole, Cuon alpinus",275:"African hunting dog, hyena dog, Cape hunting dog, Lycaon pictus",276:"hyena, hyaena",277:"red fox, Vulpes vulpes",278:"kit fox, Vulpes macrotis",279:"Arctic fox, white fox, Alopex lagopus",280:"grey fox, gray fox, Urocyon cinereoargenteus",281:"tabby, tabby cat",282:"tiger cat",283:"Persian cat",284:"Siamese cat, Siamese",285:"Egyptian cat",286:"cougar, puma, catamount, mountain lion, painter, panther, Felis concolor",287:"lynx, catamount",288:"leopard, Panthera pardus",289:"snow leopard, ounce, Panthera uncia",290:"jaguar, panther, Panthera onca, Felis onca",291:"lion, king of beasts, Panthera leo",292:"tiger, Panthera tigris",293:"cheetah, chetah, Acinonyx jubatus",294:"brown bear, bruin, Ursus arctos",295:"American black bear, black bear, Ursus americanus, Euarctos americanus",296:"ice bear, polar bear, Ursus Maritimus, Thalarctos maritimus",297:"sloth bear, Melursus ursinus, Ursus ursinus",298:"mongoose",299:"meerkat, mierkat",300:"tiger beetle",301:"ladybug, ladybeetle, lady beetle, ladybird, ladybird beetle",302:"ground beetle, carabid beetle",303:"long-horned beetle, longicorn, longicorn beetle",304:"leaf beetle, chrysomelid",305:"dung beetle",306:"rhinoceros beetle",307:"weevil",308:"fly",309:"bee",310:"ant, emmet, pismire",311:"grasshopper, hopper",312:"cricket",313:"walking stick, walkingstick, stick insect",314:"cockroach, roach",315:"mantis, mantid",316:"cicada, cicala",317:"leafhopper",318:"lacewing, lacewing fly",319:"dragonfly, darning needle, devil's darning needle, sewing needle, snake feeder, snake doctor, mosquito hawk, skeeter hawk",320:"damselfly",321:"admiral",322:"ringlet, ringlet butterfly",323:"monarch, monarch butterfly, milkweed butterfly, Danaus plexippus",324:"cabbage butterfly",325:"sulphur butterfly, sulfur butterfly",326:"lycaenid, lycaenid butterfly",327:"starfish, sea star",328:"sea urchin",329:"sea cucumber, holothurian",330:"wood rabbit, cottontail, cottontail rabbit",331:"hare",332:"Angora, Angora rabbit",333:"hamster",334:"porcupine, hedgehog",335:"fox squirrel, eastern fox squirrel, Sciurus niger",336:"marmot",337:"beaver",338:"guinea pig, Cavia cobaya",339:"sorrel",340:"zebra",341:"hog, pig, grunter, squealer, Sus scrofa",342:"wild boar, boar, Sus scrofa",343:"warthog",344:"hippopotamus, hippo, river horse, Hippopotamus amphibius",345:"ox",346:"water buffalo, water ox, Asiatic buffalo, Bubalus bubalis",347:"bison",348:"ram, tup",349:"bighorn, bighorn sheep, cimarron, Rocky Mountain bighorn, Rocky Mountain sheep, Ovis canadensis",350:"ibex, Capra ibex",351:"hartebeest",352:"impala, Aepyceros melampus",353:"gazelle",354:"Arabian camel, dromedary, Camelus dromedarius",355:"llama",356:"weasel",357:"mink",358:"polecat, fitch, foulmart, foumart, Mustela putorius",359:"black-footed ferret, ferret, Mustela nigripes",360:"otter",361:"skunk, polecat, wood pussy",362:"badger",363:"armadillo",364:"three-toed sloth, ai, Bradypus tridactylus",365:"orangutan, orang, orangutang, Pongo pygmaeus",366:"gorilla, Gorilla gorilla",367:"chimpanzee, chimp, Pan troglodytes",368:"gibbon, Hylobates lar",369:"siamang, Hylobates syndactylus, Symphalangus syndactylus",370:"guenon, guenon monkey",371:"patas, hussar monkey, Erythrocebus patas",372:"baboon",373:"macaque",374:"langur",375:"colobus, colobus monkey",376:"proboscis monkey, Nasalis larvatus",377:"marmoset",378:"capuchin, ringtail, Cebus capucinus",379:"howler monkey, howler",380:"titi, titi monkey",381:"spider monkey, Ateles geoffroyi",382:"squirrel monkey, Saimiri sciureus",383:"Madagascar cat, ring-tailed lemur, Lemur catta",384:"indri, indris, Indri indri, Indri brevicaudatus",385:"Indian elephant, Elephas maximus",386:"African elephant, Loxodonta africana",387:"lesser panda, red panda, panda, bear cat, cat bear, Ailurus fulgens",388:"giant panda, panda, panda bear, coon bear, Ailuropoda melanoleuca",389:"barracouta, snoek",390:"eel",391:"coho, cohoe, coho salmon, blue jack, silver salmon, Oncorhynchus kisutch",392:"rock beauty, Holocanthus tricolor",393:"anemone fish",394:"sturgeon",395:"gar, garfish, garpike, billfish, Lepisosteus osseus",396:"lionfish",397:"puffer, pufferfish, blowfish, globefish",398:"abacus",399:"abaya",400:"academic gown, academic robe, judge's robe",401:"accordion, piano accordion, squeeze box",402:"acoustic guitar",403:"aircraft carrier, carrier, flattop, attack aircraft carrier",404:"airliner",405:"airship, dirigible",406:"altar",407:"ambulance",408:"amphibian, amphibious vehicle",409:"analog clock",410:"apiary, bee house",411:"apron",412:"ashcan, trash can, garbage can, wastebin, ash bin, ash-bin, ashbin, dustbin, trash barrel, trash bin",413:"assault rifle, assault gun",414:"backpack, back pack, knapsack, packsack, rucksack, haversack",415:"bakery, bakeshop, bakehouse",416:"balance beam, beam",417:"balloon",418:"ballpoint, ballpoint pen, ballpen, Biro",419:"Band Aid",420:"banjo",421:"bannister, banister, balustrade, balusters, handrail",422:"barbell",423:"barber chair",424:"barbershop",425:"barn",426:"barometer",427:"barrel, cask",428:"barrow, garden cart, lawn cart, wheelbarrow",429:"baseball",430:"basketball",431:"bassinet",432:"bassoon",433:"bathing cap, swimming cap",434:"bath towel",435:"bathtub, bathing tub, bath, tub",436:"beach wagon, station wagon, wagon, estate car, beach waggon, station waggon, waggon",437:"beacon, lighthouse, beacon light, pharos",438:"beaker",439:"bearskin, busby, shako",440:"beer bottle",441:"beer glass",442:"bell cote, bell cot",443:"bib",444:"bicycle-built-for-two, tandem bicycle, tandem",445:"bikini, two-piece",446:"binder, ring-binder",447:"binoculars, field glasses, opera glasses",448:"birdhouse",449:"boathouse",450:"bobsled, bobsleigh, bob",451:"bolo tie, bolo, bola tie, bola",452:"bonnet, poke bonnet",453:"bookcase",454:"bookshop, bookstore, bookstall",455:"bottlecap",456:"bow",457:"bow tie, bow-tie, bowtie",458:"brass, memorial tablet, plaque",459:"brassiere, bra, bandeau",460:"breakwater, groin, groyne, mole, bulwark, seawall, jetty",461:"breastplate, aegis, egis",462:"broom",463:"bucket, pail",464:"buckle",465:"bulletproof vest",466:"bullet train, bullet",467:"butcher shop, meat market",468:"cab, hack, taxi, taxicab",469:"caldron, cauldron",470:"candle, taper, wax light",471:"cannon",472:"canoe",473:"can opener, tin opener",474:"cardigan",475:"car mirror",476:"carousel, carrousel, merry-go-round, roundabout, whirligig",477:"carpenter's kit, tool kit",478:"carton",479:"car wheel",480:"cash machine, cash dispenser, automated teller machine, automatic teller machine, automated teller, automatic teller, ATM",481:"cassette",482:"cassette player",483:"castle",484:"catamaran",485:"CD player",486:"cello, violoncello",487:"cellular telephone, cellular phone, cellphone, cell, mobile phone",488:"chain",489:"chainlink fence",490:"chain mail, ring mail, mail, chain armor, chain armour, ring armor, ring armour",491:"chain saw, chainsaw",492:"chest",493:"chiffonier, commode",494:"chime, bell, gong",495:"china cabinet, china closet",496:"Christmas stocking",497:"church, church building",498:"cinema, movie theater, movie theatre, movie house, picture palace",499:"cleaver, meat cleaver, chopper",500:"cliff dwelling",501:"cloak",502:"clog, geta, patten, sabot",503:"cocktail shaker",504:"coffee mug",505:"coffeepot",506:"coil, spiral, volute, whorl, helix",507:"combination lock",508:"computer keyboard, keypad",509:"confectionery, confectionary, candy store",510:"container ship, containership, container vessel",511:"convertible",512:"corkscrew, bottle screw",513:"cornet, horn, trumpet, trump",514:"cowboy boot",515:"cowboy hat, ten-gallon hat",516:"cradle",517:"crane",518:"crash helmet",519:"crate",520:"crib, cot",521:"Crock Pot",522:"croquet ball",523:"crutch",524:"cuirass",525:"dam, dike, dyke",526:"desk",527:"desktop computer",528:"dial telephone, dial phone",529:"diaper, nappy, napkin",530:"digital clock",531:"digital watch",532:"dining table, board",533:"dishrag, dishcloth",534:"dishwasher, dish washer, dishwashing machine",535:"disk brake, disc brake",536:"dock, dockage, docking facility",537:"dogsled, dog sled, dog sleigh",538:"dome",539:"doormat, welcome mat",540:"drilling platform, offshore rig",541:"drum, membranophone, tympan",542:"drumstick",543:"dumbbell",544:"Dutch oven",545:"electric fan, blower",546:"electric guitar",547:"electric locomotive",548:"entertainment center",549:"envelope",550:"espresso maker",551:"face powder",552:"feather boa, boa",553:"file, file cabinet, filing cabinet",554:"fireboat",555:"fire engine, fire truck",556:"fire screen, fireguard",557:"flagpole, flagstaff",558:"flute, transverse flute",559:"folding chair",560:"football helmet",561:"forklift",562:"fountain",563:"fountain pen",564:"four-poster",565:"freight car",566:"French horn, horn",567:"frying pan, frypan, skillet",568:"fur coat",569:"garbage truck, dustcart",570:"gasmask, respirator, gas helmet",571:"gas pump, gasoline pump, petrol pump, island dispenser",572:"goblet",573:"go-kart",574:"golf ball",575:"golfcart, golf cart",576:"gondola",577:"gong, tam-tam",578:"gown",579:"grand piano, grand",580:"greenhouse, nursery, glasshouse",581:"grille, radiator grille",582:"grocery store, grocery, food market, market",583:"guillotine",584:"hair slide",585:"hair spray",586:"half track",587:"hammer",588:"hamper",589:"hand blower, blow dryer, blow drier, hair dryer, hair drier",590:"hand-held computer, hand-held microcomputer",591:"handkerchief, hankie, hanky, hankey",592:"hard disc, hard disk, fixed disk",593:"harmonica, mouth organ, harp, mouth harp",594:"harp",595:"harvester, reaper",596:"hatchet",597:"holster",598:"home theater, home theatre",599:"honeycomb",600:"hook, claw",601:"hoopskirt, crinoline",602:"horizontal bar, high bar",603:"horse cart, horse-cart",604:"hourglass",605:"iPod",606:"iron, smoothing iron",607:"jack-o'-lantern",608:"jean, blue jean, denim",609:"jeep, landrover",610:"jersey, T-shirt, tee shirt",611:"jigsaw puzzle",612:"jinrikisha, ricksha, rickshaw",613:"joystick",614:"kimono",615:"knee pad",616:"knot",617:"lab coat, laboratory coat",618:"ladle",619:"lampshade, lamp shade",620:"laptop, laptop computer",621:"lawn mower, mower",622:"lens cap, lens cover",623:"letter opener, paper knife, paperknife",624:"library",625:"lifeboat",626:"lighter, light, igniter, ignitor",627:"limousine, limo",628:"liner, ocean liner",629:"lipstick, lip rouge",630:"Loafer",631:"lotion",632:"loudspeaker, speaker, speaker unit, loudspeaker system, speaker system",633:"loupe, jeweler's loupe",634:"lumbermill, sawmill",635:"magnetic compass",636:"mailbag, postbag",637:"mailbox, letter box",638:"maillot",639:"maillot, tank suit",640:"manhole cover",641:"maraca",642:"marimba, xylophone",643:"mask",644:"matchstick",645:"maypole",646:"maze, labyrinth",647:"measuring cup",648:"medicine chest, medicine cabinet",649:"megalith, megalithic structure",650:"microphone, mike",651:"microwave, microwave oven",652:"military uniform",653:"milk can",654:"minibus",655:"miniskirt, mini",656:"minivan",657:"missile",658:"mitten",659:"mixing bowl",660:"mobile home, manufactured home",661:"Model T",662:"modem",663:"monastery",664:"monitor",665:"moped",666:"mortar",667:"mortarboard",668:"mosque",669:"mosquito net",670:"motor scooter, scooter",671:"mountain bike, all-terrain bike, off-roader",672:"mountain tent",673:"mouse, computer mouse",674:"mousetrap",675:"moving van",676:"muzzle",677:"nail",678:"neck brace",679:"necklace",680:"nipple",681:"notebook, notebook computer",682:"obelisk",683:"oboe, hautboy, hautbois",684:"ocarina, sweet potato",685:"odometer, hodometer, mileometer, milometer",686:"oil filter",687:"organ, pipe organ",688:"oscilloscope, scope, cathode-ray oscilloscope, CRO",689:"overskirt",690:"oxcart",691:"oxygen mask",692:"packet",693:"paddle, boat paddle",694:"paddlewheel, paddle wheel",695:"padlock",696:"paintbrush",697:"pajama, pyjama, pj's, jammies",698:"palace",699:"panpipe, pandean pipe, syrinx",700:"paper towel",701:"parachute, chute",702:"parallel bars, bars",703:"park bench",704:"parking meter",705:"passenger car, coach, carriage",706:"patio, terrace",707:"pay-phone, pay-station",708:"pedestal, plinth, footstall",709:"pencil box, pencil case",710:"pencil sharpener",711:"perfume, essence",712:"Petri dish",713:"photocopier",714:"pick, plectrum, plectron",715:"pickelhaube",716:"picket fence, paling",717:"pickup, pickup truck",718:"pier",719:"piggy bank, penny bank",720:"pill bottle",721:"pillow",722:"ping-pong ball",723:"pinwheel",724:"pirate, pirate ship",725:"pitcher, ewer",726:"plane, carpenter's plane, woodworking plane",727:"planetarium",728:"plastic bag",729:"plate rack",730:"plow, plough",731:"plunger, plumber's helper",732:"Polaroid camera, Polaroid Land camera",733:"pole",734:"police van, police wagon, paddy wagon, patrol wagon, wagon, black Maria",735:"poncho",736:"pool table, billiard table, snooker table",737:"pop bottle, soda bottle",738:"pot, flowerpot",739:"potter's wheel",740:"power drill",741:"prayer rug, prayer mat",742:"printer",743:"prison, prison house",744:"projectile, missile",745:"projector",746:"puck, hockey puck",747:"punching bag, punch bag, punching ball, punchball",748:"purse",749:"quill, quill pen",750:"quilt, comforter, comfort, puff",751:"racer, race car, racing car",752:"racket, racquet",753:"radiator",754:"radio, wireless",755:"radio telescope, radio reflector",756:"rain barrel",757:"recreational vehicle, RV, R.V.",758:"reel",759:"reflex camera",760:"refrigerator, icebox",761:"remote control, remote",762:"restaurant, eating house, eating place, eatery",763:"revolver, six-gun, six-shooter",764:"rifle",765:"rocking chair, rocker",766:"rotisserie",767:"rubber eraser, rubber, pencil eraser",768:"rugby ball",769:"rule, ruler",770:"running shoe",771:"safe",772:"safety pin",773:"saltshaker, salt shaker",774:"sandal",775:"sarong",776:"sax, saxophone",777:"scabbard",778:"scale, weighing machine",779:"school bus",780:"schooner",781:"scoreboard",782:"screen, CRT screen",783:"screw",784:"screwdriver",785:"seat belt, seatbelt",786:"sewing machine",787:"shield, buckler",788:"shoe shop, shoe-shop, shoe store",789:"shoji",790:"shopping basket",791:"shopping cart",792:"shovel",793:"shower cap",794:"shower curtain",795:"ski",796:"ski mask",797:"sleeping bag",798:"slide rule, slipstick",799:"sliding door",800:"slot, one-armed bandit",801:"snorkel",802:"snowmobile",803:"snowplow, snowplough",804:"soap dispenser",805:"soccer ball",806:"sock",807:"solar dish, solar collector, solar furnace",808:"sombrero",809:"soup bowl",810:"space bar",811:"space heater",812:"space shuttle",813:"spatula",814:"speedboat",815:"spider web, spider's web",816:"spindle",817:"sports car, sport car",818:"spotlight, spot",819:"stage",820:"steam locomotive",821:"steel arch bridge",822:"steel drum",823:"stethoscope",824:"stole",825:"stone wall",826:"stopwatch, stop watch",827:"stove",828:"strainer",829:"streetcar, tram, tramcar, trolley, trolley car",830:"stretcher",831:"studio couch, day bed",832:"stupa, tope",833:"submarine, pigboat, sub, U-boat",834:"suit, suit of clothes",835:"sundial",836:"sunglass",837:"sunglasses, dark glasses, shades",838:"sunscreen, sunblock, sun blocker",839:"suspension bridge",840:"swab, swob, mop",841:"sweatshirt",842:"swimming trunks, bathing trunks",843:"swing",844:"switch, electric switch, electrical switch",845:"syringe",846:"table lamp",847:"tank, army tank, armored combat vehicle, armoured combat vehicle",848:"tape player",849:"teapot",850:"teddy, teddy bear",851:"television, television system",852:"tennis ball",853:"thatch, thatched roof",854:"theater curtain, theatre curtain",855:"thimble",856:"thresher, thrasher, threshing machine",857:"throne",858:"tile roof",859:"toaster",860:"tobacco shop, tobacconist shop, tobacconist",861:"toilet seat",862:"torch",863:"totem pole",864:"tow truck, tow car, wrecker",865:"toyshop",866:"tractor",867:"trailer truck, tractor trailer, trucking rig, rig, articulated lorry, semi",868:"tray",869:"trench coat",870:"tricycle, trike, velocipede",871:"trimaran",872:"tripod",873:"triumphal arch",874:"trolleybus, trolley coach, trackless trolley",875:"trombone",876:"tub, vat",877:"turnstile",878:"typewriter keyboard",879:"umbrella",880:"unicycle, monocycle",881:"upright, upright piano",882:"vacuum, vacuum cleaner",883:"vase",884:"vault",885:"velvet",886:"vending machine",887:"vestment",888:"viaduct",889:"violin, fiddle",890:"volleyball",891:"waffle iron",892:"wall clock",893:"wallet, billfold, notecase, pocketbook",894:"wardrobe, closet, press",895:"warplane, military plane",896:"washbasin, handbasin, washbowl, lavabo, wash-hand basin",897:"washer, automatic washer, washing machine",898:"water bottle",899:"water jug",900:"water tower",901:"whiskey jug",902:"whistle",903:"wig",904:"window screen",905:"window shade",906:"Windsor tie",907:"wine bottle",908:"wing",909:"wok",910:"wooden spoon",911:"wool, woolen, woollen",912:"worm fence, snake fence, snake-rail fence, Virginia fence",913:"wreck",914:"yawl",915:"yurt",916:"web site, website, internet site, site",917:"comic book",918:"crossword puzzle, crossword",919:"street sign",920:"traffic light, traffic signal, stoplight",921:"book jacket, dust cover, dust jacket, dust wrapper",922:"menu",923:"plate",924:"guacamole",925:"consomme",926:"hot pot, hotpot",927:"trifle",928:"ice cream, icecream",929:"ice lolly, lolly, lollipop, popsicle",930:"French loaf",931:"bagel, beigel",932:"pretzel",933:"cheeseburger",934:"hotdog, hot dog, red hot",935:"mashed potato",936:"head cabbage",937:"broccoli",938:"cauliflower",939:"zucchini, courgette",940:"spaghetti squash",941:"acorn squash",942:"butternut squash",943:"cucumber, cuke",944:"artichoke, globe artichoke",945:"bell pepper",946:"cardoon",947:"mushroom",948:"Granny Smith",949:"strawberry",950:"orange",951:"lemon",952:"fig",953:"pineapple, ananas",954:"banana",955:"jackfruit, jak, jack",956:"custard apple",957:"pomegranate",958:"hay",959:"carbonara",960:"chocolate sauce, chocolate syrup",961:"dough",962:"meat loaf, meatloaf",963:"pizza, pizza pie",964:"potpie",965:"burrito",966:"red wine",967:"espresso",968:"cup",969:"eggnog",970:"alp",971:"bubble",972:"cliff, drop, drop-off",973:"coral reef",974:"geyser",975:"lakeside, lakeshore",976:"promontory, headland, head, foreland",977:"sandbar, sand bar",978:"seashore, coast, seacoast, sea-coast",979:"valley, vale",980:"volcano",981:"ballplayer, baseball player",982:"groom, bridegroom",983:"scuba diver",984:"rapeseed",985:"daisy",986:"yellow lady's slipper, yellow lady-slipper, Cypripedium calceolus, Cypripedium parviflorum",987:"corn",988:"acorn",989:"hip, rose hip, rosehip",990:"buckeye, horse chestnut, conker",991:"coral fungus",992:"agaric",993:"gyromitra",994:"stinkhorn, carrion fungus",995:"earthstar",996:"hen-of-the-woods, hen of the woods, Polyporus frondosus, Grifola frondosa",997:"bolete",998:"ear, spike, capitulum",999:"toilet tissue, toilet paper, bathroom tissue"},AO=224,_O={"1.00":"module_apply_default/MobilenetV1/Logits/global_pool","2.00":"module_apply_default/MobilenetV2/Logits/AvgPool"},RO={"1.00":{.25:{url:"https://tfhub.dev/google/imagenet/mobilenet_v1_025_224/classification/1",inputRange:[0,1]},"0.50":{url:"https://tfhub.dev/google/imagenet/mobilenet_v1_050_224/classification/1",inputRange:[0,1]},.75:{url:"https://tfhub.dev/google/imagenet/mobilenet_v1_075_224/classification/1",inputRange:[0,1]},"1.00":{url:"https://tfhub.dev/google/imagenet/mobilenet_v1_100_224/classification/1",inputRange:[0,1]}},"2.00":{"0.50":{url:"https://tfhub.dev/google/imagenet/mobilenet_v2_050_224/classification/2",inputRange:[0,1]},.75:{url:"https://tfhub.dev/google/imagenet/mobilenet_v2_075_224/classification/2",inputRange:[0,1]},"1.00":{url:"https://tfhub.dev/google/imagenet/mobilenet_v2_100_224/classification/2",inputRange:[0,1]}}};var DO=function(){function e(e,t,n,a,r){void 0===a&&(a=-1),void 0===r&&(r=1),this.version=e,this.alpha=t,this.modelUrl=n,this.inputMin=a,this.inputMax=r,this.normalizationConstant=(r-a)/255}return e.prototype.load=function(){return CO(this,void 0,void 0,(function(){var e,t,n,a,r=this;return IO(this,(function(o){switch(o.label){case 0:return this.modelUrl?(e=this,[4,TO(this.modelUrl)]):[3,2];case 1:return e.model=o.sent(),[3,4];case 2:return t=RO[this.version][this.alpha].url,n=this,[4,TO(t,{fromTFHub:!0})];case 3:n.model=o.sent(),o.label=4;case 4:return[4,(a=gk((function(){return r.model.predict(tE([1,AO,AO,3]))}))).data()];case 5:return o.sent(),a.dispose(),[2]}}))}))},e.prototype.infer=function(e,t){var n=this;return void 0===t&&(t=!1),gk((function(){e instanceof xx||(e=tT(e));var a=LS(zS(DS(e,"float32"),n.normalizationConstant),n.inputMin),r=a;e.shape[0]===AO&&e.shape[1]===AO||(r=K_.resizeBilinear(a,[AO,AO],!0));var o,s=fC(r,[-1,AO,AO,3]);if(t){var i=_O[n.version],l=n.model.execute(s,i);o=cA(l,[1,2])}else{var c=n.model.predict(s);o=vC(c,[0,1],[-1,1e3])}return o}))},e.prototype.classify=function(e,t){return void 0===t&&(t=3),CO(this,void 0,void 0,(function(){var n,a;return IO(this,(function(r){switch(r.label){case 0:return[4,OO(n=this.infer(e),t)];case 1:return a=r.sent(),n.dispose(),[2,a]}}))}))},e}();function OO(e,t){return CO(this,void 0,void 0,(function(){var n,a,r,o,s,i,l;return IO(this,(function(c){switch(c.label){case 0:return[4,(n=nA(e)).data()];case 1:for(a=c.sent(),n.dispose(),r=[],l=0;l<a.length;l++)r.push({value:a[l],index:l});for(r.sort((function(e,t){return t.value-e.value})),o=new Float32Array(t),s=new Int32Array(t),l=0;l<t;l++)o[l]=r[l].value,s[l]=r[l].index;for(i=[],l=0;l<s.length;l++)i.push({className:EO[s[l]],probability:o[l]});return[2,i]}}))}))}const FO={kernelName:sy,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>zS(e,dA(DS(n,"float32"),-1))}}},LO={kernelName:iy,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=BS(DS(n,"float32")),a=jS(iN(YS(1),t));return UN(PS(e,a))}}}},MO={kernelName:ly,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=jS(iN(BS(DS(n,"float32")),1));return PS(e,t)}}}},PO={kernelName:cy,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t,r=hN(n.shape,a.shape);return{a:()=>{let t=e;const a=dN(n.shape,r);return a.length>0&&(t=yI(t,a)),fC(t,n.shape)},b:()=>{let t=e;const n=dN(a.shape,r);return n.length>0&&(t=yI(t,n)),fC(t,a.shape)}}}},zO={kernelName:uy,saveAllInputs:!0,gradFunc:(e,t)=>{const n={};return t.forEach(((t,a)=>{n[a]=()=>e.clone()})),n}},jO={kernelName:py,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>WS(n)}}},BO={kernelName:fy,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>WS(n)}}},WO={kernelName:my,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>PS(e,jS(iN(YS(1),BS(DS(n,"float32")))))}}},UO={kernelName:gy,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=jS(LS(YS(1),BS(DS(n,"float32"))));return PS(e,t)}}}},VO={kernelName:vy,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t,r=hN(n.shape,a.shape);return{a:()=>{const t=LS(BS(n),BS(a));let o=zS(e,PS(a,t));const s=dN(n.shape,r);return s.length>0&&(o=yI(o,s)),fC(o,n.shape)},b:()=>{const t=LS(BS(n),BS(a));let o=UN(zS(e,PS(n,t)));const s=dN(a.shape,r);return s.length>0&&(o=yI(o,s)),fC(o,a.shape)}}}},HO={kernelName:yy,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>PS(e,LS(BS(DS(n,"float32")),1))}}},GO={kernelName:by,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>PS(e,iN(YS(1),BS(DS(n,"float32"))))}}};const qO=nk({avgPool3dGrad_:function(e,t,n,a,r,o){const s=$x(e,"dy","avgPool3dGrad"),i=$x(t,"input","avgPool3dGrad");let l=s,c=i,u=!1;4===i.rank&&(u=!0,l=fC(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]]),c=fC(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]])),hg(5===l.rank,(()=>"Error in avgPool3dGrad: dy must be rank 5 but got rank "+"".concat(l.rank,"."))),hg(5===c.rank,(()=>"Error in avgPool3dGrad: input must be rank 5 but got rank "+"".concat(c.rank,"."))),pC("avgPool3dGrad",r,o);const d={dy:l,input:c},h={filterSize:n,strides:a,pad:r,dimRoundingMode:o},p=Vx.runKernel(Sy,d,h);return u?fC(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}}),KO={kernelName:ky,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[a]=t,{filterSize:r,strides:o,pad:s,dimRoundingMode:i}=n;return{x:()=>qO(e,a,r,o,s,i)}}};const XO=nk({avgPoolGrad_:function(e,t,n,a,r){const o=$x(e,"dy","avgPoolGrad"),s=$x(t,"input","avgPoolGrad");hg(s.rank===o.rank,(()=>"Rank of input (".concat(s.rank,") does not match rank of dy (").concat(o.rank,")")));let i=s,l=o,c=!1;3===s.rank&&(c=!0,i=fC(s,[1,s.shape[0],s.shape[1],s.shape[2]]),l=fC(o,[1,o.shape[0],o.shape[1],o.shape[2]])),hg(4===l.rank,(()=>"Error in avgPoolGrad: dy must be rank 4 but got rank "+"".concat(l.rank,"."))),hg(4===i.rank,(()=>"Error in avgPoolGrad: input must be rank 4 but got rank "+"".concat(i.rank,".")));const u={dy:l,input:i},d={filterSize:n,strides:a,pad:r},h=Vx.runKernel(xy,u,d);return c?fC(h,[h.shape[1],h.shape[2],h.shape[3]]):h}}),YO={kernelName:wy,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[a]=t,{filterSize:r,strides:o,pad:s}=n;return{x:()=>XO(e,a,r,o,s)}}},QO={kernelName:Ny,inputsToSave:["a","b"],gradFunc:(e,t,n)=>{const[a,r]=t,{transposeA:o,transposeB:s}=n;return o||s?!o&&s?{a:()=>jN(e,r,!1,!1),b:()=>jN(e,a,!0,!1)}:o&&!s?{a:()=>jN(r,e,!1,!0),b:()=>jN(a,e,!1,!1)}:{a:()=>jN(r,e,!0,!0),b:()=>jN(e,a,!0,!0)}:{a:()=>jN(e,r,!1,!0),b:()=>jN(a,e,!0,!1)}}},ZO={kernelName:Ty,gradFunc:(e,t,n)=>{const{blockShape:a,crops:r}=n;return{x:()=>bE(e,a,r)}}},JO={kernelName:Ey,gradFunc:(e,t,n)=>{const a=n,r=a.inputShape,o=a.shape,s=Array.from(o);for(let l=r.length-1;l>=0;l--)if(r[l]===o[l])s[l]=1;else if(1!==r[l])throw new Error("broadcastTo(): [".concat(r,"] cannot be broadcast to [").concat(o,"]."));const i=[];for(let l=0;l<s.length;l++)s[l]>1&&i.push(l);return{x:()=>yI(e,i,!0)}}},$O={kernelName:_y,gradFunc:e=>({x:()=>e.clone()})},eF={kernelName:Ry,gradFunc:e=>({x:()=>WS(e)})},tF={kernelName:Dy,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[a]=t,{clipValueMin:r,clipValueMax:o}=n;return{x:()=>eI(HI(AI(a,r),LI(a,o)),e,WS(e))}}},nF={kernelName:Fy,inputsToSave:["x"],gradFunc:FO.gradFunc},aF={kernelName:Ly,saveAllInputs:!0,gradFunc:(e,t,n)=>{const a=t.map((e=>e.shape)),{axis:r}=n,o=Cg(r,t[0].shape)[0],s=a.map((e=>e[o]));return sA(e,s,o).map((e=>()=>e))}},rF={kernelName:My,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[a,r]=t,{dilations:o,strides:s,pad:i,dataFormat:l}=n;return hg(cC(o),(()=>"Error in gradient of conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(o,"'"))),{x:()=>jC(a.shape,e,r,s,i,l),filter:()=>zA(a,e,r.shape,s,i,l)}}},oF={kernelName:zy,inputsToSave:["dy","filter"],gradFunc:(e,t,n)=>{const[a,r]=t,{strides:o,pad:s,dataFormat:i,dimRoundingMode:l}=n;return{dy:()=>PC(e,r,o,s,i,1,l),filter:()=>zA(e,a,r.shape,o,s,i,l)}}};const sF=nk({conv3DBackpropFilter_:function(e,t,n,a,r){let o=e;4===e.rank&&(o=fC(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));let s=t;4===s.rank&&(s=fC(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),hg(5===o.rank,(()=>"Error in conv3dDerFilter: input must be rank 5, but got shape "+"".concat(o.shape,"."))),hg(5===s.rank,(()=>"Error in conv3dDerFilter: dy must be rank 5, but got shape "+"".concat(s.shape,"."))),hg(5===n.length,(()=>"Error in conv3dDerFilter: filterShape must be length 5, but got "+"".concat(n,"."))),hg(o.shape[4]===n[3],(()=>"Error in conv3dDerFilter: depth of input ".concat(o.shape[4],") must ")+"match input depth in filter (".concat(n[3],"."))),hg(s.shape[4]===n[4],(()=>"Error in conv3dDerFilter: depth of dy (".concat(s.shape[4],") must ")+"match output depth for filter (".concat(n[4],").")));const i={x:o,dy:s},l={strides:a,pad:r,filterShape:n};return Vx.runKernel(By,i,l)}}),iF={kernelName:jy,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:a,strides:r,pad:o}=n;hg(cC(a),(()=>"Error in gradient of conv3D: dilation rates greater than 1 are "+"not yet supported in gradients. Got dilations '".concat(a,"'")));const[s,i]=t;return{x:()=>UC(s.shape,e,i,r,o),filter:()=>sF(s,e,i.shape,r,o)}}},lF={kernelName:Uy,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>zS(UN(QE(DS(n,"float32"))),e)}}},cF={kernelName:Vy,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>zS(ZE(DS(n,"float32")),e)}}},uF={kernelName:Gy,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[a]=t,{axis:r,exclusive:o,reverse:s}=n;return{x:()=>{const t=hI([r],a.rank);let n=KC(e,r,o,!s);return null!=t&&(n=HN(n,t)),n}}}},dF={kernelName:Yy,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const{dilations:a,strides:r,pad:o,dimRoundingMode:s}=n,i=null==a?[1,1]:a;hg(cC(i),(()=>"Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(i,"'")));const[l,c]=t;return hg(4===l.rank,(()=>"Error in gradient of depthwiseConv2dNative: input must be "+"rank 4, but got rank ".concat(l.rank,"."))),hg(4===c.rank,(()=>"Error in gradient of depthwiseConv2dNative: filter must be "+"rank 4, but got rank ".concat(c.rank,"."))),hg(l.shape[3]===c.shape[2],(()=>"Error in gradient of depthwiseConv2d: number of input "+"channels (".concat(l.shape[3],") must match the inChannels dimension ")+"in filter ".concat(c.shape[2],"."))),hg(uC(r,i),(()=>"Error in gradient of depthwiseConv2d: Either strides or "+"dilations must be  1. Got strides ".concat(r," and dilations ")+"'".concat(i,"'."))),pC("depthwiseConv2d",o,s),{x:()=>GA(l.shape,e,c,r,o,i,s),filter:()=>HA(l,e,c.shape,r,o,i,s)}}},hF={kernelName:$y,inputsToSave:["x","filter"],gradFunc:(e,t,n)=>{const[a,r]=t,o={x:a,filter:r,dy:e},s={x:a,filter:r,dy:e};return{x:()=>Vx.runKernel(eb,o,n),filter:()=>Vx.runKernel(tb,s,n)}}},pF={kernelName:ob,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t,a={dy:e,y:n};return{x:()=>Vx.runKernel(sb,a)}}},fF={kernelName:ib,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,a=zS(xI(UN(BS(n))),2/Math.sqrt(Math.PI));return{x:()=>zS(e,a)}}},mF={kernelName:cb,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>zS(e,n)}}},gF={kernelName:ub,inputsToSave:["input"],gradFunc:(e,t)=>{const[n]=t;return{input:()=>fC(e,n.shape)}}},yF={kernelName:db,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>zS(e,xI(n))}}},bF={kernelName:mb,gradFunc:e=>({x:()=>WS(e)})},vF={kernelName:gb,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t,r=hN(n.shape,a.shape);return{a:()=>{const t=PS(e,DS(a,"float32")),o=dN(n.shape,r);return o.length>0?fC(yI(t,o),n.shape):t},b:()=>{let t=zS(e,DS(n,"float32"));const o=dN(a.shape,r);o.length>0&&(t=fC(yI(t,o),a.shape));const s=BS(a);return UN(PS(t,DS(s,"float32")))}}}},wF={kernelName:yb,inputsToSave:["x","mean","variance","scale"],gradFunc:(e,t,n)=>{const{varianceEpsilon:a}=n,[r,o,s,i]=t,l=null==i?YS(1):i,c=dN(o.shape,r.shape),u=[];if(1===o.rank){for(let e=0;e<r.shape.length-1;++e)u.push(r.shape[e]);u.push(1)}const d=iN(r,o),h=zS(e,l),p=GE(LS(s,YS(a))),f=zS(zS(zS(p,p),p),YS(-.5));return{x:()=>1===o.rank?fC(zS(zS(e,NI(fC(p,[1,1,1,o.shape[0]]),u)),l),r.shape):fC(zS(zS(e,p),l),r.shape),mean:()=>{let e=zS(zS(p,YS(-1)),h);return 1===o.rank&&(e=yI(e,c)),fC(e,o.shape)},variance:()=>{let e=zS(zS(f,d),h);return 1===o.rank&&(e=yI(e,c)),fC(e,o.shape)},scale:()=>{const t=zS(d,p);let n=zS(e,t);return 1===o.rank&&(n=yI(n,c)),fC(n,o.shape)},offset:()=>{let t=e;return 1===o.rank&&(t=yI(t,c)),fC(t,o.shape)}}}},xF={kernelName:bb,inputsToSave:["x","indices"],gradFunc:(e,t,n)=>{const[a,r]=t,{axis:o,batchDims:s}=n,i=Cg(o,a.shape)[0],l=(e,t,n)=>()=>{const a=e.shape,r=t.size,s=a.slice(0,i),l=s.length,c=a.slice(o,a.length).slice(1),u=c.length,d=kF(0,l),h=kF(l+1,l+1+u),p=SF([s,[r],c]),f=fC(n,p),m=fC(t,[r]),g=SF([[l],d,h]),y=HN(f,g);let b=SA(y,m,e.shape[i]);const v=pI(g);return b=HN(b,v),b};if(1===s){const t=a.shape[0],n=a.split(t,0);return{x:()=>{const t=uA(n.map(((t,n)=>l(t,r.slice(n,1),e.slice(n,1))())));return t.reshape(a.shape)},indices:()=>r}}return{x:l(a,r,e),indices:()=>r}}};function kF(e,t){const n=[];for(let a=e;a<t;++a)n.push(a);return n}function SF(e){const t=[];for(let n=0;n<e.length;++n)for(let a=0;a<e[n].length;++a)t.push(e[n][a]);return t}const NF={kernelName:xb,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t;return{a:()=>WS(n),b:()=>WS(a)}}},TF={kernelName:kb,gradFunc:e=>({x:()=>DS(e,"float32")})},CF={kernelName:Tb,gradFunc:e=>({x:()=>WS(e)})},IF={kernelName:Cb,gradFunc:e=>({x:()=>WS(e)})},EF={kernelName:Ib,gradFunc:e=>({x:()=>WS(e)})},AF={kernelName:Eb,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[a]=t,{alpha:r}=n,o=EI(a,0);return{x:()=>eI(o,e,zS(e,r))}}},_F={kernelName:Ob,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>PS(e,LS(n,1))}}},RF={kernelName:Db,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>PS(e,DS(n,"float32"))}}},DF={kernelName:zb,inputsToSave:[],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[a]=t,{axis:r}=n;return{logits:()=>{const t=xI(a);return iN(e,zS(yI(e,r,!0),t))}}}};const OF=nk({localResponseNormalizationBackprop_:function(e,t,n){const a={x:e,y:t,dy:n},r={depthRadius:arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,bias:arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,alpha:arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,beta:arguments.length>6&&void 0!==arguments[6]?arguments[6]:.5};return Vx.runKernel(Wb,a,r)}}),FF={kernelName:Bb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[a,r]=t,{depthRadius:o,bias:s,alpha:i,beta:l}=n;return{x:()=>OF(a,r,e,o,s,i,l)}}};function LF(e,t,n,a){return t.rank<n.rank&&(t=fC(t,uI(t.shape,a))),e.rank<n.rank&&(e=fC(e,uI(e.shape,a))),{x:()=>zS(e,DS($C(n,t),e.dtype))}}const MF={kernelName:Vb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const a=n,{reductionIndices:r}=a,o=t[0],s=LF(e,t[1],o,Cg(r,o.shape));return{x:()=>s.x()}}},PF={kernelName:Hb,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t;return{a:()=>zS(e,DS(AI(n,a),"float32")),b:()=>zS(e,DS(FI(n,a),"float32"))}}};const zF=nk({maxPool3dGrad_:function(e,t,n,a,r,o,s){const i=$x(e,"dy","maxPool3dGrad"),l=$x(t,"input","maxPool3dGrad"),c=$x(n,"output","maxPool3dGrad");let u=i,d=l,h=c,p=!1;4===l.rank&&(p=!0,u=fC(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]]),d=fC(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]]),h=fC(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),hg(5===u.rank,(()=>"Error in maxPool3dGrad: dy must be rank 5 but got rank "+"".concat(u.rank,"."))),hg(5===d.rank,(()=>"Error in maxPool3dGrad: input must be rank 5 but got rank "+"".concat(d.rank,"."))),hg(5===h.rank,(()=>"Error in maxPool3dGrad: output must be rank 5 but got rank "+"".concat(h.rank,"."))),pC("maxPool3dGrad",o,s);const f={dy:u,input:d,output:h},m={filterSize:a,strides:r,pad:o,dimRoundingMode:s},g=Vx.runKernel(Xb,f,m);return p?fC(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}}),jF={kernelName:Kb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[a,r]=t,{filterSize:o,strides:s,pad:i,dimRoundingMode:l}=n;return{x:()=>zF(e,a,r,o,s,i,l)}}};const BF=nk({maxPoolGrad_:function(e,t,n,a,r,o,s){const i=$x(e,"dy","maxPoolGrad"),l=$x(t,"input","maxPoolGrad"),c=$x(n,"output","maxPoolGrad");hg(l.rank===i.rank,(()=>"Rank of input (".concat(l.rank,") does not match rank of dy ")+"(".concat(i.rank,")"))),hg(4===i.rank,(()=>"Error in maxPoolGrad: dy must be rank 4 but got rank "+"".concat(i.rank,"."))),hg(4===l.rank,(()=>"Error in maxPoolGrad: input must be rank 4 but got rank "+"".concat(l.rank,"."))),pC("maxPoolGrad",o,s);const u={dy:i,input:l,output:c},d={filterSize:a,strides:r,pad:o,dimRoundingMode:s};return Vx.runKernel(qb,u,d)}}),WF={kernelName:Gb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const[a,r]=t,{filterSize:o,strides:s,pad:i}=n;return{x:()=>BF(e,a,r,o,s,i)}}},UF={kernelName:$b,inputsToSave:["x"],gradFunc:(e,t,n)=>{const a=t[0],{paddings:r}=n,o=r.map((e=>e[0]));return{x:()=>vC(e,o,a.shape)}}},VF={kernelName:dv,inputsToSave:["x"],gradFunc:(e,t,n)=>{const a=t[0],{paddings:r}=n,o=r.map((e=>e[0]));return{x:()=>vC(e,o,a.shape)}}},HF={kernelName:pv,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:(e,t)=>{const[n,a,r]=t,o=n,s=a,i=hN(o.shape,s.shape);return{a:()=>{const t=DS(s,"float32");let n=zS(e,zS(t,sN(o,iN(t,YS(1)))));const a=dN(o.shape,i);return a.length>0&&(n=yI(n,a)),fC(n,o.shape)},b:()=>{const t=EI(o,0),n=eI(t,zI(o),WS(o));let a=zS(e,zS(r,n));const l=dN(s.shape,i);return l.length>0&&(a=yI(a,l)),fC(a,s.shape)}}}};function GF(e,t,n){const a=e.shape.length,r=a-n.length,o=hI(n,a);let s=e;null!=o&&(s=HN(e,o));const i=s.shape.slice(),l=i.splice(a-n.length,n.length).reduce(((e,t)=>e*t),1);i.push(l);let c=function(e,t,n){const a=e.shape.slice();a[n]=1;const r=fC(t,a),o=qC(e,n,!0,!1),s=qC(e,n,!0,!0),i=zS(o,s);return zS(r,i)}(s.reshape(i),t,r);if(c=c.reshape(s.shape),null!=o){const e=pI(o);c=HN(c,e)}return c}const qF={kernelName:Mv,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>{const t=EI(n,YS(0)),a=YS(gR),r=YS(yR),o=zS(e,r),s=zS(zS(e,a),xI(DS(n,"float32")));return eI(t,o,s)}}}},KF={kernelName:Pv,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[a]=t,{begin:r,size:o}=n,s=a.shape,[i,l]=kT(a,r,o),c=[];for(let u=0;u<e.rank;u++)c.push([i[u],s[u]-i[u]-l[u]]);return{x:()=>pE(e,c)}}},XF={kernelName:Gv,gradFunc:(e,t,n)=>{const{blockShape:a,paddings:r}=n;return{x:()=>kC(e,a,r)}}},YF={kernelName:qv,gradFunc:(e,t,n)=>{const{axis:a}=n;return{x:()=>yC(e,a)}}};const QF=[FO,LO,MO,PO,zO,jO,BO,WO,UO,VO,HO,GO,KO,YO,QO,ZO,JO,$O,eF,tF,nF,aF,oF,rF,iF,lF,cF,uF,dF,hF,{kernelName:ab,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t,r=hN(n.shape,a.shape);return{a:()=>{const t=PS(e,DS(a,"float32")),o=dN(n.shape,r);return o.length>0?fC(yI(t,o),n.shape):t},b:()=>{let t=zS(e,DS(n,"float32"));const o=dN(a.shape,r);o.length>0&&(t=fC(yI(t,o),a.shape));const s=BS(a);return UN(PS(t,DS(s,"float32")))}}}},pF,fF,mF,gF,yF,vF,bF,wF,xF,NF,TF,CF,IF,EF,AF,_F,RF,DF,FF,MF,MF,PF,jF,WF,{kernelName:Qb,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[a]=t,{axis:r}=n,o=Cg(r,a.shape),s=mg(cI(a.shape,o)[1]);return{x:()=>{const t=a.shape.slice();o.forEach((e=>{t[e]=1}));const n=fC(e,t);return PS(zS(n,nE(a.shape,"float32")),s)}}}},{kernelName:Zb,inputsToSave:["x"],outputsToSave:[!0],gradFunc:(e,t,n)=>{const a=n,{axis:r}=a,[o,s]=t,i=LF(e,s,o,Cg(r,o.shape));return{x:()=>i.x()}}},{kernelName:Jb,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t;return{a:()=>zS(e,DS(LI(n,a),"float32")),b:()=>zS(e,DS(EI(n,a),"float32"))}}},UF,{kernelName:ev,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t,r=hN(n.shape,a.shape);return{a:()=>{const t=dN(n.shape,r);return t.length>0?fC(yI(e,t),n.shape):e},b:()=>{const t=zS(e,UN(CI(PS(n,a)))),o=dN(a.shape,r);return o.length>0?fC(yI(t,o),a.shape):t}}}},{kernelName:nv,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t,r=hN(n.shape,a.shape);return{a:()=>{const t=zS(e,DS(a,"float32")),o=dN(n.shape,r);return o.length>0?fC(yI(t,o),n.shape):t},b:()=>{const t=zS(e,DS(n,"float32")),o=dN(a.shape,r);return o.length>0?fC(yI(t,o),a.shape):t}}}},{kernelName:av,gradFunc:e=>({x:()=>UN(e)})},{kernelName:cv,inputsToSave:["indices"],gradFunc:(e,t)=>{const n=t[0];return{indices:()=>tE(n.shape,"float32")}}},{kernelName:lv,gradFunc:e=>({x:()=>WS(e)})},{kernelName:uv,saveAllInputs:!0,gradFunc:(e,t,n)=>{const{axis:a}=n;return NA(e,a).map((e=>()=>e))}},VF,VF,HF,{kernelName:fv,inputsToSave:["x","alpha"],gradFunc:(e,t)=>{const[n,a]=t,r=EI(n,0);return{x:()=>eI(r,e,zS(e,a)),alpha:()=>{let t=eI(r,WS(e),zS(e,n));const o=dN(a.shape,e.shape);return o.length>0&&(t=yI(t,o)),fC(t,a.shape)}}}},{kernelName:mv,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[a]=t,{axis:r}=n;let o=[];return o=void 0===r||null===r?a.shape.map(((e,t)=>t)):"number"===typeof r?[r]:r,{x:()=>GF(a,e,o)}}},{kernelName:xv,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>PS(e,UN(BS(n)))}}},{kernelName:Ev,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t,a=zS(LI(n,6),dA(n));return{x:()=>zS(e,DS(a,"float32"))}}},{kernelName:kv,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>zS(e,DS(dA(n),"float32"))}}},{kernelName:Sv,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>fC(e,n.shape)}}},{kernelName:Cv,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[a]=t,r={dy:e,images:a};return{images:()=>Vx.runKernel(Iv,r,n)}}},{kernelName:Nv,inputsToSave:["images"],gradFunc:(e,t,n)=>{const[a]=t,r={dy:e,images:a};return{images:()=>Vx.runKernel(Tv,r,n)}}},{kernelName:Av,gradFunc:(e,t,n)=>{const{dims:a}=n,r=Cg(a,e.shape);return{x:()=>jE(e,r)}}},{kernelName:_v,gradFunc:e=>({x:()=>WS(e)})},{kernelName:Rv,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>UN(PS(e,zS(sN(n,1.5),2)))}}},{kernelName:Lv,inputsToSave:["condition"],gradFunc:(e,t)=>{const[n]=t;return{condition:()=>DS(WS(n),"float32"),t:()=>zS(e,DS(n,e.dtype)),e:()=>zS(e,DS(GI(n),e.dtype))}}},qF,{kernelName:Wv,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>zS(e,zS(n,iN(YS(1),n)))}}},{kernelName:Bv,gradFunc:e=>({x:()=>WS(e)})},{kernelName:zv,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>zS(HC(DS(n,"float32")),e)}}},{kernelName:jv,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>zS(GC(DS(n,"float32")),e)}}},KF,{kernelName:Kv,outputsToSave:[!0],gradFunc:(e,t,n)=>{const[a]=t,{dim:r}=n,o=zS(e,a);return{logits:()=>iN(o,zS(yI(o,[r],true),a))}}},{kernelName:Uv,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>zS(e,bC(n))}}},XF,XF,YF,YF,{kernelName:Vv,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>PS(e,zS(jS(DS(n,"float32")),2))}}},{kernelName:$v,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t,r=YS(2);return{a:()=>zS(e,zS(r,iN(n,a))),b:()=>zS(e,zS(r,iN(a,n)))}}},{kernelName:ew,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>zS(e,zS(DS(n,"float32"),2))}}},{kernelName:bw,gradFunc:e=>({x:()=>WS(e)})},{kernelName:sw,inputsToSave:["a","b"],gradFunc:(e,t)=>{const[n,a]=t,r=hN(n.shape,a.shape);return{a:()=>{let t=e;const a=dN(n.shape,r);return a.length>0&&(t=yI(t,a)),fC(t,n.shape)},b:()=>{let t=e;const n=dN(a.shape,r);return n.length>0&&(t=yI(t,n)),fC(UN(t),a.shape)}}}},{kernelName:Hv,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[a]=t,r=a.shape.slice(),{axis:o}=n;Cg(o,a.shape).forEach((e=>{r[e]=1}));const s=fC(e,r),i=zS(s,nE(a.shape,"float32"));return{x:()=>i}}},{kernelName:iw,inputsToSave:["x"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>PS(e,BS(HC(n)))}}},{kernelName:lw,outputsToSave:[!0],gradFunc:(e,t)=>{const[n]=t;return{x:()=>zS(iN(YS(1),BS(n)),e)}}},{kernelName:cw,inputsToSave:["x"],gradFunc:(e,t,n)=>{const[a]=t,{reps:r}=n;return{x:()=>{let t=WS(a);if(1===a.rank)for(let n=0;n<r[0];++n)t=LS(t,vC(e,[n*a.shape[0]],[a.shape[0]]));else if(2===a.rank)for(let n=0;n<r[0];++n)for(let o=0;o<r[1];++o)t=LS(t,vC(e,[n*a.shape[0],o*a.shape[1]],[a.shape[0],a.shape[1]]));else if(3===a.rank)for(let n=0;n<r[0];++n)for(let o=0;o<r[1];++o)for(let s=0;s<r[2];++s)t=LS(t,vC(e,[n*a.shape[0],o*a.shape[1],s*a.shape[2]],[a.shape[0],a.shape[1],a.shape[2]]));else{if(4!==a.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+"".concat(a.rank," tensors yet."));for(let n=0;n<r[0];++n)for(let o=0;o<r[1];++o)for(let s=0;s<r[2];++s)for(let i=0;i<r[3];++i)t=LS(t,vC(e,[n*a.shape[0],o*a.shape[1],s*a.shape[2],i*a.shape[3]],[a.shape[0],a.shape[1],a.shape[2],a.shape[3]]))}return t}}}},{kernelName:hw,gradFunc:(e,t,n)=>{const a=n,{perm:r}=a,o=pI(r);return{x:()=>HN(e,o)}}},{kernelName:fw,gradFunc:(e,t,n)=>{const a=n,{axis:r}=a;return{value:()=>uA(e,r)}}},{kernelName:mw,inputsToSave:["segmentIds"],gradFunc:(e,t)=>{const[n]=t;return{x:()=>function(e,t){const n=pN(t,WS(t)),a=II(e,n);let r=AI(t,YS(0,"int32"));const o=a.rank-r.rank;for(let i=0;i<o;++i)r=kI(r,i+1);r=HI(r,nE(a.shape,"bool"));const s=WS(a);return eI(r,a,s)}(e,n)}}},{kernelName:yw,gradFunc:e=>({x:()=>WS(e)})}];for(const n of QF)Dw(n);kx().prototype.abs=function(){return this.throwIfDisposed(),cN(this)},kx().prototype.acos=function(){return this.throwIfDisposed(),WT(this)},kx().prototype.acosh=function(){return this.throwIfDisposed(),UT(this)},kx().prototype.add=function(e){return this.throwIfDisposed(),LS(this,e)},kx().prototype.all=function(e,t){return this.throwIfDisposed(),HT(this,e,t)},kx().prototype.any=function(e,t){return this.throwIfDisposed(),GT(this,e,t)},kx().prototype.argMax=function(e){return this.throwIfDisposed(),qT(this,e)},kx().prototype.argMin=function(e){return this.throwIfDisposed(),KT(this,e)},kx().prototype.asScalar=function(){return this.throwIfDisposed(),hg(1===this.size,(()=>"The array must have only 1 element.")),fC(this,[])},kx().prototype.asType=function(e){return this.throwIfDisposed(),DS(this,e)},kx().prototype.as1D=function(){return this.throwIfDisposed(),fC(this,[this.size])},kx().prototype.as2D=function(e,t){return this.throwIfDisposed(),fC(this,[e,t])},kx().prototype.as3D=function(e,t,n){return this.throwIfDisposed(),fC(this,[e,t,n])},kx().prototype.as4D=function(e,t,n,a){return this.throwIfDisposed(),fC(this,[e,t,n,a])},kx().prototype.as5D=function(e,t,n,a,r){return this.throwIfDisposed(),fC(this,[e,t,n,a,r])},kx().prototype.asin=function(){return this.throwIfDisposed(),XT(this)},kx().prototype.asinh=function(){return this.throwIfDisposed(),YT(this)},kx().prototype.atan=function(){return this.throwIfDisposed(),QT(this)},kx().prototype.atan2=function(e){return this.throwIfDisposed(),ZT(this,e)},kx().prototype.atanh=function(){return this.throwIfDisposed(),JT(this)},kx().prototype.avgPool=function(e,t,n,a){return this.throwIfDisposed(),mC(this,e,t,n,a)},kx().prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),kC(this,e,t)},kx().prototype.batchNorm=function(e,t,n,a,r){return this.throwIfDisposed(),SC(this,e,t,n,a,r)},kx().prototype.broadcastTo=function(e){return this.throwIfDisposed(),_C(this,e)},kx().prototype.cast=function(e){return this.throwIfDisposed(),DS(this,e)},kx().prototype.ceil=function(){return this.throwIfDisposed(),RC(this)},kx().prototype.clipByValue=function(e,t){return this.throwIfDisposed(),DC(this,e,t)},kx().prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof xx&&(e=[e]),yC([this,...e],t)},kx().prototype.conv1d=function(e,t,n,a,r,o){return this.throwIfDisposed(),zC(this,e,t,n,a,r,o)},kx().prototype.conv2dTranspose=function(e,t,n,a,r){return this.throwIfDisposed(),BC(this,e,t,n,a,r)},kx().prototype.conv2d=function(e,t,n,a,r,o){return this.throwIfDisposed(),PC(this,e,t,n,a,r,o)},kx().prototype.cos=function(){return this.throwIfDisposed(),HC(this)},kx().prototype.cosh=function(){return this.throwIfDisposed(),GC(this)},kx().prototype.cumprod=function(e,t,n){return this.throwIfDisposed(),qC(this,e,t,n)},kx().prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),KC(this,e,t,n)},kx().prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),YC(this,e,t)},kx().prototype.depthwiseConv2d=function(e,t,n,a,r,o){return this.throwIfDisposed(),QC(this,e,t,n,a,r,o)},kx().prototype.dilation2d=function(e,t,n,a,r){return this.throwIfDisposed(),JC(this,e,t,n,a,r)},kx().prototype.divNoNan=function(e){return this.throwIfDisposed(),tI(this,e)},kx().prototype.div=function(e){return this.throwIfDisposed(),PS(this,e)},kx().prototype.dot=function(e){return this.throwIfDisposed(),nI(this,e)},kx().prototype.elu=function(){return this.throwIfDisposed(),rI(this)},kx().prototype.equal=function(e){return this.throwIfDisposed(),$C(this,e)},kx().prototype.erf=function(){return this.throwIfDisposed(),sI(this)},kx().prototype.euclideanNorm=function(e,t){return this.throwIfDisposed(),wI(this,e,t)},kx().prototype.exp=function(){return this.throwIfDisposed(),xI(this)},kx().prototype.expandDims=function(e){return this.throwIfDisposed(),kI(this,e)},kx().prototype.expm1=function(){return this.throwIfDisposed(),SI(this)},kx().prototype.fft=function(){return this.throwIfDisposed(),aA(this)},kx().prototype.flatten=function(){return this.throwIfDisposed(),fC(this,[this.size])},kx().prototype.floor=function(){return this.throwIfDisposed(),CI(this)},kx().prototype.floorDiv=function(e){return this.throwIfDisposed(),MS(this,e)},kx().prototype.gather=function(e,t,n){return this.throwIfDisposed(),II(this,e,t,n)},kx().prototype.greaterEqual=function(e){return this.throwIfDisposed(),AI(this,e)},kx().prototype.greater=function(e){return this.throwIfDisposed(),EI(this,e)},kx().prototype.ifft=function(){return this.throwIfDisposed(),rA(this)},kx().prototype.irfft=function(){return this.throwIfDisposed(),oA(this)},kx().prototype.isFinite=function(){return this.throwIfDisposed(),_I(this)},kx().prototype.isInf=function(){return this.throwIfDisposed(),RI(this)},kx().prototype.isNaN=function(){return this.throwIfDisposed(),DI(this)},kx().prototype.leakyRelu=function(e){return this.throwIfDisposed(),OI(this,e)},kx().prototype.lessEqual=function(e){return this.throwIfDisposed(),LI(this,e)},kx().prototype.less=function(e){return this.throwIfDisposed(),FI(this,e)},kx().prototype.localResponseNormalization=function(e,t,n,a){return this.throwIfDisposed(),PI(this,e,t,n,a)},kx().prototype.logSigmoid=function(){return this.throwIfDisposed(),WI(this)},kx().prototype.logSoftmax=function(e){return this.throwIfDisposed(),UI(this,e)},kx().prototype.logSumExp=function(e,t){return this.throwIfDisposed(),VI(this,e,t)},kx().prototype.log=function(){return this.throwIfDisposed(),zI(this)},kx().prototype.log1p=function(){return this.throwIfDisposed(),jI(this)},kx().prototype.logicalAnd=function(e){return this.throwIfDisposed(),HI(this,e)},kx().prototype.logicalNot=function(){return this.throwIfDisposed(),GI(this)},kx().prototype.logicalOr=function(e){return this.throwIfDisposed(),qI(this,e)},kx().prototype.logicalXor=function(e){return this.throwIfDisposed(),KI(this,e)},kx().prototype.matMul=function(e,t,n){return this.throwIfDisposed(),jN(this,e,t,n)},kx().prototype.maxPool=function(e,t,n,a){return this.throwIfDisposed(),ZI(this,e,t,n,a)},kx().prototype.max=function(e,t){return this.throwIfDisposed(),mI(this,e,t)},kx().prototype.maximum=function(e){return this.throwIfDisposed(),pN(this,e)},kx().prototype.mean=function(e,t){return this.throwIfDisposed(),eE(this,e,t)},kx().prototype.min=function(e,t){return this.throwIfDisposed(),gI(this,e,t)},kx().prototype.minimum=function(e){return this.throwIfDisposed(),rE(this,e)},kx().prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),oE(this,e,t)},kx().prototype.mod=function(e){return this.throwIfDisposed(),sE(this,e)},kx().prototype.mul=function(e){return this.throwIfDisposed(),zS(this,e)},kx().prototype.neg=function(){return this.throwIfDisposed(),UN(this)},kx().prototype.norm=function(e,t,n){return this.throwIfDisposed(),vI(this,e,t,n)},kx().prototype.notEqual=function(e){return this.throwIfDisposed(),uE(this,e)},kx().prototype.oneHot=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.throwIfDisposed(),BN(this,e,t,n)},kx().prototype.onesLike=function(){return this.throwIfDisposed(),dE(this)},kx().prototype.pad=function(e,t){return this.throwIfDisposed(),pE(this,e,t)},kx().prototype.pool=function(e,t,n,a,r,o){return this.throwIfDisposed(),vE(this,e,t,n,a,r,o)},kx().prototype.pow=function(e){return this.throwIfDisposed(),sN(this,e)},kx().prototype.prelu=function(e){return this.throwIfDisposed(),wE(this,e)},kx().prototype.prod=function(e,t){return this.throwIfDisposed(),xE(this,e,t)},kx().prototype.reciprocal=function(){return this.throwIfDisposed(),ME(this)},kx().prototype.relu=function(){return this.throwIfDisposed(),PE(this)},kx().prototype.relu6=function(){return this.throwIfDisposed(),zE(this)},kx().prototype.reshapeAs=function(e){return this.throwIfDisposed(),fC(this,e.shape)},kx().prototype.reshape=function(e){return this.throwIfDisposed(),fC(this,e)},kx().prototype.resizeBilinear=function(e,t,n){return this.throwIfDisposed(),v_(this,e,t,n)},kx().prototype.resizeNearestNeighbor=function(e,t,n){return this.throwIfDisposed(),w_(this,e,t,n)},kx().prototype.reverse=function(e){return this.throwIfDisposed(),jE(this,e)},kx().prototype.rfft=function(){return this.throwIfDisposed(),iA(this)},kx().prototype.round=function(){return this.throwIfDisposed(),HE(this)},kx().prototype.rsqrt=function(){return this.throwIfDisposed(),GE(this)},kx().prototype.selu=function(){return this.throwIfDisposed(),qE(this)},kx().prototype.separableConv2d=function(e,t,n,a,r,o){return this.throwIfDisposed(),KE(this,e,t,n,a,r,o)},kx().prototype.sigmoid=function(){return this.throwIfDisposed(),bC(this)},kx().prototype.sign=function(){return this.throwIfDisposed(),YE(this)},kx().prototype.sin=function(){return this.throwIfDisposed(),QE(this)},kx().prototype.sinh=function(){return this.throwIfDisposed(),ZE(this)},kx().prototype.slice=function(e,t){return this.throwIfDisposed(),vC(this,e,t)},kx().prototype.softmax=function(e){return this.throwIfDisposed(),nA(this,e)},kx().prototype.softplus=function(){return this.throwIfDisposed(),BI(this)},kx().prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),bE(this,e,t)},kx().prototype.split=function(e,t){return this.throwIfDisposed(),sA(this,e,t)},kx().prototype.sqrt=function(){return this.throwIfDisposed(),jS(this)},kx().prototype.square=function(){return this.throwIfDisposed(),BS(this)},kx().prototype.squaredDifference=function(e){return this.throwIfDisposed(),lA(this,e)},kx().prototype.squeeze=function(e){return this.throwIfDisposed(),cA(this,e)},kx().prototype.stack=function(e,t){this.throwIfDisposed();const n=e instanceof xx?[this,e]:[this,...e];return uA(n,t)},kx().prototype.step=function(e){return this.throwIfDisposed(),dA(this,e)},kx().prototype.stridedSlice=function(e,t,n,a,r,o,s,i){return this.throwIfDisposed(),hA(this,e,t,n,a,r,o,s,i)},kx().prototype.sub=function(e){return this.throwIfDisposed(),iN(this,e)},kx().prototype.sum=function(e,t){return this.throwIfDisposed(),yI(this,e,t)},kx().prototype.tan=function(){return this.throwIfDisposed(),pA(this)},kx().prototype.tanh=function(){return this.throwIfDisposed(),wC(this)},kx().prototype.tile=function(e){return this.throwIfDisposed(),NI(this,e)},kx().prototype.toBool=function(){return this.throwIfDisposed(),DS(this,"bool")},kx().prototype.toFloat=function(){return this.throwIfDisposed(),DS(this,"float32")},kx().prototype.toInt=function(){return this.throwIfDisposed(),DS(this,"int32")},kx().prototype.topk=function(e,t){return this.throwIfDisposed(),wA(this,e,t)},kx().prototype.transpose=function(e){return this.throwIfDisposed(),HN(this,e)},kx().prototype.unique=function(e){return this.throwIfDisposed(),kA(this,e)},kx().prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),SA(this,e,t)},kx().prototype.unstack=function(e){return this.throwIfDisposed(),NA(this,e)},kx().prototype.where=function(e,t){return this.throwIfDisposed(),eI(e,this,t)},kx().prototype.zerosLike=function(){return this.throwIfDisposed(),WS(this)};class ZF extends Error{constructor(e){super(e),Object.setPrototypeOf(this,ZF.prototype)}}class JF extends Error{constructor(e){super(e),Object.setPrototypeOf(this,JF.prototype)}}class $F extends Error{constructor(e){super(e),Object.setPrototypeOf(this,$F.prototype)}}class eL extends Error{constructor(e){super(e),Object.setPrototypeOf(this,eL.prototype)}}class tL extends Error{constructor(e){super(e),Object.setPrototypeOf(this,tL.prototype)}}Error;class nL{constructor(e){this.maxEntries=e||100,this.cache=new Map}get(e){let t;return this.cache.has(e)&&(t=this.cache.get(e),this.cache.delete(e),this.cache.set(e,t)),t}put(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){const e=this.cache.keys().next().value;this.cache.delete(e)}this.cache.set(e,t)}getMaxEntries(){return this.maxEntries}setMaxEntries(e){if(e<0)throw new Error("The maxEntries of LRU caches must be at least 0, but got ".concat(e,"."));if(this.maxEntries>e)for(let t=0;t<this.maxEntries-e;t++){const e=this.cache.keys().next().value;this.cache.delete(e)}this.maxEntries=e}}function aL(e,t){if(Array.isArray(e)){let n=[];for(let a=0;a<t;a++)n=n.concat(e);return n}{const n=new Array(t);return n.fill(e),n}}function rL(e,t){if(!e)throw new tL(t)}function oL(e,t){let n=0;for(const a of e)a===t&&n++;return n}function sL(e){return 1===e.length?e[0]:e}function iL(e){return Array.isArray(e)?e:[e]}function lL(e){const t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function cL(e){return e.length<=1||-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,((e,t)=>t.toUpperCase()))}let uL={};function dL(e){if(null===e||void 0===e)return null;const t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function hL(e){if(null!=e&&"object"===typeof e)if(Array.isArray(e))e.forEach((e=>hL(e)));else{const t=Object.keys(e);for(const n of t){const t=e[n];null!=t&&"object"===typeof t&&(Array.isArray(t)||"ndarray"!==t.type||"number"!==typeof t.value?hL(t):e[n]=t.value)}}}function pL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"object",r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("string"===typeof e){const r=e;let o;if(r in n)o=n[r];else if(r in uL)o=uL[r];else if(o=t[r],null==o)throw new $F("Unknown ".concat(a,": ").concat(e,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(a," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(a," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");return o}{const o=e;if(null==o.className||null==o.config)throw new $F("".concat(a,": Improper config format: ")+"".concat(JSON.stringify(o),".\n")+"'className' and 'config' must set.");const s=o.className;let i,l;if(s in n?[i,l]=n[s]:s in uL?[i,l]=uL.className:s in t&&([i,l]=t[s]),null==i)throw new $F("Unknown ".concat(a,": ").concat(s,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(a," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(a," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");if(null!=l){const e={};for(const n of Object.keys(uL))e[n]=uL[n];for(const r of Object.keys(n))e[r]=n[r];o.config.customObjects=e;const t=Object.assign({},uL);for(const r of Object.keys(n))uL[r]=n[r];hL(o.config);const a=l(i,o.config,n,r);return uL=Object.assign({},t),a}{const e=Object.assign({},uL);for(const a of Object.keys(n))uL[a]=n[a];const t=new i(o.config);return uL=Object.assign({},e),t}}}function fL(e,t){return-1*function(e,t){return e<t?-1:e>t?1:0}(e,t)}function mL(e){if(null==e)return e;const t=[];for(const n of e)-1===t.indexOf(n)&&t.push(n);return t}function gL(e){if(null==e)throw new $F("Invalid value in obj: ".concat(JSON.stringify(e)));for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function yL(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new $F("".concat(n," is not a valid ").concat(t,".  Valid values are ").concat(e," or null/undefined."))}function bL(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;return rL(n>=0),rL(a>=n),Array.isArray(e)&&e.length>=n&&e.length<=a&&e.every((e=>typeof e===t))}function vL(e,t){Array.isArray(e)?(hg(e.length>0,(()=>"".concat(t," is unexpectedly an empty array."))),e.forEach(((e,n)=>vL(e,"element ".concat(n+1," of ").concat(t))))):hg(Number.isInteger(e)&&e>0,(()=>"Expected ".concat(t," to be a positive integer, but got ")+"".concat(wL(e),".")))}function wL(e){return null===e?"null":Array.isArray(e)?"["+e.map((e=>wL(e))).join(",")+"]":"string"===typeof e?'"'.concat(e,'"'):"".concat(e)}function xL(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}let kL=0;function SL(){return kL++}const NL={};function TL(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e in NL||(NL[e]=0),NL[e]+=1,e+NL[e].toString()}const CL=["channelsFirst","channelsLast"],IL=["nearest","bilinear"],EL=["valid","same","causal"],AL=["max","avg"],_L=["sum","mul","concat","ave"],RL=new Map;function DL(e){yL(CL,"DataFormat",e)}function OL(e){yL(EL,"PaddingMode",e)}function FL(e){yL(AL,"PoolMode",e)}const LL=[],ML="/";function PL(e,t){LL.push(e);try{const e=t();return LL.pop(),e}catch(a4){throw LL.pop(),a4}}function zL(e){if(!WL(e))throw new Error("Not a valid tensor name: '"+e+"'");return(0===LL.length?"":LL.join(ML)+ML)+e}function jL(e){if(!WL(e))throw new Error("Not a valid tensor name: '"+e+"'");RL.has(e)||RL.set(e,0);const t=RL.get(e);if(RL.set(e,RL.get(e)+1),t>0){const n="".concat(e,"_").concat(t);return RL.set(n,1),n}return e}const BL=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function WL(e){return!!e.match(BL)}function UL(e,t,n){null==t&&(t=0),null==n&&(n=e.length);let a=1;for(let r=t;r<n;++r)a*=e[r];return a}function VL(e){if(0===e.length)return Number.NaN;let t=Number.POSITIVE_INFINITY;for(let n=0;n<e.length;n++){const a=e[n];a<t&&(t=a)}return t}function HL(e){if(0===e.length)return Number.NaN;let t=Number.NEGATIVE_INFINITY;for(let n=0;n<e.length;n++){const a=e[n];a>t&&(t=a)}return t}function GL(e,t){if(t<e)throw new $F("end (".concat(t,") < begin (").concat(e,") is forbidden."));const n=[];for(let a=e;a<t;++a)n.push(a);return n}let qL;function KL(){return null==qL&&(qL=Ik().epsilon()),qL}function XL(e,t){return DS(e,t)}function YL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),fC(e,n)}function QL(e,t,n){return gk((()=>{switch(e.rank){case 1:return JE(e,t,n);case 2:return $E(e,[t,0],[n,e.shape[1]]);case 3:return eA(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return tA(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return vC(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return vC(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new $F("sliceAlongFirstAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function ZL(e,t,n){return gk((()=>{switch(e.rank){case 1:return JE(e,t,n);case 2:return $E(e,[0,t],[e.shape[0],n]);case 3:return eA(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return tA(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new $F("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function JL(e,t,n,a){return gk((()=>{switch(e.rank){case 1:return JE(e,t,n);case 2:switch(a){case 1:return QL(e,t,n);case 2:return ZL(e,t,n);default:throw new $F("The axis is not within the rank of the tensor "+"".concat(a))}case 3:switch(a){case 1:return QL(e,t,n);case 2:return eA(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return ZL(e,t,n);default:throw new $F("The axis is not within the rank of the tensor "+"".concat(a))}case 4:switch(a){case 1:return QL(e,t,n);case 2:return tA(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return tA(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return ZL(e,t,n);default:throw new $F("The axis is not within the rank of the tensor "+"".concat(a))}default:throw new $F("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function $L(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return n<0&&(t=e[0].rank,n=0!==t?t:0),n===e[0].rank&&(n=-1),yC(e,n)}function eM(e,t){switch(e.rank){case 1:return OC([e,t]);case 2:return FC([e,t],0);case 3:return LC([e,t],0);case 4:return MC([e,t],0);default:throw new $F("concatAlongFirstAxis() received an unsupported "+"tensor rank: ".concat(e.rank))}}function tM(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new $F("The length of input n (".concat(t.length,") does not match ")+"the number of dimensions in input x (".concat(e.rank,")"));return NI(e,t)}function nM(e){return RE(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,arguments.length>3?arguments[3]:void 0,arguments.length>4?arguments[4]:void 0)}function aM(e,t,n,a){if(e.rank<2||t.rank<2)throw new eL("dot requires both inputs to be rank >= 2"+" but got x shape = ".concat(e.shape," and y shape = ").concat(t.shape));if(t.rank>=3){if(e.shape.slice(-1)[0]!==t.shape.slice(-2)[0])throw new eL("If rank y >= 3, then the second last dim"+" of y must equal the last dim of x but got x shape = ".concat(e.shape," and ")+" y shape = ".concat(t.shape))}if(2===e.rank&&2===t.rank){return KA({a:e,b:t,transposeA:!1,transposeB:!1,bias:a?sM(e.rank,a,"channelsLast"):null,activation:n})}{const r=e.shape.slice(),o=r.pop();e=fC(e,[-1,o]);const s=t.shape.slice(),i=s.pop(),l=s.pop(),c=[...s,i],u=Array.from({length:t.rank},((e,n)=>0===n?t.rank-2:n<=t.rank-2?n-1:n));t=fC(HN(t,u),[l,-1]);const d=[...r,...c];return fC(KA({a:e,b:t,transposeA:!1,transposeB:!1,bias:a?sM(e.rank,a,"channelsLast"):null,activation:n}),d)}}function rM(e,t,n){return gk((()=>(t=Array.isArray(t)?fA(t,"int32"):DS(t,"int32"),II(e,t,n))))}function oM(e){return zS(e,e)}function sM(e,t,n){const a=t.shape;if(1!==t.rank&&t.rank!==e)throw new $F("Unexpected bias dimensions: ".concat(t.rank)+"; expected it to be 1 or ".concat(e));if(5===e){if("channelsFirst"===n)return 1===a.length?fC(t,[1,a[0],1,1,1]):fC(t,[1,a[3],a[0],a[1],a[2]]);if("channelsLast"===n)return 1===a.length?fC(t,[1,1,1,1,a[0]]):fC(t,[1].concat(a))}else if(4===e){if("channelsFirst"===n)return 1===a.length?fC(t,[1,a[0],1,1]):fC(t,[1,a[2],a[0],a[1]]);if("channelsLast"===n)return 1===a.length?fC(t,[1,1,1,a[0]]):fC(t,[1].concat(a))}else if(3===e){if("channelsFirst"===n)return 1===a.length?fC(t,[1,a[0],1]):fC(t,[1,a[1],a[0]]);if("channelsLast"===n)return 1===a.length?fC(t,[1,1,a[0]]):fC(t,[1].concat(a))}else if(e<3)return t;throw new $F("Unsupported input rank by biasAdd: ".concat(t.rank))}function iM(e,t,n){return gk((()=>(null==n&&(n="channelsLast"),DL(n),LS(e,sM(e.rank,t,n)))))}function lM(e,t,n,a){return gk((()=>FA(e,t,n,a)))}function cM(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?e():t()}const uM=["fanIn","fanOut","fanAvg"],dM=["normal","uniform","truncatedNormal"];class hM extends JS{fromConfigUsesCustomObjects(){return!1}getConfig(){return{}}}class pM extends hM{apply(e,t){return tE(e,t)}}pM.className="Zeros",eN(pM);class fM extends hM{apply(e,t){return nE(e,t)}}fM.className="Ones",eN(fM);class mM extends hM{constructor(e){if(super(),"object"!==typeof e)throw new $F("Expected argument of type ConstantConfig but got ".concat(e));if(void 0===e.value)throw new $F("config must have value set but got ".concat(e));this.value=e.value}apply(e,t){return gk((()=>zS(YS(this.value),nE(e,t))))}getConfig(){return{value:this.value}}}mM.className="Constant",eN(mM);class gM extends hM{constructor(e){super(),this.DEFAULT_MINVAL=-.05,this.DEFAULT_MAXVAL=.05,this.minval=e.minval||this.DEFAULT_MINVAL,this.maxval=e.maxval||this.DEFAULT_MAXVAL,this.seed=e.seed}apply(e,t){return OE(e,this.minval,this.maxval,t,this.seed)}getConfig(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}gM.className="RandomUniform",eN(gM);class yM extends hM{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new eL("randomNormal does not support dType ".concat(t,"."));return nM(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}yM.className="RandomNormal",eN(yM);class bM extends hM{constructor(e){super(),this.DEFAULT_MEAN=0,this.DEFAULT_STDDEV=.05,this.mean=e.mean||this.DEFAULT_MEAN,this.stddev=e.stddev||this.DEFAULT_STDDEV,this.seed=e.seed}apply(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new eL("truncatedNormal does not support dType ".concat(t,"."));return xA(e,this.mean,this.stddev,t,this.seed)}getConfig(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}bM.className="TruncatedNormal",eN(bM);class vM extends hM{constructor(e){super(),this.gain=null!=e.gain?e.gain:1}apply(e,t){return gk((()=>{if(2!==e.length||e[0]!==e[1])throw new $F("Identity matrix initializer can only be used for 2D square matrices.");return zS(this.gain,TI(e[0]))}))}getConfig(){return{gain:this.gain}}}vM.className="Identity",eN(vM);class wM extends hM{constructor(e){if(super(),e.scale<0)throw new $F("scale must be a positive float. Got: ".concat(e.scale));var t;this.scale=null==e.scale?1:e.scale,this.mode=null==e.mode?"fanIn":e.mode,t=this.mode,yL(uM,"FanMode",t),this.distribution=null==e.distribution?"normal":e.distribution,function(e){yL(dM,"Distribution",e)}(this.distribution),this.seed=e.seed}apply(e,t){const n=function(e){let t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"channelsLast";if(DL(a),2===e.length)t=e[0],n=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if("channelsFirst"===a){const a=UL(e,2);t=e[1]*a,n=e[0]*a}else if("channelsLast"===a){const a=UL(e,0,e.length-2);t=e[e.length-2]*a,n=e[e.length-1]*a}}else{const a=UL(e);t=Math.sqrt(a),n=Math.sqrt(a)}return[t,n]}(e),a=n[0],r=n[1];let o=this.scale;if("fanIn"===this.mode?o/=Math.max(1,a):"fanOut"===this.mode?o/=Math.max(1,r):o/=Math.max(1,(a+r)/2),"normal"===this.distribution){const n=Math.sqrt(o);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new eL("".concat(this.getClassName()," does not support dType ").concat(t,"."));return xA(e,0,n,t,this.seed)}{const n=Math.sqrt(3*o);return OE(e,-n,n,t,this.seed)}}getConfig(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}wM.className="VarianceScaling",eN(wM);class xM extends wM{constructor(e){super({scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return wM.className}}xM.className="GlorotUniform",eN(xM);class kM extends wM{constructor(e){super({scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return wM.className}}kM.className="GlorotNormal",eN(kM);class SM extends wM{constructor(e){super({scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return wM.className}}SM.className="HeNormal",eN(SM);class NM extends wM{constructor(e){super({scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return wM.className}}NM.className="HeUniform",eN(NM);class TM extends wM{constructor(e){super({scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}getClassName(){return wM.className}}TM.className="LeCunNormal",eN(TM);class CM extends wM{constructor(e){super({scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}getClassName(){return wM.className}}CM.className="LeCunUniform",eN(CM);class IM extends hM{constructor(e){super(),this.DEFAULT_GAIN=1,this.ELEMENTS_WARN_SLOW=2e3,this.gain=null==e.gain?this.DEFAULT_GAIN:e.gain,this.seed=e.seed}apply(e,t){return gk((()=>{if(e.length<2)throw new eL("Shape must be at least 2D.");if("int32"!==t&&"float32"!==t&&void 0!==t)throw new TypeError("Unsupported data type ".concat(t,"."));const n=mg(e.slice(0,-1)),a=e[e.length-1],r=n*a;r>this.ELEMENTS_WARN_SLOW&&console.warn("Orthogonal initializer is being called on a matrix with more "+"than ".concat(this.ELEMENTS_WARN_SLOW," (").concat(r,") elements: ")+"Slowness may result.");const o=nM([Math.max(a,n),Math.min(a,n)],0,1,t,this.seed),s=X_.qr(o,!1);let i=s[0];const l=s[1].flatten().stridedSlice([0],[Math.min(a,n)*Math.min(a,n)],[Math.min(a,n)+1]);return i=zS(i,l.sign()),n<a&&(i=i.transpose()),zS(YS(this.gain),i.reshape(e))}))}getConfig(){return{gain:this.gain,seed:this.seed}}}IM.className="Orthogonal",eN(IM);const EM={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function AM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return pL(e,$S.getMap().classNameMap,t,"initializer")}function _M(e){return dL(e)}function RM(e){if("string"===typeof e){const t=e in EM?EM[e]:e;if("GlorotNormal"===t)return new kM;if("GlorotUniform"===t)return new xM;if("HeNormal"===t)return new SM;if("HeUniform"===t)return new NM;if("LeCunNormal"===t)return new TM;if("LeCunUniform"===t)return new CM;{const e={};return e.className=t,e.config={},AM(e)}}return e instanceof hM?e:AM(e)}function DM(e){return Array.isArray(e)&&Array.isArray(e[0])}function OM(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function FM(e){let t;if(Array.isArray(e)){if(1!==e.length)throw new $F("Expected Tensor length to be 1; got ".concat(e.length));t=e[0]}else t=e;return t}function LM(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return e[0];throw new $F("Expected exactly 1 Shape; got ".concat(e.length))}return e}function MM(e){let t=0;for(const n of e)0===n.shape.length?t+=1:t+=n.shape.reduce(((e,t)=>e*t));return t}const PM="Variable";class zM{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:PM,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.dtype=null==t?"float32":t,this.shape=e.shape,this.id=SL(),n=null==n?PM:n,this.originalName=zL(n),this.name=jL(this.originalName),this.trainable_=a,this.constraint=r,this.val=CA(e,this.trainable_,this.name,this.dtype)}read(){return this.assertNotDisposed(),this.val}write(e){return this.assertNotDisposed(),function(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}dispose(){this.assertNotDisposed(),this.val.dispose()}assertNotDisposed(){if(this.val.isDisposed)throw new Error("LayersVariable ".concat(this.name," is already disposed."))}get trainable(){return this.trainable_}set trainable(e){this.trainable_=e,this.val.trainable=e}}function jM(e){return e.map((e=>e.read()))}function BM(e){e.forEach((e=>{e[0].write(e[1])}))}class WM{constructor(e){this.dtype=e.dtype,this.shape=e.shape,null!=e.shape?this.ndim=e.shape.length:this.ndim=e.ndim,this.maxNDim=e.maxNDim,this.minNDim=e.minNDim,this.axes=e.axes||{}}}class UM{constructor(e,t,n,a,r,o,s){this.dtype=e,this.shape=t,this.sourceLayer=n,this.inputs=a,this.callArgs=r,this.outputTensorIndex=s,this.id=SL(),null!=o&&(this.originalName=zL(o),this.name=jL(this.originalName)),this.rank=t.length}}let VM=0;class HM{constructor(e,t){this.callArgs=t,this.id=VM++,this.outboundLayer=e.outboundLayer,this.inboundLayers=e.inboundLayers,this.nodeIndices=e.nodeIndices,this.tensorIndices=e.tensorIndices,this.inputTensors=e.inputTensors,this.outputTensors=e.outputTensors,this.inputMasks=e.inputMasks,this.outputMasks=e.outputMasks,this.inputShapes=e.inputShapes,this.outputShapes=e.outputShapes;for(const n of e.inboundLayers)null!=n&&n.outboundNodes.push(this);e.outboundLayer.inboundNodes.push(this)}getConfig(){const e=[];for(const t of this.inboundLayers)null!=t?e.push(t.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}let GM=0;class qM extends JS{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._callHook=null,this._addedWeightNames=[],this._stateful=!1,this.id=GM++,this.activityRegularizer=null,this.inputSpec=null,this.supportsMasking=!1,this._trainableWeights=[],this._nonTrainableWeights=[],this._losses=[],this._updates=[],this._built=!1,this.inboundNodes=[],this.outboundNodes=[];let t=e.name;if(!t){const e=this.getClassName();t=lL(e)+"_"+TL(e)}if(this.name=t,this.trainable_=null==e.trainable||e.trainable,null!=e.inputShape||null!=e.batchInputShape){let t;if(null!=e.batchInputShape)t=e.batchInputShape;else if(null!=e.inputShape){let n=null;null!=e.batchSize&&(n=e.batchSize),t=[n].concat(e.inputShape)}this.batchInputShape=t;let n=e.dtype;null==n&&(n=e.inputDType),null==n&&(n="float32"),this.dtype=n}null!=e.weights?this.initialWeights=e.weights:this.initialWeights=null,this._refCount=null,this.fastWeightInitDuringBuild=!1}static nodeKey(e,t){return e.name+"_ib-"+t.toString()}getNodeAtIndex(e,t){if(0===this.inboundNodes.length)throw new JF("The layer has never been called "+"and thus has no defined ".concat(t,"."));if(this.inboundNodes.length<=e)throw new $F("Asked to get ".concat(t," at node ").concat(e,", ")+"but the layer has only ".concat(this.inboundNodes.length," inbound nodes."));return this.inboundNodes[e]}getInputAt(e){return sL(this.getNodeAtIndex(e,"input").inputTensors)}getOutputAt(e){return sL(this.getNodeAtIndex(e,"output").outputTensors)}get input(){if(this.inboundNodes.length>1)throw new ZF("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(0===this.inboundNodes.length)throw new ZF("Layer ".concat(this.name)+" is not connected, no input to return.");return sL(this.getNodeAtIndex(0,"input").inputTensors)}get output(){if(0===this.inboundNodes.length)throw new ZF("Layer ".concat(this.name)+" has no inbound nodes.");if(this.inboundNodes.length>1)throw new ZF("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return sL(this.getNodeAtIndex(0,"output").outputTensors)}get losses(){return this._losses}calculateLosses(){return this.losses.map((e=>e()))}get updates(){return this._updates}get built(){return this._built}set built(e){this._built=e}get trainable(){return this.trainable_}set trainable(e){this._trainableWeights.forEach((t=>t.trainable=e)),this.trainable_=e}get trainableWeights(){return this.trainable_?this._trainableWeights.filter((e=>e.trainable)):[]}set trainableWeights(e){this._trainableWeights=e}get nonTrainableWeights(){return this.trainable?this._trainableWeights.filter((e=>!e.trainable)).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)}set nonTrainableWeights(e){this._nonTrainableWeights=e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}get stateful(){return this._stateful}resetStates(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}assertInputCompatibility(e){const t=iL(e);if(null==this.inputSpec||0===this.inputSpec.length)return;const n=iL(this.inputSpec);if(t.length!==n.length)throw new $F("Layer ".concat(this.name," expects ").concat(n.length," inputs, ")+"but it received ".concat(t.length," input tensors. ")+"Input received: ".concat(e));for(let a=0;a<t.length;a++){const e=t[a],r=n[a];if(null==r)continue;const o=e.rank;if(null!=r.ndim&&o!==r.ndim)throw new $F("Input ".concat(a," is incompatible with layer ").concat(this.name,": ")+"expected ndim=".concat(r.ndim,", found ndim=").concat(o));if(null!=r.maxNDim&&o>r.maxNDim)throw new $F("Input ".concat(a," is incompatible with layer ").concat(this.name)+": expected max_ndim=".concat(r.maxNDim,", found ndim=").concat(o));if(null!=r.minNDim&&o<r.minNDim)throw new $F("Input ".concat(a," is incompatible with layer ").concat(this.name)+": expected min_ndim=".concat(r.minNDim,", found ndim=").concat(o,"."));if(null!=r.dtype&&e.dtype!==r.dtype)throw new $F("Input ".concat(a," is incompatible with layer ").concat(this.name," ")+": expected dtype=".concat(r.dtype,", found dtype=").concat(e.dtype,"."));if(r.axes){const t=e.shape;for(const e in r.axes){const n=Number(e),o=r.axes[e],s=n>=0?t[n]:t[t.length+n];if(null!=o&&-1===[o,null].indexOf(s))throw new $F("Input ".concat(a," is incompatible with layer ")+"".concat(this.name,": expected axis ").concat(n," of input shape to ")+"have value ".concat(o," but got shape ").concat(t,"."))}}if(null!=r.shape)for(let t=0;t<r.shape.length;++t){const n=r.shape[t],o=e.shape[t];if(null!=n&&null!=o&&n!==o)throw new $F("Input ".concat(a," is incompatible with layer ")+"".concat(this.name,": expected shape=").concat(r.shape,", ")+"found shape=".concat(e.shape,"."))}}}call(e,t){return e}invokeCallHook(e,t){null!=this._callHook&&this._callHook(e,t)}setCallHook(e){this._callHook=e}clearCallHook(){this._callHook=null}apply(e,t){t=t||{},this.assertNotDisposed();const n=iL(e),a=function(e){let t=!0;for(const n of iL(e))if(!(n instanceof UM)){t=!1;break}return t}(e),r=function(e){let t=!0;for(const n of iL(e))if(n instanceof UM){t=!1;break}return t}(e);if(a===r)throw new $F("Arguments to apply() must be all SymbolicTensors or all Tensors");return PL(this.name,(()=>{if(!this.built){this.assertInputCompatibility(e);const t=[];for(const n of iL(e))t.push(n.shape);this.build(sL(t)),this.built=!0,this.initialWeights&&this.setWeights(this.initialWeights),null===this._refCount&&r&&(this._refCount=1)}if(this.assertInputCompatibility(e),r){let a=this.call(e,t);this.supportsMasking&&this.setMaskMetadata(e,a);const r=iL(a),o=[];for(let e of r)-1!==n.indexOf(e)&&(e=e.clone()),o.push(e);if(a=sL(o),null!=this.activityRegularizer)throw new eL("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return a}{const n=function(e){e=iL(e);const t=[];for(const n of e)t.push(n.shape);return sL(t)}(e),a=this.computeOutputShape(n);let r;const o="float32";if(this.warnOnIncompatibleInputShape(Array.isArray(e)?n[0]:n),r=null!=a&&a.length>0&&Array.isArray(a[0])?a.map(((n,a)=>new UM(o,n,this,iL(e),t,this.name,a))):new UM(o,a,this,iL(e),t,this.name),this.addInboundNode(e,r,null,null,n,a,t),this._refCount++,null!=this.activityRegularizer)throw new eL("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return r}}))}warnOnIncompatibleInputShape(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn("The rank of the input tensor provided (shape: "+"".concat(JSON.stringify(e),") does not match that of the ")+"batchInputShape (".concat(JSON.stringify(this.batchInputShape),") ")+"of the layer ".concat(this.name));else{let t=!1;this.batchInputShape.forEach(((n,a)=>{null!=n&&null!=e[a]&&e[a]!==n&&(t=!0)})),t&&console.warn("The shape of the input tensor "+"(".concat(JSON.stringify(e),") does not ")+"match the expectation of layer ".concat(this.name,": ")+"".concat(JSON.stringify(this.batchInputShape)))}}get outputShape(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new ZF("The layer ".concat(this.name," has never been called and thus has no ")+"defined output shape.");const e=[];for(const t of this.inboundNodes){const n=JSON.stringify(t.outputShapes);-1===e.indexOf(n)&&e.push(n)}if(1===e.length){const e=this.inboundNodes[0].outputShapes;return Array.isArray(e)&&Array.isArray(e[0])&&1===e.length?e[0]:e}throw new ZF("The layer ".concat(this.name," has multiple inbound nodes with different ")+'output shapes. Hence the notion of "output shape" is ill-defined for the layer.')}countParams(){if(!this.built)throw new JF("You tried to call countParams() on ".concat(this.name,", ")+"but the layer is not built yet. Build it first by calling build(batchInputShape).");return MM(this.weights)}build(e){this.built=!0}getWeights(){return jM(arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.trainableWeights:this.weights)}setWeights(e){gk((()=>{const t=this.weights;if(t.length!==e.length)throw new $F('You called setWeights(weights) on layer "'.concat(this.name,'" ')+"with a weight list of length ".concat(e.length,", ")+"but the layer was expecting ".concat(t.length," weights. ")+"Provided weights: ".concat(e,"..."));if(0===t.length)return;const n=[],a=jM(t);for(let r=0;r<a.length;++r){const o=a[r],s=t[r],i=e[r];if(!bg(o.shape,i.shape))throw new $F("Layer weight shape ".concat(o.shape," ")+"not compatible with provided weight shape ".concat(i.shape));n.push([s,i])}BM(n)}))}addWeight(e,t,n,a,r,o,s,i){if(-1!==this._addedWeightNames.indexOf(e))throw new $F("Duplicate weight name ".concat(e," for layer ").concat(this.name));this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(a=null!=i?i():RM("zeros"));const l=a.apply(t,n),c=new zM(l,n,e,o,s);return l.dispose(),null!=r&&this.addLoss((()=>r.apply(c.read()))),null==o&&(o=!0),o?this._trainableWeights.push(c):this._nonTrainableWeights.push(c),c}setFastWeightInitDuringBuild(e){this.fastWeightInitDuringBuild=e}addLoss(e){null==e||Array.isArray(e)&&0===e.length||(e=iL(e),void 0!==this._losses&&null!==this._losses&&this.losses.push(...e))}computeOutputShape(e){return e}computeMask(e,t){if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError("Layer ".concat(this.name," does not support masking, ")+"but was passed an inputMask.");t.forEach((e=>{if(null!=e)throw new TypeError("Layer ".concat(this.name," does not support masking, ")+"but was passed an inputMask.")}))}return null}return t}setMaskMetadata(e,t,n){if(!this.supportsMasking)return;const a=this.computeMask(e,n),r=iL(t),o=iL(a);if(r.length!==o.length)throw new Error("".concat(this.name," outputs ").concat(r.length," tensors ")+"but ".concat(r.length," masks for those tensors"));for(let s=0;s<r.length;s++)r[s].kerasMask=o[s]}addInboundNode(e,t,n,a,r,o){let s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;const i=iL(e);t=iL(t),n=iL(n),a=iL(a),r=OM(r),o=OM(o);const l=[],c=[],u=[];for(const d of i)l.push(d.sourceLayer),c.push(d.nodeIndex),u.push(d.tensorIndex);new HM({outboundLayer:this,inboundLayers:l,nodeIndices:c,tensorIndices:u,inputTensors:i,outputTensors:t,inputMasks:n,outputMasks:a,inputShapes:r,outputShapes:o},s);for(let d=0;d<t.length;d++)t[d].sourceLayer=this,t[d].nodeIndex=this.inboundNodes.length-1,t[d].tensorIndex=d}getConfig(){const e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e}disposeWeights(){return this.weights.forEach((e=>e.dispose())),this.weights.length}assertNotDisposed(){if(0===this._refCount)throw new Error("Layer '".concat(this.name,"' is already disposed."))}dispose(){if(!this.built)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been ")+"built yet.");if(null===this._refCount)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been used ")+"yet.");this.assertNotDisposed();let e=0;return 0===--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}function KM(e,t,n){if((null==t||null!=n&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),0===t.inboundNodes.length)return[e];{const e=t.inboundNodes[n];if(0===e.inboundLayers.length)return e.inputTensors;{const t=[];for(let n=0;n<e.inboundLayers.length;n++){const a=KM(e.inputTensors[n],e.inboundLayers[n],e.nodeIndices[n]);for(const e of a)-1===t.indexOf(e)&&t.push(e)}return t}}}class XM extends qM{constructor(e){if(super({dtype:e.dtype,name:null!=e.name?e.name:TL("input").toString()}),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),this.trainable=!1,this.built=!0,this.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new $F("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");let t=e.batchInputShape;if(null==t){if(null==e.inputShape)throw new $F("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");t=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new $F("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");const n=e.dtype||"float32";this.batchInputShape=t,this.dtype=n,this.inputSpec=[{shape:t}];const a=new UM(this.dtype,this.batchInputShape,this,[],{},this.name);a.nodeIndex=0,a.tensorIndex=0,new HM({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[a],outputTensors:[a],inputMasks:[null],outputMasks:[null],inputShapes:[t],outputShapes:[t]})}apply(e,t){throw new $F("Cannot pass any input to an "+"InputLayer's apply() method. InputLayer name: ".concat(this.name))}dispose(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}getConfig(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}XM.className="InputLayer",eN(XM);class YM{constructor(e){if(this.id2Value={},this.id2Mask={},this.name2Id={},e instanceof YM)for(const t in e.id2Value)this.id2Value[t]=e.id2Value[t],t in e.id2Mask&&(this.id2Mask[t]=e.id2Mask[t]);else{if(null==e)return;for(const t of e)this.add(t.key,t.value)}}add(e,t,n){if(null!=this.id2Value[e.id])throw new $F("Duplicate key: name=".concat(e.name,", id=").concat(e.id));return this.id2Value[e.id]=function(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return DS(t,e.dtype)}catch(r4){throw new $F("The dtype of the feed (".concat(t.dtype,") can not be cast to the dtype ")+"of the key '".concat(e.name,"' (").concat(e.dtype,")."))}}(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this}addFeed(e){this.add(e.key,e.value)}hasKey(e){return null!=this.id2Value[e.id]}names(){return Object.keys(this.name2Id)}getValue(e){if(e instanceof UM){if(null==this.id2Value[e.id])throw new $F("Nonexistent key: ".concat(e.name));return this.id2Value[e.id]}{const t=this.name2Id[e];if(null==t)throw new $F("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Value[t]}}getMask(e){if(e instanceof UM){if(null==this.id2Value[e.id])throw new $F("Nonexistent key: ".concat(e.name));return this.id2Mask[e.id]}{const t=this.name2Id[e];if(null==t)throw new $F("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Mask[t]}}disposeMasks(){null!=this.id2Mask&&yk(this.id2Mask)}}const QM=new nL,ZM=new nL;function JM(e,t,n,a){const r=null!=n&&n.training,o=Array.isArray(e),s=o?e:[e],i=s.map((e=>e.name)),l=[],c=t.names();for(const f of i)-1!==c.indexOf(f)?l.push(t.getValue(f)):l.push(null);null!=a&&(a.maxNumTensors=-1/0,a.minNumTensors=1/0);const u=i.join(",")+"|"+t.names().sort().join(",");let d,h=QM.get(u);if(null==h){const e=function(e,t){hg(null!=e&&e.length>0,(()=>"Expected at least one fetch, got none"));let n=[],a={};if(1===e.length){const r=eP(e[0],t);n=r.sorted,a=r.recipientMap}else{const r=new Set;for(const o of e){const{sorted:e,recipientMap:s}=eP(o,t);for(const t of e)r.has(t.name)||(n.push(t),r.add(t.name));for(const t in s)null==a[t]&&(a[t]=new Set),s[t].forEach((e=>a[t].add(e)))}}return{sorted:n,recipientCounts:$M(a)}}(s,t);h=e.sorted,d=e.recipientCounts,QM.put(u,h),ZM.put(u,d)}d={},r||Object.assign(d,ZM.get(u));const p=new YM(t);for(let f=0;f<h.length;++f){if(null!=a){const e=fk().numTensors;e>a.maxNumTensors&&(a.maxNumTensors=e),e<a.minNumTensors&&(a.minNumTensors=e)}const e=h[f],o=e.sourceLayer;if(o instanceof XM)continue;const s=[],c=[],u=[];let m=!1;for(const n of e.inputs){const e=p.getValue(n),a=p.getMask(n);s.push(e),c.push(a),null!=a&&(m=!0),r||(d[n.name]--,0!==d[n.name]||t.hasKey(n)||-1!==i.indexOf(n.name)||e.isDisposed||!0===n.sourceLayer.stateful||u.push(e))}m&&((n=n||{}).mask=c[0]);const g=iL(o.apply(s,n));let y=null;o.supportsMasking&&(y=o.computeMask(s,c));const b=tP(e),v=Array.isArray(b)?b:[b];for(let t=0;t<v.length;++t){p.hasKey(v[t])||p.add(v[t],g[t],Array.isArray(y)?y[0]:y);const e=i.indexOf(v[t].name);-1!==e&&(l[e]=g[t])}r||yk(u)}return p.disposeMasks(),o?l:l[0]}function $M(e){const t={};for(const n in e)t[n]=e[n].size;return t}function eP(e,t){const n=new Set,a=[],r={};for(const i of t.names())n.add(i);const o=[],s=[];for(o.push(e);o.length>0;){const e=o[o.length-1];if(n.has(e.name)){o.pop();continue}const t=s[s.length-1]===o.length-1;if(0===e.inputs.length||t)o.pop(),a.push(e),n.add(e.name),t&&s.pop();else{s.push(o.length-1);for(const t of e.inputs)null==r[t.name]&&(r[t.name]=new Set),r[t.name].add(e.name),n.has(t.name)||o.push(t)}}return{sorted:a,recipientMap:r}}function tP(e){let t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{let n=null;for(let t=0;t<e.sourceLayer.inboundNodes.length;++t)for(const a of e.sourceLayer.inboundNodes[t].outputTensors)if(a.id===e.id){n=t;break}t=e.sourceLayer.getOutputAt(n)}return t}function nP(e,t){return gk((()=>jS(yI(zS(e,e),t,!0))))}ty().registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",(()=>100),(function(e){null!=QM&&QM.setMaxEntries(e),null!=ZM&&ZM.setMaxEntries(e)}));class aP extends JS{getConfig(){return{}}}class rP extends aP{constructor(e){super(),this.defaultMaxValue=2,this.defaultAxis=0,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return gk((()=>{const t=nP(e,this.axis),n=DC(t,0,this.maxValue);return zS(e,PS(n,LS(KL(),t)))}))}getConfig(){return{maxValue:this.maxValue,axis:this.axis}}}rP.className="MaxNorm",eN(rP);class oP extends aP{constructor(e){super(),this.defaultAxis=0,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return gk((()=>PS(e,LS(KL(),nP(e,this.axis)))))}getConfig(){return{axis:this.axis}}}oP.className="UnitNorm",eN(oP);class sP extends aP{apply(e){return PE(e)}}sP.className="NonNeg",eN(sP);class iP extends aP{constructor(e){super(),this.defaultMinValue=0,this.defaultMaxValue=1,this.defaultRate=1,this.defaultAxis=0,this.minValue=null!=e.minValue?e.minValue:this.defaultMinValue,this.maxValue=null!=e.maxValue?e.maxValue:this.defaultMaxValue,this.rate=null!=e.rate?e.rate:this.defaultRate,this.axis=null!=e.axis?e.axis:this.defaultAxis}apply(e){return gk((()=>{const t=nP(e,this.axis),n=LS(zS(this.rate,DC(t,this.minValue,this.maxValue)),zS(1-this.rate,t));return zS(e,PS(n,LS(KL(),t)))}))}getConfig(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}iP.className="MinMaxNorm",eN(iP);const lP={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function cP(e){return dL(e)}function uP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return pL(e,$S.getMap().classNameMap,t,"constraint")}function dP(e){if(null==e)return null;if("string"===typeof e){return uP({className:e in lP?lP[e]:e,config:{}})}return e instanceof aP?e:uP(e)}async function hP(e){if(null==e)return;const t=[],n=[],a=[];for(const r in e){const o=e[r];if("number"!==typeof o){const e=o;t.push(e.data()),n.push(r),a.push(e)}}if(t.length>0){const r=await Promise.all(t);for(let t=0;t<r.length;++t)e[n[t]]=r[t][0];yk(a)}}function pP(e){if(null!=e)for(const t in e){const n=e[t];"number"!==typeof n&&n.dispose()}}var fP;!function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"}(fP||(fP={}));class mP{constructor(){this.validationData=null}setParams(e){this.params=e}async onEpochBegin(e,t){}async onEpochEnd(e,t){}async onBatchBegin(e,t){}async onBatchEnd(e,t){}async onTrainBegin(e){}async onTrainEnd(e){}setModel(e){}}class gP{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;null==e&&(e=[]),this.callbacks=e,this.queueLength=t}append(e){this.callbacks.push(e)}setParams(e){for(const t of this.callbacks)t.setParams(e)}setModel(e){for(const t of this.callbacks)t.setModel(e)}async onEpochBegin(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onEpochBegin(e,t)}async onEpochEnd(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onEpochEnd(e,t)}async onBatchBegin(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onBatchBegin(e,t)}async onBatchEnd(e,t){null==t&&(t={});for(const n of this.callbacks)await n.onBatchEnd(e,t)}async onTrainBegin(e){null==e&&(e={});for(const t of this.callbacks)await t.onTrainBegin(e)}async onTrainEnd(e){null==e&&(e={});for(const t of this.callbacks)await t.onTrainEnd(e)}}class yP extends mP{constructor(){super()}async onEpochBegin(e){this.seen=0,this.totals={}}async onBatchEnd(e,t){null==t&&(t={});const n=null==t.size?0:t.size;this.seen+=n;for(const a in t){const e=t[a];if("number"===typeof e)this.totals.hasOwnProperty(a)||(this.totals[a]=0),this.totals[a]=this.totals[a]+e*n;else{let t;a in this.totals?t=this.totals[a]:this.totals[a]=0;const r=gk((()=>LS(this.totals[a],zS(e,n))));this.totals[a]=r,null!=t&&t.dispose()}}}async onEpochEnd(e,t){if(null!=t)for(const n of this.params.metrics)null!=this.totals[n]&&("number"===typeof this.totals[n]?t[n]=this.totals[n]/this.seen:gk((()=>{const e=zS(PS(1,this.seen),this.totals[n]);t[n]=e,this.totals[n].dispose(),bk(t[n])})))}}class bP extends mP{async onTrainBegin(e){this.epoch=[],this.history={}}async onEpochEnd(e,t){null==t&&(t={}),this.epoch.push(e);for(const n in t)null==this.history[n]&&(this.history[n]=[]),this.history[n].push(t[n])}async syncData(){const e=[],t=[],n=[];for(const r in this.history){const a=this.history[r];for(let o=0;o<a.length;++o)if("number"!==typeof a[o]){const s=a[o];e.push(s.data()),t.push(r),n.push(o)}}const a=await Promise.all(e);for(let r=0;r<a.length;++r){this.history[t[r]][n[r]].dispose(),this.history[t[r]][n[r]]=a[r][0]}}}class vP extends mP{constructor(e,t){if(super(),this.currentEpoch=0,this.nowFunc=e.nowFunc,this.nextFrameFunc=e.nextFrameFunc||eR,this.yieldEvery=t||"auto","auto"===this.yieldEvery&&(this.yieldEvery=125),"never"===this.yieldEvery&&null!=e.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");Pg(this.yieldEvery)&&(this.maybeWait=function(e,t,n){let a,r=null!=n?n():ex();return function(){const o=null!=n?n():ex();return o-r<t||(r=o,a=e(...arguments)),a}}(this.maybeWait.bind(this),this.yieldEvery,this.nowFunc)),this.trainBegin=e.onTrainBegin,this.trainEnd=e.onTrainEnd,this.epochBegin=e.onEpochBegin,this.epochEnd=e.onEpochEnd,this.batchBegin=e.onBatchBegin,this.batchEnd=e.onBatchEnd,this.yield=e.onYield}async maybeWait(e,t,n){const a=[];null!=this.yield&&(await hP(n),a.push(this.yield(e,t,n))),a.push(this.nextFrameFunc()),await Promise.all(a)}async onEpochBegin(e,t){this.currentEpoch=e,null!=this.epochBegin&&(await hP(t),await this.epochBegin(e,t))}async onEpochEnd(e,t){const n=[];null!=this.epochEnd&&(await hP(t),n.push(this.epochEnd(e,t))),"epoch"===this.yieldEvery&&n.push(this.nextFrameFunc()),await Promise.all(n)}async onBatchBegin(e,t){null!=this.batchBegin&&(await hP(t),await this.batchBegin(e,t))}async onBatchEnd(e,t){const n=[];null!=this.batchEnd&&(await hP(t),n.push(this.batchEnd(e,t))),"batch"===this.yieldEvery?n.push(this.nextFrameFunc()):Pg(this.yieldEvery)&&n.push(this.maybeWait(this.currentEpoch,e,t)),await Promise.all(n)}async onTrainBegin(e){null!=this.trainBegin&&(await hP(e),await this.trainBegin(e))}async onTrainEnd(e){null!=this.trainEnd&&(await hP(e),await this.trainEnd(e))}}function wP(e,t){if(null==e&&(e={}),e instanceof mP)return[e];if(Array.isArray(e)&&e[0]instanceof mP)return e;return iL(e).map((e=>new vP(e,t)))}class xP{constructor(){}static registerCallbackConstructor(e,t){hg(e>=0&&Number.isInteger(e),(()=>"Verbosity level is expected to be an integer >= 0, "+"but got ".concat(e))),xP.checkForDuplicate(t),null==xP.constructors[e]&&(xP.constructors[e]=[]),xP.constructors[e].push(t)}static checkForDuplicate(e){for(const t in xP.constructors){xP.constructors[+t].forEach((t=>{if(t===e)throw new $F("Duplicate callback constructor.")}))}}static clear(){xP.constructors={}}static createCallbacks(e){const t=[];for(const n in xP.constructors){const a=+n;e>=a&&t.push(...xP.constructors[a])}return t.map((e=>new e))}}function kP(e,t,n,a,r,o,s,i,l){const c=new bP,u=[new yP,...xP.createCallbacks(t)];null!=e&&u.push(...e),u.push(c);const d=new gP(u);return d.setParams({epochs:n,initialEpoch:a,samples:r,steps:o,batchSize:s,verbose:t,doValidation:i,metrics:l}),{callbackList:d,history:c}}function SP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return pL(e,$S.getMap().classNameMap,t,"layer",n)}function NP(e,t){return gk((()=>{"float32"!==e.dtype&&(e=DS(e,"float32"));const n=yI(oM(e),t,!0),a=rN(n.shape,KL()),r=jS(pN(n,a));return PS(e,r)}))}function TP(e,t){return gk((()=>eE(oM(iN(t,e)),-1)))}function CP(e,t){return gk((()=>eE(cN(iN(t,e)),-1)))}function IP(e,t){return gk((()=>{const n=iN(e,t),a=DC(cN(e),KL(),Number.MAX_VALUE),r=cN(PS(n,a));return zS(100,eE(r,-1))}))}function EP(e,t){return gk((()=>{const n=DC(t,KL(),Number.MAX_VALUE),a=zI(LS(1,n)),r=DC(e,KL(),Number.MAX_VALUE),o=zI(LS(1,r));return eE(oM(iN(a,o)),-1)}))}function AP(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return gk((()=>{if(n)t=nA(t);else{const e=yI(t,t.shape.length-1,!0);t=PS(t,e)}return t=DC(t,KL(),1-KL()),UN(yI(zS(DS(e,"float32"),zI(t)),t.shape.length-1))}))}function _P(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return gk((()=>{const a=DS(CI(function(e){const t=[UL(e.shape)];return fC(e,t)}(e)),"int32"),r=(t=DC(t,KL(),1-KL())).shape;return AP(fC(BN(a,r[r.length-1]),r),t,n)}))}function RP(e,t){return gk((()=>{let n;return n=DC(t,KL(),1-KL()),n=zI(PS(n,iN(1,n))),eE(function(e,t){if(!bg(e.shape,t.shape))throw new $F("logits and labels must have the same shape, but got shapes "+"".concat(JSON.stringify(e.shape)," and ").concat(JSON.stringify(t.shape)));return gk((()=>{const n=PE(t),a=UN(cN(t));return LS(iN(n,zS(t,e)),jI(xI(a)))}))}(e,n),-1)}))}function DP(e,t){return gk((()=>{const n=DC(e,KL(),1),a=DC(t,KL(),1);return yI(zS(e,zI(PS(n,a))),-1)}))}function OP(e,t){return gk((()=>{const n=NP(e,-1),a=NP(t,-1),r=zS(n,a);return UN(yI(r,-1))}))}xP.constructors={};const FP={meanSquaredError:TP,meanAbsoluteError:CP,meanAbsolutePercentageError:IP,meanSquaredLogarithmicError:EP,squaredHinge:function(e,t){return gk((()=>{const n=pN(0,iN(1,zS(e,t)));return eE(oM(n),-1)}))},hinge:function(e,t){return gk((()=>{const n=pN(0,iN(1,zS(e,t)));return eE(n,-1)}))},categoricalHinge:function(e,t){return gk((()=>{const n=yI(zS(e,t),-1),a=mI(zS(iN(1,e),t),-1);return pN(0,LS(1,iN(a,n)))}))},logcosh:function(e,t){return gk((()=>{const n=Math.log(2),a=iN(t,e),r=iN(LS(a,BI(zS(-2,a))),n);return eE(r,-1)}))},categoricalCrossentropy:AP,sparseCategoricalCrossentropy:_P,binaryCrossentropy:RP,kullbackLeiblerDivergence:DP,poisson:function(e,t){return gk((()=>{const n=zI(LS(KL(),t));return eE(iN(t,zS(e,n)),-1)}))},cosineProximity:OP};function LP(e){if("string"===typeof e){if(e in FP)return FP[e];let t="Unknown loss ".concat(e);throw e.toLowerCase().includes("softmaxcrossentropy")&&(t="Unknown loss ".concat(e,". ")+'Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy'),new $F(t)}return e}function MP(e,t){return gk((()=>{const n=zS(.5,dE(t)),a=XL(EI(t,n),e.dtype);return eE($C(e,a),-1)}))}function PP(e,t){return gk((()=>XL($C(qT(e,-1),qT(t,-1)),"float32")))}function zP(e,t){return gk((()=>DS(yI(HI($C(e,1),$C(t,1))),"float32")))}function jP(e,t){return RP(e,t)}function BP(e,t){return e.rank===t.rank&&(e=cA(e,[e.rank-1])),(t=qT(t,-1)).dtype!==e.dtype&&(t=DS(t,e.dtype)),DS($C(e,t),"float32")}const WP=AP,UP=_P,VP={binaryAccuracy:MP,categoricalAccuracy:PP,precision:function(e,t){return gk((()=>{const n=zP(e,t),a=function(e,t){return gk((()=>DS(yI(HI($C(e,0),$C(t,1))),"float32")))}(e,t),r=LS(n,a);return DS(eI(EI(r,0),PS(n,r),0),"float32")}))},categoricalCrossentropy:WP,sparseCategoricalCrossentropy:UP,mse:TP,MSE:TP,mae:CP,MAE:CP,mape:IP,MAPE:IP,cosine:OP};function HP(e){if("string"===typeof e&&e in VP)return VP[e];if("string"!==typeof e&&null!=e)return e;throw new $F("Unknown metric ".concat(e))}function GP(e){if(rL(null!==e,"Unknown LossOrMetricFn ".concat(e)),"string"===typeof e)return e;{let t;for(const n of Object.keys(FP))if(FP[n]===e){t=n;break}if(void 0!==t)return t;for(const n of Object.keys(VP))if(VP[n]===e){t=n;break}return void 0!==t?t:e.name}}const qP=1048576;function KP(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||"object"!==typeof e||Object.getPrototypeOf(e)!==Object.prototype||!XP(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){const n=JSON.stringify(e);n.length>qP&&console.warn('User-defined metadata of model "'.concat(t,'" is too large in ')+"size (length=".concat(n.length," when serialized). It is not ")+"recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= "+"".concat(qP,"."))}}function XP(e){if(null===e)return!0;if("object"===typeof e){if(Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);for(const n of t){if("string"!==typeof n)return!1;if(!XP(e[n]))return!1}return!0}if(Array.isArray(e)){for(const t of e)if(!XP(t))return!1;return!0}return!1}{const t=typeof e;return"string"===t||"number"===t||"boolean"===t}}function YP(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console.log;const r=function(e){let t=!0;const n=[],a=[];for(const r in e.nodesByDepth)n.push(e.nodesByDepth[r]);for(const r of n){if(r.length>1||1===r.length&&r[0].inboundLayers.length>1){t=!1;break}a.push(...r)}if(t)for(const r of e.layers){let e=!1;for(const n of r.inboundNodes)if(-1!==a.indexOf(n)){if(e){t=!1;break}e=!0}if(!t)break}return t}(e),o=["Layer (type)","Input Shape","Output shape","Param #"];let s;if(r?(t=t||90,n=n||[.32,.61,.89,1]):(t=t||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map((e=>Math.floor(t*e)))),!r){o.push("Receives inputs"),s=[];for(const t in e.nodesByDepth)s.push(...e.nodesByDepth[t])}a("_".repeat(t)),QP(o,n,a),a("=".repeat(t));const i=e.layers;for(let u=0;u<i.length;++u)r?ZP(i[u],n,a):JP(i[u],n,s,a),a((u===i.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();const l=function(e){let t;t=null!=e.collectedTrainableWeights?MM(e.collectedTrainableWeights):MM(e.trainableWeights);return t}(e),c=MM(e.nonTrainableWeights);a("Total params: ".concat(l+c)),a("Trainable params: ".concat(l)),a("Non-trainable params: ".concat(c)),a("_".repeat(t))}function QP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log,a="";for(let r=0;r<e.length;++r)r>0&&(a=a.slice(0,a.length-1)+" "),a+=e[r],a=a.slice(0,t[r]),a+=" ".repeat(t[r]-a.length);n(a)}function ZP(e,t,n){let a,r;try{r=e.inboundNodes.map((e=>JSON.stringify(e.inputShapes))).join(",")}catch(r4){r="multiple"}try{a=JSON.stringify(e.outputShape)}catch(r4){a="multiple"}const o=e.name,s=e.getClassName();QP(["".concat(o," (").concat(s,")"),r,a,e.countParams().toString()],t,n)}function JP(e,t,n,a){let r,o;try{o=e.inboundNodes.map((e=>JSON.stringify(e.inputShapes))).join(",")}catch(r4){o="multiple"}try{r=JSON.stringify(e.outputShape)}catch(r4){r="multiple"}const s=[];for(const u of e.inboundNodes)if(!(null!=n&&n.length>0&&-1===n.indexOf(u)))for(let e=0;e<u.inboundLayers.length;++e){const t=u.inboundLayers[e].name,n=u.nodeIndices[e],a=u.tensorIndices[e];s.push("".concat(t,"[").concat(n,"][").concat(a,"]"))}const i=e.name,l=e.getClassName(),c=0===s.length?"":s[0];QP(["".concat(i," (").concat(l,")"),o,r,e.countParams().toString(),c],t,a);for(let u=1;u<s.length;++u)QP(["","","","",s[u]],t,a)}function $P(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"===typeof n}function ez(e,t){if(null===e)return null;if("string"===typeof e)return cL(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){const n=[],a=e.length;for(let r=0;r<a;++r){const a=e[r];$P(t,r,a)?n.push(a):n.push(ez(a,t))}return n}{const t={};for(const n of Object.keys(e)){const a=e[n];if("name"===n&&"string"===typeof a)t[n]=a;else{const e=cL(n);t[e]=ez(a,e)}}return t}}function tz(e,t){if(null===e||void 0===e)return null;if("string"===typeof e)return lL(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){const n=[],a=e.length;for(let r=0;r<a;++r){const a=e[r];$P(t,r,a)?n.push(a):n.push(tz(a,t))}return n}{const t={};for(const n of Object.keys(e)){const a=e[n],r=lL(n);t[r]="name"!==n&&"className"!==n||"string"!==typeof a?tz(a,n):a}return t}}const nz="4.19.0";class az extends qM{constructor(e){if(super({}),this.containerNodes=new Set,this.name=e.name,null==this.name){const e=this.getClassName().toLowerCase();this.name=TL(e)}if(this.supportsMasking=!1,this.trainable_=!0,Array.isArray(e.inputs)?this.inputs=e.inputs.slice():this.inputs=[e.inputs],Array.isArray(e.outputs)?this.outputs=e.outputs.slice():this.outputs=[e.outputs],mL(this.inputs).length!==this.inputs.length)throw new $F("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: "+"".concat(this.inputs.map((e=>e.name))));mL(this.outputs).length!==this.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: "+"".concat(this.outputs.map((e=>e.name)))),this.inputLayers=[],this.inputLayersNodeIndices=[],this.inputLayersTensorIndices=[],this.outputLayers=[],this.outputLayersNodeIndices=[],this.outputLayersTensorIndices=[],this.layers=[],this.internalContainerRefs=[];for(const y of this.outputs){const e=y.sourceLayer,t=y.nodeIndex,n=y.tensorIndex;this.outputLayers.push(e),this.outputLayersNodeIndices.push(t),this.outputLayersTensorIndices.push(n)}for(const y of this.inputs){const e=y.sourceLayer,t=y.nodeIndex,n=y.tensorIndex;rL(0===t,"input layer has >1 nodes"),rL(0===n,"input layer has >1 tensors"),this.inputLayers.push(e),this.inputLayersNodeIndices.push(t),this.inputLayersTensorIndices.push(n)}this.inputNames=[],this.outputNames=[],this.feedInputShapes=[],this.feedInputNames=[],this.feedOutputNames=[];for(let y=0;y<this.inputLayers.length;y++){const t=this.inputLayers[y];if(!(t instanceof XM))throw new TypeError("Input layers to a LayersModel must be InputLayer objects. "+"Received inputs: ".concat(e.inputs,". ")+"Input ".concat(y," (0-based) originates ")+"from layer type ".concat(t.getClassName(),"."));this.inputNames.push(t.name),this.feedInputShapes.push(t.batchInputShape),this.feedInputNames.push(t.name)}for(const y of this.outputLayers)this.outputNames.push(y.name);this.internalInputShapes=this.inputs.map((e=>e.shape)),this.internalOutputShapes=this.outputs.map((e=>e.shape));const t={},n={},a={},r={},o={},s=[],i=(e,t,n,a,r,l)=>{null!=a&&null!=r&&null!=l||(a=e.sourceLayer,r=e.nodeIndex,l=e.tensorIndex);const c=a.inboundNodes[r];if(-1!==n.indexOf(c))throw new JF("The tensor ".concat(e.name,' at layer "').concat(a.name,'" ')+"is part of a cycle.");if(-1!==t.indexOf(c))return;this.containerNodes.add(az.nodeKey(a,r)),a.id in o||(o[a.id]=Object.keys(o).length),-1===n.indexOf(c)&&n.push(c);const u=c.inboundLayers.length;for(let o=0;o<u;o++){const e=c.inputTensors[o],a=c.inboundLayers[o],r=c.nodeIndices[o],s=c.tensorIndices[o];i(e,t,n,a,r,s)}for(t.push(c);n.indexOf(c)>=0;)n.splice(n.indexOf(c),1);s.push(c)},l=[],c=[];for(const y of this.outputs)i(y,l,c);const u=s.slice().reverse();for(const y of u){n[y.id]=y,y.id in t||(t[y.id]=0);let e=t[y.id];const o=null==a[y.outboundLayer.id]?0:a[y.outboundLayer.id];e=Math.max(e,o),a[y.outboundLayer.id]=e,r[y.outboundLayer.id]=y.outboundLayer,t[y.id]=e;for(let a=0;a<y.inboundLayers.length;a++){const r=y.inboundLayers[a],o=y.nodeIndices[a],s=r.inboundNodes[o],i=null==t[s.id]?0:t[s.id];t[s.id]=Math.max(e+1,i),n[s.id]=s}}const d={};for(const y in t){const e=t[y];e in d||(d[e]=[]),d[e].push(n[y])}const h={};for(const y in a){const e=a[y];e in h||(h[e]=[]),h[e].push(r[y])}let p=Object.keys(h).map((e=>parseInt(e,10))).sort(fL);this.layers=[];for(const y of p){const e=h[y];e.sort(((e,t)=>{const n=o[e.id],a=o[t.id];return n<a?-1:n>a?1:0}));for(const t of e)t instanceof az&&this.internalContainerRefs.push(t),this.layers.push(t)}this.layersByDepth=h,p=Object.keys(d).map((e=>parseInt(e,10))).sort(fL);const f=this.inputs.slice(),m=[];for(const y of p)for(const e of d[y]){const t=e.outboundLayer;if(null!=t){for(const n of e.inputTensors)if(-1===f.indexOf(n))throw new JF("Graph disconnected: cannot obtain value for tensor ".concat(n)+' at layer "'.concat(t.name,'". ')+"The following previous layers were accessed without "+"issue: ".concat(m));for(const t of e.outputTensors)f.push(t);m.push(t.name)}}this.nodesByDepth=d;const g=this.layers.map((e=>e.name));for(const y of g){const e=g.filter((e=>e===y)).length;if(1!==e)throw new JF('The name "'.concat(y,'" is used ').concat(e," times ")+"in the model. All layer names should be unique. Layer names: "+JSON.stringify(g))}this.outboundNodes=[],this.inboundNodes=[],new HM({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:this.inputs.map((e=>null)),outputMasks:this.outputs.map((e=>null)),inputShapes:this.inputs.map((e=>e.shape)),outputShapes:this.outputs.map((e=>e.shape))}),this.built=!0,this._refCount=1}assertNotDisposed(){if(0===this._refCount)throw new Error("Container '".concat(this.name,"' is already disposed."))}dispose(){this.assertNotDisposed();const e={refCountAfterDispose:null,numDisposedVariables:0};if(0===--this._refCount){for(const t of this.layers)e.numDisposedVariables+=t.dispose().numDisposedVariables;for(const t of this.internalContainerRefs)e.numDisposedVariables+=t.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}get trainable(){return this.trainable_}set trainable(e){this.layers.forEach((t=>{t._trainableWeights.forEach((t=>t.trainable=e))})),this.trainable_=e}get trainableWeights(){if(this._trainableWeights.length>0)throw new $F("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];let e=[];for(const t of this.layers)e=e.concat(t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.layers)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const e of this.layers)t.push(...e.trainableWeights);return t.concat(e)}return e}get weights(){return this.trainableWeights.concat(this.nonTrainableWeights)}loadWeights(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n={};let a=0;const r=(e=>{const t=Object.keys(e);if(0===t.length)return!1;const n=t[0].split("/");return!isNaN(parseInt(n[n.length-1],10))})(e);r&&this.parseWeights(e);for(const s of this.layers)for(const[e,t]of s.weights.entries()){const o=r?"".concat(t.name.split("/").slice(0,-1).join("/")+"/").concat(e):t.originalName;if(null!=n[o])throw new $F("Duplicate weight name: ".concat(o));n[o]=t,a++}const o=[];for(const s in e){let a=s;if(null==n[s]){const e=s.split("/");a=e.slice(0,-2).concat([e[e.length-1]]).join("/")}if(null!=n[a])o.push([n[a],e[s]]);else if(t)throw new $F("Provided weight data has no target variable: ".concat(s));delete n[a]}if(t){const e=[];for(const t in n)e.push(t);if(e.length>0)throw new $F("".concat(e.length," of ").concat(a," weights are not set: ")+"".concat(e))}BM(o)}parseWeights(e){for(const t in Object.keys(e)){const n=t.split("/"),a=["vars","layer_checkpoint_dependencies"],r=n.map((e=>e.startsWith("_")?e.slice(1):e)).filter((e=>!a.includes(e))).join("/");r!==t&&(e[r]=e[t],delete e[t])}}updatedConfig(){const e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion="tfjs-layers ".concat(nz),t.backend="TensorFlow.js",t}toJSON(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=tz(this.updatedConfig());return t?JSON.stringify(n):n}call(e,t){return gk((()=>{e=iL(e);const n=new YM;for(let t=0;t<this.inputs.length;++t)n.add(this.inputs[t],e[t]);return JM(this.outputs,n,t)}))}computeMask(e,t){return gk((()=>{let n;return e=iL(e),n=null==t?aL(null,e.length):iL(t),this.runInternalGraph(e,n)[1]}))}computeOutputShape(e){const t=OM(e);if(t.length!==this.inputLayers.length)throw new $F("Invalid inputShape argument ".concat(e,": ")+"model has ".concat(this.inputLayers.length," tensor inputs."));const n={};for(let s=0;s<t.length;s++){const e=this.inputLayers[s],a=t[s];n[e.name+"_0_0"]=a}const a=Object.keys(this.nodesByDepth).map((e=>parseInt(e,10))).sort(fL);if(a.length>1)for(const s of a){const e=this.nodesByDepth[s];for(const t of e){const e=t.outboundLayer;if(-1!==this.inputLayers.map((e=>e.id)).indexOf(e.id))continue;const a=[];for(let s=0;s<t.inboundLayers.length;s++){const e=t.inboundLayers[s],r=t.nodeIndices[s],o=t.tensorIndices[s],i=n["".concat(e.name,"_").concat(r,"_").concat(o)];a.push(i)}const r=OM(e.computeOutputShape(sL(a))),o=e.inboundNodes.indexOf(t);for(let t=0;t<r.length;t++){n["".concat(e.name,"_").concat(o,"_").concat(t)]=r[t]}}}const r=[],o=[];for(let s=0;s<this.outputLayers.length;s++){const e=this.outputLayers[s],t=this.outputLayersNodeIndices[s],n=this.outputLayersTensorIndices[s],a="".concat(e.name,"_").concat(t,"_").concat(n);o.push(a)}for(let s=0;s<o.length;s++){const e=o[s];rL(e in n),r.push(n[e])}return sL(r)}runInternalGraph(e,t){null==t&&(t=aL(null,e.length));const n={};for(let i=0;i<this.inputs.length;++i){const a=this.inputs[i],r=e[i],o=t[i];n[a.id]=[r,o]}const a=Object.keys(this.nodesByDepth).map((e=>parseInt(e,10))).sort(fL);for(const i of a){const e=this.nodesByDepth[i];for(const t of e){const e=t.outboundLayer,a=t.inputTensors,r=t.outputTensors,o=new Array;for(const t of a)t.id in n&&o.push(n[t.id]);if(o.length===a.length){let a,s,i,l,c={};if(null!=t.callArgs&&(c=t.callArgs),1===o.length){const[t,n]=o[0];null==c.mask&&(c.mask=n),i=iL(e.call(t,c)),l=iL(e.computeMask(t,n)),a=[t],s=[n]}else a=o.map((e=>e[0])),s=o.map((e=>e[1])),null==c.mask&&(c.mask=s),i=iL(e.call(a,c)),l=iL(e.computeMask(a,s));if(e.activityRegularizer)throw new eL("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(let e=0;e<r.length;++e){const t=r[e],a=i[e],o=l[e];n[t.id]=[a,o]}}}}const r=[],o=[],s=[];for(const i of this.outputs){rL(i.id in n,"Could not compute output ".concat(i.name," : ").concat(i.id));const[e,t]=n[i.id];s.push(e.shape),r.push(e),o.push(t)}return[r,o,s]}buildNodeConversionMap(e){const t={};let n;for(const a of this.layers){n=a instanceof az?1:0;for(let e=0;e<a.inboundNodes.length;e++){const r=az.nodeKey(a,e);this.containerNodes.has(r)&&(t[r]=n,n+=1)}}return t}getLayer(e,t){if(null!=t)return this.findLayer(t);if(null==e)throw new $F("Provide either a layer name or layer index");if("number"===typeof e)return this.findLayer(e);for(const n of this.layers)if(n.name===e)return n;throw new $F("No such layer: ".concat(e))}findLayer(e){if(this.layers.length<=e)throw new $F("Was asked to retrieve layer at index ".concat(e,", but model only ")+"has ".concat(this.layers.length," layer(s)."));return this.layers[e]}calculateLosses(){return gk((()=>{const e=[];for(const t of this.layers)for(let n=0;n<t.inboundNodes.length;++n){const a=az.nodeKey(t,n);this.containerNodes.has(a)&&e.push(...t.calculateLosses())}return e}))}getConfig(){const e={name:this.name},t=this.buildNodeConversionMap(this.layers),n=[];for(const o of this.layers){const e=o.getClassName(),a=o.getConfig(),r=[];for(let n=0;n<o.inboundNodes.length;n++){const e=o.inboundNodes[n],a=az.nodeKey(o,n);let s={};if(this.containerNodes.has(a)){if(e.callArgs)try{JSON.stringify(e.callArgs),s=e.callArgs}catch(r4){console.warn("Layer ".concat(o.name," was passed ")+"non-serializable keyword arguments: "+"".concat(e.callArgs,". They will not be included ")+"in the serialized model (and thus will be missing at deserialization time)."),s={}}if(e.inboundLayers.length>0){const n=[];for(let a=0;a<e.inboundLayers.length;a++){const r=e.inboundLayers[a],o=e.nodeIndices[a],i=e.tensorIndices[a];let l=t[az.nodeKey(r,o)];null==l&&(l=0),n.push([r.name,l,i,s])}r.push(n)}}}const s={};s.name=o.name,s.className=e,s.config=a,s.inboundNodes=r,n.push(s)}e.layers=n;const a=[];for(let o=0;o<this.inputLayers.length;o++){const e=this.inputLayers[o],n=this.inputLayersNodeIndices[o],r=az.nodeKey(e,n);if(!this.containerNodes.has(r))continue;let s=t[r];null!==s&&void 0!==s||(s=0);const i=this.inputLayersTensorIndices[o];a.push([e.name,s,i])}e.inputLayers=a;const r=[];for(let o=0;o<this.outputLayers.length;o++){const e=this.outputLayers[o],n=this.outputLayersNodeIndices[o],a=az.nodeKey(e,n);if(!this.containerNodes.has(a))continue;let s=t[a];null!==s&&void 0!==s||(s=0);const i=this.outputLayersTensorIndices[o];r.push([e.name,s,i])}return e.outputLayers=r,e}static fromConfig(e,t){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a={},r={};function o(e,t){e.name in r?r[e.name].push(t):r[e.name]=[t]}function s(e,t){const n=[];let r;for(const s of t){const i=s[0],l=s[1],c=s[2];if(r=null==s[3]?{}:s[3],!(i in a))return void o(e,t);const u=a[i];if(u.inboundNodes.length<=l)return void o(e,t);const d=u.inboundNodes[l];n.push(d.outputTensors[c])}n.length>0&&e.apply(sL(n),r)}function i(e){const r=e.name,s=SP(e,null!=t.customObjects?t.customObjects:{});s.setFastWeightInitDuringBuild(n),a[r]=s;e.inboundNodes.forEach((e=>{if(!(e instanceof Array))throw new $F("Corrupted configuration, expected array for nodeData: ".concat(e));o(s,e)}))}const l=t.name,c=t.layers;for(const f of c)i(f);for(;!gL(r);)for(const e of c){const t=a[e.name];if(t.name in r){const e=r[t.name];delete r[t.name];for(const n of e)s(t,n)}}const u=[],d=[],h=t.inputLayers;for(const f of h){const e=f[0],t=f[1],n=f[2];rL(e in a);const r=a[e].inboundNodes[t].outputTensors;u.push(r[n])}const p=t.outputLayers;for(const f of p){const e=f[0],t=f[1],n=f[2];rL(e in a);const r=a[e].inboundNodes[t].outputTensors;d.push(r[n])}return new e({inputs:u,outputs:d,name:l})}get stateful(){if(this._stateful)throw new $F("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(const e of this.layers)if(e.stateful)return!0;return!1}resetStates(){gk((()=>{this.layers.forEach((e=>{e.stateful&&e.resetStates()}))}))}}function rz(e,t,n){const a=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map((e=>null));if(1===a)return Array.isArray(e)&&1===e.length?e:"object"===typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==a)throw new Error("Provided ".concat(n," is an array of ").concat(e.length," ")+"element(s), but the model has ".concat(a," outputs. ")+"Make sure a set of weights is provided for each model output.");return e}if("object"===typeof e&&Object.keys(e).length>0&&"object"===typeof e[Object.keys(e)[0]]){const n=[];return t.forEach((t=>{t in e?n.push(e[t]):n.push(null)})),n}throw new Error("The model has multiple (".concat(a,") outputs, ")+"so ".concat(n," must be either an array with ")+"".concat(a," elements or an object with ").concat(t," keys. ")+"Provided ".concat(n," not understood: ").concat(JSON.stringify(e)))}function oz(e,t){return rz(e,t,"classWeight")}async function sz(e,t,n,a){if(null!=t||null!=a)throw new Error("Support sampleWeight is not implemented yet");if(null!=n){const t=gk((()=>{if(1===e.shape.length)return OS(e);if(2===e.shape.length){if(e.shape[1]>1){return qT(e,1)}if(1===e.shape[1])return fC(e,[e.shape[0]]);throw new Error("Encountered unexpected last-dimension size (".concat(e.shape[1],") ")+"during handling of class weights. The size is expected to be >= 1.")}throw new Error("Unexpected rank of target (y) tensor (".concat(e.rank,") during ")+"handling of class weights. The rank is expected to be 1 or 2.")})),a=Array.from(await t.data());yk(t);const r=[];return a.forEach((e=>{if(null==n[e])throw new Error("classWeight must contain all classes in the training data. "+"The class ".concat(e," exists in the data but not in ")+"classWeight");r.push(n[e])})),fA(r,"float32")}return null}function iz(e,t){return zS(e,t)}function lz(e,t){let n,a;const r=t;n=r.xs,a=r.ys,hg(null!=n&&null!=a,(()=>"A Dataset iterator for fitDataset() is expected to generate objects of the form `{xs: xVal, ys: yVal}`, where the two values may be `tf.Tensor`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates "+"".concat(t)));const o=cz("input",e.inputNames,n),s=cz("output",e.outputNames,a),i=o[0].shape[0];hg(o.length===e.inputs.length,(()=>"LayersModel has ".concat(e.inputs.length," inputs, but the dataset ")+"provides ".concat(o.length," inputs.  (Expected input keys: ")+"".concat(JSON.stringify(e.inputNames),")"))),hg(s.length===e.outputs.length,(()=>"LayersModel has ".concat(e.outputs.length," outputs, but the dataset ")+"provides ".concat(s.length," outputs.  (Expected output keys: ")+"".concat(JSON.stringify(e.outputNames),")")));for(let l=0;l<o.length;l++)hg(o[l].shape[0]===i,(()=>"Batch size mismatch: input "+"".concat(e.inputNames[l]," has ").concat(o[l].shape[0],"; ")+"expected  ".concat(i," based on input ").concat(e.inputNames[0],".")));for(let l=0;l<s.length;l++)hg(s[l].shape[0]===i,(()=>"Batch size mismatch: output "+"".concat(e.outputNames[l]," has ").concat(s[l].shape[0],"; ")+"expected  ".concat(i," based on input ").concat(e.inputNames[0],".")));return{xs:o,ys:s}}function cz(e,t,n){if(n instanceof xx)return[n];if(Array.isArray(n))return hg(n.length===t.length,(()=>"Received an array of ".concat(n.length," Tensors, but expected ").concat(t.length," to match the ").concat(e," keys ").concat(t,"."))),n;{const a=[];for(const r of t){if(null==n[r])throw new $F("The feature data generated by the dataset lacks the required "+"".concat(e," key '").concat(r,"'."));a.push(n[r])}return a}}async function uz(e,t,n){const a=null!=n.batchesPerEpoch;if(hg(null!=e.optimizer,(()=>"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig).")),hg(null!=n,(()=>"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call.")),hg(null!=n.epochs&&n.epochs>0&&Number.isInteger(n.epochs),(()=>"For fitDataset(), config.epochs is expected to be a positive "+"integer, but got ".concat(n.epochs))),hg(!a||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),(()=>"For fitDataset(), config.batchesPerEpoch is expected to be a "+"positive integer if specified, but got ".concat(n.batchesPerEpoch))),hg(null==n.validationSplit,(()=>"`validationSplit` is not supported by `fitDataset()`. Use validationData instead.")),e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0;try{const r=null!=n.validationData;let o,s;if(r)if(dz(n.validationData))hg(null==n.validationBatches||n.validationBatches>0&&Number.isInteger(n.validationBatches),(()=>"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, "+"but got ".concat(n.validationBatches)));else{const e=function(e){if(3===e.length)throw new eL("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}(n.validationData);o=e.xs,s=e.ys}const i=e.makeTrainFunction(),l=e.getDedupedMetricsNames();let c;c=r?l.slice().concat(l.map((e=>"val_"+e))):l.slice();const u=wP(n.callbacks,n.yieldEvery),d=null==n.verbose?1:n.verbose,{callbackList:h,history:p}=kP(u,d,n.epochs,null,null,function(e,t){let n=null;null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size);return n}(t,n),null,r,c);h.setModel(e),e.history=p,await h.onTrainBegin(),e.stopTraining_=!1;let f=null==n.initialEpoch?0:n.initialEpoch,m=await t.iterator();for(;f<n.epochs;){const c={};await h.onEpochBegin(f);let u=0,d=0;for(a||(m=await t.iterator());!a||u<n.batchesPerEpoch;){const t=await m.next();if(a&&t.done){console.warn("You provided `batchesPerEpoch` as "+"".concat(n.batchesPerEpoch,", ")+"but your dataset iterator ran out of data after "+"".concat(u," batches; ")+"interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, "+"".concat(n.batchesPerEpoch*n.epochs," batches). ")+"You may need to use the repeat() function when building your dataset.");break}if(null!=t.value){const{xs:a,ys:r}=lz(e,t.value),o={};o.batch=d,o.size=a[0].shape[0],await h.onBatchBegin(d,o);const s=[];if(null!=n.classWeight){const t=oz(n.classWeight,e.outputNames);for(let e=0;e<t.length;++e)s.push(await sz(r[e],null,t[e]))}const c=a.concat(r).concat(s),p=i(c);yk(c);for(let e=0;e<l.length;++e){const t=l[e],n=p[e];o[t]=n,bk(n)}await h.onBatchEnd(d,o),pP(o),d++,u++}if(a?u>=n.batchesPerEpoch:t.done){if(r){let t;t=dz(n.validationData)?iL(await e.evaluateDataset(n.validationData,{batches:n.validationBatches})):iL(e.evaluate(o,s,{batchSize:null==n.validationBatchSize?32:n.validationBatchSize,verbose:0}));for(let n=0;n<e.metricsNames.length;++n)c["val_".concat(e.metricsNames[n])]=t[n]}break}if(e.stopTraining_)break}if(await h.onEpochEnd(f,c),f++,e.stopTraining_)break}return await h.onTrainEnd(),await e.history.syncData(),e.history}finally{e.isTraining=!1}}function dz(e){return"function"===typeof e.iterator}function hz(e){hg(e>0&&Number.isInteger(e),(()=>"batchSize is required to be a positive integer, but got ".concat(e)))}function pz(e,t,n){return null==e?[null]:Array.isArray(e)?e.map((e=>QL(e,t,n-t))):QL(e,t,n-t)}function fz(e,t){return gk((()=>null==e?null:Array.isArray(e)?e.map((e=>fz(e,t))):rM(e,"int32"===t.dtype?t:DS(t,"int32"))))}function mz(e,t){const n=[];let a=0,r=null;for(;a<e;)r=a+t,r>=e&&(r=e),n.push([a,r]),a=r;return n}function gz(e){const t=[];e instanceof xx&&(e=[e]);for(let n=0;n<e.length;++n){const a=e[n];if(1===a.rank)t.push(YL(a,1));else{if(0===a.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(a)}}return t}function yz(e,t){if(null==e)return;const n=[];if(t instanceof xx)n.push(t.id);else if(Array.isArray(t))t.forEach((e=>n.push(e.id)));else if(null!=t)for(const r in t){const e=t[r];n.push(e.id)}const a=[];if(e instanceof xx)-1===n.indexOf(e.id)&&a.push(e);else if(Array.isArray(e))e.forEach((e=>{-1===n.indexOf(e.id)&&a.push(e)}));else if(null!=e)for(const r in e){const t=e[r];-1===n.indexOf(t.id)&&a.push(t)}a.forEach((e=>{e.isDisposed||e.dispose()}))}function bz(e){return Array.isArray(e)}function vz(e){return!function(e){return e instanceof xx}(e)&&!bz(e)}function wz(e,t,n){let a,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(null==t||0===t.length){if(null!=e){let t=!1;if(bz(e)&&e.length>0)t=!0;else if(vz(e)){for(const n in e)if(e.hasOwnProperty(n)){t=!0;break}}else t=!0;if(t)throw new $F("Error when checking model ".concat(o," expected no data, ")+"but got ".concat(e))}return[]}if(null==e)return t.map((e=>null));if(vz(e)){a=[];for(const n of t){if(null==e[n])throw new $F('No data provided for "'.concat(n,'". Need data for each key in: ')+"".concat(t));a.push(e[n])}}else if(bz(e)){if(e.length!==t.length)throw new $F("Error when checking model ".concat(o,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"model expected. Expected to see ".concat(t.length," Tensor(s), but ")+"instead got the following list of Tensor(s): ".concat(e));a=e}else{if(t.length>1)throw new $F("The model ".concat(o," expects ").concat(t.length," Tensor(s), ")+"but only received one Tensor. Found: Tensor with shape ".concat(e.shape));a=[e]}if(a=gz(a),null!=n)for(let s=0;s<t.length;++s){if(null==n[s])continue;const e=a[s];if(e.shape.length!==n[s].length)throw new $F("Error when checking ".concat(o,": expected ").concat(t[s]," ")+"to have ".concat(n[s].length," dimension(s). but got array with ")+"shape ".concat(e.shape));for(let t=0;t<n[s].length;++t){if(0===t&&!r)continue;const a=e.shape[t],i=n[s][t];if(null!=i&&i>=0&&a!==i)throw new $F("".concat(o," expected a batch of elements where each ")+"example has shape [".concat(n[s].slice(1,n[s].length),"] ")+"(i.e.,tensor shape [*,".concat(n[s].slice(1,n[s].length),"])")+" but the ".concat(o," received an input with ").concat(e.shape[0])+" examples, each with shape [".concat(e.shape.slice(1,e.shape.length),"]")+" (tensor shape [".concat(e.shape,"])"))}}return a}function xz(e,t,n){let a,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(Array.isArray(e)){if(e.length!==t.length)throw new $F("Error when checking model ".concat(o,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"the model expected. Expected to see ".concat(t.length," Tensor(s),")+" but instead got ".concat(e.length," Tensors(s)."));a=e}else{if(t.length>1)throw new $F("The model expects ".concat(t.length," ").concat(o," Tensors, ")+"but only received one Tensor. Found: array with shape "+"".concat(JSON.stringify(e.shape),"."));a=[e]}if(null!=n)for(let s=0;s<t.length;++s){if(null==n[s])continue;const e=a[s];if(e.shape.length!==n[s].length)throw new $F("Error when checking ".concat(o,": expected ").concat(t[s]," ")+"to have ".concat(n[s].length," dimension(s), but got array with ")+"shape ".concat(JSON.stringify(e.shape)));for(let a=0;a<n[s].length;++a){if(0===a&&!r)continue;const i=e.shape[a],l=n[s][a];if(null!=l&&l!==i)throw new $F("Error when checking ".concat(o,": expected ")+"".concat(t[s]," to have shape ").concat(JSON.stringify(n[s])," but ")+"got array with shape ".concat(JSON.stringify(e.shape),"."))}}}class kz extends az{constructor(e){super(e),this.isTraining=!1}summary(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;if(!this.built)throw new $F("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");YP(this,e,t,n)}compile(e){if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"===typeof e.optimizer)this.optimizer_=function(e){const t={Adagrad:()=>J_.adagrad(.01),Adadelta:()=>J_.adadelta(1,.95,KL()),Adam:()=>J_.adam(.001,.9,.999,KL()),Adamax:()=>J_.adamax(.002,.9,.999,KL(),0),RMSProp:()=>J_.rmsprop(.001,.9,0,KL()),SGD:()=>J_.sgd(.01)};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new $F("Unknown Optimizer ".concat(e))}(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof nN))throw new $F("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}let t=[];if(Array.isArray(e.loss)||"string"===typeof e.loss||"function"===typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new $F("When passing an Array as loss, it should have one entry per "+"model output. The model has ".concat(this.outputs.length," output(s), ")+"but you passed loss=".concat(e.loss,"."));const n=e.loss;t=n.map((e=>LP(e)))}else{const n=LP(e.loss);this.outputs.forEach((e=>{t.push(n)}))}else{e.loss=e.loss;for(const t in e.loss)if(-1===this.outputNames.indexOf(t))throw new $F('Unknown entry in loss dictionary: "'.concat(t,'". ')+"Only expected the following keys: ".concat(this.outputNames));for(const n of this.outputNames)null==e.loss[n]&&console.warn('Output "'.concat(n,'" is missing from loss dictionary. We assume ')+"this was done on purpose, and we will not be expecting data "+"to be passed to ".concat(n," during training")),t.push(LP(e.loss[n]))}this.lossFunctions=t,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(let o=0;o<this.outputs.length;++o){const e=this.internalOutputShapes[o],t=this.outputNames[o];this.feedOutputNames.push(t),this.feedOutputShapes.push(e),this.feedLossFns.push(this.lossFunctions[o])}const n=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],PL("loss",(()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==n.indexOf(e))continue;const t=this.lossFunctions[e];this.outputs.length>1&&(this.metricsTensors.push([t,e]),this.metricsNames.push(this.outputNames[e]+"_loss"))}}));const a=function(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map((e=>[]));let n;if("string"===typeof e||"function"===typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!==typeof e)throw new TypeError("Type of metrics argument not understood. Expected an string,"+"function, Array, or Object, found: ".concat(e));n=e}if(Array.isArray(n))return t.map((e=>n));{const e=[];for(const a of t){let t=n.hasOwnProperty(a)?n[a]:[];Array.isArray(t)||(t=[t]),e.push(t)}return e}}(e.metrics,this.outputNames),r=(e,t,n)=>{this.outputNames.length>1&&(t=this.outputNames[e]+"_"+t),this.metricsNames.push(t),this.metricsTensors.push([n,e])};PL("metric",(()=>{for(let e=0;e<this.outputs.length;++e){if(-1!==n.indexOf(e))continue;(t=>{let n,a,o;for(const s of t){if("string"===typeof s&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(s)){const t=this.internalOutputShapes[e];let r;1===t[t.length-1]||this.lossFunctions[e]===RP?-1!==["accuracy","acc"].indexOf(s)?a=MP:-1!==["crossentropy","ce"].indexOf(s)&&(a=jP):this.lossFunctions[e]===_P?-1!==["accuracy","acc"].indexOf(s)?a=BP:-1!==["crossentropy","ce"].indexOf(s)&&(a=UP):-1!==["accuracy","acc"].indexOf(s)?a=PP:-1!==["crossentropy","ce"].indexOf(s)&&(a=WP),-1!==["accuracy","acc"].indexOf(s)?r="acc":-1!==["crossentropy","ce"].indexOf(s)&&(r="ce"),o=a,n=""+r}else{const e=HP(s);o=e,n=""+GP(s)}let t;PL(n,(()=>{t=o})),r(e,n,t)}})(a[e])}})),this.collectedTrainableWeights=this.trainableWeights}checkTrainableWeightsConsistency(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}evaluate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=null==n.batchSize?32:n.batchSize;hz(a);const r=this.standardizeUserDataXY(e,t,!0,a);try{const e=r[0].concat(r[1]);this.makeTestFunction();const t=this.testFunction;return sL(this.testLoop(t,e,a,n.verbose,n.steps))}finally{yz(r[0],e),yz(r[1],t)}}async evaluateDataset(e,t){return this.makeTestFunction(),async function(e,t,n){const a=null!=(n=n||{}).batches,r=e.testFunction;let o=[];if(n.verbose>0)throw new eL("Verbose mode is not implemented yet.");hg(!a||n.batches>0&&Number.isInteger(n.batches),(()=>"Test loop expects `batches` to be a positive integer, but "+"received ".concat(JSON.stringify(n.batches))));const s="function"===typeof t.next?t:await t.iterator();let i=0,l=0;for(;!a||l<n.batches;){const t=await s.next();if(o=gk((()=>{if(t.value){const{xs:n,ys:a}=lz(e,t.value),s=n.concat(a),c=gk((()=>r(s)));if(yk(s),0===l)for(let e=0;e<c.length;++e)o.push(YS(0));const u=s[0].shape[0];for(let e=0;e<c.length;++e){const t=c[e],n=o[e];o[e]=gk((()=>LS(o[e],zS(u,t)))),l>0&&yk(n)}yk(c),i+=u,++l}return o})),t.done){a&&console.warn("Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` "+"batches (in this case, ".concat(n.batches," batches). ")+"You may need to use the repeat() function when building your dataset.");break}}for(let c=0;c<o.length;++c){const e=o[c];o[c]=PS(o[c],i),yk(e)}return sL(o)}(this,e,t)}checkNumSamples(e,t,n){let a,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"steps";if(null!=n){if(a=null,null!=t)throw new $F("If ".concat(r," is set, batchSize must be null or undefined.")+"Got batchSize = ".concat(t))}else{if(null==e)throw new $F("Either the input data should have a defined shape, or "+"".concat(r," shoud be specified."));a=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return a}execute(e,t){if(Array.isArray(t)&&0===t.length)throw new $F("`outputs` is an empty Array, which is not allowed.");const n=Array.isArray(t),a=n?t:[t],r=this.retrieveSymbolicTensors(a),o=new YM;if(e instanceof xx&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new $F("The number of inputs provided (".concat(e.length,") ")+"does not match the number of inputs of this model "+"(".concat(this.inputs.length,")."));for(let t=0;t<this.inputs.length;++t)o.add(this.inputs[t],e[t])}else for(const i of this.inputs){const t=e[i.name];if(null==t)throw new $F("No value is provided for the model's input ".concat(i.name));o.add(i,t)}const s=JM(r,o);return n?s:s[0]}retrieveSymbolicTensors(e){const t=aL(null,e.length);let n=e.length;for(const a of this.layers){const r=Array.isArray(a.output)?a.output:[a.output],o=r.map((e=>e.name));for(let a=0;a<e.length;++a){const s=o.indexOf(e[a]);if(-1!==s&&(t[a]=r[s],n--),0===n)break}if(0===n)break}if(n>0){const n=[];throw t.forEach(((t,a)=>{null==t&&n.push(e[a])})),new $F("Cannot find SymbolicTensors for output name(s): "+"".concat(JSON.stringify(n)))}return t}predictLoop(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return gk((()=>{const a=this.checkNumSamples(e);if(n)throw new eL("Verbose predictLoop() is not implemented yet.");const r=mz(a,t),o=this.outputs.map((e=>[]));for(let t=0;t<r.length;++t){gk((()=>{const n=r[t][0],a=r[t][1],o=pz(e,n,a),s=[];if(Array.isArray(o))for(let e=0;e<o.length;++e)s.push({key:this.inputs[e],value:o[e]});else s.push({key:this.inputs[0],value:o});const i=new YM(s);return JM(this.outputs,i)})).forEach(((e,t)=>o[t].push(e)))}return sL(o.map((e=>yC(e,0))))}))}predict(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=gz(e);xz(n,this.inputNames,this.feedInputShapes,!1);try{const e=null==t.batchSize?32:t.batchSize;return hz(e),this.predictLoop(n,e)}finally{yz(n,e)}}predictOnBatch(e){xz(e,this.inputNames,this.feedInputShapes,!0);const t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)}standardizeUserDataXY(e,t){let n=arguments.length>3?arguments[3]:void 0;if(null==this.optimizer_)throw new JF("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");const a=[];for(let r=0;r<this.feedOutputShapes.length;++r){const e=this.feedOutputShapes[r];this.feedLossFns[r]===_P?a.push(e.slice(0,e.length-1).concat([1])):a.push(e)}if(function(e,t,n){const a=mL(e.map((e=>e.shape[0])));a.sort();const r=mL(t.map((e=>e.shape[0])));if(r.sort(),a.length>1)throw new $F("All input Tensors (x) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(e.map((e=>e.shape)))));if(r.length>1)throw new $F("All target Tensors (y) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(t.map((e=>e.shape)))));if(a.length>0&&r.length>0&&!bg(a,r))throw new $F("Input Tensors should have the same number of samples as target "+"Tensors. Found ".concat(a[0]," input sample(s) and ").concat(r[0]," target ")+"sample(s).")}(e=wz(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=wz(t,this.feedOutputNames,a,!1,"target")),function(e,t,n){const a=[TP,RP,AP];for(let r=0;r<e.length;++r){const o=e[r],s=t[r],i=n[r];if(null!=s){if(s===AP&&1===o.shape[o.shape.length-1])throw new $F("You are passing a target array of shape ".concat(o.shape," while using ")+"a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].");if(-1!==a.indexOf(s)){const e=o.shape.slice(1),t=i.slice(1);for(let n=0;n<e.length;++n){const a=e[n],r=t[n];if(null!=r&&a!==r)throw new $F("A target Tensor with shape ".concat(o.shape," was passed for an ")+"output of shape ".concat(i,", while using a loss function that ")+"expects targets to have the same shape as the output.")}}}}}(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=n&&n>0&&e[0].shape[0]%n!==0)throw new $F("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size "+"".concat(n,". Found: ").concat(e[0].shape[0]," sample(s)."));return[e,t]}async standardizeUserData(e,t,n,a){let r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=arguments.length>5?arguments[5]:void 0;const[s,i]=this.standardizeUserDataXY(e,t,r,o);if(null!=n)throw new Error("sample weight is not supported yet.");let l=null;if(null!=a){const e=oz(a,this.outputNames);l=[];for(let t=0;t<e.length;++t)l.push(await sz(i[t],null,e[t]))}return[s,i,l]}testLoop(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4?arguments[4]:void 0;return gk((()=>{const o=this.checkNumSamples(t,n,r,"steps"),s=[];if(a>0)throw new eL("Verbose mode is not implemented yet.");if(null!=r)throw new eL("steps mode in testLoop() is not implemented yet");{const a=mz(o,n),r=fA(GL(0,o));for(let n=0;n<a.length;++n){const o=a[n][0],i=a[n][1],l=QL(r,o,i-o),c=fz(t,l),u=e(c);if(0===n)for(let e=0;e<u.length;++e)s.push(YS(0));for(let e=0;e<u.length;++e){const t=u[e];s[e]=LS(s[e],zS(i-o,t))}}for(let e=0;e<s.length;++e)s[e]=PS(s[e],o)}return s}))}getDedupedMetricsNames(){const e=this.metricsNames,t=[];for(let n=0;n<e.length;++n){const a=e[n];let r=a;if(oL(e,a)>1){const t=oL(e.slice(0,n),a);r+="_".concat(t)}t.push(r)}return t}makeTrainFunction(){return e=>{const t=[],n=e.slice(0,this.inputs.length),a=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),r=e.slice(this.inputs.length+this.outputs.length,this.inputs.length+2*this.outputs.length),o=[],s=this.collectedTrainableWeights.map((e=>e.read()));return[this.optimizer_.minimize((()=>{const e=[];for(let t=0;t<this.inputs.length;++t)e.push({key:this.inputs[t],value:n[t]});const s=new YM(e),i=JM(this.outputs,s,{training:!0});let l;for(let n=0;n<this.lossFunctions.length;++n){let e=(0,this.lossFunctions[n])(a[n],i[n]);null!=r[n]&&(e=iz(e,r[n]));const o=eE(e);t.push(o),l=0===n?e:LS(l,e)}for(let n=0;n<this.metricsTensors.length;++n){let e;if(this.outputs.length>1&&n<this.outputs.length)e=t[n];else{const t=this.metricsTensors[n][0],r=this.metricsTensors[n][1];e=eE(t(a[r],i[r]))}bk(e),o.push(e)}return l=eE(l),this.calculateLosses().forEach((e=>{l=LS(l,e)})),l}),!0,s)].concat(o)}}makeTestFunction(){this.testFunction=e=>gk((()=>{const t=[];let n;const a=e.slice(0,this.inputs.length),r=e.slice(this.inputs.length,this.inputs.length+this.outputs.length),o=[];for(let e=0;e<this.inputs.length;++e)o.push({key:this.inputs[e],value:a[e]});const s=new YM(o),i=JM(this.outputs,s);for(let e=0;e<this.lossFunctions.length;++e){const a=this.lossFunctions[e],o=eE(a(r[e],i[e]));n=0===e?o:LS(n,o),t.push(n)}for(let e=0;e<this.metricsTensors.length;++e){const n=this.metricsTensors[e][0],a=this.metricsTensors[e][1],o=eE(n(r[a],i[a]));t.push(o)}return t}))}async fit(e,t){let n,a,r,o,s,i,l,c,u,d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");this.isTraining=!0;try{const h=null==d.batchSize?32:d.batchSize;hz(h);const p=!1,f=await this.standardizeUserData(e,t,d.sampleWeight,d.classWeight,p,h);n=f[0],a=f[1],u=f[2];let m,g=!1;if(null!=d.validationData&&d.validationData.length>0){if(g=!0,2!==d.validationData.length)throw 3===d.validationData.length?new eL("validationData including sample weights is not supported yet."):new $F("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; "+"".concat(d.validationData," is invalid."));s=d.validationData[0],i=d.validationData[1];const e=!0,t=await this.standardizeUserData(s,i,null,null,e,h);l=t[0],c=t[1],m=l.concat(c)}else if(null!=d.validationSplit&&d.validationSplit>0&&d.validationSplit<1){g=!0;const e=Math.floor(n[0].shape[0]*(1-d.validationSplit)),t=n[0].shape[0];l=pz(n,e,t),r=n,n=pz(n,0,e),c=pz(a,e,t),o=a,a=pz(a,0,e),m=l.concat(c)}else null!=d.validationSteps&&(g=!0);const y=n.concat(a).concat(u);this.checkTrainableWeightsConsistency();const b=this.makeTrainFunction(),v=this.getDedupedMetricsNames();let w,x;g?(this.makeTestFunction(),w=this.testFunction,x=v.slice().concat(v.map((e=>"val_"+e)))):(w=null,m=[],x=v.slice());const k=wP(d.callbacks,d.yieldEvery);return await this.fitLoop(b,y,v,h,d.epochs,d.verbose,k,w,m,d.shuffle,x,d.initialEpoch,null,null)}finally{this.isTraining=!1,yz(n,e),yz(a,t),yz(r,e),yz(o,t),yz(l,s),yz(c,i),null!=u&&yk(u)}}async fitLoop(e,t,n,a,r,o,s,i,l,c,u,d,h,p){null==a&&(a=32),null==r&&(r=1),null==c&&(c=!0),null==d&&(d=0);let f=!1;if(null!=i&&null!=l&&(f=!0),null!=p&&(f=!0,null==h))throw new $F("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");const m=this.checkNumSamples(t,a,h,"steps_per_epoch");let g;null!=m&&(g=GL(0,m)),null==o&&(o=1);const{callbackList:y,history:b}=kP(s,o,r,d,m,h,a,f,u);y.setModel(this),this.history=b,await y.onTrainBegin(),this.stopTraining_=!1;for(let v=d;v<r;++v){await y.onEpochBegin(v);const r={};if(null!=h)throw new eL("stepsPerEpoch mode is not implemented yet.");{if("batch"===c)throw new eL("batch shuffling is not implemneted yet");c&&rg(g);const o=fA(g),s=mz(m,a);for(let c=0;c<s.length;++c){const u={};if(await y.onBatchBegin(c,u),gk((()=>{const d=s[c][0],h=s[c][1],p=QL(o,d,h-d);u.batch=c,u.size=h-d;const m=fz(t,p),g=e(m);for(let e=0;e<n.length;++e){const t=n[e],a=g[e];u[t]=a,bk(a)}if(c===s.length-1&&f){const e=this.testLoop(i,l,a);for(let t=0;t<n.length;++t){const a=n[t],o=e[t];bk(o),r["val_"+a]=o}}})),await y.onBatchEnd(c,u),pP(u),this.stopTraining_)break}o.dispose()}if(await y.onEpochEnd(v,r),this.stopTraining_)break}return await y.onTrainEnd(),await this.history.syncData(),this.history}async fitDataset(e,t){return uz(this,e,t)}async trainOnBatch(e,t){const n=await this.standardizeUserData(e,t),a=n[0],r=n[1],o=this.makeTrainFunction()(a.concat(r)),s=[];for(const i of o){const e=await i.data();s.push(e[0])}return yk(o),yz(n[0],e),yz(n[1],t),sL(s)}getNamedWeights(e){const t=[],n=null!=e&&e.trainableOnly,a=n?this.trainableWeights:this.weights,r=this.getWeights(n);for(let o=0;o<a.length;++o)n&&!a[o].trainable||t.push({name:a[o].originalName,tensor:r[o]});return t}set stopTraining(e){this.stopTraining_=e}get stopTraining(){return this.stopTraining_}get optimizer(){return this.optimizer_}set optimizer(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}dispose(){const e=super.dispose();if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){const t=fk().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=t-fk().numTensors}return e}getLossIdentifiers(){let e;if("string"===typeof this.loss)e=lL(this.loss);else if(Array.isArray(this.loss)){for(const e of this.loss)if("string"!==typeof e)throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map((e=>lL(e)))}else{const t=Object.keys(this.loss);e={};const n=this.loss;for(const a of t){if("string"!==typeof n[a])throw new Error("Serialization of non-string loss is not supported.");e[a]=lL(n[a])}}return e}getMetricIdentifiers(){if("string"===typeof this.metrics||"function"===typeof this.metrics)return[lL(GP(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map((e=>lL(GP(e))));{const e={};for(const t in this.metrics)e[t]=lL(GP(this.metrics[t]));return e}}getTrainingConfig(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}loadTrainingConfig(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");const t=SP(ez(e.optimizer_config));let n,a;if("string"===typeof e.loss)n=cL(e.loss);else if(Array.isArray(e.loss))n=e.loss.map((e=>cL(e)));else if(null!=e.loss){n={};for(const t in e.loss)n[t]=cL(e.loss[t])}if(Array.isArray(e.metrics))a=e.metrics.map((e=>cL(e)));else if(null!=e.metrics){a={};for(const t in e.metrics)a[t]=cL(e.metrics[t])}this.compile({loss:n,metrics:a,optimizer:t})}async save(e,t){if("string"===typeof e){const t=Qk(e);if(0===t.length)throw new $F("Cannot find any save handlers for URL '".concat(e,"'"));if(t.length>1)throw new $F("Found more than one (".concat(t.length,") save handlers for ")+"URL '".concat(e,"'"));e=t[0]}if(null==e.save)throw new $F("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");const n=await _k(this.getNamedWeights(t)),a={modelTopology:this.toJSON(null,!1),format:"layers-model",generatedBy:"TensorFlow.js tfjs-layers v".concat(nz),convertedBy:null};if(null!=t&&t.includeOptimizer&&null!=this.optimizer){a.trainingConfig=this.getTrainingConfig();const e="optimizer",{data:t,specs:r}=await _k(await this.optimizer.getWeights(),e);n.specs.push(...r),n.data=Bk([n.data,t])}if(null!=this.userDefinedMetadata){const e=!0;KP(this.userDefinedMetadata,this.name,e),a.userDefinedMetadata=this.userDefinedMetadata}return a.weightData=n.data,a.weightSpecs=n.specs,e.save(a)}setUserDefinedMetadata(e){KP(e,this.name),this.userDefinedMetadata=e}getUserDefinedMetadata(){return this.userDefinedMetadata}}kz.className="Model",eN(kz);class Sz extends kz{}Sz.className="Functional",eN(Sz);class Nz extends kz{constructor(e){if(super({inputs:[],outputs:[]}),e=e||{},this.trainable=!0,this.built=!1,this.name=null!=e.name?e.name:TL("sequential_"),null!=e.layers)for(const t of e.layers)this.add(t)}checkShape(e){if(e.inboundNodes[0].outputTensors[0].shape.some((e=>e<0)))throw new $F("Negative dimension size caused by adding layer "+"".concat(e.name," with input shape [")+"".concat(e.inboundNodes[0].inputTensors[0].shape,"]"))}add(e){const t=e instanceof Nz||e instanceof kz;let n;if(t){if(n=e,1!==n.outputs.length)throw new $F("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==n.inputs.length)throw new $F("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new $F("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");const t=function(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new $F("Please provide either a `shape` or `batchShape` argument to Input, but not both.");let t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));let n=e.dtype;return null==n&&(n="float32"),new XM({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(t)}if(t)this.outputs=n.outputs,this.inputs=n.inputs;else{if(1!==e.inboundNodes.length)throw new $F("A layer added to a Sequential model must not already be "+"connected somewhere else. LayersModel received layer ".concat(e.name," ")+"which has ".concat(e.inboundNodes.length," pre-existing inbound ")+"connections.");if(1!==e.inboundNodes[0].outputTensors.length)throw new $F("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=KM(this.outputs[0])}this.inboundNodes=[],new HM({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:aL(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map((e=>e.shape)),outputShapes:this.outputs[0].shape})}else{const t=e.apply(this.outputs[0]);if(Array.isArray(t))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[t],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}pop(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{const e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}call(e,t){return null==this.model&&this.build(),this.model.call(e,t)}build(e){if(LM(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new kz({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}countParams(){return this.built||this.build(),super.countParams()}summary(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;this.built||this.build(),super.summary(e,t,n)}setWeights(e){null==this.model&&this.build(),this.model.setWeights(e)}evaluate(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.built)throw new JF("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)}async evaluateDataset(e,t){if(!this.built)throw new JF("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,t)}predict(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==this.model&&this.build(),this.model.predict(e,t)}predictOnBatch(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}compile(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}get optimizer(){return null==this.model?void 0:this.model.optimizer}set optimizer(e){this.model.optimizer=e}async fit(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.built)throw new JF("The model needs to be compiled before being used.");return this.model.fit(e,t,n)}async fitDataset(e,t){if(!this.built)throw new JF("The model needs to be compiled before being used.");return this.model.fitDataset(e,t)}async trainOnBatch(e,t){return this.model.trainOnBatch(e,t)}static fromConfig(e,t){let n,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r={};if(t instanceof Array){if(null==t[0].className||"Merge"===t[0].className)throw new $F("Legacy serialization format not supported yet.");n=t}else hg(null!=t.layers,(()=>"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field.")),n=t.layers,delete t.layers,r=t;const o=new e(r);if(!(o instanceof Nz))throw new eL("Sequential.fromConfig called on non-Sequential input: ".concat(o));for(const s of n){const e=SP(s,void 0,a);a&&e.setFastWeightInitDuringBuild(!0),o.add(e)}return o}set stopTraining(e){if(null==this.model)throw new $F("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}get stopTraining(){if(null==this.model)throw new $F("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining}getConfig(){const e=[];for(const t of this.layers){const n={};n.className=t.getClassName(),n.config=t.getConfig(),e.push(n)}return{name:this.name,layers:e}}}Nz.className="Sequential",eN(Nz);class Tz extends JS{getConfig(){return{}}}class Cz extends Tz{apply(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(1!==t)throw new eL("Support for alpha values other than 1 (".concat(t,") is not implemented ")+"yet.");return rI(e)}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)}}Cz.className="elu",eN(Cz);class Iz extends Tz{apply(e){return qE(e)}}Iz.className="selu",eN(Iz);class Ez extends Tz{apply(e){return PE(e)}}Ez.className="relu",eN(Ez);class Az extends Tz{apply(e){return gk((()=>rE(6,PE(e))))}}Az.className="relu6",eN(Az);class _z extends Tz{apply(e){return e}}_z.className="linear",eN(_z);class Rz extends Tz{apply(e){return bC(e)}}Rz.className="sigmoid",eN(Rz);class Dz extends Tz{apply(e){return function(e){return gk((()=>{const t=LS(.5,zS(.2,e));return DC(t,0,1)}))}(e)}}Dz.className="hardSigmoid",eN(Dz);class Oz extends Tz{apply(e){return BI(e)}}Oz.className="softplus",eN(Oz);class Fz extends Tz{apply(e){return function(e){return gk((()=>PS(e,LS(cN(e),1))))}(e)}}Fz.className="softsign",eN(Fz);class Lz extends Tz{apply(e){return wC(e)}}Lz.className="tanh",eN(Lz);class Mz extends Tz{apply(e){return nA(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1)}}Mz.className="softmax",eN(Mz);class Pz extends Tz{apply(e){return UI(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1)}}Pz.className="logSoftmax",eN(Pz);class zz extends Tz{apply(e){return gk((()=>gk((()=>{const t=Math.sqrt(2),n=zS(.5,LS(1,sI(PS(e,t))));return zS(e,n)}))))}}zz.className="gelu",eN(zz);class jz extends Tz{apply(e){return gk((()=>zS(.5,zS(e,LS(1,wC(zS(jS(PS(2,Math.PI)),LS(e,zS(.044715,sN(e,3))))))))))}}jz.className="gelu_new",eN(jz);class Bz extends Tz{apply(e){return gk((()=>zS(e,wC(BI(e)))))}}Bz.className="mish",eN(Bz);class Wz extends Tz{apply(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return gk((()=>zS(bC(zS(e,t)),e)))}}function Uz(e){return e.getClassName()}function Vz(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return pL(e,$S.getMap().classNameMap,t,"activation")}function Hz(e){if(null==e){const e={className:"linear",config:{}};return Vz(e)}if("string"===typeof e){const t={};return t.className=e,t.config={},Vz(t)}return e instanceof Tz?e:Vz(e)}function Gz(e){if(null!=e&&"object"!==typeof e)throw new Error("Argument to L1L2 regularizer's constructor is expected to be an "+"object, but received: ".concat(e))}Wz.className="swish",eN(Wz);class qz extends JS{}class Kz extends qz{constructor(e){super(),Gz(e),this.l1=null==e||null==e.l1?.01:e.l1,this.l2=null==e||null==e.l2?.01:e.l2,this.hasL1=0!==this.l1,this.hasL2=0!==this.l2}apply(e){return gk((()=>{let t=tE([1]);return this.hasL1&&(t=LS(t,yI(zS(this.l1,cN(e))))),this.hasL2&&(t=LS(t,yI(zS(this.l2,oM(e))))),fC(t,[])}))}getConfig(){return{l1:this.l1,l2:this.l2}}static fromConfig(e,t){return new e({l1:t.l1,l2:t.l2})}}Kz.className="L1L2",eN(Kz);const Xz={l1l2:"L1L2"};function Yz(e){return dL(e)}function Qz(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return pL(e,$S.getMap().classNameMap,t,"regularizer")}function Zz(e){if(null==e)return null;if("string"===typeof e){return Qz({className:e in Xz?Xz[e]:e,config:{}})}return e instanceof qz?e:Qz(e)}class Jz extends qM{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,null!=e&&(this.maxValue=e.maxValue)}call(e,t){e=FM(e);let n=PE(e);return null!=this.maxValue&&(n=DC(n,0,this.maxValue)),n}computeOutputShape(e){return e}getConfig(){const e={maxValue:this.maxValue},t=super.getConfig();return Object.assign(e,t),e}}Jz.className="ReLU",eN(Jz);class $z extends qM{constructor(e){super(null==e?{}:e),this.DEFAULT_ALPHA=.3,null==e&&(e={}),this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){const n=FM(e);return OI(n,this.alpha)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}}$z.className="LeakyReLU",eN($z);class ej extends qM{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),this.supportsMasking=!0,this.alphaInitializer=RM(e.alphaInitializer||this.DEFAULT_ALPHA_INITIALIZER),this.alphaRegularizer=Zz(e.alphaRegularizer),this.alphaConstraint=dP(e.alphaConstraint),null==e.sharedAxes)this.sharedAxes=null;else if(Array.isArray(e.sharedAxes))this.sharedAxes=e.sharedAxes;else{if("number"!==typeof e.sharedAxes)throw new $F("Expected sharedAxes to be a number or an array of numbers, "+"but got ".concat(e.sharedAxes));this.sharedAxes=[e.sharedAxes]}}build(e){const t=(e=LM(e)).slice(1);if(null!=this.sharedAxes)for(const a of this.sharedAxes)t[a-1]=1;this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);const n={};if(null!=this.sharedAxes)for(let a=1;a<e.length;++a)n[a]=e[a];this.inputSpec=[new WM({ndim:e.length,axes:n})],this.built=!0}call(e,t){return e=FM(e),wE(e,this.alpha.read())}getConfig(){const e={alphaInitializer:_M(this.alphaInitializer),alphaRegularizer:Yz(this.alphaRegularizer),alphaConstraint:cP(this.alphaConstraint),sharedAxes:this.sharedAxes},t=super.getConfig();return Object.assign(e,t),e}}ej.className="PReLU",eN(ej);class tj extends qM{constructor(e){if(super(null==e?{}:e),this.DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==this.DEFAULT_ALPHA)throw new eL("Non-default alpha value (".concat(e.alpha,") is not supported by the ")+"ELU layer yet.");this.alpha=null==e.alpha?this.DEFAULT_ALPHA:e.alpha}call(e,t){const n=FM(e);return rI(n)}computeOutputShape(e){return e}getConfig(){const e={alpha:this.alpha},t=super.getConfig();return Object.assign(e,t),e}}tj.className="ELU",eN(tj);class nj extends qM{constructor(e){super(null==e?{}:e),this.DEFAULT_THETA=1,null==e&&(e={}),this.theta=null==e.theta?this.DEFAULT_THETA:e.theta}call(e,t){const n=FM(e);return zS(n,DS(EI(n,this.theta),"float32"))}computeOutputShape(e){return e}getConfig(){const e={theta:this.theta},t=super.getConfig();return Object.assign(e,t),e}}nj.className="ThresholdedReLU",eN(nj);class aj extends qM{constructor(e){super(null==e?{}:e),this.DEFAULT_AXIS=1,null==e&&(e={}),this.softmax=(new Mz).apply,this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis}call(e,t){return gk((()=>{let n=FM(e);const a=t.mask;if(null!=a){const e=zS(iN(nE(n.shape),DS(a,n.dtype)),YS(-1e9));n=LS(n,e)}return this.axis instanceof Array?this.axis.length>1?xI(iN(n,VI(n,this.axis,!0))):this.softmax(n,this.axis[0]):this.softmax(n,this.axis)}))}computeOutputShape(e){return e}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}function rj(e,t,n){if("number"===typeof e)return aL(e,t);if(e.length!==t)throw new $F("The ".concat(n," argument must be an integer or tuple of ").concat(t," integers.")+" Received: ".concat(e.length," elements."));for(let r=0;r<t;++r){const o=e[r];if((a=o)!==parseInt(a.toString(),10))throw new $F("The ".concat(n," argument must be an integer or tuple of ").concat(t)+" integers. Received: ".concat(JSON.stringify(e)," including a")+" non-integer number ".concat(o))}return e;var a}function oj(e,t,n,a){if(null==e)return e;let r;return r="same"===n?e:e-(t+(t-1)*((arguments.length>4&&void 0!==arguments[4]?arguments[4]:1)-1))+1,Math.floor((r+a-1)/a)}function sj(e,t,n,a){if(null==e)return null;if("valid"===a)e=e*t+HL([n-t,0]);else{if("same"!==a)throw new $F("Unsupport padding mode: ".concat(a,"."));e*=t}return e}function ij(e,t){return gk((()=>(DL(t),"channelsFirst"===t?HN(e,[0,2,3,1]):e)))}function lj(e,t){return gk((()=>(DL(t),"channelsFirst"===t?HN(e,[0,2,3,4,1]):e)))}function cj(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;return gk((()=>{if(null==o&&(o="channelsLast"),DL(o),3!==e.shape.length)throw new $F("The input of a conv1dWithBias operation should be 3, but is "+"".concat(e.shape.length," instead."));if(3!==t.shape.length)throw new $F("The kernel for a conv1dWithBias operation should be 3, but is "+"".concat(t.shape.length," instead"));if(null!=n&&1!==n.shape.length)throw new $F("The bias for a conv1dWithBias operation should be 1, but is "+"".concat(n.shape.length," instead"));if("channelsFirst"===o&&(e=HN(e,[0,2,1])),"causal"===r)throw new eL("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");let i=zC(e,t,a,"same"===r?"same":"valid","NWC",s);return null!=n&&(i=iM(i,n)),i}))}function uj(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return gk((()=>{if(null==o&&(o="channelsLast"),DL(o),3!==e.rank&&4!==e.rank)throw new $F("conv2dWithBiasActivation expects input to be of rank 3 or 4, "+"but received ".concat(e.rank,"."));if(3!==t.rank&&4!==t.rank)throw new $F("conv2dWithBiasActivation expects kernel to be of rank 3 or 4, "+"but received ".concat(e.rank,"."));let l=ij(e,o);if("causal"===r)throw new eL("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return l=VA({x:l,filter:t,strides:a,pad:"same"===r?"same":"valid",dilations:s,dataFormat:"NHWC",bias:n,activation:i}),"channelsFirst"===o&&(l=HN(l,[0,3,1,2])),l}))}function dj(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;return gk((()=>{if(null==o&&(o="channelsLast"),DL(o),4!==e.rank&&5!==e.rank)throw new $F("conv3dWithBias expects input to be of rank 4 or 5, but received "+"".concat(e.rank,"."));if(4!==t.rank&&5!==t.rank)throw new $F("conv3dWithBias expects kernel to be of rank 4 or 5, but received "+"".concat(e.rank,"."));let i=lj(e,o);if("causal"===r)throw new eL("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return i=WC(i,t,a,"same"===r?"same":"valid","NDHWC",s),null!=n&&(i=iM(i,n)),"channelsFirst"===o&&(i=HN(i,[0,4,1,2,3])),i}))}aj.className="Softmax",eN(aj);class hj extends qM{constructor(e,t){if(super(t),this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",hj.verifyArgs(t),this.rank=e,vL(this.rank,"rank"),1!==this.rank&&2!==this.rank&&3!==this.rank)throw new eL("Convolution layer for rank other than 1, 2, or 3 (".concat(this.rank,") is ")+"not implemented yet.");if(this.kernelSize=rj(t.kernelSize,e,"kernelSize"),this.strides=rj(null==t.strides?1:t.strides,e,"strides"),this.padding=null==t.padding?"valid":t.padding,OL(this.padding),this.dataFormat=null==t.dataFormat?"channelsLast":t.dataFormat,DL(this.dataFormat),this.activation=Hz(t.activation),this.useBias=null==t.useBias||t.useBias,this.biasInitializer=RM(t.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.biasConstraint=dP(t.biasConstraint),this.biasRegularizer=Zz(t.biasRegularizer),this.activityRegularizer=Zz(t.activityRegularizer),this.dilationRate=rj(null==t.dilationRate?1:t.dilationRate,e,"dilationRate"),1===this.rank&&Array.isArray(this.dilationRate)&&1!==this.dilationRate.length)throw new $F("dilationRate must be a number or an array of a single number for 1D convolution, but received "+"".concat(JSON.stringify(this.dilationRate)));if(2===this.rank){if("number"===typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate];else if(2!==this.dilationRate.length)throw new $F("dilationRate must be a number or array of two numbers for 2D "+"convolution, but received ".concat(JSON.stringify(this.dilationRate)))}else if(3===this.rank)if("number"===typeof this.dilationRate)this.dilationRate=[this.dilationRate,this.dilationRate,this.dilationRate];else if(3!==this.dilationRate.length)throw new $F("dilationRate must be a number or array of three numbers for 3D "+"convolution, but received ".concat(JSON.stringify(this.dilationRate)))}static verifyArgs(e){if(rL("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!==typeof e.kernelSize&&!bL(e.kernelSize,"number",1,3))throw new $F("BaseConv expects config.kernelSize to be number or number[] with "+"length 1, 2, or 3, but received ".concat(JSON.stringify(e.kernelSize),"."))}getConfig(){const e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:Uz(this.activation),useBias:this.useBias,biasInitializer:_M(this.biasInitializer),biasRegularizer:Yz(this.biasRegularizer),activityRegularizer:Yz(this.activityRegularizer),biasConstraint:cP(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}class pj extends hj{constructor(e,t){super(e,t),this.kernel=null,pj.verifyArgs(t),this.filters=t.filters,vL(this.filters,"filters"),this.kernelInitializer=RM(t.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.kernelConstraint=dP(t.kernelConstraint),this.kernelRegularizer=Zz(t.kernelRegularizer)}build(e){e=LM(e);const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new $F("The channel dimension of the input should be defined. "+"Found ".concat(e[t]));const n=e[t],a=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",a,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:{[t]:n}}],this.built=!0}call(e,t){return gk((()=>{let t;e=FM(e);const n=null==this.bias?null:this.bias.read(),a=xL(this.activation.getClassName());if(null!=a&&2===this.rank)t=uj(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate,a);else{if(1===this.rank)t=cj(e,this.kernel.read(),n,this.strides[0],this.padding,this.dataFormat,this.dilationRate[0]);else if(2===this.rank)t=uj(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate);else{if(3!==this.rank)throw new eL("convolutions greater than 3D are not implemented yet.");t=dj(e,this.kernel.read(),n,this.strides,this.padding,this.dataFormat,this.dilationRate)}null!=this.activation&&(t=this.activation.apply(t))}return t}))}computeOutputShape(e){e=LM(e);const t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2);for(let r=0;r<n.length;++r){const e=oj(n[r],this.kernelSize[r],this.padding,this.strides[r],"number"===typeof this.dilationRate?this.dilationRate:this.dilationRate[r]);t.push(e)}let a=[e[0]];return"channelsLast"===this.dataFormat?(a=a.concat(t),a.push(this.filters)):(a.push(this.filters),a=a.concat(t)),a}getConfig(){const e={filters:this.filters,kernelInitializer:_M(this.kernelInitializer),kernelRegularizer:Yz(this.kernelRegularizer),kernelConstraint:cP(this.kernelConstraint)},t=super.getConfig();return Object.assign(e,t),e}static verifyArgs(e){if(!("filters"in e)||"number"!==typeof e.filters||e.filters<1)throw new $F("Convolution layer expected config.filters to be a 'number' > 0 "+"but got ".concat(JSON.stringify(e.filters)))}}class fj extends pj{constructor(e){super(2,e),fj.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!==typeof e.kernelSize&&!bL(e.kernelSize,"number",1,2))throw new $F("Conv2D expects config.kernelSize to be number or number[] with "+"length 1 or 2, but received ".concat(JSON.stringify(e.kernelSize),"."))}}fj.className="Conv2D",eN(fj);class mj extends pj{constructor(e){super(3,e),mj.verifyArgs(e)}getConfig(){const e=super.getConfig();return delete e.rank,e}static verifyArgs(e){if("number"!==typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new $F("Conv3D expects config.kernelSize to be number or"+" [number, number, number], but received ".concat(JSON.stringify(e.kernelSize),"."))}}mj.className="Conv3D",eN(mj);class gj extends fj{constructor(e){if(super(e),this.inputSpec=[new WM({ndim:4})],"same"!==this.padding&&"valid"!==this.padding)throw new $F("Conv2DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(this.padding))}build(e){if(4!==(e=LM(e)).length)throw new $F("Input should have rank 4; Received input shape: "+JSON.stringify(e));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new $F("The channel dimension of the inputs should be defined. Found `None`.");const n=e[t],a=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",a,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new WM({ndim:4,axes:{[t]:n}})],this.built=!0}call(e,t){return gk((()=>{let t=FM(e);if(4!==t.shape.length)throw new $F("Conv2DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(t.shape.length));const n=t.shape,a=n[0];let r,o;"channelsFirst"===this.dataFormat?(r=2,o=3):(r=1,o=2);const s=n[r],i=n[o],l=this.kernelSize[0],c=this.kernelSize[1],u=this.strides[0],d=this.strides[1],h=[a,sj(s,u,l,this.padding),sj(i,d,c,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(t=HN(t,[0,2,3,1]));let p=BC(t,this.kernel.read(),h,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(p=HN(p,[0,3,1,2])),null!=this.bias&&(p=iM(p,this.bias.read(),this.dataFormat)),null!=this.activation&&(p=this.activation.apply(p)),p}))}computeOutputShape(e){const t=(e=LM(e)).slice();let n,a,r;"channelsFirst"===this.dataFormat?(n=1,a=2,r=3):(n=3,a=1,r=2);const o=this.kernelSize[0],s=this.kernelSize[1],i=this.strides[0],l=this.strides[1];return t[n]=this.filters,t[a]=sj(t[a],i,o,this.padding),t[r]=sj(t[r],l,s,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}gj.className="Conv2DTranspose",eN(gj);class yj extends mj{constructor(e){if(super(e),this.inputSpec=[new WM({ndim:5})],"same"!==this.padding&&"valid"!==this.padding)throw new $F("Conv3DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(this.padding))}build(e){if(5!==(e=LM(e)).length)throw new $F("Input should have rank 5; Received input shape: "+JSON.stringify(e));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new $F("The channel dimension of the inputs should be defined. Found `None`.");const n=e[t],a=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",a,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new WM({ndim:5,axes:{[t]:n}})],this.built=!0}call(e,t){return gk((()=>{let t=FM(e);if(5!==t.shape.length)throw new $F("Conv3DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(t.shape.length));const n=t.shape,a=n[0];let r,o,s;"channelsFirst"===this.dataFormat?(s=2,r=3,o=4):(s=1,r=2,o=3);const i=n[s],l=n[r],c=n[o],u=this.kernelSize[0],d=this.kernelSize[1],h=this.kernelSize[2],p=this.strides[0],f=this.strides[1],m=this.strides[2],g=[a,sj(i,p,u,this.padding),sj(l,f,d,this.padding),sj(c,m,h,this.padding),this.filters];"channelsLast"!==this.dataFormat&&(t=HN(t,[0,2,3,4,1]));let y=VC(t,this.kernel.read(),g,this.strides,this.padding);return"channelsLast"!==this.dataFormat&&(y=HN(y,[0,4,1,2,3])),null!==this.bias&&(y=iM(y,this.bias.read(),this.dataFormat)),null!==this.activation&&(y=this.activation.apply(y)),y}))}computeOutputShape(e){const t=(e=LM(e)).slice();let n,a,r,o;"channelsFirst"===this.dataFormat?(n=1,a=2,r=3,o=4):(n=4,a=1,r=2,o=3);const s=this.kernelSize[0],i=this.kernelSize[1],l=this.kernelSize[2],c=this.strides[0],u=this.strides[1],d=this.strides[2];return t[n]=this.filters,t[a]=sj(t[a],c,s,this.padding),t[r]=sj(t[r],u,i,this.padding),t[o]=sj(t[o],d,l,this.padding),t}getConfig(){const e=super.getConfig();return delete e.dilationRate,e}}yj.className="Conv3DTranspose",eN(yj);class bj extends pj{constructor(e,t){if(super(e,t),this.DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",this.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",this.depthwiseKernel=null,this.pointwiseKernel=null,null==t.filters)throw new $F("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=t.kernelInitializer||null!=t.kernelRegularizer||null!=t.kernelConstraint)throw new $F("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=t.padding&&"same"!==t.padding&&"valid"!==t.padding)throw new $F("SeparableConv".concat(this.rank,"D supports only padding modes: ")+"'same' and 'valid', but received ".concat(JSON.stringify(t.padding)));this.depthMultiplier=null==t.depthMultiplier?1:t.depthMultiplier,this.depthwiseInitializer=RM(t.depthwiseInitializer||this.DEFAULT_DEPTHWISE_INITIALIZER),this.depthwiseRegularizer=Zz(t.depthwiseRegularizer),this.depthwiseConstraint=dP(t.depthwiseConstraint),this.pointwiseInitializer=RM(t.depthwiseInitializer||this.DEFAULT_POINTWISE_INITIALIZER),this.pointwiseRegularizer=Zz(t.pointwiseRegularizer),this.pointwiseConstraint=dP(t.pointwiseConstraint)}build(e){if((e=LM(e)).length<this.rank+2)throw new $F("Inputs to SeparableConv".concat(this.rank,"D should have rank ")+"".concat(this.rank+2,", but received input shape: ")+"".concat(JSON.stringify(e)));const t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t]||e[t]<0)throw new $F("The channel dimension of the inputs should be defined, "+"but found ".concat(JSON.stringify(e[t])));const n=e[t],a=this.kernelSize.concat([n,this.depthMultiplier]),r=[];for(let s=0;s<this.rank;++s)r.push(1);r.push(n*this.depthMultiplier,this.filters);const o=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",a,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,o,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",r,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,o,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,o,this.biasConstraint):this.bias=null,this.inputSpec=[new WM({ndim:this.rank+2,axes:{[t]:n}})],this.built=!0}call(e,t){return gk((()=>{let t;if(e=FM(e),1===this.rank)throw new eL("1D separable convolution is not implemented yet.");return 2===this.rank&&("channelsFirst"===this.dataFormat&&(e=HN(e,[0,2,3,1])),t=KE(e,this.depthwiseKernel.read(),this.pointwiseKernel.read(),this.strides,this.padding,this.dilationRate,"NHWC")),this.useBias&&(t=iM(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),"channelsFirst"===this.dataFormat&&(t=HN(t,[0,3,1,2])),t}))}getConfig(){const e=super.getConfig();return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=_M(this.depthwiseInitializer),e.pointwiseInitializer=_M(this.pointwiseInitializer),e.depthwiseRegularizer=Yz(this.depthwiseRegularizer),e.pointwiseRegularizer=Yz(this.pointwiseRegularizer),e.depthwiseConstraint=cP(this.depthwiseConstraint),e.pointwiseConstraint=cP(this.pointwiseConstraint),e}}bj.className="SeparableConv";class vj extends bj{constructor(e){super(2,e)}}vj.className="SeparableConv2D",eN(vj);class wj extends pj{constructor(e){super(1,e),wj.verifyArgs(e),this.inputSpec=[{ndim:3}]}getConfig(){const e=super.getConfig();return delete e.rank,delete e.dataFormat,e}static verifyArgs(e){if("number"!==typeof e.kernelSize&&!bL(e.kernelSize,"number",1,1))throw new $F("Conv1D expects config.kernelSize to be number or number[] with "+"length 1, but received ".concat(JSON.stringify(e.kernelSize),"."))}}wj.className="Conv1D",eN(wj);class xj extends qM{constructor(e){super(e),"number"===typeof e.cropping?this.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"===typeof e.cropping[0]?this.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:this.cropping=e.cropping,this.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,this.inputSpec=[{ndim:4}]}computeOutputShape(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}call(e,t){return gk((()=>{if(e=FM(e),"channelsLast"===this.dataFormat){const t=JL(e,this.cropping[0][0],e.shape[1]-this.cropping[0][0]-this.cropping[0][1],2);return JL(t,this.cropping[1][0],e.shape[2]-this.cropping[1][1]-this.cropping[1][0],3)}{const t=JL(e,this.cropping[0][0],e.shape[2]-this.cropping[0][0]-this.cropping[0][1],3);return JL(t,this.cropping[1][0],e.shape[3]-this.cropping[1][1]-this.cropping[1][0],4)}}))}getConfig(){const e={cropping:this.cropping,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}xj.className="Cropping2D",eN(xj);class kj extends qM{constructor(e){var t;super(e),this.DEFAULT_SIZE=[2,2],this.inputSpec=[{ndim:4}],this.size=null==e.size?this.DEFAULT_SIZE:e.size,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,DL(this.dataFormat),this.interpolation=null==e.interpolation?"nearest":e.interpolation,t=this.interpolation,yL(IL,"InterpolationFormat",t)}computeOutputShape(e){if("channelsFirst"===this.dataFormat){const t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}{const t=null==e[1]?null:this.size[0]*e[1],n=null==e[2]?null:this.size[1]*e[2];return[e[0],t,n,e[3]]}}call(e,t){return gk((()=>{let t=FM(e);const n=t.shape;if("channelsFirst"===this.dataFormat){t=HN(t,[0,2,3,1]);const e=this.size[0]*n[2],a=this.size[1]*n[3],r="nearest"===this.interpolation?K_.resizeNearestNeighbor(t,[e,a]):K_.resizeBilinear(t,[e,a]);return HN(r,[0,3,1,2])}{const e=this.size[0]*n[1],a=this.size[1]*n[2];return"nearest"===this.interpolation?K_.resizeNearestNeighbor(t,[e,a]):K_.resizeBilinear(t,[e,a])}}))}getConfig(){const e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},t=super.getConfig();return Object.assign(e,t),e}}kj.className="UpSampling2D",eN(kj);class Sj extends hj{constructor(e){super(2,e),this.depthwiseKernel=null,this.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,this.depthwiseInitializer=RM(e.depthwiseInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.depthwiseConstraint=dP(e.depthwiseConstraint),this.depthwiseRegularizer=Zz(e.depthwiseRegularizer)}build(e){if((e=LM(e)).length<4)throw new $F("Inputs to DepthwiseConv2D should have rank 4. "+"Received input shape: ".concat(JSON.stringify(e),"."));const t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new $F("The channel dimension of the inputs to DepthwiseConv2D should "+"be defined, but is not (".concat(e[t],")."));const n=e[t],a=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",a,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return gk((()=>{let t=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"valid",r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return gk((()=>{null==r&&(r="channelsLast"),DL(r);let s=ij(e,r);if(4!==e.rank)throw new $F("Input for depthwiseConv2d is required to be 4-D, but is instead "+"".concat(e.rank,"-D"));if(4!==t.rank)throw new $F("depthwiseKernel is required to be 4-D, but is instead "+"".concat(t.rank,"-D"));return s=QC(s,t,n,"same"===a?"same":"valid","NHWC",o),"channelsFirst"===r&&(s=HN(s,[0,3,1,2])),s}))}(e=FM(e),this.depthwiseKernel.read(),this.strides,this.padding,this.dataFormat,null);return this.useBias&&(t=iM(t,this.bias.read(),this.dataFormat)),null!=this.activation&&(t=this.activation.apply(t)),t}))}computeOutputShape(e){e=LM(e);const t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],a="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,r=oj(t,this.kernelSize[0],this.padding,this.strides[0]),o=oj(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],a,r,o]:[e[0],r,o,a]}getConfig(){const e=super.getConfig();return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=_M(this.depthwiseInitializer),e.depthwiseRegularizer=Yz(this.depthwiseRegularizer),e.depthwiseConstraint=cP(this.depthwiseRegularizer),e}}function Nj(e,t,n,a){if(Array.isArray(e)){if(null!=t||null!=n)throw new $F("When inputs is an array, neither initialState or constants should be provided");null!=a&&(n=e.slice(e.length-a,e.length),e=e.slice(0,e.length-a)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function r(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=r(t),constants:n=r(n)}}function Tj(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],i=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return gk((()=>{const l=t.shape.length;if(l<3)throw new $F("Input should be at least 3D, but is ".concat(l,"D."));const c=[1,0].concat(GL(2,l));if(t=HN(t,c),null!=o)throw new eL("The rnn() functoin of the deeplearn.js backend does not support constants yet.");s&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=r&&(r=DS(DS(r,"bool"),"float32"),r.rank===l-1&&(r=kI(r,-1)),r=HN(r,c)),a&&(t=jE(t,0),null!=r&&(r=jE(r,0)));const u=[];let d,h=n;const p=t.shape[0],f=NA(t);let m,g;null!=r&&(m=NA(r));for(let t=0;t<p;++t){const n=f[t],a=gk((()=>e(n,h)));if(null==r)d=a[0],h=a[1];else{const e=gk((()=>{const e=m[t],n=iN(dE(e),e);return{output:LS(zS(a[0],e),zS(h[0],n)),newStates:h.map(((t,r)=>LS(zS(a[1][r],e),zS(t,n))))}}));d=e.output,h=e.newStates}i&&u.push(d)}if(i){g=uA(u,1)}return[d,g,h]}))}Sj.className="DepthwiseConv2D",eN(Sj);class Cj extends qM{constructor(e){let t;if(super(e),null==e.cell)throw new $F("cell property is missing for the constructor of RNN.");if(t=Array.isArray(e.cell)?new Fj({cells:e.cell}):e.cell,null==t.stateSize)throw new $F("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");this.cell=t,this.returnSequences=null!=e.returnSequences&&e.returnSequences,this.returnState=null!=e.returnState&&e.returnState,this.goBackwards=null!=e.goBackwards&&e.goBackwards,this._stateful=null!=e.stateful&&e.stateful,this.unroll=null!=e.unroll&&e.unroll,this.supportsMasking=!0,this.inputSpec=[new WM({ndim:3})],this.stateSpec=null,this.states_=null,this.numConstants=null,this.keptStates=[]}getStates(){if(null==this.states_){return GL(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map((e=>null))}return this.states_}setStates(e){this.states_=e}computeOutputShape(e){DM(e)&&(e=e[0]);let t=this.cell.stateSize;Array.isArray(t)||(t=[t]);const n=t[0];let a;if(a=this.returnSequences?[e[0],e[1],n]:[e[0],n],this.returnState){const n=[];for(const a of t)n.push([e[0],a]);return[a].concat(n)}return a}computeMask(e,t){return gk((()=>{Array.isArray(t)&&(t=t[0]);const e=this.returnSequences?t:null;if(this.returnState){const t=this.states.map((e=>null));return[e].concat(t)}return e}))}get states(){if(null==this.states_){const e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[];for(let n=0;n<e;++n)t.push(null);return t}return this.states_}set states(e){this.states_=e}build(e){if(null!=this.numConstants)throw new eL("Constants support is not implemented in RNN yet.");DM(e)&&(e=e[0]);const t=this.stateful?e[0]:null,n=e.slice(2);this.inputSpec[0]=new WM({shape:[t,null,...n]});const a=[e[0]].concat(e.slice(2));let r;if(this.cell.build(a),r=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!bg(this.stateSpec.map((e=>e.shape[e.shape.length-1])),r))throw new $F("An initialState was passed that is not compatible with "+"cell.stateSize. Received stateSpec=".concat(this.stateSpec,"; ")+"However cell.stateSize is ".concat(this.cell.stateSize))}else this.stateSpec=r.map((e=>new WM({shape:[null,e]})));this.stateful&&this.resetStates()}resetStates(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];gk((()=>{if(!this.stateful)throw new ZF("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape[0];if(null==n)throw new $F("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.states_)Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((e=>tE([n,e]))):this.states_=[tE([n,this.cell.stateSize])];else if(null==e)yk(this.states_),null!=this.keptStates&&(yk(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((e=>tE([n,e]))):this.states_[0]=tE([n,this.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new $F("Layer ".concat(this.name," expects ").concat(this.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));!0===t?this.keptStates.push(this.states_.slice()):yk(this.states_);for(let t=0;t<this.states_.length;++t){const a=e[t],r=Array.isArray(this.cell.stateSize)?this.cell.stateSize[t]:this.cell.stateSize,o=[n,r];if(!bg(a.shape,o))throw new $F("State ".concat(t," is incompatible with layer ").concat(this.name,": ")+"expected shape=".concat(o,", received shape=").concat(a.shape));this.states_[t]=a}}this.states_=this.states_.map((e=>bk(e.clone())))}))}apply(e,t){let n=null==t?null:t.initialState,a=null==t?null:t.constants;null==t&&(t={});const r=Nj(e,n,a,this.numConstants);e=r.inputs,n=r.initialState,a=r.constants;let o=[],s=[];if(null!=n){t.initialState=n,o=o.concat(n),this.stateSpec=[];for(const e of n)this.stateSpec.push(new WM({shape:e.shape}));s=s.concat(this.stateSpec)}null!=a&&(t.constants=a,o=o.concat(a),this.numConstants=a.length);if(o[0]instanceof UM){const n=[e].concat(o),a=this.inputSpec.concat(s),r=this.inputSpec;this.inputSpec=a;const i=super.apply(n,t);return this.inputSpec=r,i}return super.apply(e,t)}call(e,t){return gk((()=>{const n=null==t?null:t.mask,a=null==t?null:t.training;let r=null==t?null:t.initialState;e=FM(e),null==r&&(r=this.stateful?this.states_:this.getInitialState(e));const o=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1;if(r.length!==o)throw new $F("RNN Layer has ".concat(o," state(s) but was passed ")+"".concat(r.length," initial state(s)."));this.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");const s={training:a},i=Tj(((e,t)=>{const n=this.cell.call([e].concat(t),s);return[n[0],n.slice(1)]}),e,r,this.goBackwards,n,null,this.unroll,this.returnSequences),l=i[0],c=i[1],u=i[2];this.stateful&&this.resetStates(u,a);const d=this.returnSequences?c:l;return this.returnState?[d].concat(u):d}))}getInitialState(e){return gk((()=>{let t=tE(e.shape);return t=yI(t,[1,2]),t=YL(t),Array.isArray(this.cell.stateSize)?this.cell.stateSize.map((e=>e>1?tM(t,[1,e]):t)):this.cell.stateSize>1?[tM(t,[1,this.cell.stateSize])]:[t]}))}get trainableWeights(){return this.trainable?this.cell.trainableWeights:[]}get nonTrainableWeights(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}getConfig(){const e=super.getConfig(),t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);const n=this.cell.getConfig();return this.getClassName()===Cj.className&&(t.cell={className:this.cell.getClassName(),config:n}),Object.assign(Object.assign(Object.assign({},n),e),t)}static fromConfig(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=SP(t.cell,n);return new e(Object.assign(t,{cell:a}))}}Cj.className="RNN",eN(Cj);class Ij extends qM{}class Ej extends Ij{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,vL(this.units,"units"),this.activation=Hz(null==e.activation?this.DEFAULT_ACTIVATION:e.activation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=RM(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=RM(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=RM(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Zz(e.kernelRegularizer),this.recurrentRegularizer=Zz(e.recurrentRegularizer),this.biasRegularizer=Zz(e.biasRegularizer),this.kernelConstraint=dP(e.kernelConstraint),this.recurrentConstraint=dP(e.recurrentConstraint),this.biasConstraint=dP(e.biasConstraint),this.dropout=VL([1,HL([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=VL([1,HL([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){e=LM(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return gk((()=>{if(2!==e.length)throw new $F("SimpleRNNCell expects 2 input Tensors, got ".concat(e.length,"."));let n=e[1];e=e[0];const a=null!=t.training&&t.training;let r;0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=Lj({ones:()=>dE(e),rate:this.dropout,training:a,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=Lj({ones:()=>dE(n),rate:this.recurrentDropout,training:a,dropoutFunc:this.dropoutFunc}));const o=this.dropoutMask,s=this.recurrentDropoutMask;r=aM(null!=o?zS(e,o):e,this.kernel.read()),null!=this.bias&&(r=iM(r,this.bias.read())),null!=s&&(n=zS(n,s));let i=LS(r,aM(n,this.recurrentKernel.read()));return null!=this.activation&&(i=this.activation.apply(i)),[i,i]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:Uz(this.activation),useBias:this.useBias,kernelInitializer:_M(this.kernelInitializer),recurrentInitializer:_M(this.recurrentInitializer),biasInitializer:_M(this.biasInitializer),kernelRegularizer:Yz(this.kernelRegularizer),recurrentRegularizer:Yz(this.recurrentRegularizer),biasRegularizer:Yz(this.biasRegularizer),activityRegularizer:Yz(this.activityRegularizer),kernelConstraint:cP(this.kernelConstraint),recurrentConstraint:cP(this.recurrentConstraint),biasConstraint:cP(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign(Object.assign({},e),t)}}Ej.className="SimpleRNNCell",eN(Ej);class Aj extends Cj{constructor(e){e.cell=new Ej(e),super(e)}call(e,t){return gk((()=>{null!=this.cell.dropoutMask&&(yk(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(yk(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,a=null==t?null:t.training,r=null==t?null:t.initialState;return super.call(e,{mask:n,training:a,initialState:r})}))}static fromConfig(e,t){return new e(t)}}Aj.className="SimpleRNN",eN(Aj);class _j extends Ij{constructor(e){if(super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new $F("GRUCell does not support reset_after parameter set to true.");this.units=e.units,vL(this.units,"units"),this.activation=Hz(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Hz(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=RM(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=RM(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=RM(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelRegularizer=Zz(e.kernelRegularizer),this.recurrentRegularizer=Zz(e.recurrentRegularizer),this.biasRegularizer=Zz(e.biasRegularizer),this.kernelConstraint=dP(e.kernelConstraint),this.recurrentConstraint=dP(e.recurrentConstraint),this.biasConstraint=dP(e.biasConstraint),this.dropout=VL([1,HL([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=VL([1,HL([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=this.units,this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){const t=(e=LM(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}call(e,t){return gk((()=>{if(2!==e.length)throw new $F("GRUCell expects 2 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));const n=null!=t.training&&t.training;let a=e[1];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=Lj({ones:()=>dE(e),rate:this.dropout,training:n,count:3,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=Lj({ones:()=>dE(a),rate:this.recurrentDropout,training:n,count:3,dropoutFunc:this.dropoutFunc}));const r=this.dropoutMask,o=this.recurrentDropoutMask;let s,i,l;0<this.dropout&&this.dropout<1&&(e=zS(e,r[0]));let c=aM(e,this.kernel.read());this.useBias&&(c=iM(c,this.bias.read())),0<this.recurrentDropout&&this.recurrentDropout<1&&(a=zS(a,o[0]));const u=this.recurrentKernel.read(),[d,h]=sA(u,[2*this.units,this.units],u.rank-1),p=aM(a,d),[f,m,g]=sA(c,3,c.rank-1),[y,b]=sA(p,2,p.rank-1);s=this.recurrentActivation.apply(LS(f,y)),i=this.recurrentActivation.apply(LS(m,b));const v=aM(zS(i,a),h);l=this.activation.apply(LS(g,v));const w=LS(zS(s,a),zS(LS(1,UN(s)),l));return[w,w]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:Uz(this.activation),recurrentActivation:Uz(this.recurrentActivation),useBias:this.useBias,kernelInitializer:_M(this.kernelInitializer),recurrentInitializer:_M(this.recurrentInitializer),biasInitializer:_M(this.biasInitializer),kernelRegularizer:Yz(this.kernelRegularizer),recurrentRegularizer:Yz(this.recurrentRegularizer),biasRegularizer:Yz(this.biasRegularizer),activityRegularizer:Yz(this.activityRegularizer),kernelConstraint:cP(this.kernelConstraint),recurrentConstraint:cP(this.recurrentConstraint),biasConstraint:cP(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign(Object.assign({},e),t)}}_j.className="GRUCell",eN(_j);class Rj extends Cj{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new _j(e),super(e)}call(e,t){return gk((()=>{null!=this.cell.dropoutMask&&(yk(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(yk(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,a=null==t?null:t.training,r=null==t?null:t.initialState;return super.call(e,{mask:n,training:a,initialState:r})}))}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}Rj.className="GRU",eN(Rj);class Dj extends Ij{constructor(e){super(e),this.DEFAULT_ACTIVATION="tanh",this.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_RECURRENT_INITIALIZER="orthogonal",this.DEFAULT_BIAS_INITIALIZER="zeros",this.units=e.units,vL(this.units,"units"),this.activation=Hz(void 0===e.activation?this.DEFAULT_ACTIVATION:e.activation),this.recurrentActivation=Hz(void 0===e.recurrentActivation?this.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),this.useBias=null==e.useBias||e.useBias,this.kernelInitializer=RM(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.recurrentInitializer=RM(e.recurrentInitializer||this.DEFAULT_RECURRENT_INITIALIZER),this.biasInitializer=RM(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.unitForgetBias=e.unitForgetBias,this.kernelRegularizer=Zz(e.kernelRegularizer),this.recurrentRegularizer=Zz(e.recurrentRegularizer),this.biasRegularizer=Zz(e.biasRegularizer),this.kernelConstraint=dP(e.kernelConstraint),this.recurrentConstraint=dP(e.recurrentConstraint),this.biasConstraint=dP(e.biasConstraint),this.dropout=VL([1,HL([0,null==e.dropout?0:e.dropout])]),this.recurrentDropout=VL([1,HL([0,null==e.recurrentDropout?0:e.recurrentDropout])]),this.dropoutFunc=e.dropoutFunc,this.implementation=e.implementation,this.stateSize=[this.units,this.units],this.dropoutMask=null,this.recurrentDropoutMask=null}build(e){var t;const n=(e=LM(e))[e.length-1];let a;if(this.kernel=this.addWeight("kernel",[n,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){const e=this.biasInitializer,n=this.units;a=new((t=class extends hM{apply(t,a){const r=e.apply([n]),o=(new fM).apply([n]),s=e.apply([2*n]);return eM(eM(r,o),s)}}).className="CustomInit",t)}else a=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,a,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}call(e,t){return gk((()=>{const n=null!=t.training&&t.training;if(3!==e.length)throw new $F("LSTMCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));let a=e[1];const r=e[2];e=e[0],0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=Lj({ones:()=>dE(e),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc})),0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=Lj({ones:()=>dE(a),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const o=this.dropoutMask,s=this.recurrentDropoutMask;let i,l,c,u;0<this.dropout&&this.dropout<1&&(e=zS(e,o[0]));let d=aM(e,this.kernel.read());0<this.recurrentDropout&&this.recurrentDropout<1&&(a=zS(a,s[0])),d=LS(d,aM(a,this.recurrentKernel.read())),this.useBias&&(d=iM(d,this.bias.read()));const[h,p,f,m]=sA(d,4,d.rank-1);i=this.recurrentActivation.apply(h),l=this.recurrentActivation.apply(p),c=LS(zS(l,r),zS(i,this.activation.apply(f))),u=this.recurrentActivation.apply(m);const g=zS(u,this.activation.apply(c));return[g,g,c]}))}getConfig(){const e=super.getConfig(),t={units:this.units,activation:Uz(this.activation),recurrentActivation:Uz(this.recurrentActivation),useBias:this.useBias,kernelInitializer:_M(this.kernelInitializer),recurrentInitializer:_M(this.recurrentInitializer),biasInitializer:_M(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:Yz(this.kernelRegularizer),recurrentRegularizer:Yz(this.recurrentRegularizer),biasRegularizer:Yz(this.biasRegularizer),activityRegularizer:Yz(this.activityRegularizer),kernelConstraint:cP(this.kernelConstraint),recurrentConstraint:cP(this.recurrentConstraint),biasConstraint:cP(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign(Object.assign({},e),t)}}Dj.className="LSTMCell",eN(Dj);class Oj extends Cj{constructor(e){0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new Dj(e),super(e)}call(e,t){return gk((()=>{null!=this.cell.dropoutMask&&(yk(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(yk(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null);const n=null==t?null:t.mask,a=null==t?null:t.training,r=null==t?null:t.initialState;return super.call(e,{mask:n,training:a,initialState:r})}))}static fromConfig(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}Oj.className="LSTM",eN(Oj);class Fj extends Ij{constructor(e){super(e),this.cells=e.cells}get stateSize(){const e=[];for(const t of this.cells.slice().reverse())Array.isArray(t.stateSize)?e.push(...t.stateSize):e.push(t.stateSize);return e}call(e,t){return gk((()=>{let n=e.slice(1);const a=[];for(const e of this.cells.slice().reverse())Array.isArray(e.stateSize)?a.push(n.splice(0,e.stateSize.length)):a.push(n.splice(0,1));a.reverse();const r=[];let o;for(let s=0;s<this.cells.length;++s){const i=this.cells[s];n=a[s],o=0===s?[e[0]].concat(n):[o[0]].concat(n),o=i.call(o,t),r.push(o.slice(1))}n=[];for(const e of r.slice().reverse())n.push(...e);return[o[0]].concat(n)}))}build(e){let t;DM(e)&&(e=e[0]),this.cells.forEach(((n,a)=>{PL("RNNCell_".concat(a),(()=>{n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]}))})),this.built=!0}getConfig(){const e=super.getConfig(),t={cells:this.cells.map((e=>({className:e.getClassName(),config:e.getConfig()})))};return Object.assign(Object.assign({},e),t)}static fromConfig(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=[];for(const r of t.cells)a.push(SP(r,n));return new e({cells:a})}get trainableWeights(){if(!this.trainable)return[];const e=[];for(const t of this.cells)e.push(...t.trainableWeights);return e}get nonTrainableWeights(){const e=[];for(const t of this.cells)e.push(...t.nonTrainableWeights);if(!this.trainable){const t=[];for(const e of this.cells)t.push(...e.trainableWeights);return t.concat(e)}return e}getWeights(){const e=[];for(const t of this.cells)e.push(...t.weights);return jM(e)}setWeights(e){const t=[];for(const n of this.cells){const a=n.weights.length,r=e.splice(a);for(let e=0;e<n.weights.length;++e)t.push([n.weights[e],r[e]])}BM(t)}}function Lj(e){const{ones:t,rate:n,training:a=!1,count:r=1,dropoutFunc:o}=e,s=()=>null!=o?o(t(),n):lM(t(),n),i=()=>cM(s,t,a);if(!r||r<=1)return bk(i().clone());return Array(r).fill(void 0).map(i).map((e=>bk(e.clone())))}Fj.className="StackedRNNCells",eN(Fj);var Mj=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};class Pj extends Cj{constructor(e){if(e.unroll)throw new eL("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new eL("It is not possible at the moment to stack convolutional cells.");super(e),this.inputSpec=[new WM({ndim:5})]}call(e,t){return gk((()=>{if(null!=this.cell.dropoutMask&&(yk(this.cell.dropoutMask),this.cell.dropoutMask=null),null!=this.cell.recurrentDropoutMask&&(yk(this.cell.recurrentDropoutMask),this.cell.recurrentDropoutMask=null),t&&t.constants)throw new $F("ConvRNN2D cell does not support constants");const n=null==t?null:t.mask,a=null==t?null:t.training,r=null==t?null:t.initialState;return super.call(e,{mask:n,training:a,initialState:r})}))}computeOutputShape(e){let t=this.computeSingleOutputShape(e);return this.returnSequences||(t=[t[0],...t.slice(2)]),this.returnState&&(t=[t,...Array(2).fill([e[0],...t.slice(-3)])]),t}getInitialState(e){return gk((()=>{const{stateSize:t}=this.cell,n=e.shape,a=this.computeSingleOutputShape(n),r=tE([a[0],...a.slice(2)]);return Array.isArray(t)?Array(t.length).fill(r):[r]}))}resetStates(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];gk((()=>{if(!this.stateful)throw new ZF("Cannot call resetStates() on an RNN Layer that is not stateful.");const n=this.inputSpec[0].shape,a=this.computeSingleOutputShape(n),r=[a[0],...a.slice(2)];if(null==n[0])throw new $F("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==this.getStates())Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((()=>tE(r))):this.states_=[tE(r)];else if(null==e)yk(this.states_),null!=this.keptStates&&(yk(this.keptStates),this.keptStates=[]),Array.isArray(this.cell.stateSize)?this.states_=this.cell.stateSize.map((()=>tE(r))):this.states_[0]=tE(r);else{if(Array.isArray(e)||(e=[e]),e.length!==this.states_.length)throw new $F("Layer ".concat(this.name," expects ").concat(this.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));t?this.keptStates.push(this.states_.slice()):yk(this.states_);for(let t=0;t<this.states_.length;++t){const n=e[t],a=r;if(!bg(n.shape,a))throw new $F("State ".concat(t," is incompatible with layer ").concat(this.name,": ")+"expected shape=".concat(a,", received shape=").concat(n.shape));this.states_[t]=n}}this.states_=this.states_.map((e=>bk(e.clone())))}))}computeSingleOutputShape(e){const{dataFormat:t,filters:n,kernelSize:a,padding:r,strides:o,dilationRate:s}=this.cell,i="channelsFirst"===t,l=e[i?3:2],c=e[i?4:3],u=oj(l,a[0],r,o[0],s[0]),d=oj(c,a[1],r,o[1],s[1]);return[...e.slice(0,2),...i?[n,u,d]:[u,d,n]]}}Pj.className="ConvRNN2D";class zj extends Dj{constructor(e){const{filters:t,kernelSize:n,strides:a,padding:r,dataFormat:o,dilationRate:s}=e;super(Object.assign(Object.assign({},e),{units:t})),this.filters=t,vL(this.filters,"filters"),this.kernelSize=rj(n,2,"kernelSize"),this.kernelSize.forEach((e=>vL(e,"kernelSize"))),this.strides=rj(a||1,2,"strides"),this.strides.forEach((e=>vL(e,"strides"))),this.padding=r||"valid",OL(this.padding),this.dataFormat=o||"channelsLast",DL(this.dataFormat),this.dilationRate=rj(s||1,2,"dilationRate"),this.dilationRate.forEach((e=>vL(e,"dilationRate")))}build(e){var t;e=LM(e);const n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new $F("The channel dimension of the input should be defined. "+"Found ".concat(e[n]));const a=e[n],r=this.kernelSize.concat([a,4*this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);const o=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",o,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){let e;if(this.unitForgetBias){const n=this.biasInitializer,a=this.filters;e=new((t=class extends hM{apply(e,t){return $L([n.apply([a]),nE([a]),n.apply([2*a])])}}).className="CustomInit",t)}else e=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,e,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}call(e,t){return gk((()=>{if(3!==e.length)throw new $F("ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));const n=t.training||!1,a=e[0],r=e[1],o=e[2];0<this.dropout&&this.dropout<1&&null==this.dropoutMask&&(this.dropoutMask=Lj({ones:()=>dE(a),rate:this.dropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const s=this.dropoutMask,i=(e,t,n)=>t&&t[n]?zS(t[n],e):e;let l=i(a,s,0),c=i(a,s,1),u=i(a,s,2),d=i(a,s,3);0<this.recurrentDropout&&this.recurrentDropout<1&&null==this.recurrentDropoutMask&&(this.recurrentDropoutMask=Lj({ones:()=>dE(r),rate:this.recurrentDropout,training:n,count:4,dropoutFunc:this.dropoutFunc}));const h=this.recurrentDropoutMask;let p=i(r,h,0),f=i(r,h,1),m=i(r,h,2),g=i(r,h,3);const[y,b,v,w]=sA(this.kernel.read(),4,3),[x,k,S,N]=this.useBias?sA(this.bias.read(),4):[null,null,null,null];l=this.inputConv(l,y,x,this.padding),c=this.inputConv(c,b,k,this.padding),u=this.inputConv(u,v,S,this.padding),d=this.inputConv(d,w,N,this.padding);const[T,C,I,E]=sA(this.recurrentKernel.read(),4,3);p=this.recurrentConv(p,T),f=this.recurrentConv(f,C),m=this.recurrentConv(m,I),g=this.recurrentConv(g,E);const A=this.recurrentActivation.apply(LS(l,p)),_=this.recurrentActivation.apply(LS(c,f)),R=LS(zS(_,o),zS(A,this.activation.apply(LS(u,m)))),D=zS(this.recurrentActivation.apply(LS(d,g)),this.activation.apply(R));return[D,D,R]}))}getConfig(){const e=super.getConfig(),{units:t}=e,n=Mj(e,["units"]),a={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign(Object.assign({},n),a)}inputConv(e,t,n,a){const r=PC(e,t,this.strides,a||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return n?iM(r,n,this.dataFormat):r}recurrentConv(e,t){return PC(e,t,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}zj.className="ConvLSTM2DCell",eN(zj);class jj extends Pj{constructor(e){const t=new zj(e);super(Object.assign(Object.assign({},e),{cell:t}))}static fromConfig(e,t){return new e(t)}}jj.className="ConvLSTM2D",eN(jj);class Bj extends qM{constructor(e){super(e),this.rate=Math.max(Math.min(e.rate,1),0),this.noiseShape=e.noiseShape,this.seed=e.seed,this.supportsMasking=!0}getNoiseShape(e){if(null==this.noiseShape)return this.noiseShape;const t=e.shape,n=[];for(let a=0;a<this.noiseShape.length;++a)n.push(null==this.noiseShape[a]?t[a]:this.noiseShape[a]);return n}call(e,t){return gk((()=>{this.invokeCallHook(e,t);const n=FM(e);if(0<this.rate&&this.rate<1){const e=null!=t.training&&t.training,a=this.getNoiseShape(n);return cM((()=>lM(n,this.rate,a,this.seed)),(()=>n),e)}return e}))}getConfig(){const e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},t=super.getConfig();return Object.assign(e,t),e}dispose(){return super.dispose()}}Bj.className="Dropout",eN(Bj);class Wj extends Bj{constructor(e){super(e),this.inputSpec=[{ndim:3}]}getNoiseShape(e){const t=e.shape;return[t[0],1,t[2]]}}Wj.className="SpatialDropout1D",eN(Wj);class Uj extends qM{constructor(e){if(super(e),this.activation=null,this.useBias=!0,this.kernel=null,this.bias=null,this.DEFAULT_KERNEL_INITIALIZER="glorotNormal",this.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){let t=null;null!=e.batchSize&&(t=e.batchSize),this.batchInputShape=[t,e.inputDim]}this.units=e.units,vL(this.units,"units"),this.activation=Hz(e.activation),null!=e.useBias&&(this.useBias=e.useBias),this.kernelInitializer=RM(e.kernelInitializer||this.DEFAULT_KERNEL_INITIALIZER),this.biasInitializer=RM(e.biasInitializer||this.DEFAULT_BIAS_INITIALIZER),this.kernelConstraint=dP(e.kernelConstraint),this.biasConstraint=dP(e.biasConstraint),this.kernelRegularizer=Zz(e.kernelRegularizer),this.biasRegularizer=Zz(e.biasRegularizer),this.activityRegularizer=Zz(e.activityRegularizer),this.supportsMasking=!0,this.inputSpec=[{minNDim:2}]}build(e){const t=(e=LM(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[t,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:{[-1]:t}}],this.built=!0}computeOutputShape(e){const t=(e=LM(e)).slice();return t[t.length-1]=this.units,t}call(e,t){return gk((()=>{this.invokeCallHook(e,t);const n=FM(e),a=xL(this.activation.getClassName());let r;return null!=a?r=aM(n,this.kernel.read(),a,this.bias?this.bias.read():null):(r=aM(n,this.kernel.read()),null!=this.bias&&(r=iM(r,this.bias.read())),null!=this.activation&&(r=this.activation.apply(r))),r}))}getConfig(){const e={units:this.units,activation:Uz(this.activation),useBias:this.useBias,kernelInitializer:_M(this.kernelInitializer),biasInitializer:_M(this.biasInitializer),kernelRegularizer:Yz(this.kernelRegularizer),biasRegularizer:Yz(this.biasRegularizer),activityRegularizer:Yz(this.activityRegularizer),kernelConstraint:cP(this.kernelConstraint),biasConstraint:cP(this.biasConstraint)},t=super.getConfig();return Object.assign(e,t),e}}Uj.className="Dense",eN(Uj);class Vj extends qM{constructor(e){super(e=e||{}),this.inputSpec=[{minNDim:3}],this.dataFormat=e.dataFormat}computeOutputShape(e){e=LM(e);for(const t of e.slice(1))if(null==t)throw new $F('The shape of the input to "Flatten" is not fully defined '+"(got ".concat(e.slice(1),"). Make sure to pass a complete ")+'"input_shape" or "batch_input_shape" argument to the first layer in your model.');return[e[0],UL(e,1)]}call(e,t){return gk((()=>{this.invokeCallHook(e,t);let n=FM(e);if("channelsFirst"===this.dataFormat&&n.rank>1){const e=[0];for(let t=2;t<n.rank;++t)e.push(t);e.push(1),n=HN(n,e)}return function(e){if(e.rank<=1)throw new $F("batchFlatten requires a minimum rank of 2. Got rank: ".concat(e.rank,"."));const t=[e.shape[0],UL(e.shape,1)];return fC(e,t)}(n)}))}getConfig(){const e={};null!=this.dataFormat&&(e.dataFormat=this.dataFormat);const t=super.getConfig();return Object.assign(e,t),e}}Vj.className="Flatten",eN(Vj);class Hj extends qM{constructor(e){super(e),this.supportsMasking=!0,this.activation=Hz(e.activation)}call(e,t){return gk((()=>{this.invokeCallHook(e,t);const n=FM(e);return this.activation.apply(n)}))}getConfig(){const e={activation:Uz(this.activation)},t=super.getConfig();return Object.assign(e,t),e}}Hj.className="Activation",eN(Hj);class Gj extends qM{constructor(e){super(e),this.n=e.n,this.inputSpec=[{ndim:2}]}computeOutputShape(e){return[e[0],this.n,e[1]]}call(e,t){return gk((()=>{return e=FM(e),t=e,n=this.n,gk((()=>{if(2!==t.shape.length)throw new $F("repeat() expects a rank-2 tensor, but received a "+"rank-".concat(t.shape.length," tensor."));return tM(YL(t,1),[1,n,1])}));var t,n}))}getConfig(){const e={n:this.n},t=super.getConfig();return Object.assign(e,t),e}}Gj.className="RepeatVector",eN(Gj);class qj extends qM{constructor(e){super(e),this.targetShape=e.targetShape;for(let t=0;t<this.targetShape.length;++t)this.isUnknown(this.targetShape[t])&&(this.targetShape[t]=null)}isUnknown(e){return e<0||null==e}fixUnknownDimension(e,t){const n="Total size of new array must be unchanged.",a=t.slice();let r=1,o=null;for(let i=0;i<a.length;++i){const e=a[i];if(this.isUnknown(e)){if(null!==o)throw new $F("Can only specifiy one unknown dimension.");o=i}else r*=e}const s=UL(e);if(null!==o){if(0===r||s%r!==0)throw new $F(n);a[o]=s/r}else if(s!==r)throw new $F(n);return a}computeOutputShape(e){let t=!1;for(let n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}call(e,t){return gk((()=>{this.invokeCallHook(e,t);const n=FM(e),a=n.shape,r=a.slice(0,1).concat(this.fixUnknownDimension(a.slice(1),this.targetShape));return fC(n,r)}))}getConfig(){const e={targetShape:this.targetShape},t=super.getConfig();return Object.assign(e,t),e}}qj.className="Reshape",eN(qj);class Kj extends qM{constructor(e){if(super(e),null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error("Permute constructor requires `dims` to be an Array, but received "+"".concat(e.dims," instead."));const t=GL(1,e.dims.length+1);if(!bg(e.dims.slice().sort(),t))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");this.dims=e.dims,this.dimsIncludingBatch=[0].concat(this.dims),this.inputSpec=[new WM({ndim:this.dims.length+1})]}computeOutputShape(e){const t=(e=LM(e)).slice();return this.dims.forEach(((n,a)=>{t[a+1]=e[n]})),t}call(e,t){return HN(FM(e),this.dimsIncludingBatch)}getConfig(){const e={dims:this.dims},t=super.getConfig();return Object.assign(e,t),e}}Kj.className="Permute",eN(Kj);class Xj extends qM{constructor(e){super(null==e?{}:e),this.supportsMasking=!0,this.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={maskValue:this.maskValue};return Object.assign(t,e),t}computeMask(e,t){const n=FM(e);return GT(uE(n,this.maskValue),-1)}call(e,t){return gk((()=>{this.invokeCallHook(e,t);const n=FM(e),a=GT(uE(n,this.maskValue),-1,!0);return zS(n,DS(a,n.dtype))}))}}Xj.className="Masking",eN(Xj);class Yj extends qM{constructor(e){if(super(e),this.embeddings=null,this.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){let t=null;null!=e.batchSize&&(t=e.batchSize),null==e.inputLength?this.batchInputShape=[t,null]:this.batchInputShape=[t].concat(iL(e.inputLength))}this.inputDim=e.inputDim,vL(this.inputDim,"inputDim"),this.outputDim=e.outputDim,vL(this.outputDim,"outputDim"),this.embeddingsInitializer=RM(e.embeddingsInitializer||this.DEFAULT_EMBEDDINGS_INITIALIZER),this.embeddingsRegularizer=Zz(e.embeddingsRegularizer),this.activityRegularizer=Zz(e.activityRegularizer),this.embeddingsConstraint=dP(e.embeddingsConstraint),this.maskZero=e.maskZero,this.supportsMasking=e.maskZero,this.inputLength=e.inputLength}build(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}warnOnIncompatibleInputShape(e){}computeMask(e,t){return gk((()=>this.maskZero?(e=FM(e),uE(e,WS(e))):null))}computeOutputShape(e){if(e=LM(e),null==this.inputLength)return[...e,this.outputDim];const t=iL(this.inputLength);if(t.length!==e.length-1)throw new $F('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));{let n=0;for(let a=0;a<t.length;++a){const r=t[a],o=e[a+1];if(null!=r&&null!=o&&r!==o)throw new $F('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));null==r&&(t[n]=o),n++}}return[e[0],...t,this.outputDim]}call(e,t){return gk((()=>{this.invokeCallHook(e,t);let n=FM(e);"int32"!==n.dtype&&(n=XL(n,"int32"));const a=rM(this.embeddings.read(),fC(n,[n.size]));return fC(a,LM(this.computeOutputShape(n.shape)))}))}getConfig(){const e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:_M(this.embeddingsInitializer),embeddingsRegularizer:Yz(this.embeddingsRegularizer),activityRegularizer:Yz(this.activityRegularizer),embeddingsConstraint:cP(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},t=super.getConfig();return Object.assign(e,t),e}}Yj.className="Embedding",eN(Yj);class Qj extends qM{constructor(e){super(e||{}),this.supportsMasking=!0}mergeFunction(e){throw new eL}computeElementwiseOpOutputShape(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;const n=e.slice(0,e.length-t.length);for(let a=0;a<t.length;++a){const r=e[e.length-t.length+a],o=t[a];if(null==r||null==o||r<0||o<0)n.push(null);else if(1===r)n.push(o);else if(1===o)n.push(r);else{if(r!==o)throw new $F("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(r)}}return n}build(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[LM(e)]),e.length<2)throw new $F("A merge layer should be called on an Array of at least 2 inputs."+" Got ".concat(e.length," input(s)."));let t=[];for(const r of e)null!=r&&null!==r[0]&&t.push(r[0]);if(t=mL(t),t.length>1)throw new $F("Can not merge tensors with different batch sizes. "+"Got tensors with shapes: ".concat(JSON.stringify(e),"."));let n=null==e[0]?null:e[0].slice(1);for(let r=1;r<e.length;++r){const t=null==e[r]?null:e[r].slice(1);n=this.computeElementwiseOpOutputShape(n,t)}const a=e.map((e=>e.length));-1===e.indexOf(null)&&1===mL(a).length?this.reshapeRequired=!1:this.reshapeRequired=!0}call(e,t){return gk((()=>{if(this.reshapeRequired){const t=[],n=e.map((e=>e.rank));if(-1===n.indexOf(null)){const a=HL(n);for(let n of e){const e=n.rank;for(let t=0;t<a-e;++t)n=YL(n,1);t.push(n)}return this.mergeFunction(t)}{let n=!1;for(const o of e){const e=o.rank;if(null==e){const e=o.shape,a=e[0],r=e.slice(1).concat([a]);let s=fC(o,[a].concat(UL(e.slice(1))));s=HN(s,[1,0]),s=fC(s,r),t.push(s),n=!0}else if(e>1){const a=GL(1,e).concat([0]);t.push(HN(o,a)),n=!0}else t.push(o)}let a=this.mergeFunction(t);const r=a.rank;if(n)if(null==r){const e=a.shape,t=e[e.length-1],n=[t].concat(e.slice(0,e.length-1));a=fC(HN(fC(a,[-1,t]),[1,0]),n)}else if(r>1){const e=[r-1].concat(GL(0,r-1));a=HN(a,e)}return a}}return this.mergeFunction(e)}))}computeOutputShape(e){let t;t=null==e[0]?null:e[0].slice(1);for(let a=1;a<e.length;++a){const n=null==e[a]?null:e[a].slice(1);t=this.computeElementwiseOpOutputShape(t,n)}let n=[];for(const a of e)null!=a&&null!==a[0]&&n.push(a[0]);return n=mL(n),t=1===n.length?n.concat(t):[null].concat(t),t}computeMask(e,t){return gk((()=>{if(null==t)return null;if(!Array.isArray(t))throw new $F("`mask` should be an Array");if(!Array.isArray(e))throw new $F("`inputs` should be an Array");if(t.length!==e.length)throw new $F("The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths "+"(".concat(e.length," vs ").concat(t.length,")"));if(t.every((e=>null==e)))return null;let n=(t=t.map((e=>null==e?e:kI(e,0))))[0];for(let e=1;e<t.length-1;++e)n=HI(n,t[e]);return n}))}}class Zj extends Qj{constructor(e){super(e)}mergeFunction(e){return gk((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=LS(t,e[n]);return t}))}}Zj.className="Add",eN(Zj);class Jj extends Qj{constructor(e){super(e)}mergeFunction(e){return gk((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=zS(t,e[n]);return t}))}}Jj.className="Multiply",eN(Jj);class $j extends Qj{constructor(e){super(e)}mergeFunction(e){return gk((()=>{let t=e[0].clone();for(let n=1;n<e.length;++n)t=LS(t,e[n]);return zS(1/e.length,t)}))}}$j.className="Average",eN($j);class eB extends Qj{constructor(e){super(e)}mergeFunction(e){return gk((()=>{let t=e[0];for(let n=1;n<e.length;++n)t=pN(t,e[n]);return t}))}}eB.className="Maximum",eN(eB);class tB extends Qj{constructor(e){super(e)}mergeFunction(e){return gk((()=>{let t=e[0];for(let n=1;n<e.length;++n)t=rE(t,e[n]);return t}))}}tB.className="Minimum",eN(tB);class nB extends Qj{constructor(e){super(e),this.DEFAULT_AXIS=-1,null==e&&(e={}),this.axis=null==e.axis?this.DEFAULT_AXIS:e.axis,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new $F("A `Concatenate` layer should be called on a list of at least 2 inputs");let t=!0;for(const a of e)if(null!=a){t=!1;break}if(t)return;const n=[];for(let a=0;a<e.length;++a){const t=e[a].slice();t.splice(this.axis,1);let r=!1;for(const e of n)if(bg(e,t)){r=!0;break}r||n.push(t)}if(n.length>1)throw new $F("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}mergeFunction(e){return gk((()=>$L(e,this.axis)))}computeOutputShape(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new $F("A `Concatenate` layer should be called on a list of inputs.");const t=e,n=t[0].slice(),a=this.axis<0?n.length+this.axis:this.axis;for(const r of t.slice(1)){if(null==n[a]||null==r[a]){n[a]=null;break}n[a]+=r[a]}return n}computeMask(e,t){if(null==t)return null;if(!Array.isArray(t))throw new $F("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new $F("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new $F("Mismatch in the length of mask (".concat(t.length,") ")+"and the legnth of inputs (".concat(e.length,")"));return gk((()=>{let n=!0;if(t.forEach((e=>{null==e||(n=!1)})),n)return null;const a=[];for(let o=0;o<e.length;++o)null==t[o]?a.push(DS(dE(e[o]),"bool")):t[o].rank<e[o].rank?a.push(kI(t[o],-1)):a.push(t[o]);const r=yC(a,this.axis);return HT(r,-1,!1)}))}getConfig(){const e={axis:this.axis},t=super.getConfig();return Object.assign(e,t),e}}function aB(e,t){for(;e<0;)e+=t;return e}nB.className="Concatenate",eN(nB);class rB extends Qj{constructor(e){super(e),this.axes=e.axes,this.normalize=null!=e.normalize&&e.normalize,this.supportsMasking=!0,this.reshapeRequired=!1}build(e){hg(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(()=>"A `Dot` layer should be called on a list of exactly 2 inputs."));const t=e[0],n=e[1];if(t.length>3||n.length>3)throw new eL("Dot layer does not support tensors of 4D or higher rank yet.");const a=this.interpretAxes(t,n);if(t[a[0]]!==n[a[1]])throw new $F("Dimension incompatibility: "+"".concat(t[a[0]]," !== ").concat(n[a[1]]))}mergeFunction(e){if(2!==e.length)throw new $F("A `Dot` layer must be called on exactly 2 inputs, "+"but received ".concat(e.length," input(s)."));let t,n=e[0],a=e[1];return t=Array.isArray(this.axes)?this.axes.map(((t,n)=>aB(t,e[n].shape.length))):[aB(this.axes,n.shape.length),aB(this.axes,a.shape.length)],this.normalize&&(n=NP(n,t[0]),a=NP(a,t[1])),function(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new eL("batchDot is not implemented for tensors of 4D or higher rank yet");if(hg(e.shape.length>=2,(()=>"batchDot requires the rank of x to be >= 2, "+"but got ".concat(e.shape.length))),hg(e.shape.length>=2,(()=>"batchDot requires the rank of y to be >= 2, "+"but got ".concat(t.shape.length))),"number"===typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new eL("batchDot is not implemented for complex64-type Tensors yet.");const a=e.shape.length,r=t.shape.length;null==n&&(n=[a-1,r-2]);const o=n;return gk((()=>{let n,s;if(a>r){n=a-r;const e=[];for(let t=0;t<n;++t)e.push(1);t=fC(t,t.shape.concat(e))}else if(r>a){n=r-a;const t=[];for(let e=0;e<n;++e)t.push(1);e=fC(e,e.shape.concat(t))}else n=0;if(2===e.shape.length&&2===t.shape.length)s=o[0]===o[1]?yI(zS(e,t),o[0]):yI(zS(HN(e,[1,0]),t),o[1]);else{const n=o[0]!==e.shape.length-1,a=o[1]===t.shape.length-1;s=jN(e,t,n,a)}if(n>0){let e;e=a>r?a+r-3:a-1;const t=[];for(let a=e;a<e+n;++a)t.push(a);s=cA(s,t)}return 1===s.shape.length&&(s=kI(s,1)),s}))}(n,a,t)}interpretAxes(e,t){let n;return n=Array.isArray(this.axes)?this.axes:[aB(this.axes,e.length),aB(this.axes,t.length)],n}computeOutputShape(e){hg(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(()=>"A `Dot` layer should be called on a list of exactly 2 inputs."));const t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new eL("Dot layer does not support tensors of 4D or higher rank yet.");const a=this.interpretAxes(t,n);t.splice(a[0],1),n.splice(a[1],1),n.splice(0,1);const r=t.concat(n);return 1===r.length&&r.push(1),r}computeMask(e,t){return null}getConfig(){const e={axes:this.axes,normalize:this.normalize},t=super.getConfig();return Object.assign(e,t),e}}rB.className="Dot",eN(rB);class oB extends qM{constructor(e){super(e),this.supportsMasking=!0,this.stddev=e.stddev}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={stddev:this.stddev};return Object.assign(t,e),t}call(e,t){return gk((()=>{this.invokeCallHook(e,t);const n=FM(e);return cM((()=>LS(nM(n.shape,0,this.stddev),n)),(()=>n),t.training||!1)}))}}oB.className="GaussianNoise",eN(oB);class sB extends qM{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return gk((()=>{this.invokeCallHook(e,t);const n=FM(e);if(this.rate>0&&this.rate<1){return cM((()=>{const e=Math.sqrt(this.rate/(1-this.rate));return zS(n,nM(n.shape,1,e))}),(()=>n),t.training||!1)}return n}))}}sB.className="GaussianDropout",eN(sB);class iB extends qM{constructor(e){super(e),this.supportsMasking=!0,this.rate=e.rate,this.noiseShape=e.noiseShape}_getNoiseShape(e){return this.noiseShape||FM(e).shape}computeOutputShape(e){return e}getConfig(){const e=super.getConfig(),t={rate:this.rate};return Object.assign(t,e),t}call(e,t){return gk((()=>{if(this.rate<1&&this.rate>0){const n=this._getNoiseShape(e),a=()=>{const t=FM(e),a=-1.7580993408473766;let r=AI(OE(n),this.rate);r=XL(r,"float32");const o=((1-this.rate)*(1+this.rate*a**2))**-.5,s=-o*a*this.rate,i=LS(zS(t,r),zS(LS(r,-1),a));return LS(zS(i,o),s)};return cM(a,(()=>FM(e)),t.training||!1)}return e}))}}function lB(e,t,n,a,r){let o,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.001;if(2===e.rank)o=NC(e,t,n,a,r,s);else if(3===e.rank)o=TC(e,t,n,a,r,s);else{if(4!==e.rank)throw new eL("batchNormalization is not implemented for array of rank ".concat(e.rank," ")+"yet");o=CC(e,t,n,a,r,s)}return o}function cB(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return bg(a.slice().sort(),GL(0,e.rank-1))?function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return gk((()=>{const o=iE(e,a),s=o.mean,i=o.variance;return[lB(e,s,i,n,t,r),s,i]}))}(e,t,n,a,r):function(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return gk((()=>{const o=iE(e,a),s=o.mean,i=o.variance,l=[];for(const t of GL(0,e.rank))-1!==a.indexOf(t)?l.push(1):l.push(e.shape[t]);const c=fC(s,l),u=fC(i,l),d=null==t?null:fC(t,l),h=null==n?null:fC(n,l);return[lB(e,c,u,h,d,r),s,i]}))}(e,t,n,a,r)}iB.className="AlphaDropout",eN(iB);class uB extends qM{constructor(e){null==e&&(e={}),super(e),this.supportsMasking=!0,this.axis=null==e.axis?-1:e.axis,this.momentum=null==e.momentum?.99:e.momentum,this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=RM(e.betaInitializer||"zeros"),this.gammaInitializer=RM(e.gammaInitializer||"ones"),this.movingMeanInitializer=RM(e.movingMeanInitializer||"zeros"),this.movingVarianceInitializer=RM(e.movingVarianceInitializer||"ones"),this.betaConstraint=dP(e.betaConstraint),this.gammaConstraint=dP(e.gammaConstraint),this.betaRegularizer=Zz(e.betaRegularizer),this.gammaRegularizer=Zz(e.gammaRegularizer)}build(e){e=LM(e);const t=this.axis>=0?this.axis:this.axis+e.length,n=e[t];if(null==n)throw new $F("Axis ".concat(t," of input tensor should have a defined dimension but ")+"the layer received an input with shape "+"".concat(JSON.stringify(e),"."));this.inputSpec=[new WM({ndim:e.length,axes:{[t]:n}})];const a=[n];this.scale&&(this.gamma=this.addWeight("gamma",a,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",a,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",a,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",a,null,this.movingVarianceInitializer,null,!1),this.built=!0}call(e,t){return gk((()=>{const n=null!=t.training&&t.training,a=FM(e),r=a.shape,o=r.length,s=GL(0,o),i=this.axis>=0?this.axis:this.axis+o;s.splice(i,1);const l=aL(1,o);l[i]=r[i];const c=s.slice();c.sort();const u=!bg(c,GL(0,o).slice(0,o-1));if(!n)return(()=>{if(u){const e=fC(this.movingMean.read(),l),t=fC(this.movingVariance.read(),l),n=this.center?fC(this.beta.read(),l):null,r=this.scale?fC(this.gamma.read(),l):null;return lB(a,e,t,n,r,this.epsilon)}return lB(a,this.movingMean.read(),this.movingVariance.read(),null==this.beta?null:this.beta.read(),null==this.gamma?null:this.gamma.read(),this.epsilon)})();const[d,h,p]=cB(a,this.gamma.read(),this.beta.read(),s,this.epsilon),f=(e,t,n)=>{gk((()=>{const a=1-n,r=e.read(),o=zS(iN(r,t),a);e.write(iN(r,o))}))};return(()=>{f(this.movingMean,h,this.momentum),f(this.movingVariance,p,this.momentum)})(),d}))}getConfig(){const e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:_M(this.betaInitializer),gammaInitializer:_M(this.gammaInitializer),movingMeanInitializer:_M(this.movingMeanInitializer),movingVarianceInitializer:_M(this.movingVarianceInitializer),betaRegularizer:Yz(this.betaRegularizer),gammaRegularizer:Yz(this.gammaRegularizer),betaConstraint:cP(this.betaConstraint),gammaConstraint:cP(this.gammaConstraint)},t=super.getConfig();return Object.assign(e,t),e}}uB.className="BatchNormalization",eN(uB);class dB extends qM{constructor(e){if(null==e&&(e={}),super(e),this.axis=null==e.axis?-1:e.axis,"number"===typeof this.axis){if(!Number.isInteger(this.axis))throw new Error("Expected axis to be an integer, but received ".concat(this.axis))}else{if(!Array.isArray(this.axis))throw new Error("Expected axis to be an integer or an array of integers, "+"but received ".concat(JSON.stringify(this.axis)));for(const e of this.axis)if(!Number.isInteger(e))throw new Error("Expected axis to be an array of integers, "+"but received ".concat(JSON.stringify(this.axis)))}this.epsilon=null==e.epsilon?.001:e.epsilon,this.center=null==e.center||e.center,this.scale=null==e.scale||e.scale,this.betaInitializer=RM(e.betaInitializer||"zeros"),this.gammaInitializer=RM(e.gammaInitializer||"ones"),this.betaRegularizer=Zz(e.betaRegularizer),this.gammaRegularizer=Zz(e.gammaRegularizer),this.supportsMasking=!0}build(e){const t=(e=LM(e)).length;"number"===typeof this.axis&&(this.axis=[this.axis]);for(let a=0;a<this.axis.length;++a)this.axis[a]<0&&(this.axis[a]+=t);for(const a of this.axis)if(a<0||a>=t)throw new Error("Invalid axis: ".concat(a));if(this.axis.length!==mL(this.axis).length)throw new Error("Found duplicate axes in: ".concat(this.axis));const n=this.axis.map((t=>e[t]));this.scale?this.gamma=this.addWeight("gamma",n,"float32",this.gammaInitializer,this.gammaRegularizer,true):this.gamma=null,this.center?this.beta=this.addWeight("beta",n,"float32",this.betaInitializer,this.betaRegularizer,true):this.beta=null,this.built=!0}call(e,t){const n=FM(e),a=n.shape,r=a.length;return gk((()=>{let{mean:e,variance:t}=iE(n,this.axis,!0);const o=aL(1,r);for(const n of this.axis)o[n]=a[n];const s=e=>null!=e&&e.shape.length!==r?fC(e,o):e;let i=this.scale?s(this.gamma.read()):null,l=this.center?s(this.beta.read()):null;const c=[],u=[];for(let n=0;n<r;++n)-1!==this.axis.indexOf(n)?(c.push(a[n]),u.push(1)):(c.push(1),u.push(a[n]));return e=NI(e,c),t=NI(t,c),null!=i&&(i=NI(i,u)),null!=l&&(l=NI(l,u)),lB(n,e,t,l,i,this.epsilon)}))}getConfig(){const e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:_M(this.betaInitializer),gammaInitializer:_M(this.gammaInitializer),betaRegularizer:Yz(this.betaRegularizer),gammaRegularizer:Yz(this.gammaRegularizer)},t=super.getConfig();return Object.assign(e,t),e}}dB.className="LayerNormalization",eN(dB);class hB extends qM{constructor(e){if(null==e&&(e={}),super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)this.padding=[[1,1],[1,1]];else if("number"===typeof e.padding)this.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new $F("ZeroPadding2D expects padding to be a length-2 array, but "+"received a length-".concat(e.padding.length," array."));let t,n;if("number"===typeof e.padding[0])t=[e.padding[0],e.padding[0]],n=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new $F("ZeroPadding2D expects height padding to be a length-2 array, "+"but received a length-".concat(e.padding[0].length," array."));if(t=e.padding[0],2!==e.padding[1].length)throw new $F("ZeroPadding2D expects width padding to be a length-2 array, "+"but received a length-".concat(e.padding[1].length," array."));n=e.padding[1]}this.padding=[t,n]}this.inputSpec=[new WM({ndim:4})]}computeOutputShape(e){let t,n;return e=LM(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])}call(e,t){return gk((()=>{return t=FM(e),n=this.padding,a=this.dataFormat,gk((()=>{if(4!==t.rank)throw new $F("temporalPadding expects input tensor to be 4-D, but received a "+"".concat(t.rank,"-D tensor."));if(null==n&&(n=[[1,1],[1,1]]),2!==n.length||2!==n[0].length||2!==n[1].length)throw new $F("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==a&&(a="channelsLast"),"channelsLast"!==a&&"channelsFirst"!==a)throw new $F("Unknown data format: ".concat(a,". ")+"Supported data formats are 'channelsLast' and 'channelsFirst.");let e;return e="channelsFirst"===a?[[0,0],[0,0],n[0],n[1]]:[[0,0],n[0],n[1],[0,0]],pE(t,e)}));var t,n,a}))}getConfig(){const e={padding:this.padding,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}function pB(e,t,n,a,r,o){return gk((()=>{let s;DL(r),FL(o),OL(a),null==n&&(n=[1,1]),null==a&&(a="valid"),null==r&&(r="channelsLast"),null==o&&(o="max"),e=ij(e,r);const i="same"===a?"same":"valid";return s="max"===o?ZI(e,t,n,i):mC(e,t,n,i),"channelsFirst"===r&&(s=HN(s,[0,3,1,2])),s}))}function fB(e,t,n,a,r,o){return gk((()=>{let s;DL(r),FL(o),OL(a),null==n&&(n=[1,1,1]),null==a&&(a="valid"),null==r&&(r="channelsLast"),null==o&&(o="max"),e=lj(e,r);const i="same"===a?"same":"valid";return s="max"===o?JI(e,t,n,i):gC(e,t,n,i),"channelsFirst"===r&&(s=HN(s,[0,4,1,2,3])),s}))}hB.className="ZeroPadding2D",eN(hB);class mB extends qM{constructor(e){if(null==e.poolSize&&(e.poolSize=2),super(e),"number"===typeof e.poolSize)this.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!==typeof e.poolSize[0])throw new $F("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.poolSize)));this.poolSize=e.poolSize}if(vL(this.poolSize,"poolSize"),null==e.strides)this.strides=this.poolSize;else if("number"===typeof e.strides)this.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!==typeof e.strides[0])throw new $F("strides for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.strides)));this.strides=e.strides}vL(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,OL(this.padding),this.inputSpec=[new WM({ndim:3})]}computeOutputShape(e){const t=oj((e=LM(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]}call(e,t){return gk((()=>{this.invokeCallHook(e,t),e=YL(FM(e),2);const n=this.poolingFunction(FM(e),[this.poolSize[0],1],[this.strides[0],1],this.padding,"channelsLast");return cA(n,[2])}))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},t=super.getConfig();return Object.assign(e,t),e}}class gB extends mB{constructor(e){super(e)}poolingFunction(e,t,n,a,r){return DL(r),OL(a),pB(e,t,n,a,r,"max")}}gB.className="MaxPooling1D",eN(gB);class yB extends mB{constructor(e){super(e)}poolingFunction(e,t,n,a,r){return DL(r),OL(a),pB(e,t,n,a,r,"avg")}}yB.className="AveragePooling1D",eN(yB);class bB extends qM{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new $F("If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length "+"".concat(e.strides.length,"."));this.strides=e.strides}else this.strides=[e.strides,e.strides];vL(this.poolSize,"poolSize"),vL(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,DL(this.dataFormat),OL(this.padding),this.inputSpec=[new WM({ndim:4})]}computeOutputShape(e){e=LM(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=oj(t,this.poolSize[0],this.padding,this.strides[0]),n=oj(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]}call(e,t){return gk((()=>(this.invokeCallHook(e,t),this.poolingFunction(FM(e),this.poolSize,this.strides,this.padding,this.dataFormat))))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class vB extends bB{constructor(e){super(e)}poolingFunction(e,t,n,a,r){return DL(r),OL(a),pB(e,t,n,a,r,"max")}}vB.className="MaxPooling2D",eN(vB);class wB extends bB{constructor(e){super(e)}poolingFunction(e,t,n,a,r){return DL(r),OL(a),pB(e,t,n,a,r,"avg")}}wB.className="AveragePooling2D",eN(wB);class xB extends qM{constructor(e){if(null==e.poolSize&&(e.poolSize=[2,2,2]),super(e),this.poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],null==e.strides)this.strides=this.poolSize;else if(Array.isArray(e.strides)){if(3!==e.strides.length)throw new $F("If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length "+"".concat(e.strides.length,"."));this.strides=e.strides}else this.strides=[e.strides,e.strides,e.strides];vL(this.poolSize,"poolSize"),vL(this.strides,"strides"),this.padding=null==e.padding?"valid":e.padding,this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,DL(this.dataFormat),OL(this.padding),this.inputSpec=[new WM({ndim:5})]}computeOutputShape(e){e=LM(e);let t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],a="channelsFirst"===this.dataFormat?e[4]:e[3];return t=oj(t,this.poolSize[0],this.padding,this.strides[0]),n=oj(n,this.poolSize[1],this.padding,this.strides[1]),a=oj(a,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,a]:[e[0],t,n,a,e[4]]}call(e,t){return gk((()=>(this.invokeCallHook(e,t),this.poolingFunction(FM(e),this.poolSize,this.strides,this.padding,this.dataFormat))))}getConfig(){const e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class kB extends xB{constructor(e){super(e)}poolingFunction(e,t,n,a,r){return DL(r),OL(a),fB(e,t,n,a,r,"max")}}kB.className="MaxPooling3D",eN(kB);class SB extends xB{constructor(e){super(e)}poolingFunction(e,t,n,a,r){return DL(r),OL(a),fB(e,t,n,a,r,"avg")}}SB.className="AveragePooling3D",eN(SB);class NB extends qM{constructor(e){super(e),this.inputSpec=[new WM({ndim:3})]}computeOutputShape(e){return[e[0],e[2]]}call(e,t){throw new eL}}class TB extends NB{constructor(e){super(e||{})}call(e,t){return gk((()=>{const t=FM(e);return eE(t,1)}))}}TB.className="GlobalAveragePooling1D",eN(TB);class CB extends NB{constructor(e){super(e||{})}call(e,t){return gk((()=>{const t=FM(e);return mI(t,1)}))}}CB.className="GlobalMaxPooling1D",eN(CB);class IB extends qM{constructor(e){super(e),this.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,DL(this.dataFormat),this.inputSpec=[new WM({ndim:4})]}computeOutputShape(e){return"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]}call(e,t){throw new eL}getConfig(){const e={dataFormat:this.dataFormat},t=super.getConfig();return Object.assign(e,t),e}}class EB extends IB{call(e,t){return gk((()=>{const t=FM(e);return"channelsLast"===this.dataFormat?eE(t,[1,2]):eE(t,[2,3])}))}}EB.className="GlobalAveragePooling2D",eN(EB);class AB extends IB{call(e,t){return gk((()=>{const t=FM(e);return"channelsLast"===this.dataFormat?mI(t,[1,2]):mI(t,[2,3])}))}}AB.className="GlobalMaxPooling2D",eN(AB);class _B extends qM{constructor(e){super(e),this.layer=e.layer}build(e){this.built=!0}get trainable(){return null!=this.layer&&this.layer.trainable}set trainable(e){null!=this.layer&&(this.layer.trainable=e)}get trainableWeights(){return this.layer.trainableWeights}get nonTrainableWeights(){return this.layer.nonTrainableWeights}get updates(){return this.layer._updates}get losses(){return this.layer.losses}getWeights(){return this.layer.getWeights()}setWeights(e){this.layer.setWeights(e)}getConfig(){const e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},t=super.getConfig();return Object.assign(e,t),e}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(e)}static fromConfig(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=SP(t.layer,n);delete t.layer;const r={layer:a};return Object.assign(r,t),new e(r)}}class RB extends _B{constructor(e){super(e),this.supportsMasking=!0}build(e){if((e=LM(e)).length<3)throw new $F("TimeDistributed layer expects an input shape >= 3D, but received "+"input shape ".concat(JSON.stringify(e)));this.inputSpec=[{shape:e}];const t=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(t),this.layer.built=!0),super.build(e)}computeOutputShape(e){const t=[(e=LM(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),a=e[1];return[n[0],a].concat(n.slice(1))}call(e,t){return gk((()=>Tj(((e,n)=>[FM(this.layer.call(e,t)),[]]),e=FM(e),[],!1,null,null,!1,!0)[1]))}}RB.className="TimeDistributed",eN(RB);class DB extends _B{constructor(e){super(e);const t=e.layer.getConfig(),n={};n.className=e.layer.getClassName(),n.config=t,this.forwardLayer=SP(n),t.goBackwards=!0!==t.goBackwards;const a={};var r;if(a.className=e.layer.getClassName(),a.config=t,this.backwardLayer=SP(a),this.forwardLayer.name="forward_"+this.forwardLayer.name,this.backwardLayer.name="backward_"+this.backwardLayer.name,this.mergeMode=void 0===e.mergeMode?"concat":e.mergeMode,r=this.mergeMode,yL(_L,"BidirectionalMergeMode",r),e.weights)throw new eL("weights support is not implemented for Bidirectional layer yet.");this._stateful=e.layer.stateful,this.returnSequences=e.layer.returnSequences,this.returnState=e.layer.returnState,this.supportsMasking=!0,this._trainable=!0,this.inputSpec=e.layer.inputSpec,this.numConstants=null}get trainable(){return this._trainable}set trainable(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}getWeights(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}setWeights(e){const t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))}computeOutputShape(e){let t,n,a,r=this.forwardLayer.computeOutputShape(e);return Array.isArray(r)&&Array.isArray(r[0])||(r=[r]),this.returnState?(a=r.slice(1),t=r[0]):t=r[0],"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(a).concat(a.slice()):[t].concat(a).concat(a.slice()):sL(n)}apply(e,t){let n=null==t?null:t.initialState,a=null==t?null:t.constants;null==t&&(t={});const r=Nj(e,n,a,this.numConstants);if(e=r.inputs,n=r.initialState,a=r.constants,Array.isArray(e)&&(n=e.slice(1),e=e[0]),(null==n||0===n.length)&&null==a)return super.apply(e,t);const o=[],s=[];if(null!=n){const e=n.length;if(e%2>0)throw new $F("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");t.initialState=n,o.push(...n);const a=n.map((e=>new WM({shape:e.shape})));this.forwardLayer.stateSpec=a.slice(0,e/2),this.backwardLayer.stateSpec=a.slice(e/2),s.push(...a)}if(null!=a)throw new eL("Support for constants in Bidirectional layers is not implemented yet.");const i=o[0]instanceof UM;for(const l of o)if(l instanceof UM!==i)throw new $F("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(i){const n=[e].concat(o),a=this.inputSpec.concat(s),r=this.inputSpec;this.inputSpec=a;const i=super.apply(n,t);return this.inputSpec=r,i}return super.apply(e,t)}call(e,t){return gk((()=>{const n=t.initialState;let a,r,o,s;if(null==n)a=this.forwardLayer.call(e,t),r=this.backwardLayer.call(e,t);else{const o=n.slice(0,n.length/2),s=n.slice(n.length/2);a=this.forwardLayer.call(e,Object.assign(t,{initialState:o})),r=this.backwardLayer.call(e,Object.assign(t,{initialState:s}))}return this.returnState&&(Array.isArray(a)&&(o=a.slice(1).concat(r.slice(1))),a=a[0],r=r[0]),this.returnSequences&&(r=jE(r,1)),"concat"===this.mergeMode?s=$L([a,r]):"sum"===this.mergeMode?s=LS(a,r):"ave"===this.mergeMode?s=zS(.5,LS(a,r)):"mul"===this.mergeMode?s=zS(a,r):null==this.mergeMode&&(s=[a,r]),this.returnState?null==this.mergeMode?s.concat(o):[s].concat(o):s}))}resetStates(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}build(e){PL(this.forwardLayer.name,(()=>{this.forwardLayer.build(e)})),PL(this.backwardLayer.name,(()=>{this.backwardLayer.build(e)})),this.built=!0}computeMask(e,t){let n;if(Array.isArray(t)&&(t=t[0]),n=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,this.returnState){const e=this.forwardLayer.states.map((e=>null));return Array.isArray(n)?n.concat(e).concat(e):[n].concat(e).concat(e)}return n}get trainableWeights(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}get nonTrainableWeights(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}setFastWeightInitDuringBuild(e){super.setFastWeightInitDuringBuild(e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}getConfig(){const e={mergeMode:this.mergeMode},t=super.getConfig();return Object.assign(e,t),e}static fromConfig(e,t){const n=SP(t.layer);if(delete t.layer,null!=t.numConstants)throw new eL("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");const a=t;return a.layer=n,new e(a)}}DB.className="Bidirectional",eN(DB);class OB extends qM{constructor(e){super(e),this.scale=e.scale,e.offset?this.offset=e.offset:this.offset=0}getConfig(){const e={scale:this.scale,offset:this.offset},t=super.getConfig();return Object.assign(e,t),e}call(e,t){return gk((()=>("float32"!==(e=FM(e)).dtype&&(e=XL(e,"float32")),LS(zS(e,this.scale),this.offset))))}}OB.className="Rescaling",eN(OB);const{resizeBilinear:FB,cropAndResize:LB}=K_;class MB extends qM{constructor(e){super(e),this.height=e.height,this.width=e.width}centerCrop(e,t,n,a,r,o,s,i){return gk((()=>{let l,c=!1;const u=[t/o,n/s,(a+t)/o,(r+n)/s],d=[];3===e.rank?(c=!0,l=uA([e])):l=e;for(let e=0;e<l.shape[0];e++)d.push(u);const h=ok(d,[d.length,4]),p=LE(0,d.length,1,"int32"),f=LB(l,h,p,[a,r],"nearest");return XL(c?FM(NA(f)):f,i)}))}upsize(e,t,n,a){return gk((()=>XL(FB(e,[t,n]),a)))}call(e,t){return gk((()=>{const t=FM(e),n=t.dtype,a=t.shape,r=a[a.length-3],o=a[a.length-2];let s=0;r!==this.height&&(s=Math.floor((r-this.height)/2));let i=0;return o!==this.width&&(i=Math.floor((o-this.width)/2),0===i&&(i=1)),s>=0&&i>=0?this.centerCrop(t,s,i,this.height,this.width,r,o,n):this.upsize(e,this.height,this.width,n)}))}getConfig(){const e={height:this.height,width:this.width},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){const t=(e=LM(e)).length-3,n=e.length-2;return e[t]=this.height,e[n]=this.width,e}}MB.className="CenterCrop",eN(MB);class PB extends qM{constructor(e){super(e),this.numTokens=e.numTokens,e.outputMode?this.outputMode=e.outputMode:this.outputMode="multiHot"}getConfig(){const e={numTokens:this.numTokens,outputMode:this.outputMode},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){return null==(e=LM(e))?[this.numTokens]:"oneHot"===this.outputMode&&1!==e[e.length-1]?(e.push(this.numTokens),e):(e[e.length-1]=this.numTokens,e)}call(e,t){return gk((()=>{let n;if("int32"!==(e=FM(e)).dtype&&(e=XL(e,"int32")),"undefined"!==typeof t.countWeights){if("count"!==this.outputMode)throw new $F("countWeights is not used when outputMode !== count.\n              Received countWeights=".concat(t.countWeights));n=FM(t.countWeights)}const a=mI(e),r=gI(e),o=EI(this.numTokens,a).bufferSync().get(0),s=AI(r,0).bufferSync().get(0);if(!o||!s)throw new $F("Input values must be between 0 < values <="+" numTokens with numTokens=".concat(this.numTokens));return function(e,t,n,a){let r=FM(e);if("int32"!==r.dtype&&(r=XL(r,"int32")),"int"===t)return r;const o=r.shape;if(0===r.rank&&(r=kI(r,-1)),"oneHot"===t&&1!==r.shape[r.shape.length-1]&&(r=kI(r,-1)),r.rank>2)throw new $F("When outputMode is not int, maximum output rank is 2"+" Received outputMode ".concat(t," and input shape ").concat(o)+" which would result in output rank ".concat(r.rank,"."));const s=["multiHot","oneHot"].includes(t),i=r;let l;if(l=XC(i,"undefined"!==typeof a&&"count"===t?a:[],n,s),"tfIdf"!==t)return l;if(a)return zS(l,a);throw new $F("When outputMode is 'tfIdf', weights must be provided.")}(e,this.outputMode,this.numTokens,n)}))}}PB.className="CategoryEncoding",eN(PB);const zB=new Set(["bilinear","nearest"]);class jB extends qM{constructor(e){if(super(e),this.height=e.height,this.width=e.width,e.interpolation){if(!zB.has(e.interpolation))throw new $F("Invalid interpolation parameter: ".concat(e.interpolation," is not implemented"));this.interpolation=e.interpolation}else this.interpolation="bilinear";this.cropToAspectRatio=Boolean(e.cropToAspectRatio)}computeOutputShape(e){const t=(e=LM(e))[2];return[this.height,this.width,t]}getConfig(){const e={height:this.height,width:this.width,interpolation:this.interpolation,cropToAspectRatio:this.cropToAspectRatio},t=super.getConfig();return Object.assign(e,t),e}call(e,t){return gk((()=>{const t=[this.height,this.width];if("bilinear"===this.interpolation)return K_.resizeBilinear(e,t,!this.cropToAspectRatio);if("nearest"===this.interpolation)return K_.resizeNearestNeighbor(e,t,!this.cropToAspectRatio);throw new Error("Interpolation is ".concat(this.interpolation," but only ").concat([...zB]," are supported"))}))}}jB.className="Resizing",eN(jB);class BB{constructor(e){this.seed=e}next(){if(void 0!==this.seed)return this.seed++}}BB.className="RandomSeed";class WB extends qM{constructor(e){super(e),this.randomGenerator=new BB(e.seed)}getConfig(){const e={seed:this.randomGenerator.seed},t=super.getConfig();return Object.assign(e,t),e}}WB.className="BaseRandomLayer";const UB=new Set(["bilinear","nearest"]);class VB extends WB{constructor(e){super(e);const{factor:t,interpolation:n="bilinear"}=e;if(this.factor=t,Array.isArray(this.factor)&&2===this.factor.length)this.widthLower=this.factor[0],this.widthUpper=this.factor[1];else{if(Array.isArray(this.factor)||!(this.factor>0))throw new $F("Invalid factor: ".concat(this.factor,". Must be positive number or tuple of 2 numbers"));this.widthLower=-this.factor,this.widthUpper=this.factor}if(this.widthLower<-1||this.widthUpper<-1)throw new $F("factor must have values larger than -1. Got: ".concat(this.factor));if(this.widthUpper<this.widthLower)throw new $F("factor cannot have upper bound less than lower bound.\n        Got upper bound: ".concat(this.widthUpper,".\n        Got lower bound: ").concat(this.widthLower,"\n      "));if(n){if(!UB.has(n))throw new $F("Invalid interpolation parameter: ".concat(n," is not implemented"));this.interpolation=n}}getConfig(){const e={factor:this.factor,interpolation:this.interpolation},t=super.getConfig();return Object.assign(e,t),e}computeOutputShape(e){const t=(e=LM(e))[2];return[this.imgHeight,-1,t]}call(e,t){return gk((()=>{const t=FM(e);this.imgHeight=t.shape[t.shape.length-3];const n=t.shape[t.shape.length-2];this.widthFactor=OE([1],1+this.widthLower,1+this.widthUpper,"float32",this.randomGenerator.next());let a=this.widthFactor.dataSync()[0]*n;a=Math.round(a);const r=[this.imgHeight,a];switch(this.interpolation){case"bilinear":return K_.resizeBilinear(e,r);case"nearest":return K_.resizeNearestNeighbor(e,r);default:throw new Error("Interpolation is ".concat(this.interpolation,"\n          but only ").concat([...UB]," are supported"))}}))}}VB.className="RandomWidth",eN(VB);function HB(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;if(null==e)return null;if("function"===typeof Blob&&e instanceof Blob)return e.slice();if(a.has(e))throw new Error("Circular references are not supported.");if(n.has(e))return n.get(e);const r=t(e);if(r.recurse&&null!==r.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(r.recurse){if(XB(e)){const r=Array.isArray(e)?[]:{};a.add(e);for(const o in e){const s=HB(e[o],t,n,a);r[o]=s}return a.delete(e),e.__proto__&&(r.__proto__=e.__proto__),r}throw new Error("Can't recurse into non-iterable type: ".concat(e))}return n.set(e,r.value),r.value}function GB(e){return qB(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:KB)}function qB(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;const a=e[0];if(n.has(a))throw new Error("Circular references are not supported.");const r=t(e);if(r.recurse&&null!==r.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(r.recurse){if(XB(a)){const r=Array.isArray(a)?[]:{};n.add(a);for(const o in a){const a=qB(e.map((e=>e[o])),t,n);r[o]=a}return n.delete(a),r}throw new Error("Can't recurse into non-iterable type: ".concat(a))}return r.value}function KB(e){return null===e?null:XB(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}function XB(e){let t=!1;if(ty().get("IS_BROWSER"))t=e instanceof TextDecoder;else{const{StringDecoder:a}=n(551);t=e instanceof a}return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"===typeof e&&!(e instanceof xx)&&!(e instanceof Promise)&&!t)}function YB(e){return function(e,t){return HB(e,t)}(e,QB)}function QB(e){return e instanceof xx?{value:e.clone(),recurse:!1}:XB(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}class ZB{constructor(e){if(this.capacity=e,this.begin=0,this.end=0,null==e)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(e<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(e),this.doubledCapacity=2*e}wrap(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}get(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}set(e,t){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t}length(){let e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}isFull(){return this.length()===this.capacity}isEmpty(){return 0===this.length()}push(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}pushAll(e){for(const t of e)this.push(t)}pop(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);const e=this.get(this.end);return this.set(this.end,void 0),e}unshift(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}shift(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}shuffleExcise(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");const t=this.wrap(this.begin+e),n=this.get(t);return this.set(t,this.pop()),n}}class JB extends ZB{constructor(){super(JB.INITIAL_CAPACITY)}isFull(){return!1}push(e){super.isFull()&&this.expand(),super.push(e)}unshift(e){super.isFull()&&this.expand(),super.unshift(e)}expand(){const e=2*this.capacity,t=new Array(e),n=this.length();for(let a=0;a<n;a++)t[a]=this.get(this.wrap(this.begin+a));this.data=t,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n}}function $B(e){return new aW(e)}function eW(e,t){return new fW(e,t)}JB.INITIAL_CAPACITY=32;class tW{async toArray(){const e=[];let t=await this.next();for(;!t.done;)e.push(t.value),t=await this.next();return e}async toArrayForTest(){const e=this.prefetch(100),t=[];let n=await e.next();for(;!n.done;)t.push(n.value),n=await e.next();return t}async resolveFully(){let e=await this.next();for(;!e.done;)e=await this.next()}async resolveWhile(e){let t=await this.next(),n=e(t.value);for(;!t.done&&n;)t=await this.next(),n=e(t.value)}handleErrors(e){return new uW(this,e)}filter(e){return new lW(this,e)}map(e){return new cW(this,e)}mapAsync(e){return new dW(this,e)}serialMapAsync(e){return new dW(this,e).serial()}flatmap(e){return new pW(this,e)}async forEachAsync(e){return this.map(e).resolveFully()}async serialForEach(e){return this.serialMapAsync(e).resolveWhile((e=>!0===e))}rowMajorBatch(e){return new iW(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}columnMajorBatch(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:KB;return this.rowMajorBatch(e,t).map((e=>GB(e,n)))}concatenate(e,t){return new fW(new nW([this,e]),t)}take(e){return e<0||null==e?this:new sW(this,e)}skip(e){return e<0||null==e?this:new oW(this,e)}prefetch(e){return new gW(this,e)}shuffle(e,t){return new yW(this,e,t)}serial(){return new rW(this)}}class nW extends tW{constructor(e){super(),this.items=e,this.trav=0}summary(){return"Array of ".concat(this.items.length," items")}async next(){if(this.trav>=this.items.length)return{value:null,done:!0};const e=this.items[this.trav];return this.trav++,{value:YB(e),done:!1}}}class aW extends tW{constructor(e){super(),this.nextFn=e}summary(){return"Function call"}async next(){try{return this.nextFn()}catch(a4){throw a4.message="Error thrown while iterating through a dataset: ".concat(a4.message),a4}}}class rW extends tW{constructor(e){super(),this.upstream=e,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return"".concat(this.upstream.summary()," -> Serial")}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){return this.upstream.next()}}class oW extends tW{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return"".concat(this.upstream.summary()," -> Skip")}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;this.count++<this.maxCount;){const e=await this.upstream.next();if(e.done)return e;yk(e.value)}return this.upstream.next()}}class sW extends tW{constructor(e,t){super(),this.upstream=e,this.maxCount=t,this.count=0}summary(){return"".concat(this.upstream.summary()," -> Take")}async next(){return this.count++>=this.maxCount?{value:null,done:!0}:this.upstream.next()}}class iW extends tW{constructor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];super(),this.upstream=e,this.batchSize=t,this.enableSmallLastBatch=n,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return"".concat(this.upstream.summary()," -> RowMajorBatch")}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){const e=[];for(;e.length<this.batchSize;){const t=await this.upstream.next();if(t.done)return this.enableSmallLastBatch&&e.length>0?{value:e,done:!1}:{value:null,done:!0};e.push(t.value)}return{value:e,done:!1}}}class lW extends tW{constructor(e,t){super(),this.upstream=e,this.predicate=t,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return"".concat(this.upstream.summary()," -> Filter")}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;;){const e=await this.upstream.next();if(e.done||this.predicate(e.value))return e;yk(e.value)}}}class cW extends tW{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return"".concat(this.upstream.summary()," -> Map")}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const t=Px(e.value),n=this.transform(e.value),a=Px(n);for(const r of t)Mx(r,a)||r.dispose();return{value:n,done:!1}}}class uW extends tW{constructor(e,t){super(),this.upstream=e,this.handler=t,this.count=0,this.lastRead=Promise.resolve({value:null,done:!1})}summary(){return"".concat(this.upstream.summary()," -> handleErrors")}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;;)try{return await this.upstream.next()}catch(a4){if(!this.handler(a4))return{value:null,done:!0}}}}class dW extends tW{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return"".concat(this.upstream.summary()," -> AsyncMap")}async next(){const e=await this.upstream.next();if(e.done)return{value:null,done:!0};const t=Px(e.value),n=await this.transform(e.value),a=Px(n);for(const r of t)Mx(r,a)||r.dispose();return{value:n,done:!1}}}class hW extends tW{constructor(){super(),this.outputQueue=new JB,this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}async serialNext(){for(;0===this.outputQueue.length();)if(!await this.pump())return{value:null,done:!0};return{value:this.outputQueue.shift(),done:!1}}}class pW extends hW{constructor(e,t){super(),this.upstream=e,this.transform=t}summary(){return"".concat(this.upstream.summary()," -> Flatmap")}async pump(){const e=await this.upstream.next();if(e.done)return!1;const t=Px(e.value),n=this.transform(e.value),a=Px(n);this.outputQueue.pushAll(n);for(const r of t)Mx(r,a)||r.dispose();return!0}}class fW extends tW{constructor(e,t){super(),this.baseErrorHandler=t,this.lastRead=null,this.iterator=null,this.moreIterators=e}summary(){return"".concat("TODO: fill in upstream of chained summaries"," -> Chained")}async next(){return this.lastRead=this.readFromChain(this.lastRead),this.lastRead}async readFromChain(e){if(await e,null==this.iterator){const e=await this.moreIterators.next();if(e.done)return{value:null,done:!0};this.iterator=e.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler))}const t=await this.iterator.next();return t.done?(this.iterator=null,this.readFromChain(e)):t}}var mW;!function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"}(mW||(mW={}));class gW extends tW{constructor(e,t){super(),this.upstream=e,this.bufferSize=t,this.buffer=new ZB(t)}summary(){return"".concat(this.upstream.summary()," -> Prefetch")}refill(){for(;!this.buffer.isFull();){const e=this.upstream.next();this.buffer.push(e)}}next(){return this.refill(),this.buffer.shift()}}class yW extends gW{constructor(e,t,n){super(e,t),this.upstream=e,this.windowSize=t,this.upstreamExhausted=!1,this.random=CE.alea(n||ex().toString()),this.lastRead=Promise.resolve({value:null,done:!1})}async next(){return this.lastRead=this.lastRead.then((()=>this.serialNext())),this.lastRead}randomInt(e){return Math.floor(this.random()*e)}chooseIndex(){return this.randomInt(this.buffer.length())}async serialNext(){for(this.upstreamExhausted||this.refill();!this.buffer.isEmpty();){const e=this.chooseIndex(),t=await this.buffer.shuffleExcise(e);if(!t.done)return this.refill(),t;this.upstreamExhausted=!0}return{value:null,done:!0}}}class bW{constructor(){this.size=null}batch(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this;let a;return hg(e>0,(()=>"batchSize needs to be positive, but it is\n      ".concat(e))),a=this.size===1/0||null==this.size?this.size:t?Math.ceil(this.size/e):Math.floor(this.size/e),vW((async()=>(await n.iterator()).columnMajorBatch(e,t,wW)),a)}concatenate(e){const t=this;let n;return n=this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null,vW((async()=>(await t.iterator()).concatenate(await e.iterator())),n)}filter(e){const t=this;let n;return n=this.size===1/0?1/0:null,vW((async()=>(await t.iterator()).filter((t=>gk((()=>e(t)))))),n)}async forEachAsync(e){return(await this.iterator()).forEachAsync(e)}map(e){const t=this;return vW((async()=>(await t.iterator()).map((t=>gk((()=>e(t)))))),this.size)}mapAsync(e){const t=this;return vW((async()=>(await t.iterator()).mapAsync(e)),this.size)}prefetch(e){if(null==e)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");const t=this;return vW((async()=>(await t.iterator()).prefetch(e)),this.size)}repeat(e){const t=this;let n;return n=null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null,vW((async()=>eW($B((async()=>({value:await t.iterator(),done:!1}))).take(e))),n)}skip(e){const t=this;let n;return n=null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null,vW((async()=>(await t.iterator()).skip(e)),n)}shuffle(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==e||e<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError("`Dataset.shuffle()` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for `tf.Tensor`s), consider setting "+"bufferSize to the dataset size (".concat(this.size," elements)"));const a=this,r=CE.alea(t||ex().toString());return vW((async()=>{let t=r.int32();return n&&(t+=r.int32()),(await a.iterator()).shuffle(e,t.toString())}),this.size)}take(e){const t=this;let n;return n=null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null,vW((async()=>(await t.iterator()).take(e)),n)}async toArray(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArray()}async toArrayForTest(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(await this.iterator()).toArrayForTest()}}function vW(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new class extends bW{constructor(){super(...arguments),this.size=t}async iterator(){return e()}}}function wW(e){if(null===e)return null;if(function(e){return null==e||null===(t=e)||"object"!==typeof t&&"function"!==typeof t||Array.isArray(e)||"object"===typeof e&&e instanceof xx||rx(e);var t}(e[0])){return{value:function(e){if(0===e.length)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof xx?uA(e):ok(e)}(e),recurse:!1}}return{value:null,recurse:!0}}bW.MAX_BUFFER_SIZE=1e4;Symbol("out"),Symbol("field"),Symbol("quote"),Symbol("quoteafterquote"),Symbol("quoteinquote");function xW(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&hg("complex64"!==e.dtype,(()=>"".concat(t," does not support complex64 tensors in the CPU backend.")))}))}const kW=IA;class SW extends ng{nextDataId(){return SW.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new tg(this,pk())}write(e,t,n){this.firstUse&&(this.firstUse=!1,ty().get("IS_NODE")&&Nw("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));const a={id:this.nextDataId()};return this.data.set(a,{values:e,dtype:n,refCount:1}),a}makeTensorInfo(e,t,n){let a;if("string"===t&&null!=n&&n.length>0&&Lg(n[0])){const r=n.map((e=>nx(e)));a=this.write(r,e,t)}else a=this.write(n,e,t);return{dataId:a,shape:e,dtype:t}}refCount(e){if(this.data.has(e)){return this.data.get(e).refCount}return 0}incRef(e){this.data.get(e).refCount++}decRef(e){if(this.data.has(e)){this.data.get(e).refCount--}}move(e,t,n,a,r){this.data.set(e,{values:t,dtype:a,refCount:r})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:t,complexTensorInfos:n}=this.data.get(e);if("complex64"===t){return NR(this.readSync(n.real.dataId),this.readSync(n.imag.dataId))}return Hg(this.data.get(e).values,t)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>ax(e)));return RS(e.shape,e.dtype,n)}catch(n){throw new Error("Failed to decode encoded string bytes into utf-8")}return RS(e.shape,e.dtype,t)}makeOutput(e,t,n){return pk().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,e),this)}disposeData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:n}=this.data.get(e);null!=n&&(this.disposeData(n.real.dataId,!0),this.disposeData(n.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const t=ex();e();return{kernelMs:ex()-t}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){xW([e],"where");const t=this.readSync(e.dataId);return kW(e.shape,t)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}SW.nextDataId=0;function NW(e){return(t,n,a)=>{const r=Ag(n,t.length);for(let o=0;o<t.length;++o)r[o]=e(t[o],a);return r}}function TW(e,t,n){return CW(e,NW(t),n)}function CW(e,t,n){return a=>{let{inputs:r,attrs:o,backend:s}=a;const{x:i}=r;xW(i,e);const l=s,c=l.data.get(i.dataId).values;let u;if("string"===i.dtype){if(!Array.isArray(c))throw new Error("String tensor's value was not an instance of Array");u=rD(c)}else u=c;const d=n||i.dtype,h=t(u,d,o);return l.makeTensorInfo(i.shape,d,h)}}Ck("cpu",(()=>new SW),1);const IW=TW(ob,(e=>e>=0?e:Math.exp(e)-1)),EW={kernelName:ob,backendName:"cpu",kernelFunc:IW};function AW(e){const{inputs:t,backend:n}=e,{x:a}=t;return n.incRef(a.dataId),{dataId:a.dataId,shape:a.shape,dtype:a.dtype}}const _W={kernelName:kb,backendName:"cpu",kernelFunc:AW};function RW(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{alpha:o}=a;xW([r],"leakyRelu");const s=mg(r.shape),i=n.data.get(r.dataId).values,l=Eg("float32",s);for(let c=0;c<i.length;c++)l[c]=i[c]<0?o*i[c]:i[c];return n.makeTensorInfo(r.shape,"float32",l)}const DW={kernelName:Eb,backendName:"cpu",kernelFunc:RW};function OW(e){return(t,n,a,r,o)=>{const s=hN(t,n),i=s.length,l=Wg(s),c=Eg(o,mg(s)),u=t.length,d=n.length,h=Wg(t),p=Wg(n),f=uN(t,s),m=uN(n,s);if(f.length+m.length===0)for(let g=0;g<c.length;++g)c[g]=e(a[g%a.length],r[g%r.length]);else for(let g=0;g<c.length;++g){const t=Qg(g,i,l),n=t.slice(-u);f.forEach((e=>n[e]=0));const o=Yg(n,u,h),s=t.slice(-d);m.forEach((e=>s[e]=0));const y=Yg(s,d,p);c[g]=e(a[o],r[y])}return[c,s]}}const FW=OW(((e,t)=>e<0?t*e:e));function LW(e){const{inputs:t,backend:n}=e,{x:a,alpha:r}=t;xW([a,r],"prelu");const o=n.data.get(a.dataId).values,s=n.data.get(r.dataId).values,[i,l]=FW(a.shape,r.shape,o,s,"float32");return n.makeTensorInfo(l,"float32",i)}const MW={kernelName:fv,backendName:"cpu",kernelFunc:LW},PW=TW(kv,(e=>Math.max(0,e))),zW={kernelName:kv,backendName:"cpu",kernelFunc:PW},jW=TW(Ev,(e=>Math.min(Math.max(0,e),6))),BW={kernelName:Ev,backendName:"cpu",kernelFunc:jW},WW=NW((e=>1/(1+Math.exp(-e)))),UW=TW(Wv,(e=>1/(1+Math.exp(-e)))),VW={kernelName:Wv,backendName:"cpu",kernelFunc:UW};function HW(e,t,n,a,r){if("linear"===n)return AW({inputs:{x:t},backend:e});if("relu"===n)return PW({inputs:{x:t},backend:e});if("elu"===n)return IW({inputs:{x:t},backend:e});if("relu6"===n)return jW({inputs:{x:t},backend:e});if("prelu"===n)return LW({inputs:{x:t,alpha:a},backend:e});if("leakyrelu"===n)return RW({inputs:{x:t},backend:e,attrs:{alpha:r}});if("sigmoid"===n)return UW({inputs:{x:t},backend:e});throw new Error("Activation ".concat(n," has not been implemented for the CPU backend."))}function GW(e){const{inputs:t,backend:n}=e,{real:a,imag:r}=t,o=n.data.get(a.dataId).values,s=n.data.get(r.dataId).values,i=n.makeTensorInfo(a.shape,"complex64");return n.data.get(i.dataId).complexTensorInfos={real:n.makeTensorInfo(a.shape,"float32",o),imag:n.makeTensorInfo(r.shape,"float32",s)},i}const qW={kernelName:Oy,backendName:"cpu",kernelFunc:GW};function KW(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32";if("complex64"===n){return GW({inputs:{real:KW(e,t,"float32"),imag:KW(e,t,"float32")},backend:e})}const a=qg(mg(t),n);return e.makeTensorInfo(t,n,a)}function XW(e){const{inputs:t,backend:n}=e,{input:a}=t,r=n.data.get(a.dataId).complexTensorInfos.real,o=n.data.get(r.dataId).values;return n.makeTensorInfo(r.shape,r.dtype,o)}const YW={kernelName:wv,backendName:"cpu",kernelFunc:XW};function QW(e,t,n,a){if("int32"===a){return[t,"int32",Int32Array.from(e)]}if("bool"===a){const a=$w([0],n),[r,o]=OW(((e,t)=>e!==t?1:0))(t,[],e,a,"bool");return[o,"bool",r]}throw new Error("Error in Cast: failed to cast ".concat(n," to ").concat(a))}function ZW(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{dtype:o}=a;if("complex64"===o){if("complex64"===r.dtype)return AW({inputs:{x:r},backend:n});const e=KW(n,r.shape,r.dtype),t=ZW({inputs:{x:r},backend:n,attrs:{dtype:"float32"}}),a=GW({inputs:{real:t,imag:e},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),a}if("complex64"===r.dtype){const e=XW({inputs:{input:r},backend:n}),t=ZW({inputs:{x:e},backend:n,attrs:{dtype:o}});return n.disposeIntermediateTensorInfo(e),t}if(!Dg(r.dtype,o)){const e=AW({inputs:{x:r},backend:n});return{dataId:e.dataId,shape:e.shape,dtype:o}}const s=n.data.get(r.dataId).values,[i,l,c]=QW(s,r.shape,r.dtype,o);return n.makeTensorInfo(i,l,c)}const JW={kernelName:_y,backendName:"cpu",kernelFunc:ZW};function $W(e,t,n,a){return null==n?n=>{let{inputs:r,backend:o}=n;const{a:s,b:i}=r,l=o;xW([s,i],e);const c=l.data.get(s.dataId).values,u=l.data.get(i.dataId).values,d="string"===s.dtype?rD(c):c,h="string"===s.dtype?rD(u):u,p=a||s.dtype,[f,m]=t(s.shape,i.shape,d,h,p);return l.makeTensorInfo(m,p,f)}:e=>{let{inputs:r,backend:o}=e;const{a:s,b:i}=r,l=o;if("complex64"===s.dtype||"complex64"===i.dtype){const e=ZW({inputs:{x:s},backend:l,attrs:{dtype:"complex64"}}),t=l.data.get(e.dataId),a=t.complexTensorInfos.real,r=t.complexTensorInfos.imag,o=l.data.get(a.dataId).values,c=l.data.get(r.dataId).values,u=ZW({inputs:{x:i},backend:l,attrs:{dtype:"complex64"}}),d=l.data.get(u.dataId),h=d.complexTensorInfos.real,p=d.complexTensorInfos.imag,f=l.data.get(h.dataId).values,m=l.data.get(p.dataId).values,[g,y,b]=n(s.shape,i.shape,o,c,f,m),v=l.makeTensorInfo(b,"float32",g),w=l.makeTensorInfo(b,"float32",y),x=GW({inputs:{real:v,imag:w},backend:l});return l.disposeIntermediateTensorInfo(e),l.disposeIntermediateTensorInfo(u),l.disposeIntermediateTensorInfo(v),l.disposeIntermediateTensorInfo(w),x}{const e=l.data.get(s.dataId).values,n=l.data.get(i.dataId).values,r=a||s.dtype,[o,c]=t(s.shape,i.shape,e,n,r);return l.makeTensorInfo(c,r,o)}}}function eU(e){return(t,n,a,r,o,s)=>{const i=hN(t,n),l=mg(i),c=i.length,u=Wg(i),d=Eg("float32",l),h=Eg("float32",l),p=uN(t,i),f=uN(n,i),m=NR(a,r),g=NR(o,s),y=t.length,b=Wg(t),v=n.length,w=Wg(n);if(p.length+f.length===0)for(let x=0;x<d.length;x++){const t=x%m.length,n=x%g.length,a=e(m[2*t],m[2*t+1],g[2*n],g[2*n+1]);d[x]=a.real,h[x]=a.imag}else for(let x=0;x<d.length;x++){const t=Qg(x,c,u),n=t.slice(-y);p.forEach((e=>n[e]=0));const a=Yg(n,y,b),r=t.slice(-v);f.forEach((e=>r[e]=0));const o=Yg(r,v,w),s=e(m[2*a],m[2*a+1],g[2*o],g[2*o+1]);d[x]=s.real,h[x]=s.imag}return[d,h,i]}}const tU=OW(((e,t)=>e+t)),nU=eU(((e,t,n,a)=>({real:e+n,imag:t+a}))),aU=$W(cy,tU,nU),rU={kernelName:cy,backendName:"cpu",kernelFunc:aU};function oU(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{shape:o}=a,s=mg(r.shape),i=Tg(o,s),l=mg(i);hg(s===l,(()=>"The new shape (".concat(i,") has ").concat(l," elements and the old ")+"shape (".concat(r.shape,") has ").concat(s," elements. The new shape and old ")+"shape must have the same number of elements.")),n.incRef(r.dataId);const c=n.data.get(r.dataId);if(null!=c.complexTensorInfos){const e=c.complexTensorInfos.real,t=c.complexTensorInfos.imag;e.shape=i,t.shape=i}return{dataId:r.dataId,shape:i,dtype:r.dtype}}const sU={kernelName:Sv,backendName:"cpu",kernelFunc:oU};function iU(e){const{inputs:t,backend:n,attrs:a}=e,{a:r,b:o}=t,{transposeA:s,transposeB:i}=a;xW([r,o],"matMul");const l=r.shape.length,c=o.shape.length,u=s?r.shape[l-2]:r.shape[l-1],d=i?o.shape[c-1]:o.shape[c-2],h=s?r.shape[l-1]:r.shape[l-2],p=i?o.shape[c-2]:o.shape[c-1],f=r.shape.slice(0,-2),m=o.shape.slice(0,-2),g=mg(f),y=mg(m),b=hN(r.shape.slice(0,-2),o.shape.slice(0,-2)).concat([h,p]);hg(u===d,(()=>"Error in matMul: inner shapes (".concat(u,") and (")+"".concat(d,") of Tensors with shapes ").concat(r.shape," and ")+"".concat(o.shape," and transposeA=").concat(s)+" and transposeB=".concat(i," must match.")));const v=i?[y,p,d]:[y,d,p],w=oU({inputs:{x:r},backend:n,attrs:{shape:s?[g,u,h]:[g,h,u]}}),x=oU({inputs:{x:o},backend:n,attrs:{shape:v}}),k=s?w.shape[1]:w.shape[2],S=s?w.shape[2]:w.shape[1],N=i?x.shape[1]:x.shape[2],T=Math.max(g,y),C=n.data.get(w.dataId).values,I=n.data.get(x.dataId).values,E=Wg(w.shape),A=Wg(x.shape),[_,R,D]=s?[E[0],1,E[1]]:[E[0],E[1],1],[O,F,L]=i?[1,A[1],A[0]]:[A[1],1,A[0]],M=S*N,P=RS([T,S,N],w.dtype),z=P.values,j=n.blockSize;for(let B=0;B<T;B++){const e=B%g,t=B%y;for(let n=0;n<S;n+=j){const a=Math.min(n+j,S);for(let r=0;r<N;r+=j){const o=Math.min(r+j,N);for(let s=0;s<k;s+=j){const i=Math.min(s+j,k);for(let l=n;l<a;l++)for(let n=r;n<o;n++){let a=0;for(let r=s;r<i;r++){a+=C[e*_+l*R+r*D]*I[r*O+n*F+t*L]}z[B*M+(l*N+n)]+=a}}}}}return n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(x),n.makeTensorInfo(b,P.dtype,P.values)}const lU={kernelName:Ny,backendName:"cpu",kernelFunc:iU};const cU={kernelName:xw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{a:r,b:o,bias:s,preluActivationWeights:i}=t,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:d}=a;let h,p,f;const m=[];h=iU({inputs:{a:r,b:o},attrs:{transposeA:l,transposeB:c},backend:n}),s&&(p=aU({inputs:{a:h,b:s},backend:n}),m.push(h),h=p),u&&(f=HW(n,h,u,i,d),m.push(h),h=f);for(const g of m)n.disposeIntermediateTensorInfo(g);return h}};function uU(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}const dU={kernelName:sy,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend;xW(t,"abs");let a=new Float32Array(mg(t.shape));return a=uU(n.data.get(t.dataId).values),n.makeOutput(a,t.shape,t.dtype)}},hU=TW(iy,(e=>Math.acos(e))),pU={kernelName:iy,backendName:"cpu",kernelFunc:hU},fU=TW(ly,(e=>Math.acosh(e))),mU={kernelName:ly,backendName:"cpu",kernelFunc:fU};const gU={kernelName:uy,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,a=t;xW(t,"addN");const r=a.map((e=>n.data.get(e.dataId).values)),o=RS(a[0].shape,a[0].dtype),s=o.values;for(let i=0;i<a.length;i++){const e=r[i];for(let t=0;t<s.length;t++)s[t]+=e[t]}return n.makeTensorInfo(o.shape,o.dtype,o.values)}};function yU(e,t,n,a,r){const o=t.length,s=mg(t),i=Wg(t),l=Wg(r),c=Eg(n,mg(r));for(let u=0;u<s;++u){const t=Qg(u,o,i),n=new Array(t.length);for(let e=0;e<n.length;e++)n[e]=t[a[e]];c[Yg(n,o,l)]=e[u]}return c}function bU(e){const{inputs:t,attrs:n,backend:a}=e,{x:r}=t,{perm:o}=n;xW(r,"transpose");const s=r.shape.length,i=new Array(s);for(let c=0;c<i.length;c++)i[c]=r.shape[o[c]];const l=yU(a.data.get(r.dataId).values,r.shape,r.dtype,o,i);return{dataId:a.write(l,i,r.dtype),shape:i,dtype:r.dtype}}const vU={kernelName:hw,backendName:"cpu",kernelFunc:bU};const wU={kernelName:dy,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,keepDims:s}=a;xW(r,"all");const i=Cg(o,r.shape);let l=i;const c=hI(l,r.shape.length);let u=r;null!=c&&(u=bU({inputs:{x:r},backend:n,attrs:{perm:c}}),l=fI(l.length,r.shape.length)),dI("all",l,u.shape.length);const[d,h]=cI(u.shape,l),p=mg(h),f=qg(mg(d),u.dtype),m=n.data.get(u.dataId).values;for(let y=0;y<f.length;++y){const e=y*p;let t=m[e];for(let n=0;n<p;++n){const a=m[e+n];t=t&&a}f[y]=t}null!=c&&n.disposeIntermediateTensorInfo(u);const g=n.makeTensorInfo(d,u.dtype,f);if(s){const e=oU({inputs:{x:g},backend:n,attrs:{shape:uI(d,i)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const xU={kernelName:hy,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,keepDims:s}=a;xW(r,"any");const i=Cg(o,r.shape);let l=i;const c=hI(l,r.shape.length);let u=r;null!=c&&(u=bU({inputs:{x:r},backend:n,attrs:{perm:c}}),l=fI(l.length,r.shape.length)),dI("any",l,u.shape.length);const[d,h]=cI(u.shape,l),p=mg(h),f=qg(mg(d),u.dtype),m=n.data.get(u.dataId).values;for(let y=0;y<f.length;++y){const e=y*p;let t=m[e];for(let n=0;n<p;++n){const a=m[e+n];t=t||a}f[y]=t}null!=c&&n.disposeIntermediateTensorInfo(u);const g=n.makeTensorInfo(d,u.dtype,f);if(s){const e=oU({inputs:{x:g},backend:n,attrs:{shape:uI(d,i)}});return n.disposeIntermediateTensorInfo(g),e}return g}};const kU={kernelName:py,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o}=a;xW(r,"argMax");let s=Cg(o,r.shape);const i=hI(s,r.shape.length);let l=r;const c=[];null!=i&&(l=bU({inputs:{x:r},backend:n,attrs:{perm:i}}),c.push(l),s=fI(s.length,l.shape.length)),s=[s[0]],dI("argMax",s,l.shape.length);const[u,d]=cI(l.shape,s),h=qg(mg(u),"int32"),p=mg(d),f=n.data.get(l.dataId).values;for(let m=0;m<h.length;++m){const e=m*p;let t=f[e],n=0;for(let a=0;a<p;++a){const r=f[e+a];r>t&&(t=r,n=a)}h[m]=n}return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(u,"int32",h)}};const SU={kernelName:fy,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o}=a;xW(r,"argMin");let s=Cg(o,r.shape);const i=hI(s,r.shape.length);let l=r;const c=[];null!=i&&(l=bU({inputs:{x:r},backend:n,attrs:{perm:i}}),c.push(l),s=fI(s.length,l.shape.length)),s=[s[0]],dI("argMin",s,l.shape.length);const[u,d]=cI(l.shape,s),h=qg(mg(u),"int32"),p=mg(d),f=n.data.get(l.dataId).values;for(let m=0;m<h.length;++m){const e=m*p;let t=f[e],n=0;for(let a=0;a<p;++a){const r=f[e+a];r<t&&(t=r,n=a)}h[m]=n}return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(u,"int32",h)}},NU=TW(my,(e=>Math.asin(e))),TU={kernelName:my,backendName:"cpu",kernelFunc:NU},CU=TW(gy,(e=>Math.asinh(e))),IU={kernelName:gy,backendName:"cpu",kernelFunc:CU},EU=TW(yy,(e=>Math.atan(e))),AU={kernelName:yy,backendName:"cpu",kernelFunc:EU},_U=OW(((e,t)=>Math.atan2(e,t))),RU=$W(vy,_U),DU={kernelName:vy,backendName:"cpu",kernelFunc:RU},OU=TW(by,(e=>Math.atanh(e))),FU={kernelName:by,backendName:"cpu",kernelFunc:OU};function LU(e,t,n,a,r,o){const s=r.strideHeight,i=r.strideWidth,l=r.dilationHeight,c=r.dilationWidth,u=r.effectiveFilterHeight,d=r.effectiveFilterWidth,h=r.padInfo.top,p=r.padInfo.left,f="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=RS(r.outShape,n),g=m.values,y=r.outShape[1]*r.outShape[2]*r.outShape[3],b=r.outShape[2]*r.outShape[3],v=r.outShape[3];for(let w=0;w<r.batchSize;++w){const t=w*y,n=w*a[0];for(let m=0;m<r.inChannels;++m)for(let y=0;y<r.outHeight;++y){const w=y*s-h,x=Math.max(0,w),k=Math.min(r.inHeight,u+w),S=t+y*b;for(let t=0;t<r.outWidth;++t){const s=t*i-p,u=Math.max(0,s),h=Math.min(r.inWidth,d+s);let y=f,b=0,w=0;for(let t=x;t<k;t+=l){const r=n+t*a[1];for(let t=u;t<h;t+=c){const n=e[r+t*a[2]+m];"max"===o&&n>y?y=n:"avg"===o&&(b+=n,w++)}if(isNaN(y))break}g[S+t*v+m]="avg"===o?b/w:y}}}return m}function MU(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const s=RS(a.outShape,"int32"),i=a.strideHeight,l=a.strideWidth,c=a.dilationHeight,u=a.dilationWidth,d=a.effectiveFilterHeight,h=a.effectiveFilterWidth,p=a.padInfo.top,f=a.padInfo.left,m=RS(t,n,e);for(let g=0;g<a.batchSize;++g)for(let e=0;e<a.inChannels;++e)for(let t=0;t<a.outHeight;++t){const n=t*i-p;let y=n;for(;y<0;)y+=c;const b=Math.min(a.inHeight,d+n);for(let i=0;i<a.outWidth;++i){const d=i*l-f;let p=d;for(;p<0;)p+=u;const v=Math.min(a.inWidth,h+d);let w=Number.NEGATIVE_INFINITY,x=-1;for(let t=y;t<b;t+=c){const s=t-n;for(let n=p;n<v;n+=u){const i=n-d,l=m.get(g,t,n,e);l>w&&(w=l,x=r?o?((g*a.inHeight+t)*a.inWidth+n)*a.inChannels+e:(t*a.inWidth+n)*a.inChannels+e:s*h+i)}}s.set(x,g,t,i,e)}}return s}function PU(e,t,n,a,r,o){const s=r.strideDepth,i=r.strideHeight,l=r.strideWidth,c=r.dilationDepth,u=r.dilationHeight,d=r.dilationWidth,h=r.effectiveFilterDepth,p=r.effectiveFilterHeight,f=r.effectiveFilterWidth,m=r.padInfo.front,g=r.padInfo.top,y=r.padInfo.left,b="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,v=RS(r.outShape,n),w=v.values,x=r.outShape[1]*r.outShape[2]*r.outShape[3]*r.outShape[4],k=r.outShape[2]*r.outShape[3]*r.outShape[4],S=r.outShape[3]*r.outShape[4],N=r.outShape[4];for(let T=0;T<r.batchSize;++T){const t=T*x,n=T*a[0];for(let v=0;v<r.inChannels;++v)for(let x=0;x<r.outDepth;++x){const T=x*s-m;let C=T;for(;C<0;)C+=c;const I=Math.min(r.inDepth,h+T),E=t+x*k;for(let t=0;t<r.outHeight;++t){const s=t*i-g;let h=s;for(;h<0;)h+=u;const m=Math.min(r.inHeight,p+s),x=E+t*S;for(let t=0;t<r.outWidth;++t){const s=t*l-y;let i=s;for(;i<0;)i+=d;const p=Math.min(r.inWidth,f+s),g=x+t*N;let k=b,S=0,T=0;for(let t=C;t<I;t+=c){const r=n+t*a[1];for(let t=h;t<m;t+=u){const n=r+t*a[2];for(let t=i;t<p;t+=d){const r=e[n+t*a[3]+v];if("max"===o&&r>k?k=r:"avg"===o&&(S+=r,T++),isNaN(k))break}if(isNaN(k))break}if(isNaN(k))break}w[g+v]="avg"===o?S/Math.max(T,1):k}}}}return v}const zU={kernelName:wy,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t;xW(r,"avgPool");const{filterSize:o,strides:s,pad:i,dimRoundingMode:l}=a;hg(uC(s,1),(()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(1,"'")));const c=eC(r.shape,o,s,1,i,l);let u;if(1===c.filterWidth&&1===c.filterHeight&&bg(c.inShape,c.outShape))u=AW({inputs:{x:r},backend:n});else{const e=n.data.get(r.dataId).values,t=Wg(r.shape),a=LU(e,r.shape,r.dtype,t,c,"avg");u=n.makeTensorInfo(c.outShape,r.dtype,a.values)}return u}};const jU={kernelName:ky,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{filterSize:o,strides:s,pad:i,dimRoundingMode:l,dataFormat:c}=a;xW(r,"avgPool3d");const u=tC(r.shape,o,s,1,i,l,c),d=PU(n.data.get(r.dataId).values,r.shape,r.dtype,Wg(r.shape),u,"avg");return n.makeTensorInfo(d.shape,"float32",d.values)}};const BU={kernelName:Sy,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:o}=t,{filterSize:s,strides:i,pad:l,dimRoundingMode:c}=a;xW([r,o],"avgPool3DGrad");const u=tC(o.shape,s,i,1,l,c),d=u.strideDepth,h=u.strideHeight,p=u.strideWidth,f=u.filterDepth,m=u.filterHeight,g=u.filterWidth,y=u.dilationDepth,b=u.dilationHeight,v=u.dilationWidth,w=u.effectiveFilterDepth,x=u.effectiveFilterHeight,k=u.effectiveFilterWidth,S=w-1-u.padInfo.front,N=k-1-u.padInfo.left,T=x-1-u.padInfo.top,C=RS(o.shape,"float32"),I=1/(f*m*g),E=n.bufferSync(r);for(let A=0;A<u.batchSize;++A)for(let e=0;e<u.inChannels;++e)for(let t=0;t<u.inDepth;++t)for(let n=0;n<u.inHeight;++n)for(let a=0;a<u.inWidth;++a){const r=t-S,o=n-T,s=a-N;let i=0;for(let t=0;t<w;t+=y){const n=(r+t)/d;if(!(n<0||n>=u.outDepth||Math.floor(n)!==n))for(let t=0;t<x;t+=b){const a=(o+t)/h;if(!(a<0||a>=u.outHeight||Math.floor(a)!==a))for(let t=0;t<k;t+=v){const r=(s+t)/p;if(r<0||r>=u.outWidth||Math.floor(r)!==r)continue;i+=E.get(A,n,a,r,e)}}}C.set(i*I,A,t,n,a,e)}return n.makeTensorInfo(C.shape,C.dtype,C.values)}};const WU={kernelName:xy,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:o}=t,s=o;xW([r,o],"avgPoolGrad");const{filterSize:i,strides:l,pad:c}=a,u=eC(s.shape,i,l,1,c),d=u.strideHeight,h=u.strideWidth,p=u.filterHeight,f=u.filterWidth,m=u.dilationHeight,g=u.dilationWidth,y=u.effectiveFilterHeight,b=u.effectiveFilterWidth,v=b-1-u.padInfo.left,w=y-1-u.padInfo.top,x=RS(s.shape,"float32"),k=1/(p*f),S=n.data.get(r.dataId).values,N=RS(r.shape,"float32",S);for(let T=0;T<u.batchSize;++T)for(let e=0;e<u.inChannels;++e)for(let t=0;t<u.inHeight;++t)for(let n=0;n<u.inWidth;++n){const a=t-w,r=n-v;let o=0;for(let t=0;t<y;t+=m){const n=(a+t)/d;if(!(n<0||n>=u.outHeight||Math.floor(n)!==n))for(let t=0;t<b;t+=g){const a=(r+t)/h;if(a<0||a>=u.outWidth||Math.floor(a)!==a)continue;o+=N.get(T,n,a,e)}}x.set(o*k,T,t,n,e)}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};const UU={kernelName:yb,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,scale:o,offset:s,mean:i,variance:l}=t;hg(i.shape.length===l.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),hg(null==s||i.shape.length===s.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),hg(null==o||i.shape.length===o.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks.")),xW([r,i,l,o,s],"batchNorm");let{varianceEpsilon:c}=a;null==c&&(c=.001);const u=n.data.get(r.dataId).values,d=n.data.get(i.dataId).values,h=n.data.get(l.dataId).values,p=o?n.data.get(o.dataId).values:new Float32Array([1]),f=s?n.data.get(s.dataId).values:new Float32Array([0]),m=new Float32Array(u.length),g=f.length,y=p.length,b=h.length,v=d.length;let w=0,x=0,k=0,S=0;for(let N=0;N<u.length;++N)m[N]=f[w++]+(u[N]-d[x++])*p[k++]/Math.sqrt(h[S++]+c),w>=g&&(w=0),x>=v&&(x=0),k>=y&&(k=0),S>=b&&(S=0);return n.makeTensorInfo(r.shape,r.dtype,m)}};function VU(e,t,n,a,r){const o=wT(a,t,n),s=mg(n),i=Wg(a);if(o){const n=xT(t,i);return"string"===r?e.slice(n,n+s):e.subarray(n,n+s)}const l=RS(a,r,"string"===r?rD(e):e),c=RS(n,r);for(let u=0;u<c.size;++u){const e=c.indexToLoc(u),n=e.map(((e,n)=>e+t[n]));c.set(l.get(...n),...e)}return"string"===r?oD(c.values):c.values}function HU(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{begin:o,size:s}=a;xW(r,"slice");const[i,l]=kT(r,o,s);lT(r,i,l);const c=VU(n.data.get(r.dataId).values,i,l,r.shape,r.dtype);return n.makeTensorInfo(l,r.dtype,c)}const GU={kernelName:Pv,backendName:"cpu",kernelFunc:HU};const qU={kernelName:Ty,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{blockShape:o,crops:s}=a;xW([r],"batchToSpaceND");const i=o.reduce(((e,t)=>e*t)),l=dR(r.shape,o,i),c=hR(l.length,o.length),u=pR(r.shape,o,i),d=fR(s,o.length),h=mR(u,s,o.length),p=oU({inputs:{x:r},backend:n,attrs:{shape:l}}),f=bU({inputs:{x:p},backend:n,attrs:{perm:c}}),m=oU({inputs:{x:f},backend:n,attrs:{shape:u}}),g=HU({inputs:{x:m},backend:n,attrs:{begin:d,size:h}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}};function KU(e,t,n,a,r){const o=mg(a),s=qg(r,n);for(let i=0;i<e.length;i++){const n=e[i];if(n<0)throw new Error("Input x must be non-negative!");n>=r||(s[n]+=o>0?t[i]:1)}return s}function XU(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=e.shape[0],o=e.shape[1],s=RS([r,n],t.dtype);for(let i=0;i<r;i++)for(let r=0;r<o;r++){const o=e.get(i,r);if(o<0)throw new Error("Input x must be non-negative!");o>=n||(a?s.set(1,i,o):t.size>0?s.set(s.get(i,o)+t.get(i,r),i,o):s.set(s.get(i,o)+1,i,o))}return s}const YU={kernelName:Cy,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,weights:o}=t,{size:s}=a,i=KU(n.data.get(r.dataId).values,n.data.get(o.dataId).values,o.dtype,o.shape,s);return n.makeTensorInfo([s],o.dtype,i)}},QU=OW(((e,t)=>e&t)),ZU=$W(Iy,QU),JU={kernelName:Iy,backendName:"cpu",kernelFunc:ZU};const $U={kernelName:Ay,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:a,s1:r}=t,o=n.data.get(a.dataId).values,s=n.data.get(r.dataId).values,i=hN(Array.from(o),Array.from(s));return n.makeTensorInfo([i.length],"int32",Int32Array.from(i))}},eV=NW((e=>Math.ceil(e))),tV=CW(Ry,eV),nV={kernelName:Ry,backendName:"cpu",kernelFunc:tV},aV=TW(Dy,((e,t)=>{const n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e})),rV={kernelName:Dy,backendName:"cpu",kernelFunc:aV},oV={kernelName:Fy,backendName:"cpu",kernelFunc:e=>{const{x:t}=e.inputs,n=e.backend,a=new Float32Array(mg(t.shape)),r=n.data.get(t.dataId),o=r.complexTensorInfos.real,s=r.complexTensorInfos.imag,i=n.data.get(o.dataId).values,l=n.data.get(s.dataId).values;for(let c=0;c<i.length;c++){const e=i[c],t=l[c];a[c]=Math.hypot(e,t)}return n.makeOutput(a,t.shape,"float32")}};function sV(e,t,n,a){const r=Ag(n,mg(t));if(a&&"string"!==n){let t=0;e.forEach((e=>{const n=mg(e.shape);r.set(e.vals,t),t+=n}))}else{let a=0;e.forEach((e=>{const o="string"===n?rD(e.vals):e.vals;let s=0;for(let n=0;n<e.shape[0];++n){const i=n*t[1]+a;for(let t=0;t<e.shape[1];++t)r[i+t]=o[s++]}a+=e.shape[1]}))}return r}function iV(e){const{inputs:t,backend:n}=e,{input:a}=t,r=n.data.get(a.dataId).complexTensorInfos.imag,o=n.data.get(r.dataId).values;return n.makeTensorInfo(r.shape,r.dtype,o)}const lV={kernelName:Nb,backendName:"cpu",kernelFunc:iV};function cV(e){const{inputs:t,backend:n,attrs:a}=e,{axis:r}=a,o=Cg(r,t[0].shape)[0];tR(t.map((e=>e.shape)),o);let s=nR(t.map((e=>e.shape)),o);if(0===mg(s))return n.makeTensorInfo(s,t[0].dtype,[]);const i=t.filter((e=>mg(e.shape)>0));if(1===i.length)return AW({inputs:{x:i[0]},backend:n});if("complex64"===i[0].dtype){const e=i.map((e=>XW({inputs:{input:e},backend:n}))),t=i.map((e=>iV({inputs:{input:e},backend:n}))),a=cV({inputs:e,backend:n,attrs:{axis:o}}),r=cV({inputs:t,backend:n,attrs:{axis:o}}),s=GW({inputs:{real:a,imag:r},backend:n});return e.forEach((e=>n.disposeIntermediateTensorInfo(e))),t.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(r),s}const l=i.map((e=>{const t=mg(e.shape.slice(o));return oU({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),c=l.map((e=>({vals:n.data.get(e.dataId).values,shape:e.shape})));s=nR(l.map((e=>e.shape)),1);const u=1===l[0].shape[0],d=sV(c,s,t[0].dtype,u),h=nR(i.map((e=>e.shape)),o),p=n.makeTensorInfo(h,t[0].dtype,d);return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),p}const uV={kernelName:Ly,backendName:"cpu",kernelFunc:cV};function dV(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:o}=t,{strides:s,pad:i,dataFormat:l,dilations:c,dimRoundingMode:u}=a;xW([r,o],"conv2d");const d=hC(l),h=nC(r.shape,o.shape,s,c,i,u,!1,d),p=h.filterHeight,f=h.filterWidth,m=h.dilationHeight,g=h.dilationWidth,y=h.padInfo.left,b=h.padInfo.top,v="channelsLast"===h.dataFormat,w=new yx(h.outShape,r.dtype),x=Wg(r.shape),k=Wg(o.shape),S=x[0],N=v?x[1]:x[2],T=v?x[2]:1,C=v?1:x[1],I=w.strides[0],E=v?w.strides[1]:w.strides[2],A=v?w.strides[2]:1,_=v?1:w.strides[1],R=n.data.get(r.dataId).values,D=n.data.get(o.dataId).values,O=w.values;for(let F=0;F<h.batchSize;++F){const e=F*S,t=F*I;for(let n=0;n<h.outHeight;++n){const a=t+n*E,r=n*h.strideHeight-b;for(let t=0;t<p;++t){const n=r+t*m;if(n<0||n>=h.inHeight)continue;const o=t*k[0],s=e+n*N;for(let e=0;e<h.outWidth;++e){const t=a+e*A,n=e*h.strideWidth-y;for(let e=0;e<f;++e){const a=n+e*g;if(a<0||a>=h.inWidth)continue;const r=s+a*T;let i=o+e*k[1];for(let e=0;e<h.inChannels;++e){const n=R[r+e*C];for(let e=0;e<h.outChannels;++e)O[t+e*_]+=n*D[i+e];i+=h.outChannels}}}}}}return n.makeTensorInfo(w.shape,w.dtype,O)}const hV={kernelName:My,backendName:"cpu",kernelFunc:dV};const pV={kernelName:Py,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,dy:o}=t,{strides:s,pad:i,dataFormat:l,dimRoundingMode:c,filterShape:u}=a;xW([r,o],"conv2dBackpropFilter");const d=hC(l),h=nC(r.shape,u,s,1,i,c,!1,d),{strideHeight:p,strideWidth:f,filterHeight:m,filterWidth:g}=h,y="channelsLast"===h.dataFormat,b=new yx(h.filterShape,"float32"),v=h.padInfo.left,w=h.padInfo.top,x=n.data.get(r.dataId).values,k=n.data.get(o.dataId).values,S=new yx(r.shape,r.dtype,x),N=new yx(o.shape,o.dtype,k);for(let T=0;T<m;++T){const e=Math.max(0,Math.ceil((w-T)/p)),t=Math.min(h.outHeight,(h.inHeight+w-T)/p);for(let n=0;n<g;++n){const a=Math.max(0,Math.ceil((v-n)/f)),r=Math.min(h.outWidth,(h.inWidth+v-n)/f);for(let o=0;o<h.inChannels;++o)for(let s=0;s<h.outChannels;++s){let i=0;for(let l=0;l<h.batchSize;++l)for(let c=e;c<t;++c){const e=T+c*p-w;for(let t=a;t<r;++t){const a=n+t*f-v;i+=y?S.get(l,e,a,o)*N.get(l,c,t,s):S.get(l,o,e,a)*N.get(l,s,c,t)}}b.set(i,T,n,o,s)}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}};const fV={kernelName:zy,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,filter:o}=t,{inputShape:s,strides:i,pad:l,dataFormat:c,dimRoundingMode:u}=a;xW([r,o],"conv2dBackpropInput");const d=Wg(o.shape),h=Wg(r.shape);let p=hC(c);const f=nC(s,o.shape,i,1,l,u,!1,p),m=new yx(f.inShape,"float32"),g=m.values,y=n.data.get(r.dataId).values,b=n.data.get(o.dataId).values,[v,w,x]=d,{batchSize:k,filterHeight:S,filterWidth:N,inChannels:T,inHeight:C,inWidth:I,outChannels:E,outHeight:A,outWidth:_,strideHeight:R,strideWidth:D}=f;p=f.dataFormat;const O=S-1-f.padInfo.top,F=N-1-f.padInfo.left,L="channelsLast"===p,M=m.strides[0],P=L?m.strides[1]:m.strides[2],z=L?m.strides[2]:1,j=L?1:m.strides[1],B=h[0],W=L?h[1]:h[2],U=L?h[2]:1,V=L?1:h[1];for(let H=0;H<k;++H)for(let e=0;e<T;++e)for(let t=0;t<C;++t){const n=t-O,a=Math.max(0,Math.ceil(n/R)),r=Math.min(A,(S+n)/R);for(let o=0;o<I;++o){const s=o-F,i=Math.max(0,Math.ceil(s/D)),l=Math.min(_,(N+s)/D);let c=0;for(let t=a;t<r;++t){const a=t*R-n;for(let n=i;n<l;++n){const r=B*H+W*t+U*n,o=v*(S-1-a)+w*(N-1-(n*D-s))+x*e;for(let e=0;e<E;++e){c+=y[r+V*e]*b[o+e]}}}g[M*H+P*t+z*o+j*e]=c}}return n.makeTensorInfo(m.shape,m.dtype,m.values)}};const mV={kernelName:jy,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:o}=t,{strides:s,pad:i,dilations:l}=a;xW([r,o],"conv3d");const c=aC(r.shape,o.shape,s,l,i),{filterDepth:u,filterHeight:d,filterWidth:h,dilationDepth:p,dilationHeight:f,dilationWidth:m,padInfo:g}=c,y=g.front,b=g.left,v=g.top,w=new yx(c.outShape,r.dtype),x=n.data.get(r.dataId).values,k=n.data.get(o.dataId).values,S=w.values,N=Wg(r.shape),T=Wg(o.shape);for(let C=0;C<c.batchSize;++C){const e=C*N[0],t=C*w.strides[0];for(let n=0;n<c.outDepth;++n){const a=t+n*w.strides[1],r=n*c.strideDepth-y;for(let t=0;t<u;++t){const n=r+t*p;if(n<0||n>=c.inDepth)continue;const o=t*T[0],s=e+n*N[1];for(let e=0;e<c.outHeight;++e){const t=a+e*w.strides[2],n=e*c.strideHeight-v;for(let e=0;e<d;++e){const a=n+e*f;if(a<0||a>=c.inHeight)continue;const r=o+e*T[1],i=s+a*N[2];for(let e=0;e<c.outWidth;++e){const n=t+e*c.outChannels,a=e*c.strideWidth-b;for(let e=0;e<h;++e){const t=a+e*m;if(t<0||t>=c.inWidth)continue;const o=r+e*T[2],s=i+t*c.inChannels;let l=o;for(let e=0;e<c.inChannels;++e){const t=x[s+e];for(let e=0;e<c.outChannels;++e)S[n+e]+=t*k[l+e];l+=c.outChannels}}}}}}}}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};const gV={kernelName:By,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,dy:o}=t,{strides:s,pad:i,filterShape:l}=a;xW([r,o],"conv3dBackpropFilterV2");const c=Wg(r.shape),u=Wg(o.shape),d=aC(r.shape,l,s,1,i),h=d.strideDepth,p=d.strideHeight,f=d.strideWidth,m=d.filterDepth,g=d.filterHeight,y=d.filterWidth,b=new yx(d.filterShape,"float32"),v=b.values,[w,x,k,S]=b.strides,N=n.data.get(o.dataId).values,[T,C,I,E]=u,A=n.data.get(r.dataId).values,[_,R,D,O]=c,F=d.padInfo.front,L=d.padInfo.left,M=d.padInfo.top;for(let P=0;P<m;++P){const e=Math.max(0,Math.ceil((F-P)/h)),t=Math.min(d.outDepth,(d.inDepth+F-P)/h),n=P*w;for(let a=0;a<g;++a){const r=Math.max(0,Math.ceil((M-a)/p)),o=Math.min(d.outHeight,(d.inHeight+M-a)/p),s=a*x+n;for(let n=0;n<y;++n){const i=Math.max(0,Math.ceil((L-n)/f)),l=Math.min(d.outWidth,(d.inWidth+L-n)/f),c=n*k+s;for(let s=0;s<d.inChannels;++s){const u=s*S+c;for(let c=0;c<d.outChannels;++c){let m=0;for(let u=0;u<d.batchSize;++u){const d=u*_,g=u*T;for(let u=e;u<t;++u){const e=(P+u*h-F)*R+d,t=u*C+g;for(let u=r;u<o;++u){const r=(a+u*p-M)*D+e,o=u*I+t;for(let e=i;e<l;++e){const t=e*E+o;m+=A[(n+e*f-L)*O+r+s]*N[t+c]}}}}v[u+c]=m}}}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}};const yV={kernelName:Wy,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,filter:o}=t,{pad:s,strides:i,inputShape:l}=a;xW([r],"conv3dBackpropInputV2");const c=Wg(r.shape),u=Wg(o.shape),d=aC(l,o.shape,i,1,s),h=new yx(d.inShape,"float32"),p=h.values,[f,m,g,y]=h.strides,b=n.data.get(r.dataId).values,[v,w,x,k]=c,S=n.data.get(o.dataId).values,[N,T,C,I]=u,{batchSize:E,filterDepth:A,filterHeight:_,filterWidth:R,inChannels:D,inDepth:O,inHeight:F,inWidth:L,outChannels:M,outDepth:P,outHeight:z,outWidth:j,strideDepth:B,strideHeight:W,strideWidth:U}=d,V=A-1-d.padInfo.front,H=_-1-d.padInfo.top,G=R-1-d.padInfo.left;for(let q=0;q<E;++q)for(let e=0;e<D;++e)for(let t=0;t<O;++t){const n=t-V,a=Math.max(0,Math.ceil(n/B)),r=Math.min(P,(A+n)/B);for(let o=0;o<F;++o){const s=o-H,i=Math.max(0,Math.ceil(s/W)),l=Math.min(z,(_+s)/W);for(let c=0;c<L;++c){const u=c-G,d=Math.max(0,Math.ceil(u/U)),h=Math.min(j,(R+u)/U);let E=0;for(let t=a;t<r;++t){const a=t*B-n;for(let n=i;n<l;++n){const r=n*W-s;for(let o=d;o<h;++o){const s=v*q+w*t+x*n+k*o,i=N*(A-1-a)+T*(_-1-r)+C*(R-1-(o*U-u))+I*e;for(let e=0;e<M;++e){E+=b[s+e]*S[i+e]}}}}p[f*q+m*t+g*o+y*c+e]=E}}}return n.makeTensorInfo(h.shape,h.dtype,h.values)}},bV=TW(Uy,(e=>Math.cos(e))),vV={kernelName:Uy,backendName:"cpu",kernelFunc:bV},wV=TW(Vy,(e=>Math.cosh(e))),xV={kernelName:Vy,backendName:"cpu",kernelFunc:wV};const kV={kernelName:qy,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{image:r,boxes:o,boxInd:s}=t,{cropSize:i,method:l,extrapolationValue:c}=a,[u,d,h,p]=r.shape,f=o.shape[0],[m,g]=i,y=RS([f,m,g,p],"float32"),b=n.data.get(o.dataId).values,v=n.data.get(s.dataId).values,w=n.data.get(r.dataId).values,x=Wg(r.shape),k=Wg(y.shape);for(let S=0;S<f;S++){const e=4*S,t=b[e],n=b[e+1],a=b[e+2],r=b[e+3],o=v[S];if(o>=u)continue;const s=m>1?(a-t)*(d-1)/(m-1):0,i=g>1?(r-n)*(h-1)/(g-1):0;for(let u=0;u<m;u++){const e=m>1?t*(d-1)+u*s:.5*(t+a)*(d-1);if(e<0||e>d-1)for(let t=0;t<g;t++)for(let e=0;e<p;e++){const n=e+t*k[2]+u*k[1]+S*k[0];y.values[n]=c}else if("bilinear"===l){const t=Math.floor(e),a=Math.ceil(e),s=e-t;for(let e=0;e<g;e++){const l=g>1?n*(h-1)+e*i:.5*(n+r)*(h-1);if(l<0||l>h-1){for(let t=0;t<p;t++){const n=t+e*k[2]+u*k[1]+S*k[0];y.values[n]=c}continue}const d=Math.floor(l),f=Math.ceil(l),m=l-d;for(let n=0;n<p;n++){let r=n+d*x[2]+t*x[1]+o*x[0];const i=w[r];r=n+f*x[2]+t*x[1]+o*x[0];const l=w[r];r=n+d*x[2]+a*x[1]+o*x[0];const c=w[r];r=n+f*x[2]+a*x[1]+o*x[0];const h=i+(l-i)*m,p=c+(w[r]-c)*m;r=n+e*k[2]+u*k[1]+S*k[0],y.values[r]=h+(p-h)*s}}}else for(let t=0;t<g;++t){const a=g>1?n*(h-1)+t*i:.5*(n+r)*(h-1);if(a<0||a>h-1){for(let e=0;e<p;e++){const n=e+t*k[2]+u*k[1]+S*k[0];y.values[n]=c}continue}const s=Math.round(a),l=Math.round(e);for(let e=0;e<p;e++){const n=e+s*x[2]+l*x[1]+o*x[0],a=e+t*k[2]+u*k[1]+S*k[0];y.values[a]=w[n]}}}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};const SV={kernelName:Hy,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,exclusive:s,reverse:i}=a;xW(r,"cumprod");const l=hI([o],r.shape.length);let c=r;null!=l&&(c=bU({inputs:{x:r},backend:n,attrs:{perm:l}}));const u=fI(1,r.shape.length)[0];if(u!==c.shape.length-1)throw new Error("backend.cumprod in CPU expects an inner-most "+"axis=".concat(c.shape.length-1," but got axis=").concat(u));const d=_x(c.dtype,"int32"),h=Gg(mg(c.shape),d),p=n.data.get(c.dataId).values,f=c.shape[c.shape.length-1],m=i?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let y=0;y<p.length;y+=f)for(let e=0;e<f;e++){const t=m(y,e);if(0===e)h[t]=s?1:p[t];else{const n=m(y,e-1);h[t]=s?p[n]*h[n]:p[t]*h[n]}}const g=n.makeTensorInfo(c.shape,d,h);if(null!=l){const e=bU({inputs:{x:g},backend:n,attrs:{perm:pI(l)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(c),e}return g}};const NV={kernelName:Gy,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,exclusive:s,reverse:i}=a;xW(r,"cumsum");const l=hI([o],r.shape.length);let c=r;null!=l&&(c=bU({inputs:{x:r},backend:n,attrs:{perm:l}}));const u=fI(1,r.shape.length)[0];if(u!==c.shape.length-1)throw new Error("backend.cumsum in CPU expects an inner-most "+"axis=".concat(c.shape.length-1," but got axis=").concat(u));const d=_x(c.dtype,"int32"),h=qg(mg(c.shape),d),p=n.data.get(c.dataId).values,f=c.shape[c.shape.length-1],m=i?(e,t)=>e+f-t-1:(e,t)=>e+t;for(let y=0;y<p.length;y+=f)for(let e=0;e<f;e++){const t=m(y,e);if(0===e)h[t]=s?0:p[t];else{const n=m(y,e-1);h[t]=s?p[n]+h[n]:p[t]+h[n]}}const g=n.makeTensorInfo(c.shape,d,h);if(null!=l){const e=bU({inputs:{x:g},backend:n,attrs:{perm:pI(l)}});return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(c),e}return g}};const TV={kernelName:Ky,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,weights:o}=t,{size:s,binaryOutput:i}=a;if(1===r.shape.length){const e=KU(n.data.get(r.dataId).values,n.data.get(o.dataId).values,o.dtype,o.shape,s);return n.makeTensorInfo([s],o.dtype,e)}if(2===r.shape.length){const e=XU(n.bufferSync(r),n.bufferSync(o),s,i);return n.makeTensorInfo(e.shape,o.dtype,e.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(r.shape.length,"."))}};const CV={kernelName:Xy,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{blockSize:o,dataFormat:s}=a;hg("NHWC"===s,(()=>"Only NHWC dataFormat supported on CPU for depthToSpace. Got ".concat(s)));const i=r.shape[0],l=r.shape[1],c=r.shape[2],u=r.shape[3],d=l*o,h=c*o,p=u/(o*o),f=n.data.get(r.dataId).values,m=new Float32Array(i*d*h*p);let g=0;for(let y=0;y<i;++y)for(let e=0;e<d;++e){const t=Math.floor(e/o),n=e%o;for(let e=0;e<h;++e){const a=Math.floor(e/o),r=(n*o+e%o)*p;for(let e=0;e<p;++e){const n=e+r+u*(a+c*(t+l*y));m[g++]=f[n]}}}return n.makeTensorInfo([i,d,h,p],r.dtype,m)}};function IV(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:o}=t,{strides:s,pad:i,dilations:l,dimRoundingMode:c}=a;xW([r,o],"depthwiseConv2DNative");const u=Wg(r.shape),d=Wg(o.shape);let h=l;null==h&&(h=[1,1]),hg(uC(s,h),(()=>"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(s," and dilations '").concat(h,"'")));const p=nC(r.shape,o.shape,s,h,i,c,!0),{filterHeight:f,filterWidth:m,dilationHeight:g,dilationWidth:y,padInfo:b}=p,v=b.left,w=b.top,x=p.outChannels/p.inChannels,k=new yx(p.outShape,r.dtype),S=n.data.get(r.dataId).values,N=n.data.get(o.dataId).values,T=k.values;for(let C=0;C<p.batchSize;++C){const e=C*u[0],t=C*k.strides[0];for(let n=0;n<p.outHeight;++n){const a=t+n*k.strides[1],r=n*p.strideHeight-w;for(let t=0;t<f;++t){const n=r+t*g;if(n<0||n>=p.inHeight)continue;const o=t*d[0],s=e+n*u[1];for(let e=0;e<p.outWidth;++e){const t=a+e*k.strides[2],n=e*p.strideWidth-v;for(let e=0;e<m;++e){const a=n+e*y;if(a<0||a>=p.inWidth)continue;const r=o+e*d[1],i=s+a*p.inChannels;let l=t,c=r;for(let e=0;e<p.inChannels;++e){const t=S[i+e];for(let e=0;e<x;++e)T[l+e]+=t*N[c+e];l+=x,c+=x}}}}}}return n.makeTensorInfo(k.shape,k.dtype,k.values)}const EV={kernelName:Yy,backendName:"cpu",kernelFunc:IV};const AV={kernelName:Qy,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,dy:o}=t,{strides:s,dilations:i,pad:l,dimRoundingMode:c,filterShape:u}=a;xW([r,o],"depthwiseConv2dNativeBackpropFilter");const d=nC(r.shape,u,s,i,l,c,!0),{strideHeight:h,strideWidth:p,filterHeight:f,filterWidth:m}=d,g=new yx(d.filterShape,"float32"),y=d.padInfo.left,b=d.padInfo.top,v=d.outChannels/d.inChannels,w=n.data.get(r.dataId).values,x=new yx(r.shape,r.dtype,w),k=n.data.get(o.dataId).values,S=new yx(o.shape,o.dtype,k);for(let N=0;N<f;++N){const e=Math.max(0,Math.ceil((b-N)/h)),t=Math.min(d.outHeight,(d.inHeight+b-N)/h);for(let n=0;n<m;++n){const a=Math.max(0,Math.ceil((y-n)/p)),r=Math.min(d.outWidth,(d.inWidth+y-n)/p);for(let o=0;o<d.outChannels;++o){const s=Math.trunc(o/v),i=o%v;let l=0;for(let c=0;c<d.batchSize;++c)for(let i=e;i<t;++i){const e=N+i*h-b;for(let t=a;t<r;++t){const a=n+t*p-y;l+=x.get(c,e,a,s)*S.get(c,i,t,o)}}g.set(l,N,n,s,i)}}}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};const _V={kernelName:Zy,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,filter:o}=t,{strides:s,dilations:i,pad:l,dimRoundingMode:c,inputShape:u}=a;xW([r,o],"depthwiseConv2DNativeBackpropInput");const d=Wg(r.shape),h=Wg(o.shape),p=nC(u,o.shape,s,i,l,c,!0),f=new yx(p.inShape,"float32"),m=f.values,[g,y,b]=f.strides,v=n.data.get(r.dataId).values,[w,x,k]=d,S=n.data.get(o.dataId).values,[N,T,C]=h,{batchSize:I,filterHeight:E,filterWidth:A,inChannels:_,inHeight:R,inWidth:D,outChannels:O,outHeight:F,outWidth:L,strideHeight:M,strideWidth:P}=p,z=E-1-p.padInfo.top,j=A-1-p.padInfo.left,B=O/_;for(let W=0;W<I;++W)for(let e=0;e<_;++e)for(let t=0;t<R;++t){const n=t-z,a=Math.max(0,Math.ceil(n/M)),r=Math.min(F,(E+n)/M);for(let o=0;o<D;++o){const s=o-j,i=Math.max(0,Math.ceil(s/P)),l=Math.min(L,(A+s)/P);let c=0;for(let t=a;t<r;++t){const a=t*M-n;for(let n=i;n<l;++n){const r=w*W+x*t+k*n,o=N*(E-1-a)+T*(A-1-(n*P-s))+C*e;for(let t=0;t<B;++t){c+=v[r+(e*B+t)]*S[o+t]}}}m[g*W+y*t+b*o+e]=c}}return n.makeTensorInfo(f.shape,f.dtype,f.values)}};const RV={kernelName:Jy,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:a}=t,r=mg(a.shape),o=n.data.get(a.dataId).values,s=RS([r,r],a.dtype),i=s.values;for(let c=0;c<o.length;c++)i[c*r+c]=o[c];const l=[...a.shape,...a.shape];return n.makeTensorInfo(l,s.dtype,s.values)}},DV={kernelName:$y,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:a}=e;const{x:r,filter:o}=t,{strides:s,pad:i,dilations:l}=a,c=n,u=c.data.get(r.dataId).values,d=r.shape.length,h=c.data.get(o.dataId).values,p=o.shape.length,{batchSize:f,inHeight:m,inWidth:g,inChannels:y,outHeight:b,outWidth:v,padInfo:w,strideHeight:x,strideWidth:k,filterHeight:S,filterWidth:N,dilationHeight:T,dilationWidth:C,outShape:I}=$T(r.shape,o.shape,s,i,"NHWC",l),E=mg(I),A=I.length,_=Ag(r.dtype,E);for(let R=0;R<f;++R)for(let e=0;e<b;++e){const t=e*x-w.top;for(let n=0;n<v;++n){const a=n*k-w.left;for(let s=0;s<y;++s){let i=Number.MIN_SAFE_INTEGER;for(let e=0;e<S;++e){const n=t+e*T;if(n>=0&&n<m)for(let t=0;t<N;++t){const l=a+t*C;if(l>=0&&l<g){const a=Yg([R,n,l,s],d,Wg(r.shape)),c=Yg([e,t,s],p,Wg(o.shape)),f=u[a]+h[c];f>i&&(i=f)}}}_[Yg([R,e,n,s],A,Wg(I))]=i}}}return{dataId:c.write($w(_,r.dtype),I,r.dtype),shape:I,dtype:r.dtype}}},OV={kernelName:tb,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:a}=e;const{x:r,filter:o,dy:s}=t,{strides:i,pad:l,dilations:c}=a,u=n,d=Vg(r.shape,u.data.get(r.dataId).values),h=Vg(o.shape,u.data.get(o.dataId).values),{batchSize:p,inHeight:f,inWidth:m,inChannels:g,outHeight:y,outWidth:b,padInfo:v,strideHeight:w,strideWidth:x,filterHeight:k,filterWidth:S,dilationHeight:N,dilationWidth:T,outShape:C}=$T(r.shape,o.shape,i,l,"NHWC",c);hg(s.rank===C.length,(()=>"Error in ".concat(tb,", dy ")+"must have the same rank as output ".concat(C.length,", but got ")+"".concat(s.rank)));const I=Vg(C,u.data.get(s.dataId).values),E=Kg(o.shape,o.dtype);for(let A=0;A<p;++A)for(let e=0;e<y;++e){const t=e*w-v.top;for(let n=0;n<b;++n){const a=n*x-v.left;for(let r=0;r<g;++r){let o=Number.MIN_SAFE_INTEGER,s=0,i=0;for(let e=0;e<k;++e){const n=t+e*N;if(n>=0&&n<f)for(let t=0;t<S;++t){const l=a+t*T;if(l>=0&&l<m){const a=d[A][n][l][r]+h[e][t][r];a>o&&(o=a,s=e,i=t)}}}E[s][i][r]+=I[A][e][n][r]}}}return{dataId:u.write($w(E,r.dtype),o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}},FV={kernelName:eb,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n,attrs:a}=e;const{x:r,filter:o,dy:s}=t,{strides:i,pad:l,dilations:c}=a,u=n,d=Vg(r.shape,u.data.get(r.dataId).values),h=Vg(o.shape,u.data.get(o.dataId).values),{batchSize:p,inHeight:f,inWidth:m,inChannels:g,outHeight:y,outWidth:b,padInfo:v,strideHeight:w,strideWidth:x,filterHeight:k,filterWidth:S,dilationHeight:N,dilationWidth:T,outShape:C}=$T(r.shape,o.shape,i,l,"NHWC",c);hg(s.rank===C.length,(()=>"Error in ".concat(eb,", dy ")+"must have the same rank as output ".concat(C.length,", but got ")+"".concat(s.rank)));const I=Vg(C,u.data.get(s.dataId).values),E=Kg(r.shape,r.dtype);for(let A=0;A<p;++A)for(let e=0;e<y;++e){const t=e*w-v.top;for(let n=0;n<b;++n){const a=n*x-v.left;for(let r=0;r<g;++r){let o=Number.MIN_SAFE_INTEGER,s=t<0?0:t,i=a<0?0:a;for(let e=0;e<k;++e){const n=t+e*N;if(n>=0&&n<f)for(let t=0;t<S;++t){const l=a+t*T;if(l>=0&&l<m){const a=d[A][n][l][r]+h[e][t][r];a>o&&(o=a,s=n,i=l)}}}E[A][s][i][r]+=I[A][e][n][r]}}}return{dataId:u.write($w(E,r.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};const LV={kernelName:nb,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{image:r}=t,{canvas:o,options:s}=a,{contextOptions:i,imageOptions:l}=s||{},c=(null===l||void 0===l?void 0:l.alpha)||1,u=(null===i||void 0===i?void 0:i.contextType)||"2d";if("2d"!==u)throw new Error("Context type ".concat(i.contextType," is not supported by the CPU backend."));const d=o.getContext(u,(null===i||void 0===i?void 0:i.contextAttributes)||{});if(null==d)throw new Error("Could not get the context with ".concat(u," type."));const[h,p]=r.shape.slice(0,2),f=2===r.shape.length?1:r.shape[2],m=n.data.get(r.dataId).values,g="float32"===r.dtype?255:1,y=new Uint8ClampedArray(p*h*4);for(let v=0;v<h*p;++v){const e=[0,0,0,255*c];for(let n=0;n<f;n++){const t=m[v*f+n];if("float32"===r.dtype){if(t<0||t>1)throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(t,"."))}else if("int32"===r.dtype&&(t<0||t>255))throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(t,"."));1===f?(e[0]=t*g,e[1]=t*g,e[2]=t*g):e[n]=t*g}const t=4*v;y[t+0]=Math.round(e[0]),y[t+1]=Math.round(e[1]),y[t+2]=Math.round(e[2]),y[t+3]=Math.round(e[3])}o.width=p,o.height=h;const b=new ImageData(y,p,h);return d.putImageData(b,0,0),r}},MV=OW(((e,t)=>e*t)),PV=eU(((e,t,n,a)=>({real:e*n-t*a,imag:e*a+t*n}))),zV=$W(nv,MV,PV),jV={kernelName:nv,backendName:"cpu",kernelFunc:zV};function BV(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,keepDims:s}=a;let i;xW(r,"sum"),i="bool"===r.dtype?ZW({inputs:{x:r},backend:n,attrs:{dtype:"int32"}}):AW({inputs:{x:r},backend:n});const l=i.shape.length,c=Cg(o,i.shape),u=hI(c,l);let d=c,h=i;null!=u&&(h=bU({inputs:{x:i},backend:n,attrs:{perm:u}}),d=fI(d.length,l)),dI("sum",d,h.shape.length);const[p,f]=cI(h.shape,d);let m=KW(n,p,_x(h.dtype,"int32"));const g=mg(f),y=n.data.get(m.dataId).values,b=n.data.get(h.dataId).values;for(let v=0;v<y.length;++v){const e=v*g;let t=0;for(let n=0;n<g;++n)t+=b[e+n];y[v]=t}if(s){const e=m;m=oU({inputs:{x:m},backend:n,attrs:{shape:uI(m.shape,c)}}),n.disposeIntermediateTensorInfo(e)}return n.disposeIntermediateTensorInfo(i),null!=u&&n.disposeIntermediateTensorInfo(h),m}const WV={kernelName:Hv,backendName:"cpu",kernelFunc:BV};const UV={kernelName:rb,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{equation:r}=a,o=t,{allDims:s,summedDims:i,idDims:l}=MR(r,o.length);zR(s.length,l,o);const{path:c,steps:u}=jR(i,l),d=u.length;let h=null,p=s.length;const f=[];for(let m=0;m<d;++m){for(const e of u[m]){const{permutationIndices:t,expandDims:a}=PR(p,l[e]);let r;BR(t)?r=o[e]:(r=bU({inputs:{x:o[e]},backend:n,attrs:{perm:t}}),f.push(r));const s=r.shape.slice();for(let e=0;e<a.length;++e)s.splice(a[e],0,1);bg(r.shape,s)||(r=oU({inputs:{x:r},backend:n,attrs:{shape:s}}),f.push(r)),null===h?h=r:(h=zV({inputs:{a:r,b:h},backend:n}),f.push(h))}m<d-1&&(c[m]>=0&&(h=BV({inputs:{x:h},backend:n,attrs:{axis:c[m]-(s.length-p),keepDims:!1}}),f.push(h)),p--)}for(const m of f)m!==h&&n.disposeIntermediateTensorInfo(m);return h}};const VV={kernelName:sb,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{dy:a,y:r}=t;xW([a,r],"eluGrad");const o=new Float32Array(mg(r.shape)),s=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values;for(let l=0;l<s.length;++l){const e=s[l];o[l]=e>=0?i[l]:i[l]*(e+1)}return n.makeTensorInfo(r.shape,"float32",o)}},HV=OW(((e,t)=>e===t?1:0)),GV=$W(lb,HV,null,"bool"),qV={kernelName:lb,backendName:"cpu",kernelFunc:GV},KV=bR,XV=vR,YV=wR,QV=xR,ZV=kR,JV=SR,$V=TW(ib,(e=>{const t=Math.sign(e),n=Math.abs(e),a=1/(1+KV*n);return t*(1-((((JV*a+ZV)*a+QV)*a+YV)*a+XV)*a*Math.exp(-n*n))})),eH={kernelName:ib,backendName:"cpu",kernelFunc:$V},tH=NW((e=>Math.exp(e))),nH=CW(cb,tH,"float32"),aH={kernelName:cb,backendName:"cpu",kernelFunc:nH};function rH(e){const{inputs:t,backend:n,attrs:a}=e,{input:r}=t,{dim:o}=a,s=r.shape.length,i=r.shape.slice();let l=o;return o<0&&(hg(-(s+1)<=o,(()=>"Axis must be in the interval [".concat(-(s+1),", ").concat(s,"]"))),l=s+o+1),i.splice(l,0,1),oU({inputs:{x:r},backend:n,attrs:{shape:i}})}const oH={kernelName:ub,backendName:"cpu",kernelFunc:rH},sH=NW((e=>Math.expm1(e))),iH=CW(db,sH),lH={kernelName:db,backendName:"cpu",kernelFunc:iH},cH=OW(((e,t)=>e/t)),uH=$W(ab,cH),dH={kernelName:ab,backendName:"cpu",kernelFunc:uH},hH=OW(((e,t)=>e-t)),pH=eU(((e,t,n,a)=>({real:e-n,imag:t-a}))),fH=$W(sw,hH,pH),mH={kernelName:sw,backendName:"cpu",kernelFunc:fH};function gH(e,t,n){const a=e.shape,r=a[0],o=a[1],s=n.data.get(e.dataId),i=s.complexTensorInfos.real,l=s.complexTensorInfos.imag,c=[r,o],u=mg(c),d=Eg("float32",u),h=Eg("float32",u);for(let g=0;g<r;g++){const e=HU({inputs:{x:i},backend:n,attrs:{begin:[g,0],size:[1,o]}}),a=HU({inputs:{x:l},backend:n,attrs:{begin:[g,0],size:[1,o]}}),r=GW({inputs:{real:e,imag:a},backend:n}),{real:s,imag:c}=yH(r,t,n),u=NR(s,c);for(let t=0;t<o;t++){const e=ER(u,t);d[g*o+t]=e.real,h[g*o+t]=e.imag}n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(r)}const p=n.makeTensorInfo(c,"float32",d),f=n.makeTensorInfo(c,"float32",h),m=GW({inputs:{real:p,imag:f},backend:n});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),m}function yH(e,t,n){const a=mg(e.shape),r=n.data.get(e.dataId),o=n.data.get(r.complexTensorInfos.real.dataId).values,s=n.data.get(r.complexTensorInfos.imag.dataId).values;if(function(e){return 0===(e&e-1)}(a)){const r=bH(o,s,a,t,n),i=[e.shape[0],e.shape[1]];if(t){const e=n.makeTensorInfo(i,"float32",r.real),t=n.makeTensorInfo(i,"float32",r.imag),o=n.makeTensorInfo([],"float32",Jw(a,"float32")),s=AW({inputs:{x:o},backend:n}),l=dH.kernelFunc({inputs:{a:e,b:o},backend:n}),c=dH.kernelFunc({inputs:{a:t,b:s},backend:n}),u=n.data.get(l.dataId).values,d=n.data.get(c.dataId).values;return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(c),{real:u,imag:d}}return r}{const e=function(e,t,n){const a=new Float32Array(2*t);for(let r=0;r<t;r++){let o=0,s=0;for(let a=0;a<t;a++){const i=RR(r*a,t,n),l=ER(e,a);o+=l.real*i.real-l.imag*i.imag,s+=l.real*i.imag+l.imag*i.real}n&&(o/=t,s/=t),AR(a,o,s,r)}return a}(NR(o,s),a,t);return TR(e)}}function bH(e,t,n,a,r){if(1===n)return{real:e,imag:t};const o=NR(e,t),s=n/2,i=CR(o),l=i.real,c=i.imag,u=[l.length],d=r.makeTensorInfo(u,"float32",l),h=r.makeTensorInfo(u,"float32",c),p=GW({inputs:{real:d,imag:h},backend:r}),f=IR(o),m=f.real,g=f.imag,y=[m.length],b=r.makeTensorInfo(y,"float32",m),v=r.makeTensorInfo(y,"float32",g),w=GW({inputs:{real:b,imag:v},backend:r}),x=bH(l,c,s,a,r),k=x.real,S=x.imag,N=[k.length],T=r.makeTensorInfo(N,"float32",k),C=r.makeTensorInfo(N,"float32",S),I=GW({inputs:{real:T,imag:C},backend:r}),E=bH(m,g,s,a,r),A=E.real,_=E.imag,R=[A.length],D=r.makeTensorInfo(R,"float32",A),O=r.makeTensorInfo(R,"float32",_),F=GW({inputs:{real:D,imag:O},backend:r}),L=_R(n,a),M=[L.real.length],P=r.makeTensorInfo(M,"float32",L.real),z=r.makeTensorInfo(M,"float32",L.imag),j=GW({inputs:{real:P,imag:z},backend:r}),B=zV({inputs:{a:j,b:F},backend:r}),W=aU({inputs:{a:I,b:B},backend:r}),U=fH({inputs:{a:I,b:B},backend:r}),V=XW({inputs:{input:W},backend:r}),H=XW({inputs:{input:U},backend:r}),G=iV({inputs:{input:W},backend:r}),q=iV({inputs:{input:U},backend:r}),K=cV({inputs:[V,H],backend:r,attrs:{axis:0}}),X=cV({inputs:[G,q],backend:r,attrs:{axis:0}}),Y=r.data.get(K.dataId).values,Q=r.data.get(X.dataId).values;return r.disposeIntermediateTensorInfo(d),r.disposeIntermediateTensorInfo(h),r.disposeIntermediateTensorInfo(p),r.disposeIntermediateTensorInfo(b),r.disposeIntermediateTensorInfo(v),r.disposeIntermediateTensorInfo(w),r.disposeIntermediateTensorInfo(T),r.disposeIntermediateTensorInfo(C),r.disposeIntermediateTensorInfo(I),r.disposeIntermediateTensorInfo(D),r.disposeIntermediateTensorInfo(O),r.disposeIntermediateTensorInfo(F),r.disposeIntermediateTensorInfo(P),r.disposeIntermediateTensorInfo(z),r.disposeIntermediateTensorInfo(j),r.disposeIntermediateTensorInfo(B),r.disposeIntermediateTensorInfo(W),r.disposeIntermediateTensorInfo(U),r.disposeIntermediateTensorInfo(V),r.disposeIntermediateTensorInfo(G),r.disposeIntermediateTensorInfo(H),r.disposeIntermediateTensorInfo(q),r.disposeIntermediateTensorInfo(K),r.disposeIntermediateTensorInfo(X),{real:Y,imag:Q}}const vH={kernelName:hb,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:a}=t,r=mg(a.shape),o=a.shape[a.shape.length-1],s=oU({inputs:{x:a},backend:n,attrs:{shape:[r/o,o]}}),i=gH(s,!1,n),l=oU({inputs:{x:i},backend:n,attrs:{shape:a.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),l}};function wH(e){const{backend:t,attrs:n}=e,{shape:a,value:r,dtype:o}=n,s=o||zg(r),i=Ag(s,mg(a));return function(e,t,n){e.fill(t)}(i,r),t.makeTensorInfo(a,s,i)}const xH={kernelName:pb,backendName:"cpu",kernelFunc:wH};const kH={kernelName:fb,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:a}=e;const{image:r}=t,o=a,s=Eg(r.dtype,mg(r.shape)),[i,l,c,u]=r.shape,d=o.data.get(r.dataId).values;for(let h=0;h<i;h++){const e=h*c*l*u;for(let t=0;t<l;t++){const n=t*(c*u);for(let t=0;t<c;t++){const a=t*u;for(let r=0;r<u;r++){const o=Math.round(c-t-1),i=e+n+a+r;let l=d[i];if(o>=0&&o<c){l=d[e+n+o*u+r]}s[i]=l}}}}return{dataId:o.write(s,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},SH=NW((e=>Math.floor(e))),NH=CW(mb,SH),TH={kernelName:mb,backendName:"cpu",kernelFunc:NH},CH=OW(((e,t)=>Math.floor(e/t))),IH=$W(gb,CH,null,"int32"),EH={kernelName:gb,backendName:"cpu",kernelFunc:IH};const AH={kernelName:kw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:o,bias:s,preluActivationWeights:i}=t,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h,activation:p,leakyreluAlpha:f}=a;let m=dV({inputs:{x:r,filter:o},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h}});if(s){const e=m;if("NCHW"===u&&1===s.shape.length&&1!==s.shape[0]){const e=oU({inputs:{x:s},backend:n,attrs:{shape:[s.shape[0],1,1]}});m=aU({inputs:{a:m,b:e},backend:n}),n.disposeIntermediateTensorInfo(e)}else m=aU({inputs:{a:m,b:s},backend:n});n.disposeIntermediateTensorInfo(e)}if(p){const e=m;if("NCHW"===u&&"prelu"===p&&1===i.shape.length&&1!==i.shape[0]){const e=oU({inputs:{x:i},backend:n,attrs:{shape:[i.shape[0],1,1]}});m=HW(n,m,p,e,f),n.disposeIntermediateTensorInfo(e)}else m=HW(n,m,p,i,f);n.disposeIntermediateTensorInfo(e)}return m}};const _H={kernelName:Sw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:o,bias:s,preluActivationWeights:i}=t,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h,activation:p,leakyreluAlpha:f}=a;let m=IV({inputs:{x:r,filter:o},backend:n,attrs:{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h}});if(s){const e=m;m=aU({inputs:{a:m,b:s},backend:n}),n.disposeIntermediateTensorInfo(e)}if(p){const e=m;m=HW(n,m,p,i,f),n.disposeIntermediateTensorInfo(e)}return m}};function RH(e,t,n,a,r,o,s,i,l){const c=RS([a,o],n);for(let u=0;u<a;u++){const n=[];let a=0;for(let t=0;t<r;t++){const o=e[u*r+t];a+=o*s[t],n.push(o)}if(a<0||a>=l/o)throw new Error("Invalid indices: ".concat(n," does not index into ").concat(i));for(let e=0;e<o;e++)c.values[u*o+e]=t.get(...t.indexToLoc(a*o+e))}return c}const DH={kernelName:vb,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:a,indices:r}=t,o=mg(a.shape),s=r.shape,i=s[s.length-1],[l,c,u,d]=nT(a,r);if(0===c)return n.makeTensorInfo(l,a.dtype,[]);const h=RH(n.data.get(r.dataId).values,n.bufferSync(a),a.dtype,c,i,u,d,a.shape,o);return n.makeTensorInfo(l,a.dtype,h.values)}};function OH(e,t,n){const a=RS(n,e.dtype);for(let r=0;r<a.size;++r){const n=a.indexToLoc(r).slice(),o=n[0],s=n[2],i=t.locToIndex([o,s]);n[2]=t.values[i];const l=e.locToIndex(n);0<=l&&l<e.values.length&&(a.values[r]=e.values[l])}return a}const FH={kernelName:bb,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,indices:o}=t,{axis:s,batchDims:i}=a;xW([r,o],"gatherV2");const l=Cg(s,r.shape)[0],c=n.data.get(o.dataId).values,u=r.shape[l];for(let v=0;v<c.length;++v){const e=c[v];hg(e<=u-1&&e>=0,(()=>"GatherV2: the index value ".concat(e," is not in [0, ").concat(u-1,"]")))}let d=i;null==i&&(d=0);const h=mg(o.shape),p=aD(r,o,l,d),f=oU({inputs:{x:r},backend:n,attrs:{shape:[p.batchSize,p.outerSize,p.dimSize,p.sliceSize]}}),m=oU({inputs:{x:o},backend:n,attrs:{shape:[p.batchSize,h/p.batchSize]}}),g=[p.batchSize,p.outerSize,h/p.batchSize,p.sliceSize],y=n.bufferSync(m),b=OH(n.bufferSync(f),y,g);return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.makeTensorInfo(p.outputShape,b.dtype,b.values)}},LH=OW(((e,t)=>e>t?1:0)),MH=$W(wb,LH,null,"bool"),PH={kernelName:wb,backendName:"cpu",kernelFunc:MH},zH=OW(((e,t)=>e>=t?1:0)),jH=$W(xb,zH,null,"bool"),BH={kernelName:xb,backendName:"cpu",kernelFunc:jH};const WH={kernelName:Sb,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:a}=t,r=mg(a.shape),o=a.shape[a.shape.length-1],s=oU({inputs:{x:a},backend:n,attrs:{shape:[r/o,o]}}),i=gH(s,!0,n),l=oU({inputs:{x:i},backend:n,attrs:{shape:a.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(i),l}},UH=TW(Tb,(e=>Number.isFinite(e)?1:0),"bool"),VH={kernelName:Tb,backendName:"cpu",kernelFunc:UH},HH=TW(Cb,(e=>Math.abs(e)===1/0?1:0),"bool"),GH={kernelName:Cb,backendName:"cpu",kernelFunc:HH},qH=TW(Ib,(e=>Number.isNaN(e)?1:0),"bool"),KH={kernelName:Ib,backendName:"cpu",kernelFunc:qH},XH=OW(((e,t)=>e<t?1:0)),YH=$W(Ab,XH,null,"bool"),QH={kernelName:Ab,backendName:"cpu",kernelFunc:YH},ZH=OW(((e,t)=>e<=t?1:0)),JH=$W(_b,ZH,null,"bool"),$H={kernelName:_b,backendName:"cpu",kernelFunc:JH};function eG(e,t,n){const a=(t-e)/(n-1),r=qg(n,"float32");r[0]=e;for(let o=1;o<r.length;o++)r[o]=r[o-1]+a;return r}const tG={kernelName:Rb,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:a,stop:r,num:o}=n,s=eG(a,r,o);return t.makeTensorInfo([s.length],"float32",s)}},nG=NW((e=>Math.log(e))),aG=CW(Db,nG),rG={kernelName:Db,backendName:"cpu",kernelFunc:aG},oG=TW(Ob,(e=>Math.log1p(e))),sG={kernelName:Ob,backendName:"cpu",kernelFunc:oG},iG=OW(((e,t)=>e&&t)),lG=$W(Fb,iG,null,"bool"),cG={kernelName:Fb,backendName:"cpu",kernelFunc:lG},uG=TW(Lb,(e=>e?0:1),"bool"),dG={kernelName:Lb,backendName:"cpu",kernelFunc:uG},hG=OW(((e,t)=>e||t)),pG=$W(Mb,hG,null,"bool"),fG={kernelName:Mb,backendName:"cpu",kernelFunc:pG};const mG={kernelName:Bb,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{depthRadius:o,bias:s,alpha:i,beta:l}=a;xW(r,"LRN");const c=r.shape[3],u=c-1,d=n.data.get(r.dataId).values,h=mg(r.shape),p=new Float32Array(h);function f(e){const t=e%c;let n=e-t+Math.max(0,t-o);const a=e-t+Math.min(t+o,u);let r=0;for(;n<=a;n++){const e=d[n];r+=e*e}return r}for(let m=0;m<h;m++){const e=f(m),t=d[m]*Math.pow(s+i*e,-l);p[m]=t}return n.makeTensorInfo(r.shape,r.dtype,p)}};const gG={kernelName:Wb,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,y:o,dy:s}=t,{depthRadius:i,bias:l,alpha:c,beta:u}=a;xW(s,"LRNGrad");const d=mg(s.shape),h=s.shape[3],p=n.data.get(s.dataId).values,f=n.data.get(r.dataId).values,m=n.data.get(o.dataId).values,g=new Float32Array(d),y=d;for(let b=0;b<y;b++){const e=b%h,t=b-e+Math.max(0,e-i),n=b-e+Math.min(h,e+i+1);let a=0;for(let r=t;r<n;r++)a+=Math.pow(f[r],2);a=c*a+l;for(let r=t;r<n;r++){let e=-2*c*u*f[r]*m[b]/a;b===r&&(e+=Math.pow(a,-u)),e*=p[b],g[r]+=e}}return n.makeTensorInfo(s.shape,r.dtype,g)}};function yG(e,t,n,a){const r=Eg(a,mg(n));for(let o=0;o<r.length;++o){const n=o*t;let a=e[n];for(let r=0;r<t;++r){const t=e[n+r];(Number.isNaN(t)||t>a)&&(a=t)}r[o]=a}return r}function bG(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{reductionIndices:o,keepDims:s}=a,i=n;let l=r.shape;const c=l.length,u=Cg(o,l);let d=u;const h=hI(d,c);let p=i.data.get(r.dataId).values;if(null!=h){const e=new Array(c);for(let t=0;t<e.length;t++)e[t]=l[h[t]];p=yU(p,l,r.dtype,h,e),d=fI(d.length,c),l=e}xW(r,"max"),dI("max",d,c);const[f,m]=cI(l,d),g=yG(p,mg(m),f,r.dtype),y=i.write(g,f,r.dtype);let b=f;if(s){b=uI(f,u)}return{dataId:y,shape:b,dtype:r.dtype}}const vG={kernelName:Vb,backendName:"cpu",kernelFunc:bG},wG=OW(((e,t)=>Math.max(e,t))),xG=$W(Hb,wG),kG={kernelName:Hb,backendName:"cpu",kernelFunc:xG};const SG={kernelName:Gb,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t;xW(r,"maxPool");const{filterSize:o,strides:s,pad:i,dimRoundingMode:l}=a;hg(uC(s,1),(()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(1,"'")));const c=eC(r.shape,o,s,1,i,l);let u;if(1===c.filterWidth&&1===c.filterHeight&&bg(c.inShape,c.outShape))u=AW({inputs:{x:r},backend:n});else{const e=n.data.get(r.dataId).values,t=Wg(r.shape),a=LU(e,r.shape,r.dtype,t,c,"max");u=n.makeTensorInfo(c.outShape,r.dtype,a.values)}return u}};const NG={kernelName:Kb,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{filterSize:o,strides:s,pad:i,dimRoundingMode:l,dataFormat:c}=a;xW(r,"maxPool3d");const u=tC(r.shape,o,s,1,i,l,c),d=PU(n.data.get(r.dataId).values,r.shape,r.dtype,Wg(r.shape),u,"max");return n.makeTensorInfo(d.shape,"float32",d.values)}};const TG={kernelName:Xb,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:o}=t,{filterSize:s,strides:i,pad:l,dimRoundingMode:c}=a;xW([r,o],"maxPool3DGrad");const u=tC(o.shape,s,i,1,l,c),d=function(e,t){const n=RS(t.outShape,"int32"),a=t.strideDepth,r=t.strideHeight,o=t.strideWidth,s=t.dilationDepth,i=t.dilationHeight,l=t.dilationWidth,c=t.effectiveFilterDepth,u=t.effectiveFilterHeight,d=t.effectiveFilterWidth,h=t.padInfo.front,p=t.padInfo.top,f=t.padInfo.left;for(let m=0;m<t.batchSize;++m)for(let g=0;g<t.inChannels;++g)for(let y=0;y<t.outDepth;++y){const b=y*a-h;let v=b;for(;v<0;)v+=s;const w=Math.min(t.inDepth,c+b);for(let a=0;a<t.outHeight;++a){const c=a*r-p;let h=c;for(;h<0;)h+=i;const x=Math.min(t.inHeight,u+c);for(let r=0;r<t.outWidth;++r){const p=r*o-f;let k=p;for(;k<0;)k+=l;const S=Math.min(t.inWidth,d+p);let N=Number.NEGATIVE_INFINITY,T=-1;for(let t=v;t<w;t+=s){const n=t-b;for(let a=h;a<x;a+=i){const r=a-c;for(let o=k;o<S;o+=l){const s=o-p,i=e.get(m,t,a,o,g);i>=N&&(N=i,T=n*u*d+r*u+s)}}}n.set(T,m,y,a,r,g)}}}return n}(n.bufferSync(o),u),h=u.strideDepth,p=u.strideHeight,f=u.strideWidth,m=u.dilationDepth,g=u.dilationHeight,y=u.dilationWidth,b=u.effectiveFilterDepth,v=u.effectiveFilterHeight,w=u.effectiveFilterWidth,x=b-1-u.padInfo.front,k=w-1-u.padInfo.left,S=v-1-u.padInfo.top,N=RS(o.shape,"float32"),T=n.bufferSync(r);for(let C=0;C<u.batchSize;++C)for(let e=0;e<u.inChannels;++e)for(let t=0;t<u.inDepth;++t)for(let n=0;n<u.inHeight;++n)for(let a=0;a<u.inWidth;++a){const r=t-x,o=n-S,s=a-k;let i=0;for(let t=0;t<b;t+=m){const n=(r+t)/h;if(!(n<0||n>=u.outDepth||Math.floor(n)!==n))for(let a=0;a<v;a+=g){const r=(o+a)/p;if(!(r<0||r>=u.outHeight||Math.floor(r)!==r))for(let o=0;o<w;o+=y){const l=(s+o)/f;if(l<0||l>=u.outWidth||Math.floor(l)!==l)continue;const c=b*v*w-1-d.get(C,n,r,l,e)===t*v*w+a*w+o?1:0;if(0===c)continue;i+=T.get(C,n,r,l,e)*c}}}N.set(i,C,t,n,a,e)}return n.makeTensorInfo(N.shape,N.dtype,N.values)}};const CG={kernelName:qb,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:o,output:s}=t,i=o;xW([o,s],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:d}=a,h=eC(i.shape,l,c,1,u,d),p=n.data.get(i.dataId).values,f=RS(h.outShape,i.dtype,MU(p,i.shape,i.dtype,h).values),m=h.strideHeight,g=h.strideWidth,y=h.dilationHeight,b=h.dilationWidth,v=h.effectiveFilterHeight,w=h.effectiveFilterWidth,x=w-1-h.padInfo.left,k=v-1-h.padInfo.top,S=RS(i.shape,"float32"),N=n.data.get(r.dataId).values,T=RS(r.shape,"float32",N);for(let C=0;C<h.batchSize;++C)for(let e=0;e<h.inChannels;++e)for(let t=0;t<h.inHeight;++t)for(let n=0;n<h.inWidth;++n){const a=t-k,r=n-x;let o=0;for(let t=0;t<v;t+=y){const n=(a+t)/m;if(!(n<0||n>=h.outHeight||Math.floor(n)!==n))for(let a=0;a<w;a+=b){const s=(r+a)/g;if(s<0||s>=h.outWidth||Math.floor(s)!==s)continue;const i=v*w-1-f.get(C,n,s,e)===t*w+a?1:0;if(0===i)continue;o+=T.get(C,n,s,e)*i}}S.set(o,C,t,n,e)}return n.makeTensorInfo(S.shape,S.dtype,S.values)}};const IG={kernelName:Yb,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:a}=e;const{x:r}=t,{filterSize:o,strides:s,pad:i,includeBatchInIndex:l}=n,c=a;xW(r,"MaxPoolWithArgmax");const u=c.data.get(r.dataId).values,d=eC(r.shape,o,s,[1,1],i),[h,p]=function(e,t,n,a,r){const o=LU(e,0,n,Wg(t),r,"max"),s=MU(e,t,n,r,!0,a);return[o.values,s.values]}(u,r.shape,r.dtype,l,d),f=c.write(h,d.outShape,r.dtype),m=c.write(p,d.outShape,r.dtype);return[{dataId:f,shape:d.outShape,dtype:r.dtype},{dataId:m,shape:d.outShape,dtype:"int32"}]}};const EG={kernelName:Qb,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,keepDims:s}=a,i=Cg(o,r.shape),l=mg(cI(r.shape,i)[1]),c=[],u=n.makeTensorInfo([],"float32",new Float32Array([l]));c.push(u);const d=ZW({inputs:{x:r},backend:n,attrs:{dtype:"float32"}});c.push(d);const h=uH({inputs:{a:d,b:u},backend:n});c.push(h);const p=BV({inputs:{x:h},backend:n,attrs:{axis:o,keepDims:s}});return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),p}};const AG={kernelName:Zb,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,keepDims:s}=a;xW(r,"min");const i=Cg(o,r.shape);let l=i;const c=hI(l,r.shape.length);let u=r;null!=c&&(u=bU({inputs:{x:r},backend:n,attrs:{perm:c}}),l=fI(l.length,r.shape.length)),dI("min",l,u.shape.length);const[d,h]=cI(u.shape,l),p=mg(h),f=qg(mg(d),u.dtype),m=n.data.get(u.dataId).values;for(let y=0;y<f.length;++y){const e=y*p;let t=m[e];for(let n=0;n<p;++n){const a=m[e+n];(Number.isNaN(a)||a<t)&&(t=a)}f[y]=t}null!=c&&n.disposeIntermediateTensorInfo(u);const g=n.makeTensorInfo(d,u.dtype,f);if(s){const e=oU({inputs:{x:g},backend:n,attrs:{shape:uI(d,i)}});return n.disposeIntermediateTensorInfo(g),e}return g}},_G=OW(((e,t)=>Math.min(e,t))),RG=$W(Jb,_G),DG={kernelName:Jb,backendName:"cpu",kernelFunc:RG};const OG={kernelName:$b,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{paddings:o,mode:s}=a;xW(r,"mirrorPad");const i=o.map(((e,t)=>e[0]+r.shape[t]+e[1])),l=o.map((e=>e[0])),c=o.map(((e,t)=>e[0]+r.shape[t])),u="reflect"===s?0:1,d=n.data.get(r.dataId).values,h=r.shape.length,p=Wg(r.shape),f=mg(i),m=i.length,g=Wg(i),y=Eg(r.dtype,f);for(let b=0;b<f;b++){let e=Qg(b,m,g);for(let n=0;n<m;n++)e[n]<l[n]?e[n]=2*l[n]-e[n]-u:e[n]>=c[n]&&(e[n]=2*(c[n]-1)-e[n]+u);e=e.map(((e,t)=>e-l[t]));const t=Yg(e,h,p);y[b]=d[t]}return{dataId:n.write(y,i,r.dtype),shape:i,dtype:r.dtype}}},FG=OW(((e,t)=>{const n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),LG=$W(ev,FG),MG={kernelName:ev,backendName:"cpu",kernelFunc:LG};function PG(e){const{inputs:t,backend:n,attrs:a}=e,{logits:r}=t,{dim:o}=a,s=r.shape.length;let i=o;if(-1===i&&(i=s-1),i!==s-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(s," and dim was ").concat(i));const l=Cg([i],r.shape),c=bG({inputs:{x:r},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),u=uI(c.shape,l),d=oU({inputs:{x:c},backend:n,attrs:{shape:u}}),h=fH({inputs:{a:r,b:d},backend:n}),p=nH({inputs:{x:h},backend:n}),f=BV({inputs:{x:p},backend:n,attrs:{axis:l,keepDims:!1}}),m=oU({inputs:{x:f},backend:n,attrs:{shape:u}}),g=uH({inputs:{a:p,b:m},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),g}const zG={kernelName:Kv,backendName:"cpu",kernelFunc:PG};const jG={kernelName:tv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{logits:r}=t,{numSamples:o,seed:s,normalized:i}=a;xW(r,"multinomial");const l=i?r:PG({inputs:{logits:r},backend:n,attrs:{dim:-1}}),c=l.shape[0],u=l.shape[1],d=n.data.get(l.dataId).values,h=[c,o],p=qg(mg(h),"int32");for(let f=0;f<c;++f){const e=f*u,t=new Float32Array(u-1);t[0]=d[e];for(let r=1;r<t.length;++r)t[r]=t[r-1]+d[e+r];const n=CE.alea(s.toString()),a=f*o;for(let r=0;r<o;++r){const e=n();p[a+r]=t.length;for(let n=0;n<t.length;n++)if(e<t[n]){p[a+r]=n;break}}}return i||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(h,"int32",p)}};function BG(e,t,n){const a=Jw(-1,n);return MV([],t,a,e,n)}const WG={kernelName:av,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:a}=t;xW(a,"neg");const r=n.data.get(a.dataId).values,[o,s]=BG(r,a.shape,a.dtype);return n.makeTensorInfo(s,a.dtype,o)}},UG=i_;const VG={kernelName:ov,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{boxes:r,scores:o}=t,{maxOutputSize:s,iouThreshold:i,scoreThreshold:l}=a;xW(r,"NonMaxSuppression");const c=n.data.get(r.dataId).values,u=n.data.get(o.dataId).values,{selectedIndices:d}=UG(c,u,s,i,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},HG=l_;const GG={kernelName:sv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{boxes:r,scores:o}=t,{maxOutputSize:s,iouThreshold:i,scoreThreshold:l,padToMaxOutputSize:c}=a;xW(r,"NonMaxSuppressionPadded");const u=n.data.get(r.dataId).values,d=n.data.get(o.dataId).values,{selectedIndices:h,validOutputs:p}=HG(u,d,s,i,l,c);return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}},qG=c_;const KG={kernelName:iv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{boxes:r,scores:o}=t,{maxOutputSize:s,iouThreshold:i,scoreThreshold:l,softNmsSigma:c}=a;xW(r,"NonMaxSuppressionWithScore");const u=n.data.get(r.dataId).values,d=n.data.get(o.dataId).values,h=s,p=i,f=l,m=c,{selectedIndices:g,selectedScores:y}=qG(u,d,h,p,f,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}},XG=OW(((e,t)=>e!==t?1:0)),YG=$W(rv,XG,null,"bool"),QG={kernelName:rv,backendName:"cpu",kernelFunc:YG};const ZG={kernelName:cv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{indices:r}=t,{dtype:o,depth:s,onValue:i,offValue:l}=a;xW(r,"oneHot");const c=mg(r.shape),u=new Float32Array(c*s);u.fill(l);const d=n.data.get(r.dataId).values;for(let h=0;h<c;++h)d[h]>=0&&d[h]<s&&(u[h*s+d[h]]=i);return n.makeTensorInfo([...r.shape,s],o,u)}};function JG(e){const{inputs:t,backend:n}=e,{x:a}=t;if("string"===a.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===a.dtype){const e=XW({inputs:{input:a},backend:n}),t=JG({inputs:{x:e},backend:n}),r=iV({inputs:{input:a},backend:n}),o=JG({inputs:{x:r},backend:n}),s=GW({inputs:{real:t,imag:o},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(o),s}return wH({backend:n,attrs:{shape:a.shape,value:0,dtype:a.dtype}})}const $G={kernelName:yw,backendName:"cpu",kernelFunc:JG};const eq={kernelName:lv,backendName:"cpu",kernelFunc:function e(t){const{inputs:n,backend:a}=t,{x:r}=n;if("string"===r.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===r.dtype){const t=XW({inputs:{input:r},backend:a}),n=e({inputs:{x:t},backend:a}),o=iV({inputs:{input:r},backend:a}),s=JG({inputs:{x:o},backend:a}),i=GW({inputs:{real:n,imag:s},backend:a});return a.disposeIntermediateTensorInfo(t),a.disposeIntermediateTensorInfo(n),a.disposeIntermediateTensorInfo(o),a.disposeIntermediateTensorInfo(s),i}return wH({backend:a,attrs:{shape:r.shape,value:1,dtype:r.dtype}})}};function tq(e){const{inputs:t,backend:n,attrs:a}=e,{axis:r}=a;if(1===t.length)return rH({inputs:{input:t[0]},backend:n,attrs:{dim:r}});const o=t[0].shape,s=t[0].dtype;t.forEach((e=>{pg(o,e.shape,"All tensors passed to stack must have matching shapes"),hg(s===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const i=[],l=cV({inputs:t.map((e=>{const t=rH({inputs:{input:e},backend:n,attrs:{dim:r}});return i.push(t),t})),backend:n,attrs:{axis:r}});return i.forEach((e=>n.disposeIntermediateTensorInfo(e))),l}const nq={kernelName:uv,backendName:"cpu",kernelFunc:tq};const aq={kernelName:dv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{paddings:o,constantValue:s}=a;xW(r,"pad");const i=o.map(((e,t)=>e[0]+r.shape[t]+e[1])),l=o.map((e=>e[0])),c=n.data.get(r.dataId).values,u=mg(r.shape),d=r.shape.length,h=Wg(r.shape),p=mg(i),f=i.length,m=Wg(i),g=Eg(r.dtype,p);0!==s&&g.fill(s);for(let y=0;y<u;y++){g[Yg(Qg(y,d,h).map(((e,t)=>e+l[t])),f,m)]=c[y]}return{dataId:n.write(g,i,r.dtype),shape:i,dtype:r.dtype}}},rq=OW(((e,t)=>Math.pow(e,t))),oq=$W(pv,rq),sq={kernelName:pv,backendName:"cpu",kernelFunc:oq};function iq(e,t,n,a){const[r,o]=cI(e,a),s=_x(t,"int32"),i=qg(mg(r),s),l=mg(o);for(let c=0;c<i.length;++c){const e=c*l;let t=1;for(let a=0;a<l;++a)t*=n[e+a];i[c]=t}return{outVals:i,outShape:r,outDtype:s}}const lq={kernelName:mv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,keepDims:s}=a;xW(r,"prod");const i=r.shape.length,l=Cg(o,r.shape),c=hI(l,i);let u=l,d=r;const h=[];null!=c&&(d=bU({inputs:{x:r},backend:n,attrs:{perm:c}}),h.push(d),u=fI(u.length,i));const p=n.data.get(d.dataId).values,{outVals:f,outShape:m,outDtype:g}=iq(d.shape,d.dtype,p,u);let y=m;return s&&(y=uI(m,l)),h.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(y,g,f)}};function cq(e,t,n,a){const r=[];let o=0;const s=t.length-1+n.length,i=new Array(s).fill(null).map((()=>[0]));!function(e,t){for(let n=0;n<e.length;++n){const a=e[n],r=n===e.length-1?t:e[n+1].length;if(0===a.length)throw new Error("Ragged splits may not be empty");if(a[0]<0)throw new Error("Ragged splits must be non-negative");if(a[a.length-1]>r)throw new Error("Ragged splits must not point past values");for(let e=1;e<a.length;++e)if(a[e-1]>a[e])throw new Error("Ragged splits must be sorted in ascending order")}}(n,a);let l=1;for(let c=0;c<t.length-1;++c){l*=t[c];const e=t[c+1];for(let t=1;t<l+1;++t)i[c].push(t*e)}for(let c=0;c<e.length;++c){let a=e[c],s=e[c]+1;for(let e=0;e<n.length;++e){const r=n[e],o=e+t.length-1;if(o>=0){const e=i[o],t=e[e.length-1]-r[a];for(let n=a;n<s;++n)i[o].push(r[n+1]+t)}a=r[a],s=r[s]}s!==a&&(r.push([a,s]),o+=s-a)}return{outSplits:i,valueSlices:r,numValues:o}}function uq(e,t){const n=e.slice(0,t);for(;n.length<t;)n.push(1);for(let a=t;a<e.length;a++)n[t-1]*=e[a];return n}function dq(e,t,n,a,r){const o=t.slice();o[0]=r;const s=Ag(n,mg(o)),i=e.length;return function(e,t,n,a,r,o){const s=uq(t,2)[1],i=uq(o,2)[1];let l=0;for(const c of n)for(let t=c[0];t<c[1];++t){for(let n=0;n<a;++n)r[l*i+n]=e[t*s+n];++l}}(e,t,a,0===i?0:i/t[0],s,o),[s,o]}function hq(e,t,n,a,r,o,s,i){if(0===e.length)throw new Error("paramsNestedSplits must be non empty");if(0===t[0].length)throw new Error("Split tensors must not be scalars");if(function(e,t,n){e.forEach(((e,a)=>{if(e<0||e>=n){const r=Qg(a,t.length,Wg(t)).join(",");throw new Error("indices[".concat(r,"] = ").concat(e," is not in [0, ").concat(n,")"))}}))}(o,s,t[0][0]-1),0===a.length)throw new Error("params.rank must be nonzero");const l=a[0],{outSplits:c,valueSlices:u,numValues:d}=cq(o,s,e,l),h=function(e){const t=[];for(let n=0;n<e.length;++n){const a=Ag("int32",e[n].length);t.push(a),e[n].forEach(((e,t)=>a[t]=e))}return t}(c),p=dq(n,a,r,u,d);return[h,p[0],p[1]]}const pq={kernelName:gv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{paramsNestedSplits:r,paramsDenseValues:o,indices:s}=t,{outputRaggedRank:i}=a,l=r.map((e=>n.data.get(e.dataId).values)),c=r.map((e=>e.shape)),u=n.data.get(o.dataId).values,d=n.data.get(s.dataId).values,[h,p,f]=hq(l,c,u,o.shape,o.dtype,d,s.shape),m=h.map((e=>n.makeTensorInfo([e.length],"int32",e))),g=n.makeTensorInfo(f,o.dtype,p);return m.concat([g])}},fq=2147483647;function mq(e,t,n,a,r,o,s){if(t.length>1)throw new Error("starts must be a scalar or vector");if(r.length>1)throw new Error("limits must be a scalar or vector");if(s.length>1)throw new Error("deltas must be a scalar or vector");const i=0===t.length,l=0===r.length,c=0===s.length,u=[];i||u.push(t[0]),l||u.push(r[0]),c||u.push(s[0]);for(let m=1;m<u.length;++m)if(u[m]!==u[m-1])throw new Error("starts, limits, and deltas must have the same shape");const d=0===u.length?1:u[0],h=Ag("int32",d+1);h[0]=0;for(let m=0;m<d;++m){const t=i?e[0]:e[m],n=l?a[0]:a[m],r=c?o[0]:o[m];if(0===r)throw new Error("Requires delta != 0");let s;if(r>0&&n<t||r<0&&n>t)s=0;else if(s=Math.ceil(Math.abs((n-t)/r)),s>fq)throw new Error("Requires ((limit - start) / delta) <= ".concat(fq));h[m+1]=h[m]+s}const p=Ag(n,h[d]);let f=0;for(let m=0;m<d;++m){const t=h[m+1]-h[m];let n=i?e[0]:e[m];const a=c?o[0]:o[m];for(let e=0;e<t;++e)p[f++]=n,n+=a}return[h,p]}const gq={kernelName:yv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{starts:a,limits:r,deltas:o}=t,s=n.data.get(a.dataId).values,i=n.data.get(r.dataId).values,l=n.data.get(o.dataId).values,[c,u]=mq(s,a.shape,a.dtype,i,r.shape,l,o.shape);return[n.makeTensorInfo([c.length],"int32",c),n.makeTensorInfo([u.length],a.dtype,u)]}};var yq=aR;class bq{constructor(e,t,n,a,r,o,s,i,l,c){this.shape=e,this.shapeShape=t,this.values=n,this.valuesShape=a,this.valuesDType=r,this.defaultValue=o,this.defaultValueShape=s,this.rowPartitionValues=i,this.rowPartitionValuesShapes=l,this.rowPartitionTypes=oR(c),this.raggedRank=sR(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===yq.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===yq.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const t=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case yq.VALUE_ROWIDS:return bq.getMaxWidthValueRowID(t);case yq.ROW_SPLITS:return bq.getMaxWidthRowSplit(t);default:throw new Error("Cannot handle partition type ".concat(yq[this.getRowPartitionTypeByDimension(e-1)]))}}static getMaxWidthRowSplit(e){const t=e.length;if(0===t||1===t)return 0;let n=0;for(let a=0;a<t-1;++a){const t=e[a+1]-e[a];t>n&&(n=t)}return n}static getMaxWidthValueRowID(e){const t=e.length;if(0===t)return 0;let n=0,a=e[0],r=0;for(let o=1;o<t;++o){const t=e[o];t!==a&&(a=t,r=Math.max(o-n,r),n=o)}return Math.max(t-n,r)}tensorShapeFromTensor(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===t.length){if(-1===e[0])return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return wq(e,n)}calculateOutputSize(e){const t=this.valuesShape;iR(this.defaultValueShape,t);const n=this.tensorShapeFromTensor(this.shape,this.shapeShape),a=rR(this.raggedRank,n,t);a[0]<0&&(a[0]=e);for(let r=1;r<=this.raggedRank;++r)a[r]<0&&(a[r]=this.getMaxWidth(r));return a}calculateFirstParentOutputIndex(e,t,n){const a=Math.min(e,n),r=[];let o=0;for(let s=0;s<a;++s,o+=t)r.push(o);for(let s=a;s<e;++s)r.push(-1);return hg(r.length===e,(()=>"Final length of result must be equal to firstDimension.")),r}calculateOutputIndexRowSplit(e,t,n,a){const r=e.length,o=[];for(let s=0;s<r-1;++s){const r=e[s+1]-e[s];let i=Math.min(a,r),l=t[s];-1===l&&(i=0);for(let e=0;e<i;++e)o.push(l),l+=n;for(let e=0;e<r-i;++e)o.push(-1)}if(r>0&&o.length!==e[r-1])throw new Error("Invalid row split size.");return o}calculateOutputIndexValueRowID(e,t,n,a){const r=e.length,o=[];if(0===r)return[];let s=0,i=e[0];if(i>=t.length)throw new Error("Got currentValueRowId=".concat(i,", which is not less than ").concat(t.length));let l=t[i];o.push(l);for(let c=1;c<r;++c){const r=e[c];if(r===i)l>=0&&(++s,s<a?l+=n:l=-1);else{if(s=0,i=r,r>=t.length)throw new Error("Got nextValueRowId=".concat(r," which is not less than ").concat(t.length));l=t[r]}o.push(l)}if(o.length!==e.length)throw new Error("Invalid row ids.");return o}calculateOutputIndex(e,t,n,a){const r=this.getRowPartitionTensor(e),o=this.getRowPartitionTypeByDimension(e);switch(o){case yq.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(r,t,n,a);case yq.ROW_SPLITS:if(r.length-1>t.length)throw new Error("Row partition size is greater than output size: ".concat(r.length-1," > ").concat(t.length));return this.calculateOutputIndexRowSplit(r,t,n,a);default:throw new Error("Unsupported partition type: ".concat(yq[o]))}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw new Error("No row_partition_types given.");const t=this.rowPartitionTypes[0];switch(t){case yq.FIRST_DIM_SIZE:return e[0];case yq.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case yq.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error("Cannot handle type ".concat(yq[t]))}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const e=this.getFirstDimensionSize(),t=this.calculateOutputSize(e),n=new Array(this.raggedRank+1);n[n.length-1]=1;for(let o=n.length-2;o>=0;--o)n[o]=n[o+1]*t[o+1];const a=wq(t,!1),r=Ag(this.valuesDType,mg(a));if(n[0]*t[0]>0){let o=this.calculateFirstParentOutputIndex(e,n[0],t[0]);for(let e=1;e<=this.raggedRank;++e){o=this.calculateOutputIndex(e-1,o,n[e],t[e])}this.setOutput(this.raggedRank,o,r,a)}return[a,r]}setOutput(e,t,n,a){if(0===n.length)return;const r=this.values,o=n;let s=a.slice();s=s.slice(e+1);const i=mg(s),l=t.length;let c=this.defaultValue;if(c.length!==i&&1!==c.length){const e=this.defaultValueShape;gk((()=>{const t=fC(c,e),n=_C(t,s);c=n.dataSync()}))}let u=0,d=0,h=0;for(let p=0;p<=l;++p){let e=p<l?t[p]:-1;if(e!==h){if(d<h){const e=r.subarray(u*i);vq(o.subarray(d*i),e,(h-d)*i)}if(p>=l){const t=n.length;e=Math.floor(t/i)}if(e>h)if(1===this.defaultValue.length)o.subarray(h*i,e*i).fill(this.defaultValue[0]),h=e;else for(;e>h;){vq(o.slice(h*i),c,i),++h}e<0?(u=p+1,d=h):(u=p,d=h,h=d+1)}else++h}}}function vq(e,t,n){for(let a=0;a<n;a++)e[a]=t[a]}function wq(e,t){const n=[];for(let a of e){if(a<0){if(!t)throw new Error("Dimension ".concat(a," must be >= 0"));if(a<-1)throw new Error("Dimension ".concat(a," must be >= -1"));a=-1}n.push(a)}return n}function xq(e,t,n,a,r,o,s,i,l,c){return new bq(e,t,n,a,r,o,s,i,l,c).compute()}const kq={kernelName:bv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{shape:r,values:o,defaultValue:s,rowPartitionTensors:i}=t,{rowPartitionTypes:l}=a,c=n.data.get(r.dataId).values,u=n.data.get(o.dataId).values,d=n.data.get(s.dataId).values,h=i.map((e=>n.data.get(e.dataId).values)),p=i.map((e=>e.shape)),[f,m]=xq(c,r.shape,u,o.shape,o.dtype,d,s.shape,h,p,l);return n.makeTensorInfo(f,o.dtype,m)}};function Sq(e,t,n,a){if(e===t||e<t&&n<0||t<e&&n>1)return qg(0,a);const r=qg(Math.abs(Math.ceil((t-e)/n)),a);t<e&&1===n&&(n=-1),r[0]=e;for(let o=1;o<r.length;o++)r[o]=r[o-1]+n;return r}const Nq={kernelName:vv,backendName:"cpu",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:a,stop:r,dtype:o,step:s}=n,i=Sq(a,r,s,o);return t.makeTensorInfo([i.length],o,i)}},Tq=TW(xv,(e=>1/e)),Cq={kernelName:xv,backendName:"cpu",kernelFunc:Tq};const Iq={kernelName:Cv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:r}=t,{alignCorners:o,halfPixelCenters:s,size:i}=a;xW(r,"resizeBilinear");const l=Wg(r.shape),[c,u]=i,[d,h,p,f]=r.shape,m=n.data.get(r.dataId).values,g=new Float32Array(mg([d,c,u,f])),y=[o&&c>1?h-1:h,o&&u>1?p-1:p],b=[o&&c>1?c-1:c,o&&u>1?u-1:u];let v=0;const w=y[0]/b[0],x=y[1]/b[1];for(let k=0;k<d;k++)for(let e=0;e<c;e++){let t;t=s?w*(e+.5)-.5:w*e;const n=Math.max(0,Math.floor(t)),a=t-n,r=Math.min(h-1,Math.ceil(t)),o=k*l[0]+n*l[1],i=k*l[0]+r*l[1];for(let e=0;e<u;e++){let t;t=s?x*(e+.5)-.5:x*e;const n=Math.max(0,Math.floor(t)),r=t-n,c=Math.min(p-1,Math.ceil(t)),u=o+n*l[2],d=i+n*l[2],h=o+c*l[2],y=i+c*l[2];for(let e=0;e<f;e++){const t=m[u+e],n=m[d+e],o=t+(m[h+e]-t)*r,s=o+(n+(m[y+e]-n)*r-o)*a;g[v++]=s}}}return n.makeTensorInfo([d,c,u,f],"float32",g)}};const Eq={kernelName:Iv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:r,dy:o}=t,{alignCorners:s}=a;xW([o,r],"resizeBilinearGrad");const i=Wg(r.shape),[l,c,u,d]=r.shape,[,h,p]=o.shape,f=new Float32Array(l*c*u*d),m=[s&&h>1?c-1:c,s&&p>1?u-1:u],g=[s&&h>1?h-1:h,s&&p>1?p-1:p],y=m[0]/g[0],b=m[1]/g[1],v=n.data.get(o.dataId).values;let w=0;for(let x=0;x<l;x++){const e=x*i[0];for(let t=0;t<h;t++){const n=t*y,a=Math.floor(n),r=Math.min(Math.ceil(n),c-1),o=e+a*i[1],s=e+r*i[1],l=n-a,h=1-l;for(let e=0;e<p;e++){const t=e*b,n=Math.floor(t),a=Math.min(Math.ceil(t),u-1),r=t-n,c=1-r,p=o+n*i[2],m=o+a*i[2],g=s+n*i[2],y=s+a*i[2],x=h*c,k=h*r,S=l*c,N=l*r;for(let e=0;e<d;e++){const t=v[w++];f[p+e]+=t*x,f[m+e]+=t*k,f[g+e]+=t*S,f[y+e]+=t*N}}}}return n.makeTensorInfo([l,u,c,d],"float32",f)}};const Aq={kernelName:Nv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:r}=t,{alignCorners:o,halfPixelCenters:s,size:i}=a;xW(r,"resizeNearestNeighbor");const l=Wg(r.shape),[c,u]=i,[d,h,p,f]=r.shape,m=n.data.get(r.dataId).values,g=new Float32Array(d*c*u*f),y=[o&&c>1?h-1:h,o&&u>1?p-1:p],b=[o&&c>1?c-1:c,o&&u>1?u-1:u],v=y[0]/b[0],w=y[1]/b[1];let x=0;for(let k=0;k<d;k++){const e=k*l[0];for(let t=0;t<c;t++){const n=s?v*(t+.5):v*t;let a=Math.min(h-1,o?Math.round(n):Math.floor(n));s&&(a=Math.max(0,a));const r=e+a*l[1];for(let e=0;e<u;e++){const t=s?w*(e+.5):w*e;let n=Math.min(p-1,o?Math.round(t):Math.floor(t));s&&(n=Math.max(0,n));const a=r+n*l[2];for(let e=0;e<f;e++){const t=m[a+e];g[x++]=t}}}}return n.makeTensorInfo([d,c,u,f],r.dtype,g)}};const _q={kernelName:Tv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:r,dy:o}=t,{alignCorners:s}=a;xW([o,r],"resizeNearestNeighborGrad");const i=Wg(r.shape),l=Wg(o.shape),[c,u,d,h]=r.shape,[,p,f]=o.shape,m=new Float32Array(c*u*d*h),g=n.data.get(o.dataId).values,y=[s&&p>1?u-1:u,s&&f>1?d-1:d],b=[s&&p>1?p-1:p,s&&f>1?f-1:f],v=y[0]/b[0],w=y[1]/b[1],x=1/v,k=1/w,S=2*Math.ceil(x)+2,N=2*Math.ceil(k)+2;for(let T=0;T<c;T++){const e=T*i[0];for(let t=0;t<u;t++){const n=e+t*i[1],a=Math.floor(t*x),r=Math.floor(a-S/2);for(let o=0;o<d;o++){const a=n+o*i[2],c=Math.floor(o*k),y=Math.floor(c-N/2);for(let n=0;n<h;n++){let i=0;for(let a=0;a<S;a++){const c=a+r;if(c<0||c>=p)continue;const h=e+c*l[1],m=c*v;if(t===Math.min(u-1,s?Math.round(m):Math.floor(m)))for(let e=0;e<N;e++){const t=e+y;if(t<0||t>=f)continue;const a=h+t*l[2],r=t*w;o===Math.min(d-1,s?Math.round(r):Math.floor(r))&&(i+=g[a+n])}}m[a+n]=i}}}}return n.makeTensorInfo(r.shape,r.dtype,m)}};const Rq={kernelName:Av,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{dims:o}=a;xW(r,"reverse");const s=r.shape.length,i=Cg(o,r.shape);if(0===s)return AW({inputs:{x:r},backend:n});const l=new yx(r.shape,r.dtype),c=n.bufferSync(r);for(let u=0;u<l.size;u++){const e=l.indexToLoc(u),t=e.slice();i.forEach((e=>t[e]=r.shape[e]-1-t[e])),l.set(c.get(...t),...e)}return n.makeTensorInfo(l.shape,l.dtype,l.values)}},Dq={kernelName:ww,backendName:"cpu",kernelFunc:e=>{let{inputs:t,attrs:n,backend:a}=e;const{image:r}=t,{radians:o,fillValue:s,center:i}=n,l=a,c=Eg(r.dtype,mg(r.shape)),[u,d,h,p]=r.shape,[f,m]=uR(i,d,h),g=Math.sin(o),y=Math.cos(o),b=l.data.get(r.dataId).values;for(let v=0;v<u;v++){const e=v*h*d*p;for(let t=0;t<d;t++){const n=t*(h*p);for(let a=0;a<h;a++){const r=a*p;for(let o=0;o<p;o++){const i=[u,t,a,o],l=i[2],v=i[1];let w=(l-f)*y-(v-m)*g,x=(l-f)*g+(v-m)*y;w=Math.round(w+f),x=Math.round(x+m);let k=s;if("number"!==typeof s&&(k=3===o?255:s[o]),w>=0&&w<h&&x>=0&&x<d){k=b[e+x*(h*p)+w*p+o]}c[e+n+r+o]=k}}}}return{dataId:l.write(c,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},Oq=TW(_v,(e=>{const t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1})),Fq={kernelName:_v,backendName:"cpu",kernelFunc:Oq},Lq=NW((e=>1/Math.sqrt(e))),Mq=CW(Rv,Lq),Pq={kernelName:Rv,backendName:"cpu",kernelFunc:Mq};function zq(e,t,n,a,r,o,s,i,l,c){const u=[a/r,r],d=e.values,h=t.values;if(0===a)return RS(n,t.dtype);const p=l instanceof yx?l:RS(u,t.dtype);"string"===typeof l||"number"===typeof l?p.values.fill(l):"boolean"===typeof l&&p.values.fill(+l);for(let f=0;f<o;f++){const e=[];let o=0;for(let t=0;t<s;t++){const n=d[f*s+t];e.push(n),o+=n*i[t]}if(o<0||o>=a/r)throw new Error("Invalid indices: ".concat(e," does not index into ").concat(n));for(let n=0;n<r;n++)c?p.values[o*r+n]+=h[f*r+n]:p.values[o*r+n]=0===t.rank?h[0]:h[f*r+n]}return p}const jq={kernelName:Dv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{indices:r,updates:o}=t,{shape:s}=a,{sliceRank:i,numUpdates:l,sliceSize:c,strides:u,outputSize:d}=oT(0,r,s),h=zq(n.bufferSync(r),n.bufferSync(o),s,d,c,l,i,u,0,!0);return n.makeTensorInfo(s,h.dtype,h.values)}};function Bq(e,t){let n=0,a=e.length,r=0;for(;n<a;)r=Math.floor((n+a)/2),e[r]<t?n=r+1:a=r;return a}function Wq(e,t){let n=0,a=e.length,r=0;for(;n<a;)r=Math.floor((n+a)/2),e[r]<=t?n=r+1:a=r;return a}const Uq={kernelName:Fv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{sortedSequence:r,values:o}=t,{side:s}=a,i=function(e,t,n,a,r,o){const s=Ag("int32",n*r);for(let i=0;i<n;++i){const n=e.slice(i*a,(i+1)*a),l=i*r;for(let e=0;e<r;++e)s[l+e]="left"===o?Bq(n,t[e+l]):Wq(n,t[e+l])}return s}(n.data.get(r.dataId).values,n.data.get(o.dataId).values,r.shape[0],r.shape[1],o.shape[1],s);return n.makeTensorInfo(o.shape,"int32",i)}};const Vq={kernelName:Lv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:a,t:r,e:o}=t;xW([a,r,o],"select");const s=a.shape.length,i=n.data.get(a.dataId).values,l=n.data.get(r.dataId).values,c=n.data.get(o.dataId).values,u=_x(r.dtype,o.dtype),d=qg(mg(r.shape),u);let h=0;const p=0===s||s>1||1===r.shape.length?1:mg(r.shape.slice(1));for(let f=0;f<i.length;f++)for(let e=0;e<p;e++)1===i[f]?d[h++]=l[f]:d[h++]=c[f];return n.makeTensorInfo(r.shape,u,d)}},Hq=gR,Gq=yR,qq=TW(Mv,(e=>e>=0?Gq*e:Hq*(Math.exp(e)-1))),Kq={kernelName:Mv,backendName:"cpu",kernelFunc:qq},Xq=TW(Bv,(e=>e<0?-1:e>0?1:0)),Yq={kernelName:Bv,backendName:"cpu",kernelFunc:Xq},Qq=TW(zv,(e=>Math.sin(e))),Zq={kernelName:zv,backendName:"cpu",kernelFunc:Qq},Jq=TW(jv,(e=>Math.sinh(e))),$q={kernelName:jv,backendName:"cpu",kernelFunc:Jq},eK=Math.log(1.1920928955078125e-7)+2,tK=TW(Uv,(e=>{const t=e>-eK,n=e<eK,a=Math.exp(e);let r;return r=n?a:t?e:Math.log(1+a),r})),nK={kernelName:Uv,backendName:"cpu",kernelFunc:tK};const aK={kernelName:Gv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{blockShape:o,paddings:s}=a;xW([r],"spaceToBatchND");const i=mg(o),l=[[0,0]];l.push(...s);for(let g=1+o.length;g<r.shape.length;++g)l.push([0,0]);const c=aq.kernelFunc({inputs:{x:r},backend:n,attrs:{paddings:l,constantValue:0}}),u=dR(c.shape,o,i,!1),d=hR(u.length,o.length,!1),h=pR(c.shape,o,i,!1),p=oU({inputs:{x:c},backend:n,attrs:{shape:u}}),f=bU({inputs:{x:p},backend:n,attrs:{perm:d}}),m=oU({inputs:{x:f},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),m}};function rK(e,t,n,a,r,o,s){const i=t[0],l=o[0],c=new Array(l),u=new Array(i),d=t[1];if(0===l){if(0!==i)throw new Error(VR(i));return[Ag(n,0),[0,d],Ag(r,0),c,u]}let h=!0,p=0;const f=new Array(l).fill(0);for(let g=0;g<i;++g){const t=e[g*d];if(t<0)throw new Error(HR(g,t));if(t>=l)throw new Error(GR(g,t,l));++f[t],h=h&&t>=p,p=t}let m=!0;for(let g=0;g<l;++g){const e=0===f[g];c[g]=e,m=m&&!e,f[g]=Math.max(f[g],1),g>0&&(f[g]+=f[g-1])}if(m&&h){const t=e,n=a;for(let e=0;e<i;++e)u[e]=e;return[t,[i,d],n,c,u]}{const t=f[l-1],o=Ag(n,t*d),h=Ag(r,t),p=new Array(l).fill(0);for(let n=0;n<i;++n){const t=e[n*d],r=p[t],s=(0===t?0:f[t-1])+r;p[t]++;for(let a=0;a<d;++a)o[s*d+a]=e[n*d+a];h[s]=a[n],u[n]=s}for(let e=0;e<l;++e){if(0===p[e]){const t=0===e?0:f[e-1];o[t*d+0]=e;for(let e=1;e<d;++e)o[t*d+e]=0;h[t]=s}}return[o,[t,d],h,c,u]}}const oK={kernelName:Xv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:a,values:r,denseShape:o,defaultValue:s}=t;if(1!==o.shape.length)throw new Error("Dense shape must be a vector, saw:\n        ".concat(o.shape));if(2!==a.shape.length)throw new Error("Indices must be a matrix, saw:\n        ".concat(a.shape));if(1!==r.shape.length)throw new Error("Values must be a vector, saw:\n        ".concat(r.shape));if(0!==s.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(s.shape));const i=n.data.get(a.dataId).values,l=n.data.get(r.dataId).values,c=n.data.get(o.dataId).values,u=n.data.get(s.dataId).values[0],[d,h,p,f,m]=rK(i,a.shape,a.dtype,l,r.dtype,c,u);return[n.makeTensorInfo(h,a.dtype,d),n.makeTensorInfo([h[0]],r.dtype,p),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map((e=>Number(e))))),n.makeTensorInfo([m.length],a.dtype,new Int32Array(m))]}};function sK(e,t,n,a,r){const o=mg(a),s=t[0],i=r.length,l=[];let c=1,u=-1;for(let m=0;m<i;++m){const e=r[m];if(-1===e){if(-1!==u)throw new Error(qR(u,m));u=m,l.push(1)}else{if(e<0)throw new Error(KR(m,e));c*=e,l.push(e)}}if(-1!==u){if(c<=0)throw new Error("reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero");const e=Math.trunc(o/c);if(c*e!==o)throw new Error(YR(a,l));l[u]=e}if(mg(l)!==o)throw new Error(QR(a,l));const d=a.length,h=[];if(d>0){h[d-1]=1;for(let e=d-2;e>=0;--e)h[e]=h[e+1]*a[e+1]}const p=[];if(i>0){p[i-1]=1;for(let e=i-2;e>=0;--e)p[e]=p[e+1]*l[e+1]}const f=Ag(n,s*i);for(let m=0;m<s;++m){let t=0;for(let n=0;n<d;++n)t+=e[m*d+n]*h[n];for(let e=0;e<i;++e)f[m*i+e]=Math.trunc(t/p[e]),t%=p[e]}return[f,[s,i],l]}const iK={kernelName:Yv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:a,inputShape:r,newShape:o}=t;if(2!==a.shape.length)throw new Error("Input indices should be a matrix but received shape\n        ".concat(a.shape));if(1!==r.shape.length)throw new Error("Input shape should be a vector but received shape\n        ".concat(r.shape));if(1!==o.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(o.shape));const s=Array.from(n.data.get(r.dataId).values),i=n.data.get(a.dataId).values,l=Array.from(n.data.get(o.dataId).values),[c,u,d]=sK(i,a.shape,a.dtype,s,l);return[n.makeTensorInfo(u,a.dtype,c),n.makeTensorInfo([d.length],o.dtype,new Int32Array(d))]}};function lK(e,t,n,a,r){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;const i=a.length,l=[t[0],e.length/t[0]],c=l[1],u=i>0?r[i-1]+1:0;if(u<0)throw new Error("segment ids must be >= 0");const d=t.slice();d[0]=u;const h=d.reduce(((e,t)=>e*t),1),p=Ag(n,h);if(0===i)return u>0&&p.fill(s),[p,d];if(u<=0)throw new Error("segment ids must be >= 0");let f=0,m=1,g=0,y=r[f];for(;;){let t=0;if(m<i){if(t=r[m],y===t){++m;continue}if(y>=t)throw new Error("segment ids are not increasing")}if(y<0||y>=u)throw new Error($R(y,u));y>g&&p.fill(s,g*c,y*c);for(let n=f;n<m;++n){const t=a[n];if(t<0||t>=l[0])throw new Error(eD(n,a[n],l[0]));for(let n=0;n<c;n++)p[y*c+n]+=e[t*c+n]}if(o)for(let e=0;e<c;e++)p[y*c+e]/=m-f;if(f=m,++m,g=y+1,y=t,m>i)break}return g<u&&p.fill(s,g*c,u*c),[p,d]}const cK={kernelName:Qv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:a,indices:r,segmentIds:o}=t;if(a.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error("Indices should be a vector but received shape\n          ".concat(r.shape));if(1!==o.shape.length)throw new Error("Segment ids should be a vector but received shape\n          ".concat(o.shape));if(r.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");const s=n.data.get(a.dataId).values,i=n.data.get(r.dataId).values,l=n.data.get(o.dataId).values,[c,u]=lK(s,a.shape,a.dtype,i,l,!0);return n.makeTensorInfo(u,a.dtype,c)}};const uK={kernelName:Zv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:a,indices:r,segmentIds:o}=t;if(a.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error("Indices should be a vector but received shape\n         ".concat(r.shape));if(1!==o.shape.length)throw new Error("Segment ids should be a vector but received shape\n         ".concat(o.shape));if(r.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");const s=n.data.get(a.dataId).values,i=n.data.get(r.dataId).values,l=n.data.get(o.dataId).values,[c,u]=lK(s,a.shape,a.dtype,i,l);return n.makeTensorInfo(u,a.dtype,c)}};const dK={kernelName:Jv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{sparseIndices:r,sparseValues:o,defaultValue:s}=t,{outputShape:i}=a,{sliceRank:l,numUpdates:c,sliceSize:u,strides:d,outputSize:h}=oT(0,r,i),p=!1,f=n.bufferSync(r);let m;switch(o.dtype){case"bool":m=zq(f,n.bufferSync(o),i,h,u,c,l,d,Boolean(n.data.get(s.dataId).values[0]),p);break;case"float32":m=zq(f,n.bufferSync(o),i,h,u,c,l,d,n.data.get(s.dataId).values[0],p);break;case"int32":m=zq(f,n.bufferSync(o),i,h,u,c,l,d,n.data.get(s.dataId).values[0],p);break;case"string":m=zq(f,n.bufferSync(o),i,h,u,c,l,d,ax(n.data.get(s.dataId).values[0]),p);break;default:throw new Error("Unsupported type ".concat(o.dtype))}return n.makeTensorInfo(i,m.dtype,m.values)}};const hK={kernelName:qv,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{numOrSizeSplits:o,axis:s}=a,i=Cg(s,r.shape)[0],l=UR(r,o,i),c=new Array(r.shape.length).fill(0),u=r.shape.slice();return l.map((e=>{const t=[...u];t[i]=e;const a=HU({inputs:{x:r},backend:n,attrs:{begin:c,size:t}});return c[i]+=e,a}))}},pK=NW((e=>Math.sqrt(e))),fK=TW(Vv,(e=>Math.sqrt(e))),mK={kernelName:Vv,backendName:"cpu",kernelFunc:fK},gK={kernelName:ew,backendName:"cpu",kernelFunc:e=>{let{inputs:t,backend:n}=e;const{x:a}=t,r=n;xW(a,"square");const o=r.data.get(a.dataId).values,s=new Float32Array(o.length);for(let i=0;i<o.length;++i){const e=o[i];s[i]=e*e}return{dataId:r.write(s,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},yK=OW(((e,t)=>{const n=e-t;return n*n})),bK=$W($v,yK),vK={kernelName:$v,backendName:"cpu",kernelFunc:bK},wK=NW(((e,t)=>{const{pattern:n,replaceGlobal:a,rewrite:r}=t;return e.replace(new RegExp(n,a?"g":""),r)})),xK=CW(tw,wK),kK={kernelName:tw,backendName:"cpu",kernelFunc:xK},SK=TW(bw,((e,t)=>{const n=t;return isNaN(e)?NaN:e>0?1:n.alpha})),NK={kernelName:bw,backendName:"cpu",kernelFunc:SK};function TK(e,t,n,a){const r=RS(e,t.dtype);for(let o=0;o<r.size;o++){const e=r.indexToLoc(o),s=new Array(e.length);for(let t=0;t<s.length;t++)s[t]=e[t]*n[t]+a[t];r.set(t.get(...s),...e)}return r}const CK={kernelName:nw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{begin:o,end:s,strides:i,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:d,shrinkAxisMask:h}=a;xW(r,"stridedSlice");const{finalShapeSparse:p,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:y,begin:b,end:v,strides:w}=ST(r.shape,o,s,i,l,c,u,d,h);let x;if(m)x=oU({inputs:{x:r},backend:n,attrs:{shape:f}});else if(g||y){hg(r.shape.length>=1,(()=>"Input must have rank at least 1, got: ".concat(r.shape.length)));const e=uT(b,v,w),t=HU({inputs:{x:r},backend:n,attrs:{begin:b,size:e}});x=oU({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else{const e=TK(p,n.bufferSync(r),w,b);x=n.makeTensorInfo(f,e.dtype,e.values)}return x}};class IK{constructor(e,t,n,a,r,o){this.separator=nx(e),this.nGramWidths=t,this.leftPad=nx(n),this.rightPad=nx(a),this.padWidth=r,this.preserveShort=o}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){const n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}createNGrams(e,t,n,a,r,o){for(let s=0;s<r;++s){const i=this.getPadWidth(o),l=Math.max(0,i-s),c=Math.max(0,i-(r-(s+1))),u=o-(l+c),d=t+(l>0?0:s-i);let h=0;h+=l*this.leftPad.length;for(let t=0;t<u;++t)h+=e[d+t].length;h+=c*this.rightPad.length;h+=(l+c+u-1)*this.separator.length,n[a+s]=new Uint8Array(h);const p=n[a+s];let f=0;const m=e=>e.forEach((e=>p[f++]=e));for(let e=0;e<l;++e)m(this.leftPad),m(this.separator);for(let t=0;t<u-1;++t)m(e[d+t]),m(this.separator);if(u>0){m(e[d+u-1]);for(let e=0;e<c;++e)m(this.separator),m(this.rightPad)}else{for(let e=0;e<c-1;++e)m(this.rightPad),m(this.separator);m(this.rightPad)}}}compute(e,t){const n=e.length,a=t.length;if(a>0){let e=t[0];if(0!==e)throw new Error("First split value must be 0, got ".concat(e));for(let r=1;r<a;++r){let a=t[r]>=e;if(a=a&&t[r]<=n,!a)throw new Error("Invalid split value ".concat(t[r],", must be in [").concat(e,", ").concat(n,"]"));e=t[r]}if(e!==n)throw new Error("Last split value must be data size. Expected ".concat(n,", got ").concat(e))}const r=a-1,o=Ag("int32",a);if(0===n||0===a){const e=new Array(n);for(let t=0;t<=r;++t)o[t]=0;return[e,o]}o[0]=0;for(let i=1;i<=r;++i){const e=t[i]-t[i-1];let n=0;this.nGramWidths.forEach((t=>{n+=this.getNumNGrams(e,t)})),this.preserveShort&&e>0&&0===n&&(n=1),o[i]=o[i-1]+n}const s=new Array(o[r]);for(let i=0;i<r;++i){const n=t[i];let a=o[i];if(this.nGramWidths.forEach((r=>{const o=t[i+1]-t[i],l=this.getNumNGrams(o,r);this.createNGrams(e,n,s,a,l,r),a+=l})),this.preserveShort&&a===o[i]){const r=t[i+1]-t[i];if(0===r)continue;const o=r+2*this.padWidth,l=1;this.createNGrams(e,n,s,a,l,o)}}return[s,o]}}function EK(e,t,n,a,r,o,s,i){return new IK(n,a,r,o,s,i).compute(e,t)}const AK={kernelName:aw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{separator:r,nGramWidths:o,leftPad:s,rightPad:i,padWidth:l,preserveShortSequences:c}=a,{data:u,dataSplits:d}=t,h=n.data.get(u.dataId).values,p=n.data.get(d.dataId).values,[f,m]=EK(h,p,r,o,s,i,l,c);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(d.shape,"int32",m)]}};function _K(e,t,n,a){if(!e.length)return;if(0===t.length){for(let t=0;t<e.length;++t)a.push(e.subarray(t,t+1));return}if(1===t.length){const r=t[0];let o=e.indexOf(r);for(;-1!==o;){const t=e.subarray(0,o);n&&0===t.length||a.push(t),o=(e=e.subarray(o+1)).indexOf(r)}return void(n&&0===e.length||a.push(e))}let r=0;for(let o=0;o<e.length+1;o++)if(o===e.length||-1!==t.indexOf(e[o])){const t=e.subarray(r,o);n&&0===t.length||a.push(t),r=o+1}}function RK(e,t,n){const a=e.length,r=[];let o=0,s=0;const i=new Array(a);for(let h=0;h<a;++h){const a=r.length;_K(e[h],t,n,r);const l=r.length-a;i[h]=l,o+=l,s=Math.max(s,l)}const l=Ag("int32",2*o),c=new Array(o),u=[a,s];let d=0;for(let h=0;h<a;++h)for(let e=0;e<i[h];++e)l[2*d]=h,l[2*d+1]=e,c[d]=r[d],++d;return[l,c,u]}const DK={kernelName:rw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{skipEmpty:r}=a,{input:o,delimiter:s}=t;if("string"!==o.dtype)throw new Error("Input must be of datatype string");if(1!==o.shape.length)throw new Error("Input must be a vector, got shape: ".concat(o.shape));if(0!==s.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(s.shape));const i=n.data.get(o.dataId).values,l=n.data.get(s.dataId).values[0],[c,u,d]=RK(i,l,r),h=u.length;return[n.makeTensorInfo([h,2],"int32",c),n.makeTensorInfo([h],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(d))]}};function OK(e,t){const n=Ag("int32",e.length);for(let a=0;a<e.length;++a)n[a]=Zw(e[a]).modulo(t).getLowBitsUnsigned();return n}const FK={kernelName:ow,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{numBuckets:r}=a,{input:o}=t;if("string"!==o.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");const s=OK(n.data.get(o.dataId).values,r);return n.makeTensorInfo(o.shape,"int32",s)}},LK=TW(iw,(e=>Math.tan(e))),MK={kernelName:iw,backendName:"cpu",kernelFunc:LK},PK=TW(lw,(e=>Math.tanh(e)));const zK={kernelName:Ov,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n}=e,{tensor:a,indices:r,updates:o}=t,{sliceRank:s,numUpdates:i,sliceSize:l,strides:c,outputSize:u}=oT(0,r,a.shape),d=n.bufferSync(r),h=n.bufferSync(o),p=n.bufferSync(a),f=zq(d,h,a.shape,u,l,i,s,c,p,!1);return n.makeTensorInfo(a.shape,f.dtype,f.values)}};function jK(e,t){const n=new Array(e.rank);for(let r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];const a=RS(n,e.dtype);for(let r=0;r<a.values.length;++r){const t=a.indexToLoc(r),n=new Array(e.rank);for(let a=0;a<n.length;a++)n[a]=t[a]%e.shape[a];const o=e.locToIndex(n);a.values[r]=e.values[o]}return a}const BK={kernelName:cw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{reps:o}=a;xW(r,"tile");const s=jK(n.bufferSync(r),o);return n.makeTensorInfo(s.shape,s.dtype,s.values)}},WK=(e,t)=>{const n=t.value-e.value;return 0===n?e.index-t.index:n};function UK(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1;for(;a>n;){if(a-n>600){const r=a-n+1,o=t-n+1,s=Math.log(r),i=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*i*(r-i)/r)*Math.sign(o-r/2);UK(e,t,Math.max(n,Math.floor(t-o*i/r+l)),Math.min(a,Math.floor(t+(r-o)*i/r+l)))}const r=e[t];let o=n,s=a;for(lg(e,n,t),WK(e[a],r)>0&&lg(e,n,a);o<s;){for(lg(e,o,s),o++,s--;WK(e[o],r)<0;)o+=1;for(;WK(e[s],r)>0;)s-=1}0===WK(e[n],r)?lg(e,n,s):(s+=1,lg(e,s,a)),s<=t&&(n=s+1),t<=s&&(a=s-1)}}function VK(e,t,n,a,r){const o=t[t.length-1],[s,i]=[e.length/o,o],l=Eg(n,s*a),c=Eg("int32",s*a);for(let d=0;d<s;d++){const t=d*i,n=e.subarray(t,t+i);let o=new Array(n.length);n.forEach(((e,t)=>o[t]={value:e,index:t})),a<o.length&&(UK(o,a),o=o.slice(0,a)),r&&o.sort(WK);const s=d*a,u=l.subarray(s,s+a),h=c.subarray(s,s+a);for(let e=0;e<a;e++)u[e]=o[e].value,h[e]=o[e].index}const u=t.slice();return u[u.length-1]=a,[RS(u,n,l),RS(u,"int32",c)]}const HK={kernelName:uw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{k:o,sorted:s}=a;xW(r,"topk");const i=n.data.get(r.dataId).values,[l,c]=VK(i,r.shape,r.dtype,o,s);return[n.makeTensorInfo(l.shape,l.dtype,l.values),n.makeTensorInfo(c.shape,c.dtype,c.values)]}};const GK={kernelName:dw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:a}=e,{image:r,transforms:o}=t,{interpolation:s,fillMode:i,fillValue:l,outputShape:c}=n,[u,d,h,p]=r.shape,[f,m]=null!=c?c:[d,h],g=[u,f,m,p],y=Wg(r.shape),b=y[0],v=y[1],w=y[2],x=Wg(g),k=x[0],S=x[1],N=x[2],T=Eg(r.dtype,mg(g));T.fill(l);const C=a.data.get(r.dataId).values,I=a.data.get(o.dataId).values;for(let E=0;E<u;++E){const e=1===o.shape[0]?I:I.subarray(8*E,8*E+8);for(let t=0;t<f;++t)for(let n=0;n<m;++n)for(let a=0;a<p;++a){let r;const o=e[6]*n+e[7]*t+1;if(0===o)continue;const c=(e[0]*n+e[1]*t+e[2])/o,u=(e[3]*n+e[4]*t+e[5])/o,p=qK(c,h,i),f=qK(u,d,i);switch(s){case"nearest":r=XK(C,d,h,b,v,w,E,f,p,a,l);break;case"bilinear":r=YK(C,d,h,b,v,w,E,f,p,a,l);break;default:throw new Error("Error in Transform: Expect 'nearest' or "+"'bilinear', but got ".concat(s))}T[E*k+t*S+n*N+a]=r}return a.makeTensorInfo(g,r.dtype,T)}return{dataId:a.write(T,g,r.dtype),shape:r.shape,dtype:r.dtype}}};function qK(e,t,n){switch(n){case"reflect":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=2*t;n<e&&(n=e*Math.trunc(-n/e)+n),n=n<-t?n+e:-n-1}else if(n>t-1)if(t<=1)n=0;else{const e=2*t;n-=e*Math.trunc(n/e),n>=t&&(n=e-n-1)}return sg(0,n,t-1)}(e,t);case"wrap":return function(e,t){let n=e;if(n<0)if(t<=1)n=0;else{const e=t-1;n+=t*(Math.trunc(-n/e)+1)}else if(n>t-1)if(t<=1)n=0;else{const e=t-1;n-=t*Math.trunc(n/e)}return sg(0,n,t-1)}(e,t);case"nearest":return function(e,t){return sg(0,e,t-1)}(e,t);default:return function(e,t){return e}(e)}}function KK(e,t,n,a,r,o,s,i,l,c,u){return 0<=i&&i<t&&0<=l&&l<n?e[s*a+i*r+l*o+c]:u}function XK(e,t,n,a,r,o,s,i,l,c,u){return KK(e,t,n,a,r,o,s,Math.round(i),Math.round(l),c,u)}function YK(e,t,n,a,r,o,s,i,l,c,u){const d=Math.floor(i),h=Math.floor(l),p=d+1,f=h+1;return(p-i)*((f-l)*KK(e,t,n,a,r,o,s,d,h,c,u)+(l-h)*KK(e,t,n,a,r,o,s,d,f,c,u))+(i-d)*((f-l)*KK(e,t,n,a,r,o,s,p,h,c,u)+(l-h)*KK(e,t,n,a,r,o,s,p,f,c,u))}function QK(e,t,n,a){const r=Cg(t,n)[0],o=[1,n[0],1];for(let f=0;f<r;f++)o[0]*=n[f];o[1]=n[r];for(let f=r+1;f<n.length;f++)o[2]*=n[f];const s=new Map,i=new Int32Array(n[r]),l=new yx(o,a,e),c=[],u=1===o[0]&&1===o[2];for(let f=0;f<n[r];f++){let t;if(u)t=e[f].toString();else{const e=[];for(let t=0;t<o[0];t++)for(let n=0;n<o[2];n++)e.push(l.get(t,f,n));t=e.join(",")}const n=s.get(t);if(null!=n)i[f]=n;else{const e=s.size;s.set(t,e),i[f]=e,c.push(f)}}const d=o.slice();d[1]=s.size;const h=new yx(d,a);c.forEach(((e,t)=>{for(let n=0;n<o[0];n++)for(let a=0;a<o[2];a++)h.set(l.get(n,e,a),n,t,a)}));const p=n.slice();return p[r]=d[1],{outputValues:h.values,outputShape:p,indices:i}}const ZK={kernelName:pw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,attrs:n,backend:a}=e,{axis:r}=n,{x:o}=t;xW(o,"unique");const s=a.data.get(o.dataId).values,{outputValues:i,outputShape:l,indices:c}=QK(s,r,o.shape,o.dtype);return[a.makeTensorInfo(l,o.dtype,i),a.makeTensorInfo([c.length],"int32",c)]}};const JK={kernelName:fw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{value:r}=t;let{axis:o}=a;o<0&&(o+=r.shape.length);const s=r.shape.length,i=r.shape[o],l=new Array(s-1);let c=0;for(let p=0;p<s;p++)p!==o&&(l[c++]=r.shape[p]);const u=new Array(s).fill(0),d=r.shape.slice();d[o]=1;const h=new Array(i);for(let p=0;p<h.length;p++){u[o]=p;const e=HU({inputs:{x:r},backend:n,attrs:{begin:u,size:d}});h[p]=oU({inputs:{x:e},backend:n,attrs:{shape:l}}),n.disposeIntermediateTensorInfo(e)}return h}};const $K={kernelName:mw,backendName:"cpu",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,segmentIds:o}=t,{numSegments:s}=a;xW(r,"unsortedSegmentSum");const i=[],l=[],c=r.shape.length-o.shape.length;let u=o;for(let h=0;h<c;++h){const e=rH({inputs:{input:u},backend:n,attrs:{dim:h+1}});u=e,l.push(e)}for(let h=0;h<s;++h){const e=Jw(h,"int32"),t=n.makeTensorInfo([],"int32",e),a=GV({inputs:{a:t,b:u},backend:n}),o=ZW({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),s=zV({inputs:{a:o,b:r},backend:n}),c=BV({inputs:{x:s},backend:n,attrs:{axis:0,keepDims:!1}});i.push(c),l.push(t),l.push(a),l.push(o),l.push(s),l.push(c)}const d=tq({inputs:i,backend:n,attrs:{axis:0}});return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),d}},eX=[cU,dU,pU,mU,rU,gU,wU,xU,kU,SU,TU,IU,AU,DU,FU,zU,jU,BU,WU,lU,UU,qU,YU,JU,$U,JW,nV,rV,qW,oV,uV,hV,pV,fV,mV,gV,yV,vV,xV,kV,SV,NV,TV,CV,EV,AV,_V,RV,DV,OV,FV,LV,UV,EW,VV,qV,eH,aH,oH,lH,vH,xH,kH,TH,EH,AH,_H,DH,FH,PH,BH,_W,WH,lV,VH,GH,KH,DW,QH,$H,tG,rG,sG,cG,dG,fG,mG,gG,vG,kG,SG,NG,TG,CG,IG,EG,AG,DG,OG,MG,jG,jV,WG,VG,GG,KG,QG,ZG,eq,nq,aq,sq,MW,lq,pq,gq,kq,Nq,YW,dH,Cq,zW,BW,sU,Iq,Eq,Aq,_q,Rq,Dq,Fq,Pq,jq,Uq,Vq,Kq,VW,Yq,Zq,$q,GU,zG,nK,aK,oK,iK,cK,uK,dK,hK,mK,gK,vK,kK,NK,CK,AK,DK,FK,mH,WV,MK,{kernelName:lw,backendName:"cpu",kernelFunc:PK},zK,BK,HK,GK,vU,ZK,JK,$K,$G];for(const n of eX)Rw(n);const tX={},nX={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function aX(e,t){if(!(e in tX)||null!=t){const n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=null==t?function(e){if(ty().getBool("IS_SAFARI")||"undefined"===typeof OffscreenCanvas||2!==e){if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}return new OffscreenCanvas(300,150)}(e):t;n.addEventListener("webglcontextlost",(t=>{t.preventDefault(),delete tX[e]}),!1),ty().getBool("SOFTWARE_WEBGL_ENABLED")&&(nX.failIfMajorPerformanceCaveat=!1);if(1===e)return n.getContext("webgl",nX)||n.getContext("experimental-webgl",nX);return n.getContext("webgl2",nX)}(e,t);if(null===n)return console.log("Could not get context for WebGL version",e),null;tX[e]=n}const n=tX[e];return null==n||n.isContextLost()?(delete tX[e],aX(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),tX[e])}var rX,oX,sX;function iX(e,t){return[t,e]}function lX(e){const t=mg(e);return xg(Math.ceil(t/4))}function cX(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function uX(e,t){const n=e;let a,r,o,s,i,l,c,u,d,h;return 2===ty().getNumber("WEBGL_VERSION")?(a=n.R32F,r=n.R16F,o=n.RGBA16F,s=n.RGBA32F,i=n.RED,c=4,u=1,d=n.HALF_FLOAT,h=n.FLOAT,l=n.RGBA8):(a=e.RGBA,r=e.RGBA,o=e.RGBA,s=n.RGBA,i=e.RGBA,c=4,u=4,d=null!=t?t.HALF_FLOAT_OES:null,h=e.FLOAT,l=e.RGBA),{internalFormatFloat:a,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:o,internalFormatPackedFloat:s,textureFormatFloat:i,downloadTextureFormat:l,downloadUnpackNumChannels:c,defaultNumChannels:u,textureTypeHalfFloat:d,textureTypeFloat:h}}function dX(e,t){const n=t();return ty().getBool("DEBUG")&&function(e){const t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+function(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code ".concat(t)}}(e,t))}(e),n}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(rX||(rX={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(oX||(oX={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(sX||(sX={}));function hX(e){return!!(ty().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function pX(e,t){return kX(e,(()=>e.getExtension(t)),'Extension "'+t+'" not supported on this browser.')}const fX=/ERROR: [0-9]+:([0-9]+):/g;function mX(e,t){const n=fX.exec(t);if(null==n)return console.log("Couldn't parse line number in error: ".concat(t)),void console.log(e);const a=+n[1],r=e.split("\n"),o=r.length.toString().length+2,s=r.map(((e,t)=>Sg((t+1).toString(),o)+e));let i=0;for(let d=0;d<s.length;d++)i=Math.max(s[d].length,i);const l=s.slice(0,a-1),c=s.slice(a-1,a),u=s.slice(a);console.log(l.join("\n")),console.log(t.split("\n")[0]),console.log("%c ".concat(Sg(c[0],i)),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(u.join("\n"))}function gX(e,t){if(dX(e,(()=>e.validateProgram(t))),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function yX(e,t,n,a,r,o,s){const i=e.getAttribLocation(t,n);return-1!==i&&(dX(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,a))),dX(e,(()=>e.vertexAttribPointer(i,r,e.FLOAT,!1,o,s))),dX(e,(()=>e.enableVertexAttribArray(i))),!0)}function bX(e,t,n,a){dX(e,(()=>function(e,t,n){SX(e,n),dX(e,(()=>e.activeTexture(e.TEXTURE0+n))),dX(e,(()=>e.bindTexture(e.TEXTURE_2D,t)))}(e,t,a))),dX(e,(()=>e.uniform1i(n,a)))}function vX(e,t,n){dX(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,n))),dX(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)))}function wX(e,t){dX(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,t))),dX(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)))}function xX(e){const t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error ".concat(t)}}(e,t))}function kX(e,t,n){const a=dX(e,(()=>t()));if(null==a)throw new Error(n);return a}function SX(e,t){const n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,a=t+e.TEXTURE0;if(a<e.TEXTURE0||a>n){const e="[gl.TEXTURE0, gl.TEXTURE".concat(n,"]");throw new Error("textureUnit must be in ".concat(e,"."))}}function NX(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return mg(e.slice(0,e.length-t))}function TX(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function CX(e){let t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[NX(e),...TX(e)]),t}function IX(e){return e%2===0}function EX(e,t){if(bg(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){const n=e[e.length-1],a=t[t.length-1];if(n===a)return!0;if(IX(n)&&IX(a)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&IX(e[0])&&IX(t[0])}let AX,_X;function RX(e,t){return null!=e.getExtension(t)}function DX(e){try{if(null!=aX(e))return!0}catch(a4){return console.log("Error when getting WebGL context: ",a4),!1}return!1}function OX(e){if(0===e)return!1;const t=aX(e);if(1!==e){if(RX(t,"EXT_color_buffer_float"))return FX(t);const e="EXT_color_buffer_half_float";if(RX(t,e)){const n=t.getExtension(e);return function(e,t){const n=uX(e,t),a=e.createTexture();e.bindTexture(e.TEXTURE_2D,a);const r=1,o=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,r,o,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const s=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,s),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,a,0);const i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(a),e.deleteFramebuffer(s),i}(t,n)}return!1}if(!RX(t,"OES_texture_float"))return!1;if(!RX(t,"WEBGL_color_buffer_float"))return!1;return FX(t)}function FX(e){const t=uX(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const a=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,a),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);const r=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(a),r}function LX(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&hg("complex64"!==e.dtype,(()=>"".concat(t," does not support complex64 tensors ")+"in the WebGL backend."))}))}const MX=ty();function PX(){let e,t,n,a,r,o,s,i,l,c;return 2===ty().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",a="in",r="texture",o="outputColor",s="out vec4 outputColor;",i=ty().getBool("WEBGL2_ISNAN_CUSTOM")?"\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ":"",l="",c="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",a="varying",r="texture2D",o="gl_FragColor",s="",i="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",c="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:a,texture2D:r,output:o,defineOutput:s,defineSpecialNaN:i,defineSpecialInf:l,defineRound:c}}function zX(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index";const a=Wg(t);return a.map(((t,r)=>{const o="int ".concat(e[r]," = ").concat(n," / ").concat(t),s=r===a.length-1?"int ".concat(e[r+1]," = ").concat(n," - ").concat(e[r]," * ").concat(t):"index -= ".concat(e[r]," * ").concat(t);return"".concat(o,"; ").concat(s,";")})).join("")}function jX(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index";const a=Wg(t);return a.map(((t,r)=>{const o="int ".concat(e[r]," = ").concat(n," / outShapeStrides[").concat(r,"]"),s=r===a.length-1?"int ".concat(e[r+1]," = ").concat(n," - ").concat(e[r]," * outShapeStrides[").concat(r,"]"):"index -= ".concat(e[r]," * outShapeStrides[").concat(r,"]");return"".concat(o,"; ").concat(s,";")})).join("")}function BX(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index";const a=function(e,t){const n=e.length,a=e.map((e=>"".concat(t,"[").concat(e,"]"))),r=new Array(n-1);r[n-2]=a[n-1];for(let o=n-3;o>=0;--o)r[o]="(".concat(r[o+1]," * ").concat(a[o+1],")");return r}(e.map(((e,t)=>t)),t);return a.map(((t,r)=>{const o="int ".concat(e[r]," = ").concat(n," / ").concat(a[r]),s=r===a.length-1?"int ".concat(e[r+1]," = ").concat(n," - ").concat(e[r]," * ").concat(a[r]):"index -= ".concat(e[r]," * ").concat(a[r]);return"".concat(o,"; ").concat(s,";")})).join("")}function WX(e){const t=Wg(e).map((e=>e.toString()));return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ".concat(t[0]," + coords.y * ").concat(t[1]," + coords.z;\n  }\n")}MX.registerFlag("HAS_WEBGL",(()=>MX.getNumber("WEBGL_VERSION")>0)),MX.registerFlag("WEBGL_VERSION",(()=>DX(2)?2:DX(1)?1:0)),MX.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(()=>!1)),MX.registerFlag("WEBGL_BUFFER_SUPPORTED",(()=>2===MX.get("WEBGL_VERSION"))),MX.registerFlag("WEBGL_CPU_FORWARD",(()=>!0)),MX.registerFlag("WEBGL_FORCE_F16_TEXTURES",(()=>!1)),MX.registerFlag("WEBGL_PACK",(()=>MX.getBool("HAS_WEBGL"))),MX.registerFlag("WEBGL_PACK_NORMALIZATION",(()=>MX.getBool("WEBGL_PACK"))),MX.registerFlag("WEBGL_PACK_CLIP",(()=>MX.getBool("WEBGL_PACK"))),MX.registerFlag("WEBGL_PACK_DEPTHWISECONV",(()=>MX.getBool("WEBGL_PACK"))),MX.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(()=>MX.getBool("WEBGL_PACK"))),MX.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(()=>MX.getBool("WEBGL_PACK"))),MX.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(()=>MX.getBool("WEBGL_PACK"))),MX.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(()=>MX.getBool("WEBGL_PACK"))),MX.registerFlag("WEBGL_PACK_REDUCE",(()=>MX.getBool("WEBGL_PACK"))),MX.registerFlag("WEBGL_LAZILY_UNPACK",(()=>MX.getBool("WEBGL_PACK"))),MX.registerFlag("WEBGL_CONV_IM2COL",(()=>MX.getBool("WEBGL_PACK"))),MX.registerFlag("WEBGL_PACK_CONV2DTRANSPOSE",(()=>MX.getBool("WEBGL_PACK"))),MX.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(()=>function(e){if(null==AX){const t=aX(e);AX=t.getParameter(t.MAX_TEXTURE_SIZE)}return AX}(MX.getNumber("WEBGL_VERSION")))),MX.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(()=>function(e){if(null==_X){const t=aX(e);_X=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,_X)}(MX.getNumber("WEBGL_VERSION")))),MX.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(()=>{const e=MX.getNumber("WEBGL_VERSION");return 0===e?0:function(e){if(0===e)return 0;let t;const n=aX(e);return t=RX(n,"EXT_disjoint_timer_query_webgl2")&&2===e?2:RX(n,"EXT_disjoint_timer_query")?1:0,t}(e)})),MX.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(()=>MX.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!Kx())),MX.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(()=>function(e){if(0===e)return!1;const t=aX(e);if(1===e){if(!RX(t,"OES_texture_float"))return!1}else if(!RX(t,"EXT_color_buffer_float"))return!1;return FX(t)}(MX.getNumber("WEBGL_VERSION")))),MX.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(()=>!MX.getBool("WEBGL_FORCE_F16_TEXTURES")&&MX.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))),MX.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(()=>OX(MX.getNumber("WEBGL_VERSION")))),MX.registerFlag("WEBGL_FENCE_API_ENABLED",(()=>{return 2===(e=MX.getNumber("WEBGL_VERSION"))&&null!=aX(e).fenceSync;var e})),MX.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(()=>MX.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0)),MX.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(()=>-1),(e=>{if("number"!==typeof e)throw new Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be a number but "+"got ".concat(e,"."));if(e<0&&-1!==e)throw new Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never "+"delete) or at least 0, but got ".concat(e,"."))})),MX.registerFlag("WEBGL_FLUSH_THRESHOLD",(()=>Kx()?1:-1),(e=>{if("number"!==typeof e)throw new Error("WEBGL_FLUSH_THRESHOLD must be a number but got "+"".concat(e,"."));if(e<0&&-1!==e)throw new Error("WEBGL_FLUSH_THRESHOLD must be -1 (indicating never "+"manual flush) or at least 0, but got ".concat(e,"."))})),MX.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(()=>128)),MX.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(()=>!1)),MX.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(()=>1e5)),MX.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(()=>128)),MX.registerFlag("WEBGL_EXP_CONV",(()=>!1)),MX.registerFlag("SOFTWARE_WEBGL_ENABLED",(()=>MX.getBool("IS_TEST"))),MX.registerFlag("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE",(()=>1/0)),MX.registerFlag("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE",(()=>!1)),MX.registerFlag("WEBGL2_ISNAN_CUSTOM",(()=>!1)),MX.registerFlag("ENGINE_COMPILE_ONLY",(()=>!1));const UX="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",{getBroadcastDims:VX}=y;function HX(e,t,n){const a=[];if(e.forEach((e=>{const t=mg(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?a.push("uniform float ".concat(e.name).concat(t>1?"[".concat(t,"]"):"",";")):(a.push("uniform sampler2D ".concat(e.name,";")),a.push("uniform int offset".concat(e.name,";"))),n.enableShapeUniforms){const{uniformShape:t}=eY(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape);switch(t.length){case 1:a.push("uniform int ".concat(e.name,"Shape;"));break;case 2:a.push("uniform ivec2 ".concat(e.name,"Shape;"));break;case 3:a.push("uniform ivec3 ".concat(e.name,"Shape;"));break;case 4:a.push("uniform ivec4 ".concat(e.name,"Shape;"))}a.push("uniform ivec2 ".concat(e.name,"TexShape;"))}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:a.push("uniform int outShape;");break;case 2:a.push("uniform ivec2 outShape;"),a.push("uniform int outShapeStrides;");break;case 3:a.push("uniform ivec3 outShape;"),a.push("uniform ivec2 outShapeStrides;");break;case 4:a.push("uniform ivec4 outShape;"),a.push("uniform ivec3 outShapeStrides;")}a.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((e=>{a.push("uniform ".concat(e.type," ").concat(e.name).concat(e.arrayIndex?"[".concat(e.arrayIndex,"]"):"",";"))}));const r=a.join("\n"),o=e.map((e=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0,r="";r+=n?qX(e,a):GX(e,a);const o=e.shapeInfo.logicalShape,s=t.logicalShape;o.length<=s.length&&(r+=n?function(e,t){const n=e.name,a=n.charAt(0).toUpperCase()+n.slice(1),r="get"+a+"AtOutCoords",o=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,i=VX(e.shapeInfo.logicalShape,t.logicalShape),l=$X(s),c=s-o;let u;const d=["x","y","z","w","u","v"];u=0===o?"":s<2&&i.length>=1?"coords = 0;":i.map((e=>"coords.".concat(d[e+c]," = 0;"))).join("\n");let h="";h=s<2&&o>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>"coords.".concat(d[t+c]))).join(", ");let p="return outputValue;";const f=1===mg(e.shapeInfo.logicalShape),m=mg(t.logicalShape),g=1===m;if(1!==o||f||g){if(f&&!g)p=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(i.length){const e=o-2,t=o-1;i.indexOf(e)>-1&&i.indexOf(t)>-1?p="return vec4(outputValue.x);":i.indexOf(e)>-1?p="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":i.indexOf(t)>-1&&(p="return vec4(outputValue.xx, outputValue.zz);")}}else p="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 ".concat(r,"() {\n      ").concat(l," coords = getOutputCoords();\n      ").concat(u,"\n      vec4 outputValue = get").concat(a,"(").concat(h,");\n      ").concat(p,"\n    }\n  ")}(e,t):function(e,t){const n=e.name,a=n.charAt(0).toUpperCase()+n.slice(1),r="get"+a+"AtOutCoords",o=t.texShape,s=e.shapeInfo.texShape,i=e.shapeInfo.logicalShape.length,l=t.logicalShape.length;if(!e.shapeInfo.isUniform&&i===l&&null==e.shapeInfo.flatOffset&&bg(s,o))return"\n      float ".concat(r,"() {\n        return sampleTexture(").concat(n,", resultUV);\n      }\n    ");const c=$X(l),u=VX(e.shapeInfo.logicalShape,t.logicalShape),d=l-i;let h;const p=["x","y","z","w","u","v"];h=0===i?"":l<2&&u.length>=1?"coords = 0;":u.map((e=>"coords.".concat(p[e+d]," = 0;"))).join("\n");let f="";f=l<2&&i>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>"coords.".concat(p[t+d]))).join(", ");return"\n    float ".concat(r,"() {\n      ").concat(c," coords = getOutputCoords();\n      ").concat(h,"\n      return get").concat(a,"(").concat(f,");\n    }\n  ")}(e,t));return r}(e,t,n.packedInputs,n.enableShapeUniforms))).join("\n"),s=t.texShape,i=PX(),l=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ".concat(e.texture2D,"(textureSampler, uv).r;\n    }\n  ")}(i);let c,u,d=function(e){const t="".concat(e.version,"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ").concat(e.varyingFs," vec2 resultUV;\n    ").concat(e.defineOutput,"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ").concat(e.defineSpecialNaN,"\n    ").concat(e.defineSpecialInf,"\n    ").concat(e.defineRound,"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ").concat(KX,"\n    ").concat(XX,"\n    ").concat(YX,"\n  ");return t}(i);t.isPacked?(c=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){const a=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===a[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ".concat(a[1],".0);\n      }\n    ");if(1===a[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ".concat(a[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(a[0],", ").concat(a[1],"));\n      return 2 * (resTexRC.x * ").concat(a[1]," + resTexRC.y);\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){const a=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(bg(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(".concat(a[0],", ").concat(a[1],"));\n      }\n    ");const r=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(a[0],", ").concat(a[1],"));\n\n      int index = resTexRC.x * ").concat(a[1]," + resTexRC.y;\n      int r = 2 * (index / ").concat(r,");\n      int c = imod(index, ").concat(r,") * 2;\n\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";const a=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[2]/2),o=r*Math.ceil(e[1]/2);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(a[0],", ").concat(a[1],"));\n      int index = resTexRC.x * ").concat(a[1]," + resTexRC.y;\n\n      int b = index / ").concat(o,";\n      index -= b * ").concat(o,";\n\n      int r = 2 * (index / ").concat(r,");\n      int c = imod(index, ").concat(r,") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ")}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";const a=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[e.length-1]/2),o=r*Math.ceil(e[e.length-2]/2);let s=o,i="",l="b, r, c";for(let c=2;c<e.length-1;c++)s*=e[e.length-c-1],i="\n      int b".concat(c," = index / ").concat(s,";\n      index -= b").concat(c," * ").concat(s,";\n    ")+i,l="b".concat(c,", ")+l;return"\n    ivec".concat(e.length," getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(").concat(a[0],", ").concat(a[1],"));\n      int index = resTexRC.x * ").concat(a[1]," + resTexRC.y;\n\n      ").concat(i,"\n\n      int b = index / ").concat(o,";\n      index -= b * ").concat(o,";\n\n      int r = 2 * (index / ").concat(r,");\n      int c = imod(index, ").concat(r,") * 2;\n\n      return ivec").concat(e.length,"(").concat(l,");\n    }\n  ")}(e,t,n)}}(t.logicalShape,s,n.enableShapeUniforms),u=function(e){return"\n    void setOutput(vec4 val) {\n      ".concat(e.output," = val;\n    }\n  ")}(i)):(c=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.x * ".concat(t[1],".0);\n      }\n    ");if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.y * ".concat(t[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      return resTexRC.x * ").concat(t[1]," + resTexRC.y;\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){if(bg(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(".concat(t[0],", ").concat(t[1],"));\n      }\n    ");if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ");if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ");if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      int r = index / ").concat(e[1],";\n      int c = index - r * ").concat(e[1],";\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n){const t=jX(["r","c","d"],e);return"\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ".concat(t,"\n    return ivec3(r, c, d);\n  }\n")}const a=zX(["r","c","d"],e);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(a,"\n      return ivec3(r, c, d);\n    }\n  ")}(e,t,n);case 4:return function(e,t,n){if(n){const t=jX(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ".concat(t,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}const a=zX(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(a,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}(e,t,n);case 5:return function(e,t){const n=zX(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(".concat(t[0],",\n                             ").concat(t[1],"));\n\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  ")}(e,t);case 6:return function(e,t){const n=zX(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  ")}(e,t);default:throw new Error("".concat(e.length,"-D output sampling is not yet supported"))}}(t.logicalShape,s,n.enableShapeUniforms),u=function(e){return"\n    void setOutput(float val) {\n      ".concat(e.output," = vec4(val, 0, 0, 0);\n    }\n  ")}(i)),n.packedInputs&&(d+=QX);return[d,l,u,r,c,o,n.userCode].join("\n")}function GX(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.shapeInfo.logicalShape;switch(n.length){case 0:return function(e,t){const n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"float ".concat(a,"() {return ").concat(n,";}");const[r,o]=e.shapeInfo.texShape;if(1===r&&1===o)return"\n      float ".concat(a,"() {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");const s=ZX(n);if(t)return"\n    float ".concat(a,"() {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");const[i,l]=e.shapeInfo.texShape;return"\n    float ".concat(a,"() {\n      vec2 uv = uvFromFlat(").concat(i,", ").concat(l,", ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e,t);case 1:return function(e,t){const n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int index) {\n        ").concat(JX(e),"\n      }\n    ");const r=e.shapeInfo.texShape,o=r[0],s=r[1];if(1===s&&1===o)return"\n      float ".concat(a,"(int index) {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");const i=ZX(n);if(1===s)return t?"\n      float ".concat(a,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(i,") + 0.5) / float(").concat(n,"TexShape[0]));\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(a,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(i,") + 0.5) / ").concat(o,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(1===o)return t?"\n      float ".concat(a,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(i,") + 0.5) / float(").concat(n,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(a,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(i,") + 0.5) / ").concat(s,".0, 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(t)return"\n    float ".concat(a,"(int index) {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], index + ").concat(i,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");return"\n    float ".concat(a,"(int index) {\n      vec2 uv = uvFromFlat(").concat(o,", ").concat(s,", index + ").concat(i,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,a=e.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1),o=e.shapeInfo.texShape;if(null!=o&&bg(n,o)){if(t)return"\n      float ".concat(r,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(a,"TexShape[1], ").concat(a,"TexShape[0]);\n        return sampleTexture(").concat(a,", uv);\n      }\n    ");const e=o[0],n=o[1];return"\n    float ".concat(r,"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(n,".0, ").concat(e,".0);\n      return sampleTexture(").concat(a,", uv);\n    }\n  ")}const{newShape:s,keptDims:i}=Ig(n),l=s;if(l.length<n.length){const n=tY(e,l),a=["row","col"];return"\n      ".concat(GX(n,t),"\n      float ").concat(r,"(int row, int col) {\n        return ").concat(r,"(").concat(nY(a,i),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(").concat(n[1],", 1)));\n        ").concat(JX(e),"\n      }\n    ");const c=o[0],u=o[1],d=ZX(a);if(1===u)return t?"\n      float ".concat(r,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(a,"Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(").concat(a,"TexShape[0]));\n        return sampleTexture(").concat(a,", uv);\n      }\n    "):"\n    float ".concat(r,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ").concat(c,".0);\n      return sampleTexture(").concat(a,", uv);\n    }\n  ");if(1===c)return t?"\n      float ".concat(r,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(a,"Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(").concat(a,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(a,", uv);\n      }\n    "):"\n    float ".concat(r,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(d,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2((index + 0.5) / ").concat(u,".0, 0.5);\n      return sampleTexture(").concat(a,", uv);\n    }\n  ");if(t)return"\n      float ".concat(r,"(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(a,"Shape[1] + col + ").concat(d,";\n        vec2 uv = uvFromFlat(").concat(a,"TexShape[0], ").concat(a,"TexShape[1], index);\n        return sampleTexture(").concat(a,", uv);\n      }\n    ");return"\n  float ".concat(r,"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ").concat(n[1]," + col + ").concat(d,";\n    vec2 uv = uvFromFlat(").concat(c,", ").concat(u,", index);\n    return sampleTexture(").concat(a,", uv);\n  }\n")}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,a=e.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1),o=n[1]*n[2],s=n[2],{newShape:i,keptDims:l}=Ig(n),c=i;if(c.length<n.length){const n=tY(e,c),a=["row","col","depth"];return"\n        ".concat(GX(n,t),"\n        float ").concat(r,"(int row, int col, int depth) {\n          return ").concat(r,"(").concat(nY(a,l),");\n        }\n      ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(").concat(o,", ").concat(s,", 1)));\n        ").concat(JX(e),"\n      }\n    ");const u=e.shapeInfo.texShape,d=u[0],h=u[1],p=e.shapeInfo.flatOffset;if(h===o&&null==p)return t?"\n      float ".concat(r,"(int row, int col, int depth) {\n        int stride1 = ").concat(a,"Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(a,"TexShape[1], ").concat(a,"TexShape[0]);\n        return sampleTexture(").concat(a,", uv);\n      }\n    "):"\n        float ".concat(r,"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(").concat(s,", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(").concat(h,".0, ").concat(d,".0);\n          return sampleTexture(").concat(a,", uv);\n        }\n      ");if(h===s&&null==p)return t?"\n      float ".concat(r,"(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(").concat(a,"Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(a,"TexShape[1], ").concat(a,"TexShape[0]);\n        return sampleTexture(").concat(a,", uv);\n      }\n    "):"\n    float ".concat(r,"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(").concat(n[1],", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(h,".0, ").concat(d,".0);\n      return sampleTexture(").concat(a,", uv);\n    }\n  ");const f=ZX(a);if(t)return"\n    float ".concat(r,"(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ").concat(a,"Shape[1] * ").concat(a,"Shape[2];\n      int stride1 = ").concat(a,"Shape[2];\n      int index = row * stride0 + col * stride1 + depth + ").concat(f,";\n      vec2 uv = uvFromFlat(").concat(a,"TexShape[0], ").concat(a,"TexShape[1], index);\n      return sampleTexture(").concat(a,", uv);\n    }\n    ");return"\n      float ".concat(r,"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(o," + col * ").concat(s," + depth + ").concat(f,";\n        vec2 uv = uvFromFlat(").concat(d,", ").concat(h,", index);\n        return sampleTexture(").concat(a,", uv);\n      }\n  ")}(e,t);case 4:return function(e,t){const n=e.shapeInfo.logicalShape,a=e.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1),o=n[3],s=n[2]*o,i=n[1]*s,{newShape:l,keptDims:c}=Ig(n);if(l.length<n.length){const n=tY(e,l),a=["row","col","depth","depth2"];return"\n      ".concat(GX(n,t),"\n      float ").concat(r,"(int row, int col, int depth, int depth2) {\n        return ").concat(r,"(").concat(nY(a,c),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(").concat(i,", ").concat(s,", ").concat(o,", 1)));\n        ").concat(JX(e),"\n      }\n    ");const u=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,h=d[0],p=d[1],f="int stride2 = ".concat(a,"Shape[3];"),m="int stride1 = ".concat(a,"Shape[2] * stride2;"),g="int stride0 = ".concat(a,"Shape[1] * stride1;");if(p===i&&null==u)return t?"\n      float ".concat(r,"(int row, int col, int depth, int depth2) {\n        ").concat(f,"\n        ").concat(m,"\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(a,"TexShape[1], ").concat(a,"TexShape[0]);\n        return sampleTexture(").concat(a,", uv);\n      }\n    "):"\n      float ".concat(r,"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(").concat(s,", ").concat(o,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(p,".0, ").concat(h,".0);\n        return sampleTexture(").concat(a,", uv);\n      }\n    ");if(p===o&&null==u)return t?"\n      float ".concat(r,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(a,"Shape[1] * ").concat(a,"Shape[2], ").concat(a,"Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(a,"TexShape[1], ").concat(a,"TexShape[0]);\n        return sampleTexture(").concat(a,", uv);\n      }\n    "):"\n      float ".concat(r,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(n[1]*n[2],", ").concat(n[2],", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(p,".0, ").concat(h,".0);\n        return sampleTexture(").concat(a,", uv);\n      }\n    ");const y=ZX(a);if(t)return"\n    float ".concat(r,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ").concat(f,"\n      ").concat(m,"\n      ").concat(g,"\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(").concat(a,"TexShape[0], ").concat(a,"TexShape[1], index + ").concat(y,");\n      return sampleTexture(").concat(a,", uv);\n    }\n  ");return"\n    float ".concat(r,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(i," + col * ").concat(s," +\n          depth * ").concat(o," + depth2;\n      vec2 uv = uvFromFlat(").concat(h,", ").concat(p,", index + ").concat(y,");\n      return sampleTexture(").concat(a,", uv);\n    }\n  ")}(e,t);case 5:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),r=t[4],o=t[3]*r,s=t[2]*o,i=t[1]*s,{newShape:l,keptDims:c}=Ig(t);if(l.length<t.length){const t=tY(e,l),n=["row","col","depth","depth2","depth3"];return"\n      ".concat(GX(t),"\n      float ").concat(a,"(int row, int col, int depth, int depth2, int depth3) {\n        return ").concat(a,"(").concat(nY(n,c),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(i,", ").concat(s,", ").concat(o,", ").concat(r,")) +\n          depth3;\n        ").concat(JX(e),"\n      }\n    ");const u=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,h=d[0],p=d[1];if(p===i&&null==u)return"\n      float ".concat(a,"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(").concat(s,", ").concat(o,", ").concat(r,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(p,".0, ").concat(h,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(p===r&&null==u)return"\n      float ".concat(a,"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3],",\n               ").concat(t[2]*t[3],", ").concat(t[3],", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(p,".0, ").concat(h,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");const f=ZX(n);return"\n    float ".concat(a,"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(i," + col * ").concat(s," + depth * ").concat(o," +\n          depth2 * ").concat(r," + depth3 + ").concat(f,";\n      vec2 uv = uvFromFlat(").concat(h,", ").concat(p,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e);case 6:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:r,keptDims:o}=Ig(t);if(r.length<t.length){const t=tY(e,r),n=["row","col","depth","depth2","depth3","depth4"];return"\n      ".concat(GX(t),"\n      float ").concat(a,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ").concat(a,"(").concat(nY(n,o),");\n      }\n    ")}const s=t[5],i=t[4]*s,l=t[3]*i,c=t[2]*l,u=t[1]*c;if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(u,", ").concat(c,", ").concat(l,", ").concat(i,")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(").concat(s,", 1)));\n        ").concat(JX(e),"\n      }\n    ");const d=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,p=h[0],f=h[1];if(f===u&&null==d)return"\n      float ".concat(a,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(").concat(c,", ").concat(l,", ").concat(i,", ").concat(s,")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(f,".0, ").concat(p,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(f===s&&null==d)return"\n      float ".concat(a,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3]*t[4],",\n               ").concat(t[2]*t[3]*t[4],",\n               ").concat(t[3]*t[4],",\n               ").concat(t[4],")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(f,".0, ").concat(p,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");const m=ZX(n);return"\n    float ".concat(a,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(u," + col * ").concat(c," + depth * ").concat(l," +\n          depth2 * ").concat(i," + depth3 * ").concat(s," + depth4 + ").concat(m,";\n      vec2 uv = uvFromFlat(").concat(p,", ").concat(f,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}(e);default:throw new Error("".concat(n.length,"-D input sampling")+" is not yet supported")}}function qX(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),a=PX();return"\n    vec4 ".concat(n,"() {\n      return ").concat(a.texture2D,"(").concat(t,", halfCR);\n    }\n  ")}(e);case 1:return function(e,t){const n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),r=e.shapeInfo.texShape,o=PX();if(t)return"\n    vec4 ".concat(a,"(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ").concat(o.texture2D,"(").concat(n,", uv);\n    }\n  ");const s=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)];return"\n    vec4 ".concat(a,"(int index) {\n      vec2 uv = packedUVfrom1D(\n        ").concat(s[0],", ").concat(s[1],", index);\n      return ").concat(o.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,a=e.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1),o=e.shapeInfo.texShape,s=o[0],i=o[1],l=PX();if(null!=o&&bg(n,o))return t?"\n      vec4 ".concat(r,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(a,"TexShape[1], ").concat(a,"TexShape[0]);\n\n        return ").concat(l.texture2D,"(").concat(a,", uv);\n      }\n    "):"\n      vec4 ".concat(r,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(i,".0, ").concat(s,".0);\n\n        return ").concat(l.texture2D,"(").concat(a,", uv);\n      }\n    ");if(t)return"\n    vec4 ".concat(r,"(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(a,"TexShape[0]) / 2.0), ceil(float(").concat(a,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(a,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ").concat(l.texture2D,"(").concat(a,", uv);\n    }\n  ");const c=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],u=Math.ceil(n[1]/2);return"\n    vec4 ".concat(r,"(int row, int col) {\n      vec2 uv = packedUVfrom2D(").concat(u,", ").concat(c[0],", ").concat(c[1],", row, col);\n      return ").concat(l.texture2D,"(").concat(a,", uv);\n    }\n  ")}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,a=e.name,r="get"+a.charAt(0).toUpperCase()+a.slice(1),o=e.shapeInfo.texShape,s=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];if(1===n[0]){const a=[1,2],o=tY(e,n.slice(1)),s=["b","row","col"];return"\n        ".concat(qX(o,t),"\n        vec4 ").concat(r,"(int b, int row, int col) {\n          return ").concat(r,"(").concat(nY(s,a),");\n        }\n      ")}const i=PX();if(t)return"\n    vec4 ".concat(r,"(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(a,"TexShape[0]) / 2.0), ceil(float(").concat(a,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(a,"Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(a,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ").concat(i.texture2D,"(").concat(a,", uv);\n    }\n  ");const l=s[0],c=s[1],u=Math.ceil(n[2]/2),d=u*Math.ceil(n[1]/2);return"\n    vec4 ".concat(r,"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ").concat(l,", ").concat(c,", ").concat(d,", ").concat(u,", b, row, col);\n      return ").concat(i.texture2D,"(").concat(a,", uv);\n    }\n  ")}(e,t);default:return function(e,t){const n=e.name,a="get"+n.charAt(0).toUpperCase()+n.slice(1),r=PX();if(t)return"\n    vec4 ".concat(a,"(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(").concat(n,"Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(n,"Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ").concat(n,"Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ").concat(r.texture2D,"(").concat(n,", uv);\n    }\n  ");const o=e.shapeInfo.logicalShape,s=o.length,i=e.shapeInfo.texShape,l=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],c=l[0],u=l[1],d=Math.ceil(o[s-1]/2);let h=d*Math.ceil(o[s-2]/2),p="int b, int row, int col",f="b * ".concat(h," + (row / 2) * ").concat(d," + (col / 2)");for(let m=2;m<s-1;m++)p="int b".concat(m,", ")+p,h*=o[s-m-1],f="b".concat(m," * ").concat(h," + ")+f;return"\n    vec4 ".concat(a,"(").concat(p,") {\n      int index = ").concat(f,";\n      int texR = index / ").concat(u,";\n      int texC = index - texR * ").concat(u,";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(u,", ").concat(c,");\n      return ").concat(r.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t)}}const KX="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",XX="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",YX="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",QX="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function ZX(e){return"offset".concat(e)}function JX(e){const t=e.name,n=mg(e.shapeInfo.logicalShape);return n<2?"return ".concat(t,";"):"\n    for (int i = 0; i < ".concat(n,"; i++) {\n      if (i == index) {\n        return ").concat(t,"[i];\n      }\n    }\n  ")}function $X(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank ".concat(e," is not yet supported"))}function eY(e,t,n){const{newShape:a,keptDims:r}=Ig(t),o=t.length,s=e&&3===o&&1===t[0],i=s?t.slice(1):a,l=!e&&o>1&&!bg(t,n)&&a.length<o||s;return{useSqueezeShape:l,uniformShape:l?i:t,keptDims:r}}function tY(e,t){const n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function nY(e,t){return t.map((t=>e[t])).join(", ")}function aY(e,t,n,a){const r=n.map(((e,n)=>{const a={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(a.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:a}})),o=r.map((e=>e.shapeInfo)),s={logicalShape:a.shape,texShape:a.texData.texShape,isUniform:!1,isPacked:a.texData.isPacked,flatOffset:null},i=HX(r,s,t),l=function(e,t){const n=kX(e,(()=>e.createShader(e.FRAGMENT_SHADER)),"Unable to create fragment WebGLShader.");if(dX(e,(()=>e.shaderSource(n,t))),dX(e,(()=>e.compileShader(n))),ty().get("ENGINE_COMPILE_ONLY"))return n;if(!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw mX(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}(e.gl,i),c=e.createProgram(l);return ty().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:l,source:i,webGLProgram:c,inShapeInfos:o,outShapeInfo:s,variablesLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:(e.buildVao(c),Object.assign({program:t,fragmentShader:l,source:i,webGLProgram:c,inShapeInfos:o,outShapeInfo:s},rY(e,t,c)))}function rY(e,t,n){const a=[],r=[];let o,s,i,l=null,c=null;c=e.getUniformLocation(n,"NAN",!1),1===ty().getNumber("WEBGL_VERSION")&&(l=e.getUniformLocation(n,"INFINITY",!1));const u=!1;for(const d of t.variableNames){const r={name:d,uniform:e.getUniformLocation(n,d,u),offset:e.getUniformLocation(n,"offset".concat(d),u)};t.enableShapeUniforms&&(r.shape=e.getUniformLocation(n,"".concat(d,"Shape"),u),r.texShape=e.getUniformLocation(n,"".concat(d,"TexShape"),u)),a.push(r)}if(t.enableShapeUniforms&&(o=e.getUniformLocation(n,"outShape",u),i=e.getUniformLocation(n,"outShapeStrides",u),s=e.getUniformLocation(n,"outTexShape",u)),t.customUniforms)for(const d of t.customUniforms)r.push(e.getUniformLocation(n,d.name,u));return{variablesLocations:a,customUniformLocations:r,infLoc:l,nanLoc:c,outShapeLocation:o,outShapeStridesLocation:i,outTexShapeLocation:s}}function oY(e,t){if(e.length!==t.length)throw Error("Binary was compiled with ".concat(e.length," inputs, but ")+"was executed with ".concat(t.length," inputs"));e.forEach(((e,n)=>{const a=e.logicalShape,r=t[n],o=r.shape;if(!bg(a,o))throw Error("Binary was compiled with different shapes than "+"the current args. Shapes ".concat(a," and ").concat(o," must match"));if(e.isUniform&&r.isUniform)return;const s=e.texShape,i=r.isUniform?null:r.texData.texShape;if(!bg(s,i))throw Error("Binary was compiled with different texture shapes than the"+" current args. Shape ".concat(s," and ").concat(i," must match"))}))}function sY(e){return ty().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}class iY{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=rX.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=PX();this.outputShape=e,this.enableShapeUniforms=sY(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?jX(["r","c","d"],e):zX(["r","c","d"],e),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ").concat(t.output," = result;\n      }\n    ")}}class lY{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=rX.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=PX();this.outputShape=e,this.enableShapeUniforms=sY(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?jX(["r","c","d"],e):zX(["r","c","d"],e),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ").concat(t.output," = result;\n      }\n    ")}}class cY{constructor(e){this.variableNames=["A"],this.outTexUsage=oX.DOWNLOAD;const t=PX();this.outputShape=e,this.userCode="\n      ".concat(UX,"\n\n      void main() {\n        float x = getAAtOutCoords();\n        ").concat(t.output," = encode_float(x);\n      }\n    ")}}class uY{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=oX.DOWNLOAD;const t=PX();this.outputShape=e,this.userCode="\n      ".concat(UX,"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ").concat(t.output," = encode_float(x);\n      }\n    ")}}const dY={R:0,G:1,B:2,A:3};class hY{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"RGBA";this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const a=PX();this.outputShape=e,this.enableShapeUniforms=sY(this.outputShape.length);let r="result";t&&(r="floor(result * 255. + 0.5)");let o="";for(let s=0;s<n.length;s++){const e=n[s];o+="\n          if(offset == ".concat(s,") {\n            result = values[").concat(dY[e],"];\n          }")}this.userCode="\n      ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":WX(e),"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int flatIndex = getFlatIndex(coords);\n        float result = 0.;\n        int offset = imod(flatIndex, ").concat(n.length,");\n\n        flatIndex = idiv(flatIndex, ").concat(n.length,", 1.);\n\n        int r = flatIndex / texShape[1];\n        if (r < texShape[0]) {\n          int c = imod(flatIndex, texShape[1]);\n          vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n          vec4 values = ").concat(a.texture2D,"(A, uv);\n          ").concat(o,"\n        }\n        ").concat(a.output," = vec4(").concat(r,", 0., 0., 0.);\n      }\n    ")}}class pY{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=PX();this.outputShape=e,this.enableShapeUniforms=sY(this.outputShape.length);let a="",r="result";t&&(r="floor(result * 255. + 0.5)");for(let o=0;o<=1;o++)for(let t=0;t<=1;t++){const r=2*o+t;a+="\n          localCoords = coords;\n          if(localCoords[2] + ".concat(t," < ").concat(this.enableShapeUniforms?"outShape[2]":"".concat(e[2]),") {\n          localCoords[2] += ").concat(t,";\n          if (localCoords[1] + ").concat(o," < ").concat(this.enableShapeUniforms?"outShape[1]":"".concat(e[1]),") {\n            localCoords[1] += ").concat(o,";\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ").concat(n.texture2D,"(A, uv);\n\n            if (offset == 0) {\n              result[").concat(r,"] = values[0];\n            } else if (offset == 1) {\n              result[").concat(r,"] = values[1];\n            } else if (offset == 2) {\n              result[").concat(r,"] = values[2];\n            } else {\n              result[").concat(r,"] = values[3];\n            }\n          }\n        }\n        ")}this.userCode="\n        ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":WX(e),"\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ").concat(a,"\n\n          ").concat(n.output," = ").concat(r,";\n        }\n    ")}}function fY(e){const t=PX();return function(e,t){const n=kX(e,(()=>e.createShader(e.VERTEX_SHADER)),"Unable to create vertex WebGLShader.");if(dX(e,(()=>e.shaderSource(n,t))),dX(e,(()=>e.compileShader(n))),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}(e,"".concat(t.version,"\n    precision highp float;\n    ").concat(t.attribute," vec3 clipSpacePos;\n    ").concat(t.attribute," vec2 uv;\n    ").concat(t.varyingVs," vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }"))}function mY(e){return function(e,t){const n=kX(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return dX(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),dX(e,(()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function gY(e){return function(e,t){const n=kX(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return dX(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n))),dX(e,(()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Uint16Array([0,1,2,2,1,3]))}function yY(e,t,n,a,r,o){!function(e,t){const n=ty().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){const n="[".concat(e,"x").concat(t,"]");throw new Error("Requested texture size "+n+" is invalid.")}if(e>n||t>n){const a="[".concat(e,"x").concat(t,"]"),r="[".concat(n,"x").concat(n,"]");throw new Error("Requested texture size "+a+" greater than WebGL maximum on this browser / GPU "+r+".")}}(t,n);const s=function(e){return kX(e,(()=>e.createTexture()),"Unable to create WebGLTexture.")}(e),i=e.TEXTURE_2D;return dX(e,(()=>e.bindTexture(i,s))),dX(e,(()=>e.texParameteri(i,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE))),dX(e,(()=>e.texParameteri(i,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE))),dX(e,(()=>e.texParameteri(i,e.TEXTURE_MIN_FILTER,e.NEAREST))),dX(e,(()=>e.texParameteri(i,e.TEXTURE_MAG_FILTER,e.NEAREST))),1===ty().getNumber("WEBGL_VERSION")?dX(e,(()=>e.texImage2D(i,0,a,t,n,0,r,o,null))):dX(e,(()=>e.texStorage2D(i,1,a,t,n))),dX(e,(()=>e.bindTexture(e.TEXTURE_2D,null))),{texture:s,texShape:[n,t]}}function bY(e){return e.internalFormatFloat}function vY(e){return e.internalFormatHalfFloat}function wY(e){return e.downloadTextureFormat}function xY(e){return e.internalFormatPackedFloat}function kY(e){return e.internalFormatPackedHalfFloat}function SY(e,t,n,a,r,o,s,i){const l=e,c=new Float32Array(function(e,t){const[n,a]=cX(e,t);return n*a*4}(o,s));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,c),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),c}class NY{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.itemsToPoll=[];const t=ty().getNumber("WEBGL_VERSION");if(null!=e?(this.gl=e,function(e,t){tX[e]=t}(t,e)):this.gl=aX(t),e=this.gl,2===ty().getNumber("WEBGL_VERSION")){const t=e;this.createVertexArray=()=>dX(t,(()=>t.createVertexArray())),this.bindVertexArray=e=>dX(t,(()=>t.bindVertexArray(e))),this.deleteVertexArray=e=>dX(t,(()=>t.deleteVertexArray(e))),this.getVertexArray=()=>dX(t,(()=>t.getParameter(t.VERTEX_ARRAY_BINDING)))}else if(null!=e){const t=e.getExtension("OES_vertex_array_object");if(null==t)throw new Error("All WebGL1 implementations are expected to offer OES_vertex_array_object.");this.createVertexArray=()=>dX(e,(()=>t.createVertexArrayOES())),this.bindVertexArray=n=>dX(e,(()=>t.bindVertexArrayOES(n))),this.deleteVertexArray=n=>dX(e,(()=>t.deleteVertexArrayOES(n))),this.getVertexArray=()=>dX(e,(()=>e.getParameter(t.VERTEX_ARRAY_BINDING_OES)))}let n="WEBGL_color_buffer_float";const a="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===ty().getNumber("WEBGL_VERSION")){const e="OES_texture_float",t="OES_texture_half_float";if(this.textureFloatExtension=pX(this.gl,e),RX(this.gl,t))this.textureHalfFloatExtension=pX(this.gl,t);else if(ty().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),RX(this.gl,a))this.colorBufferHalfFloatExtension=pX(this.gl,a);else if(ty().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",RX(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!RX(this.gl,a))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(a)}this.vertexBuffer=mY(this.gl),this.indexBuffer=gY(this.gl),this.framebuffer=function(e){return kX(e,(()=>e.createFramebuffer()),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=uX(this.gl,this.textureHalfFloatExtension)}get debug(){return ty().getBool("DEBUG")}dispose(){if(this.disposed)return;null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;dX(e,(()=>e.finish())),dX(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,null))),dX(e,(()=>e.deleteFramebuffer(this.framebuffer))),dX(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,null))),dX(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null))),dX(e,(()=>e.deleteBuffer(this.indexBuffer))),this.disposed=!0}createFloat32MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,a){const[r,o]=iX(t,n);return yY(e,r,o,bY(a),a.textureFormatFloat,e.FLOAT)}(this.gl,e,t,this.textureConfig)}createFloat16MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,a){const[r,o]=iX(t,n);return yY(e,r,o,vY(a),a.textureFormatFloat,a.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createUnsignedBytesMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,a){const[r,o]=iX(t,n);return yY(e,r,o,wY(a),e.RGBA,e.UNSIGNED_BYTE)}(this.gl,e,t,this.textureConfig)}uploadPixelDataToTexture(e,t){this.throwIfDisposed(),function(e,t,n){dX(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),n.data instanceof Uint8Array?2===ty().getNumber("WEBGL_VERSION")?dX(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data))):dX(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data))):2===ty().getNumber("WEBGL_VERSION")?dX(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n))):dX(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n))),dX(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t)}uploadDenseMatrixToTexture(e,t,n,a){this.throwIfDisposed(),function(e,t,n,a,r,o){let s,i,l;dX(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),r instanceof Uint8Array?(s=new Uint8Array(n*a*4),i=e.UNSIGNED_BYTE,l=e.RGBA):(s=new Float32Array(n*a*4),i=e.FLOAT,l=o.internalFormatPackedFloat),s.set(r),2===ty().getNumber("WEBGL_VERSION")?dX(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,a,e.RGBA,i,s))):dX(e,(()=>e.texImage2D(e.TEXTURE_2D,0,l,n,a,0,e.RGBA,i,s))),dX(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t,n,a,this.textureConfig)}createFloat16PackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,a){const[r,o]=cX(t,n);return yY(e,r,o,kY(a),e.RGBA,a.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createPackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,a){const[r,o]=cX(t,n);return yY(e,r,o,xY(a),e.RGBA,e.FLOAT)}(this.gl,e,t,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(wX(this.gl,this.framebuffer),this.outputTexture=null),dX(this.gl,(()=>this.gl.deleteTexture(e)))}downloadByteEncodedFloatMatrixFromOutputTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n,a){const[r,o]=iX(t,n),s=new Uint8Array(t*n*4);return dX(e,(()=>e.readPixels(0,0,r,o,a.downloadTextureFormat,e.UNSIGNED_BYTE,s))),new Float32Array(s.buffer)}(this.gl,t,n,this.textureConfig)))}downloadPackedMatrixFromBuffer(e,t,n,a,r,o){return SY(this.gl,e,0,0,0,r,o,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,t){return function(e,t,n){const a=e,r=new Float32Array(n);return a.bindBuffer(a.PIXEL_PACK_BUFFER,t),a.getBufferSubData(a.PIXEL_PACK_BUFFER,0,r),a.bindBuffer(a.PIXEL_PACK_BUFFER,null),r}(this.gl,e,t)}createBufferFromTexture(e,t,n){this.bindTextureToFrameBuffer(e);const a=function(e,t,n,a){const r=e.createBuffer();dX(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,r)));const o=16*t*n;return dX(e,(()=>e.bufferData(e.PIXEL_PACK_BUFFER,o,e.STREAM_READ))),dX(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0))),dX(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null))),r}(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),a}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t,n;if(ty().getBool("WEBGL_FENCE_API_ENABLED")){const a=e,r=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=()=>{const e=a.clientWaitSync(r,0,0);return e===a.ALREADY_SIGNALED||e===a.CONDITION_SATISFIED},t=r}else ty().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=()=>this.isQueryAvailable(t,ty().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):n=()=>!0;return{query:t,isFencePassed:n}}downloadMatrixFromPackedTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n){const a=new Float32Array(t*n*4);return dX(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,a))),a}(this.gl,t,n)))}createProgram(e){this.throwIfDisposed();const t=this.gl;null==this.vertexShader&&(this.vertexShader=fY(t));const n=function(e){return kX(e,(()=>e.createProgram()),"Unable to create WebGLProgram.")}(t);dX(t,(()=>t.attachShader(n,this.vertexShader))),dX(t,(()=>t.attachShader(n,e))),function(e,t){if(dX(e,(()=>e.linkProgram(t))),!ty().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}(t,n);const a=Object.assign(n,{vao:this.createVertexArray()});return this.debug&&gX(t,a),a}buildVao(e){this.setProgram(e),this.bindVertexArray(e.vao);const t=this.gl;dX(t,(()=>t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indexBuffer))),function(e,t,n){dX(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),yX(e,t,"clipSpacePos",n,3,20,0)&&yX(e,t,"uv",n,2,20,12)}(t,e,this.vertexBuffer)}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&(dX(this.gl,(()=>this.gl.deleteProgram(e))),this.deleteVertexArray(e.vao))}setProgram(e){this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&gX(this.gl,this.program),dX(this.gl,(()=>this.gl.useProgram(e)))}getUniformLocation(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.throwIfDisposed(),n?function(e,t,n){return kX(e,(()=>e.getUniformLocation(t,n)),'uniform "'+n+'" not present in program.')}(this.gl,e,t):function(e,t,n){return e.getUniformLocation(t,n)}(this.gl,e,t)}getAttributeLocation(e,t){return this.throwIfDisposed(),dX(this.gl,(()=>this.gl.getAttribLocation(e,t)))}getUniformLocationNoThrow(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}setInputMatrixTexture(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),bX(this.gl,e,t,n)}setOutputMatrixTexture(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}setOutputPackedMatrixTexture(e,t,n){this.throwIfDisposed();const[a,r]=cX(t,n);this.setOutputMatrixTextureDriver(e,a,r)}setOutputMatrixWriteRegion(e,t,n,a){this.setOutputMatrixWriteRegionDriver(n,e,a,t)}setOutputPackedMatrixWriteRegion(e,t,n,a){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&gX(this.gl,this.program),xX(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;if(this.debug){const e=this.getVertexArray();console.assert(e===this.program.vao,"VAO changed between setProgram and executeProgram!"),this.debugValidate()}dX(e,(()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),dX(this.gl,(()=>this.gl.finish()))}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=pX(this.gl,2===ty().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===ty().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}const e=this.getQueryTimerExtensionWebGL1(),t=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,t),t}endQuery(){if(2===ty().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2();return void e.endQuery(t.TIME_ELAPSED_EXT)}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await Ng((()=>this.disposed||this.isQueryAvailable(e,ty().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")))),this.getQueryTime(e,ty().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,t){if(0===t)return null;if(2===t){const t=this.gl;return t.getQueryParameter(e,t.QUERY_RESULT)/1e6}{const t=this.getQueryTimerExtensionWebGL1();return t.getQueryObjectEXT(e,t.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,t){if(0===t)return!0;if(2===t){const t=this.gl,n=this.getQueryTimerExtensionWebGL2(),a=t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),a&&!this.disjoint}{const t=this.getQueryTimerExtensionWebGL1(),n=t.getQueryObjectEXT(e,t.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(t.GPU_DISJOINT_EXT)),n&&!this.disjoint}}pollFence(e){return new Promise((t=>{this.addItemToPoll((()=>e.isFencePassed()),(()=>t()))}))}pollItems(){const e=function(e){let t=0;for(;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((e=>e.isDoneFn)));for(let t=0;t<=e;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,t){if(this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1)return;let n;"setTimeoutCustom"in ty().platform&&(n=ty().platform.setTimeoutCustom.bind(ty().platform)),Ng((()=>(this.pollItems(),0===this.itemsToPoll.length)),(()=>0),null,n)}bindTextureToFrameBuffer(e){this.throwIfDisposed(),vX(this.gl,e,this.framebuffer),this.debug&&xX(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(vX(this.gl,this.outputTexture,this.framebuffer),this.debug&&xX(this.gl)):wX(this.gl,this.framebuffer)}downloadMatrixDriver(e,t){this.bindTextureToFrameBuffer(e);const n=t();return this.unbindTextureToFrameBuffer(),n}setOutputMatrixTextureDriver(e,t,n){this.throwIfDisposed();const a=this.gl;vX(a,e,this.framebuffer),this.debug&&xX(a),this.outputTexture=e,dX(a,(()=>a.viewport(0,0,t,n))),dX(a,(()=>a.scissor(0,0,t,n)))}setOutputMatrixWriteRegionDriver(e,t,n,a){this.throwIfDisposed(),dX(this.gl,(()=>this.gl.scissor(e,t,n,a)))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw new Error("No GPU program is currently set.")}}const{addImpl:TY,bincountImpl:CY,bincountReduceImpl:IY,bitwiseAndImpl:EY,castImpl:AY,ceilImpl:_Y,concatImpl:RY,equalImpl:DY,expImpl:OY,expm1Impl:FY,floorImpl:LY,gatherNdImpl:MY,gatherV2Impl:PY,greaterImpl:zY,greaterEqualImpl:jY,lessImpl:BY,lessEqualImpl:WY,linSpaceImpl:UY,logImpl:VY,maxImpl:HY,maximumImpl:GY,minimumImpl:qY,multiplyImpl:KY,negImpl:XY,notEqualImpl:YY,prodImpl:QY,raggedGatherImpl:ZY,raggedRangeImpl:JY,raggedTensorToTensorImpl:$Y,rangeImpl:eQ,rsqrtImpl:tQ,scatterImpl:nQ,sigmoidImpl:aQ,simpleAbsImpl:rQ,sliceImpl:oQ,sparseFillEmptyRowsImpl:sQ,sparseReshapeImpl:iQ,sparseSegmentReductionImpl:lQ,sqrtImpl:cQ,staticRegexReplaceImpl:uQ,stridedSliceImpl:dQ,stringNGramsImpl:hQ,stringSplitImpl:pQ,stringToHashBucketFastImpl:fQ,subImpl:mQ,tileImpl:gQ,topKImpl:yQ,transposeImpl:bQ,uniqueImpl:vQ}=B;function wQ(e,t){return["x","y","z","w","u","v"].slice(0,t).map((t=>"".concat(e,".").concat(t)))}function xQ(e,t){return 1===t?[e]:wQ(e,t)}class kQ{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=sY(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const e=xQ("rc",this.rank),t=$X(this.rank),n=this.getOutOfBoundsCondition(e),a=this.getSetup(e),r=this.getOutput(e);this.userCode="\n        void main() {\n          ".concat(t," rc = getOutputCoords();\n\n          if(").concat(n,") {\n            setOutput(vec4(0));\n          } else {\n            ").concat(a,"\n\n            setOutput(vec4(").concat(r,"));\n          }\n        }\n      ")}}getSourceCoordsArr(e){const t=[];for(let n=0;n<=1;n++)for(let a=0;a<=1;a++){let r="".concat(0===n?"r":"rp1",", ").concat(0===a?"c":"cp1");for(let t=2;t<this.rank;t++)r="".concat(e[e.length-1-t],",")+r;t.push(r)}return t}getOutOfBoundsCondition(e){if(1===this.rank)return"rc > ".concat(this.enableShapeUniforms?"outShape":this.outputShape[0]);let t="";for(let n=this.rank-2;n<this.rank;n++)t+="".concat(e[n]," >= ").concat(this.enableShapeUniforms?"outShape[".concat(n,"]"):this.outputShape[n]),n<this.rank-1&&(t+="||");return t}getSetup(e){if(1===this.rank)return"";const t=e.slice(-2),n=this.enableShapeUniforms?"outShape[".concat(this.rank," - 1]"):this.outputShape[this.rank-1],a=this.enableShapeUniforms?"outShape[".concat(this.rank," - 2]"):this.outputShape[this.rank-2];return"\n      int r = ".concat(t[0],";\n      int c = ").concat(t[1],";\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ").concat(n,";\n      bool rEdge = rp1 >= ").concat(a,";\n    ")}getOutput(e){const t=this.getSourceCoordsArr(e);if(1===this.rank){const e=this.enableShapeUniforms?"outShape":this.outputShape[0];return"getA(rc), (rc + 1 >= ".concat(e," ? 0. : getA(rc + 1)), 0, 0")}return"getA(".concat(t[0],"),\n            cEdge ? 0. : getA(").concat(t[1],"),\n            rEdge ? 0. : getA(").concat(t[2],"),\n            rEdge || cEdge ? 0. : getA(").concat(t[3],")")}}class SQ{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=sY(this.outputShape.length);let n="";for(let a=0;a<4;a++){let e="thisRC = rc;";a%2===1&&(e+="thisRC.z += 1;"),a>1&&(e+="thisRC.y += 1;"),n+="\n        ".concat(e,"\n        ").concat(a>0?"if(thisRC.y < rows && thisRC.z < cols){":"","\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[").concat(a,"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ").concat(a>0?"}":"","\n      ")}this.userCode="\n      ".concat(function(e,t){const n=t?BX(["r","c","d"],"inputShape"):zX(["r","c","d"],e);return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ".concat(n,"\n      return ivec3(r, c, d);\n    }\n  ")}(t,this.enableShapeUniforms),"\n      ").concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":WX(e),"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ").concat(this.enableShapeUniforms?"outShape[1]":e[1],";\n        int cols = ").concat(this.enableShapeUniforms?"outShape[2]":e[2],";\n\n        ").concat(n,"\n\n        setOutput(result);\n      }\n    ")}}class NQ{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.usedTextures={},this.logEnabled=!1}acquireTexture(e,t,n){const a=CQ(t,n),r=IQ(e,a,n);r in this.freeTextures||(this.freeTextures[r]=[]),r in this.usedTextures||(this.usedTextures[r]=[]);const o=TQ(e,a,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[r].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=o,this.log();const e=this.freeTextures[r].pop();return this.usedTextures[r].push(e),e}let s;return a===sX.PACKED_2X2_FLOAT32?s=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):a===sX.PACKED_2X2_FLOAT16?s=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):a===sX.UNPACKED_FLOAT32?s=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):a===sX.UNPACKED_FLOAT16?s=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):a===sX.PACKED_4X1_UNSIGNED_BYTE&&(s=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[r].push(s),this.numUsedTextures++,this._numBytesAllocated+=o,this.log(),s}releaseTexture(e,t,n,a){if(null==this.freeTextures)return;const r=CQ(n,a),o=IQ(t,r,a);o in this.freeTextures||(this.freeTextures[o]=[]);const s=TQ(t,r,this.gpgpu.gl,this.gpgpu.textureConfig,a),i=ty().getNumber("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==i&&this._numBytesAllocated>i?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=s):(this.freeTextures[o].push(e),this.numFreeTextures++,this._numBytesFree+=s),this.numUsedTextures--;const l=this.usedTextures[o],c=l&&l.indexOf(e);if(null==c||c<0)throw new Error("Cannot release a texture that was never provided by this texture manager");l[c]=l[l.length-1],l.pop(),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used","".concat(this.numFreeTextures," / ").concat(this.numUsedTextures),"(".concat(e,")"));const t=this._numBytesFree/this._numBytesAllocated;console.log("Bytes allocated: ".concat(this._numBytesAllocated)),console.log("Bytes unused: ".concat(this._numBytesFree," (").concat(Math.round(100*t),"%)"))}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(const e in this.freeTextures)this.freeTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));for(const e in this.usedTextures)this.usedTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function TQ(e,t,n,a,r){const o=function(e,t){switch(e){case sX.PACKED_2X2_FLOAT32:return xY(t);case sX.PACKED_2X2_FLOAT16:return kY(t);case sX.UNPACKED_FLOAT32:return bY(t);case sX.UNPACKED_FLOAT16:return vY(t);case sX.PACKED_4X1_UNSIGNED_BYTE:return wY(t);default:throw new Error("Unknown physical texture type ".concat(e))}}(t,a);let s;if(r){const[t,n]=cX(e[0],e[1]);s=t*n}else{const[t,n]=iX(e[0],e[1]);s=t*n}const i=function(e,t){const n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error("Unknown internal format ".concat(t))}(n,o);return s*i}function CQ(e,t){if(e===oX.UPLOAD)return sX.PACKED_2X2_FLOAT32;if(e===oX.RENDER||null==e)return function(e){return ty().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?sX.PACKED_2X2_FLOAT32:sX.UNPACKED_FLOAT32:e?sX.PACKED_2X2_FLOAT16:sX.UNPACKED_FLOAT16}(t);if(e===oX.DOWNLOAD||e===oX.PIXELS)return sX.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type ".concat(e))}function IQ(e,t,n){return"".concat(e[0],"_").concat(e[1],"_").concat(t,"_").concat(n)}class EQ{constructor(e,t){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=sY(this.outputShape.length),this.userCode="\n      float unaryOperation(float x) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")}}const AQ="if (isnan(x)) return x;",_Q="return x;",RQ="return abs(x);";const DQ="return (x >= 0.0) ? x : (exp(x) - 1.0);",OQ=AQ+"\n  return (x < 0.0) ? 0.0 : x;\n",FQ=AQ+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",LQ="return x;",MQ="return 1.0 / (1.0 + exp(-1.0 * x));",PQ="return x;",zQ="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",jQ="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",BQ="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",WQ="return 1.0 / (1.0 + exp(-1.0 * x));";class UQ{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=sY(this.outputShape.length),this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        ".concat(t,"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")}}class VQ{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=sY(this.outputShape.length);const t=e.length,n=xQ("rc",t),a=$X(t),r=function(e,t){if(1===e)return"rc";let n="";for(let a=0;a<e;a++)n+=t[a],a<e-1&&(n+=",");return n}(t,n),o=n.slice(-2),s=t<=1?"rc":"vec2(".concat(o.join(","),")");this.userCode="\n      void main() {\n        ".concat(a," rc = getOutputCoords();\n        vec4 packedInput = getA(").concat(r,");\n\n        setOutput(getChannel(packedInput, ").concat(s,"));\n      }\n    ")}}const HQ=IA,GQ={};const qQ=ty().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");class KQ extends ng{nextDataId(){return KQ.nextDataId++}constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!ty().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let t;if(null!=e){if(e instanceof NY)t=e;else{const n=aX(ty().getNumber("WEBGL_VERSION"),e);t=new NY(n)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const e=aX(ty().getNumber("WEBGL_VERSION"));t=new NY(e),this.binaryCache=((n=ty().getNumber("WEBGL_VERSION"))in GQ||(GQ[n]={}),GQ[n]),this.gpgpuCreatedLocally=!0}var n;this.gpgpu=t,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new NQ(this.gpgpu),this.numMBBeforeWarning=null==ty().global.screen?1024:ty().global.screen.height*ty().global.screen.width*window.devicePixelRatio*600/1024/1024,this.texData=new tg(this,pk())}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}writeTexture(e,t,n,a,r,o){const s=this.makeTensorInfo(t,n),i=this.texData.get(s.dataId);i.isPacked=!1,i.texture={texture:e,texShape:[a,r]},i.texShape=[a,r];const l=CX(t),c=new hY(l,!1,o),u=this.runWebGLProgram(c,[s],n,[[a,r]]);return u.shape=t,i.texture=null,this.disposeIntermediateTensorInfo(s),u.dataId}write(e,t,n){if((ty().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||ty().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const a={id:this.nextDataId()};return this.texData.set(a,{shape:t,dtype:n,values:e,usage:oX.UPLOAD,refCount:1}),a}refCount(e){if(this.texData.has(e)){return this.texData.get(e).refCount}return 0}incRef(e){this.texData.get(e).refCount++}decRef(e){if(this.texData.has(e)){this.texData.get(e).refCount--}}move(e,t,n,a,r){if(ty().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===a)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:a,values:t,usage:oX.UPLOAD,refCount:r})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const t=this.texData.get(e),{values:n,dtype:a,complexTensorInfos:r,slice:o,shape:s,isPacked:i}=t;if(null!=o){let t;t=i?new UQ(s,LQ):new EQ(s,LQ);const n=this.runWebGLProgram(t,[{dataId:e,shape:s,dtype:a}],a),r=this.readSync(n.dataId);return this.disposeIntermediateTensorInfo(n),r}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===a)return n;const l=null!=this.activeTimers;let c,u;if(l&&(c=ex()),"complex64"===a){u=NR(this.readSync(r.real.dataId),this.readSync(r.imag.dataId))}else u=this.getValuesFromTexture(e);return l&&(this.downloadWaitMs+=ex()-c),this.convertAndCacheOnCPU(e,u)}async read(e){if(this.pendingRead.has(e)){const t=this.pendingRead.get(e);return new Promise((e=>t.push(e)))}const t=this.texData.get(e),{values:n,shape:a,slice:r,dtype:o,complexTensorInfos:s,isPacked:i}=t;if(null!=r){let t;t=i?new UQ(a,LQ):new EQ(a,LQ);const n=this.runWebGLProgram(t,[{dataId:e,shape:a,dtype:o}],o),r=this.read(n.dataId);return this.disposeIntermediateTensorInfo(n),r}if(null!=n)return this.convertAndCacheOnCPU(e);if(ty().getBool("DEBUG")&&!ty().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===ty().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let l,c,u=null;if("complex64"!==o&&ty().get("WEBGL_BUFFER_SUPPORTED")){l=this.decode(e);const t=this.texData.get(l.dataId);u=this.gpgpu.createBufferFromTexture(t.texture.texture,...lX(a))}if(this.pendingRead.set(e,[]),"complex64"!==o&&await this.gpgpu.createAndWaitForFence(),"complex64"===o){const e=await Promise.all([this.read(s.real.dataId),this.read(s.imag.dataId)]);c=NR(e[0],e[1])}else if(null==u)c=this.getValuesFromTexture(e);else{const e=mg(a);c=this.gpgpu.downloadFloat32MatrixFromBuffer(u,e)}if(null!=l&&this.disposeIntermediateTensorInfo(l),null!=u){const e=this.gpgpu.gl;dX(e,(()=>e.deleteBuffer(u)))}const d=this.convertAndCacheOnCPU(e,c),h=this.pendingRead.get(e);return this.pendingRead.delete(e),h.forEach((e=>e(d))),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&pk().removeDataId(e,this),this.pendingDeletes--),d}readToGPU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.texData.get(e),{values:a,shape:r,slice:o,dtype:s,isPacked:i,texture:l}=n;if("complex64"===s)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=o){let n;n=i?new UQ(r,LQ):new EQ(r,LQ);const a=this.runWebGLProgram(n,[{dataId:e,shape:r,dtype:s}],s),o=this.readToGPU(a,t);return this.disposeIntermediateTensorInfo(a),o}if(null==l)throw null!=a?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const c=this.decode(e,t.customTexShape),u=pk().makeTensorFromTensorInfo(c),d=this.texData.get(c.dataId);return Object.assign({tensorRef:u},d.texture)}bufferSync(e){const t=this.readSync(e.dataId);if("string"===e.dtype)try{const n=t.map((e=>ax(e)));return RS(e.shape,e.dtype,n)}catch(n){throw new Error("Failed to decode encoded string bytes into utf-8")}return RS(e.shape,e.dtype,t)}checkNumericalProblems(e){if(null!=e)for(let t=0;t<e.length;t++){const n=e[t];if(!hX(n)){if(ty().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value ".concat(n," cannot be represented with your ")+"current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value ".concat(n," cannot be represented on this device."))}}}getValuesFromTexture(e){const{shape:t,dtype:n,isPacked:a}=this.texData.get(e),r=mg(t);if(ty().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const n=this.decode(e),a=this.texData.get(n.dataId),o=this.gpgpu.downloadMatrixFromPackedTexture(a.texture.texture,...lX(t)).subarray(0,r);return this.disposeIntermediateTensorInfo(n),o}const o=ty().getBool("WEBGL_PACK")&&!0===a,s=o?CX(t):t,i=o?new uY(s):new cY(s),l=this.runWebGLProgram(i,[{shape:s,dtype:n,dataId:e}],"float32"),c=this.texData.get(l.dataId),u=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(c.texture.texture,c.texShape[0],c.texShape[1]).subarray(0,r);return this.disposeIntermediateTensorInfo(l),u}timerAvailable(){return ty().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const t=this.activeTimers,n=[];let a=!1;null==this.programTimersStack?(this.programTimersStack=n,a=!0):this.activeTimers.push(n),this.activeTimers=n,e();const r=ox(this.activeTimers.map((e=>e.query))).filter((e=>null!=e)),o=ox(this.activeTimers.map((e=>e.name))).filter((e=>null!=e));this.activeTimers=t,a&&(this.programTimersStack=null);const s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if(ty().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const e=await Promise.all(r);s.kernelMs=cg(e),s.getExtraProfileInfo=()=>e.map(((e,t)=>({name:o[t],ms:e}))).map((e=>"".concat(e.name,": ").concat(e.ms))).join(", ")}else s.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,s})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return ty().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:ex(),endMs:null}}endTimer(e){return ty().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=ex(),e)}async getQueryTime(e){if(ty().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const t=e;return t.endMs-t.startMs}disposeData(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:n}=this.texData.get(e);return null!=n&&(this.disposeData(n.real.dataId,t),this.disposeData(n.imag.dataId,t)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:t,dtype:n,texShape:a,usage:r,isPacked:o,slice:s}=this.texData.get(e),i=s&&s.origDataId||e,l=this.dataRefCount.get(i);l>1?this.dataRefCount.set(i,l-1):(this.dataRefCount.delete(i),null!=t&&(this.numBytesInGPU-=this.computeBytes(a,n),this.textureManager.releaseTexture(t,a,r,o)));const c=this.texData.get(e);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qQ;return ty().getBool("WEBGL_CPU_FORWARD")&&e.every((e=>null==this.texData.get(e.dataId).texture&&mg(e.shape)<t))}getGPGPUContext(){return this.gpgpu}where(e){Nw("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const t=e.dataSync();return HQ(e.shape,t)}packedUnaryOp(e,t,n){const a=new UQ(e.shape,t),r=this.compileAndRun(a,[e],n);return pk().makeTensorFromTensorInfo(r)}abs(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){const t=rQ(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if(ty().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,RQ,e.dtype);const t=new EQ(e.shape,RQ),n=this.compileAndRun(t,[e]);return pk().makeTensorFromTensorInfo(n)}makeTensorInfo(e,t,n){let a;if("string"===t&&null!=n&&n.length>0&&Lg(n[0])){const r=n.map((e=>nx(e)));a=this.write(r,e,t)}else a=this.write(n,e,t);return this.texData.get(a).usage=null,{dataId:a,shape:e,dtype:t}}makeOutput(e,t,n){return pk().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,n),this)}unpackTensor(e){const t=new VQ(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}packTensor(e){const t=new kQ(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}packedReshape(e,t){const n=[NX(e.shape),...TX(e.shape)],a={dtype:e.dtype,shape:n,dataId:e.dataId},r=[NX(t),...TX(t)],o=new SQ(r,n),s=[n],i=this.runWebGLProgram(o,[a],e.dtype,s,!0);return{dataId:i.dataId,shape:t,dtype:i.dtype}}decode(e,t){const n=this.texData.get(e),{isPacked:a,shape:r,dtype:o}=n;if(null!=t){hg(mg(r)<=t[0]*t[1]*4,(()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."))}const s=CX(r);let i;i=a?new lY(s):new iY(s);const l=[null!=t?t:lX(s)];return{dtype:o,shape:r,dataId:this.runWebGLProgram(i,[{shape:s,dtype:o,dataId:e}],o,l,!0,t).dataId}}runWebGLProgram(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5?arguments[5]:void 0;const s=this.makeTensorInfo(e.outputShape,n),i=this.texData.get(s.dataId);if(e.packedOutput&&(i.isPacked=!0),e.outPackingScheme===rX.DENSE){const t=null!=o?o:lX(e.outputShape);i.texShape=t.map((e=>2*e))}if(null!=e.outTexUsage&&(i.usage=e.outTexUsage),0===mg(s.shape))return i.values=Eg(s.dtype,0),s;const l=[],c=t.map((t=>{if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let n=this.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&mg(t.shape)<=ty().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(this.uploadToGPU(t.dataId),!!n.isPacked!==!!e.packedInputs)t=n.isPacked?this.unpackTensor(t):this.packTensor(t),l.push(t),n=this.texData.get(t.dataId);else if(n.isPacked&&!EX(n.shape,t.shape)){const e=t,a=t.shape;t.shape=n.shape,t=this.packedReshape(t,a),l.push(t),n=this.texData.get(t.dataId),e.shape=a}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(s.dataId);const u={shape:s.shape,texData:i,isUniform:!1},d=function(e,t,n){let a="";t.concat(n).forEach((t=>{const r=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){const o=t.texData.texShape,{useSqueezeShape:s,uniformShape:i,keptDims:l}=eY(e.packedInputs,t.shape,o);let c="",u="",d="";if(1===i.length&&e.packedInputs){const e=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];c="".concat(e[0]>1,"_").concat(e[1]>1)}else if(2!==i.length||e.packedInputs){if(i.length>2&&!e.packedInputs){const e=Wg(i);d="".concat(e[0]===o[1],"_").concat(e[e.length-1]===o[1])}}else u="".concat(i[0]>1,"_").concat(i[1]>1);const h=t.shape.length,p=2===i.length&&bg(t.shape,o),f=1===mg(t.shape),m=uN(t.shape,n.shape),g=!e.packedInputs&&h===n.shape.length&&bg(o,n.texData.texShape),y=e.packedInputs||i.length>2?"":"".concat(o[0]>1,"_").concat(o[1]>1);a+="".concat(h,"_").concat(g,"_").concat(s?l:"","_").concat(i.length,"_").concat(f,"_").concat(m,"_").concat(p,"_").concat(c,"_").concat(u,"_").concat(d,"_").concat(y,"_").concat(r)}else{const e=t.isUniform?"uniform":t.texData.texShape;a+="".concat(t.shape,"_").concat(e,"_").concat(r)}}));const r=e.userCode;let o=e.constructor.name;return o+="_"+a+"_"+r+"".concat(ty().getNumber("WEBGL_VERSION")),o}(e,c,u),h=this.getAndSaveBinary(d,(()=>aY(this.gpgpu,e,c,u))),p=null!=this.activeTimers;let f;p&&(f=this.startTimer()),ty().get("ENGINE_COMPILE_ONLY")||function(e,t,n,a,r){t.program.enableShapeUniforms||(oY(t.inShapeInfos,n),oY([t.outShapeInfo],[a]));const o=a.texData.texture,s=a.texData.texShape;a.texData.isPacked?e.setOutputPackedMatrixTexture(o.texture,s[0],s[1]):e.setOutputMatrixTexture(o.texture,s[0],s[1]),e.setProgram(t.webGLProgram),e.bindVertexArray(t.webGLProgram.vao),1===ty().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN);for(let l=0;l<n.length;++l){const a=n[l],{uniform:r,offset:o,shape:s,texShape:i}=t.variablesLocations[l];if(s){const{uniformShape:n}=eY(t.program.packedInputs,a.shape,a.texData.texShape);switch(n.length){case 1:e.gl.uniform1iv(s,new Int32Array(n));break;case 2:e.gl.uniform2iv(s,new Int32Array(n));break;case 3:e.gl.uniform3iv(s,new Int32Array(n));break;case 4:e.gl.uniform4iv(s,new Int32Array(n))}}if(i&&e.gl.uniform2i(i,a.texData.texShape[0],a.texData.texShape[1]),null!=r)if(a.isUniform)if(mg(a.shape)<2)e.gl.uniform1f(r,a.uniformValues[0]);else{let t=a.uniformValues;t instanceof Float32Array||(t=new Float32Array(t)),e.gl.uniform1fv(r,t)}else null!=a.texData.slice&&null!=o&&e.gl.uniform1i(o,a.texData.slice.flatOffset),e.setInputMatrixTexture(a.texData.texture.texture,r,l)}const i=t.outShapeLocation;if(i)switch(a.shape.length){case 1:e.gl.uniform1iv(i,new Int32Array(a.shape));break;case 2:e.gl.uniform2iv(i,new Int32Array(a.shape));break;case 3:e.gl.uniform3iv(i,new Int32Array(a.shape));break;case 4:e.gl.uniform4iv(i,new Int32Array(a.shape))}if(t.outShapeStridesLocation){const n=Wg(a.shape);switch(a.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(n));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(n));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(n))}}if(t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,a.texData.texShape[0],a.texData.texShape[1]),t.program.customUniforms&&r)for(let l=0;l<t.program.customUniforms.length;++l){const n=t.program.customUniforms[l],a=t.customUniformLocations[l],o=r[l];if("float"===n.type)e.gl.uniform1fv(a,o);else if("vec2"===n.type)e.gl.uniform2fv(a,o);else if("vec3"===n.type)e.gl.uniform3fv(a,o);else if("vec4"===n.type)e.gl.uniform4fv(a,o);else if("int"===n.type)e.gl.uniform1iv(a,o);else if("ivec2"===n.type)e.gl.uniform2iv(a,o);else if("ivec3"===n.type)e.gl.uniform3iv(a,o);else{if("ivec4"!==n.type)throw Error("uniform type ".concat(n.type," is not supported yet."));e.gl.uniform4iv(a,o)}}e.executeProgram()}(this.gpgpu,h,c,u,a),l.forEach((e=>this.disposeIntermediateTensorInfo(e))),p&&(f=this.endTimer(f),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(f)}));const m=ty().getNumber("WEBGL_FLUSH_THRESHOLD");if(m>0){const e=ex();e-this.lastGlFlushTime>m&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=e)}if(!ty().getBool("WEBGL_LAZILY_UNPACK")&&i.isPacked&&!1===r){const e=this.unpackTensor(s);return this.disposeIntermediateTensorInfo(s),e}return s}compileAndRun(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n=n||t[0].dtype;return this.runWebGLProgram(e,t,n,a,r)}getAndSaveBinary(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){if(!this.disposed){if(!ty().getBool("IS_TEST")){Object.keys(this.binaryCache).forEach((e=>{this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram),delete this.binaryCache[e]}))}this.textureManager.dispose(),null!=this.canvas&&"undefined"!==typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=gk((()=>{if(!ty().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=ty().getBool("DEBUG");ty().set("DEBUG",!1);const t=this.abs(YS(1e-8)).dataSync()[0];if(ty().set("DEBUG",e),t>0)return 32}return 16}))),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}uploadToGPU(e){const t=this.texData.get(e),{shape:n,dtype:a,values:r,texture:o,usage:s,isPacked:i}=t;if(null!=o)return;const l=null!=this.activeTimers;let c;l&&(c=ex());let u=t.texShape;if(null==u&&(u=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=ty().getNumber("WEBGL_MAX_TEXTURE_SIZE"),a=ty().getNumber("WEBGL_MAX_SIZE_FOR_NARROW_TEXTURE");if(a===1/0&&ty().getBool("WEBGL_AUTO_SQUARIFY_NARROW_TEXTURE_SHAPE")&&(a=n/2),t&&(n*=2,a*=2,1===(e=e.map(((t,n)=>n>=e.length-2?ig(e[n]):e[n]))).length&&(e=[2,e[0]])),2!==e.length){const t=Ig(e);e=t.newShape}let r=mg(e),o=null;e.length<=1&&r<=n?o=[1,r]:2===e.length&&e[0]<=n&&e[1]<=n?o=e:3===e.length&&e[0]*e[1]<=n&&e[2]<=n?o=[e[0]*e[1],e[2]]:3===e.length&&e[0]<=n&&e[1]*e[2]<=n?o=[e[0],e[1]*e[2]]:4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n?o=[e[0]*e[1]*e[2],e[3]]:4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n&&(o=[e[0],e[1]*e[2]*e[3]]);const s=null!=o&&Math.max(...o)>a&&Math.min(...o)<=(t?2:1)&&Math.min(...o)>0;if(null==o||s)if(t){const t=NX(e);let n=2,a=2;e.length&&([n,a]=TX(e)),r=t*(n/2)*(a/2),o=xg(r).map((e=>2*e))}else o=xg(r);return o}(n,i),t.texShape=u),null!=r){const e=CX(n);let o,s=u[1],d=u[0];const h=r instanceof Uint8Array||r instanceof Uint8ClampedArray;!i&&h||([s,d]=cX(u[0],u[1])),o=i?new pY(e,h):new hY(e,h);const p=h?[d,s]:u,f=this.makeTensorInfo(p,a),m=this.texData.get(f.dataId);m.usage=h?oX.PIXELS:oX.UPLOAD,m.texShape=p,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(f.dataId),s,d,r);const g=[[d,s]],y=!0,b=this.runWebGLProgram(o,[f],a,g,y),v=this.texData.get(b.dataId);t.texShape=v.texShape,t.isPacked=v.isPacked,t.usage=v.usage,ty().get("ENGINE_COMPILE_ONLY")?this.disposeData(b.dataId):(t.texture=v.texture,t.values=null,this.texData.delete(b.dataId)),this.disposeIntermediateTensorInfo(f),l&&(this.uploadWaitMs+=ex()-c)}else{const e=this.acquireTexture(u,s,a,i);t.texture=e}}convertAndCacheOnCPU(e,t){const n=this.texData.get(e),{dtype:a}=n;return null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){const n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length);for(let t=0;t<n.length;++t)n[t]=Math.round(e[t]);return n}throw new Error("Unknown dtype ".concat(t))}(t,a)),n.values}acquireTexture(e,t,n,a){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){const e=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: ".concat(e," MB, ")+"most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,a)}computeBytes(e,t){return e[0]*e[1]*Og(t)}checkCompileCompletion(){for(const[,e]of Object.entries(this.binaryCache))this.checkCompletion_(e)}async checkCompileCompletionAsync(){const e=[];if(this.gpgpu.parallelCompilationExtension){for(const[,t]of Object.entries(this.binaryCache))e.push(this.checkCompletionAsync_(t));return Promise.all(e)}for(const[,t]of Object.entries(this.binaryCache)){const n=new Promise((e=>{try{this.checkCompletion_(t),e(!0)}catch(n){throw n}}));e.push(n)}return Promise.all(e)}async checkCompletionAsync_(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(await eR(),this.checkCompletionAsync_(e))}checkCompletion_(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw mX(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.");throw new Error("Failed to link vertex and fragment shaders.")}return!0}getUniformLocations(){for(const e of Object.values(this.binaryCache)){this.gpgpu.buildVao(e.webGLProgram);const{variablesLocations:t,customUniformLocations:n,infLoc:a,nanLoc:r,outShapeLocation:o,outShapeStridesLocation:s,outTexShapeLocation:i}=rY(this.gpgpu,e.program,e.webGLProgram);e.variablesLocations=t,e.customUniformLocations=n,e.infLoc=a,e.nanLoc=r,e.outShapeLocation=o,e.outShapeStridesLocation=s,e.outTexShapeLocation=i}}createTensorFromGPUData(e,t,n){e.channels=e.channels||"RGBA";const{texture:a,height:r,width:o,channels:s}=e,i=pk().backend;if(!i.gpgpu.gl.isTexture(a))throw new Error("The texture is invalid. Also, please make sure the texture and the TFJS WebGL backend are using the same canvas. If you want to use your own custom canvas, you have to create and use the custom TFJS WebGL backend created from the canvas through 'new tf.MathBackendWebGL(customCanvas)'.");const l=i.writeTexture(a,t,n,r,o,s);return pk().makeTensorFromDataId(l,t,n,i)}}KQ.nextDataId=0;Xx()&&Ck("webgl",(()=>new KQ),2);const XQ="\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n";class YQ{constructor(e,t,n){this.variableNames=["A","B"],this.outputShape=hN(t,n),this.enableShapeUniforms=sY(this.outputShape.length),this.userCode="\n      float binaryOperation(float a, float b) {\n        ".concat(e,"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    ")}}const QQ="\n  result.r = isNaN.r ? NAN : result.r;\n  result.g = isNaN.g ? NAN : result.g;\n  result.b = isNaN.b ? NAN : result.b;\n  result.a = isNaN.a ? NAN : result.a;\n";class ZQ{constructor(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=hN(t,n);const r=this.outputShape.length;this.enableShapeUniforms=sY(r);let o="";if(a)if(0===r||1===mg(this.outputShape))o="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{const e=$X(r);if(o="\n          ".concat(e," coords = getOutputCoords();\n        "),1===r)this.enableShapeUniforms?o+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":o+="\n            result.y = (coords + 1) >= ".concat(this.outputShape[0]," ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ");else{const e=xQ("coords",r);this.enableShapeUniforms?o+="\n            bool nextRowOutOfBounds =\n              (".concat(e[r-2]," + 1) >= outShape[").concat(r," - 2];\n            bool nextColOutOfBounds =\n              (").concat(e[r-1]," + 1) >= outShape[").concat(r," - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "):o+="\n            bool nextRowOutOfBounds =\n              (".concat(e[r-2]," + 1) >= ").concat(this.outputShape[r-2],";\n            bool nextColOutOfBounds =\n              (").concat(e[r-1]," + 1) >= ").concat(this.outputShape[r-1],";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          ")}}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ".concat(e,"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ").concat(o,"\n\n        setOutput(result);\n      }\n    ")}}function JQ(e){const{inputs:t,backend:n}=e,{x:a}=t;return n.incRef(a.dataId),{dataId:a.dataId,shape:a.shape,dtype:a.dtype}}const $Q={kernelName:kb,backendName:"webgl",kernelFunc:JQ};function eZ(e){const{inputs:t,backend:n}=e,{real:a,imag:r}=t,o=n.makeTensorInfo(a.shape,"complex64"),s=n.texData.get(o.dataId),i=JQ({inputs:{x:a},backend:n}),l=JQ({inputs:{x:r},backend:n});return s.complexTensorInfos={real:i,imag:l},o}const tZ={kernelName:Oy,backendName:"webgl",kernelFunc:eZ},nZ="return (a < 0.) ? b * a : a;",aZ="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const rZ={kernelName:Eb,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{alpha:o}=a,s=n.makeTensorInfo([],"float32",Jw(o,"float32")),i=ty().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ZQ(aZ,r.shape,s.shape):new YQ(nZ,r.shape,s.shape),l=n.runWebGLProgram(i,[r,s],"float32");return n.disposeIntermediateTensorInfo(s),l}},oZ="return (a < 0.) ? b * a : a;",sZ="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";const iZ={kernelName:fv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:a,alpha:r}=t,o=ty().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ZQ(sZ,a.shape,r.shape):new YQ(oZ,a.shape,r.shape);return n.runWebGLProgram(o,[a,r],"float32")}},lZ="if (isnan(x)) return x;";function cZ(e){let{opSnippet:t,packedOpSnippet:n,cpuKernelImpl:a,dtype:r}=e;return e=>{let{inputs:o,backend:s}=e;const{x:i}=o,l=s,c=r||i.dtype;if(l.shouldExecuteOnCPU([i])&&null!=a){const e=l.texData.get(i.dataId),t=a(e.values,c);return l.makeTensorInfo(i.shape,c,t)}let u;return u=ty().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=n?new UQ(i.shape,n):new EQ(i.shape,t),l.runWebGLProgram(u,[i],c)}}function uZ(e){let{opSnippet:t,packedOpSnippet:n,checkOutOfBounds:a=!1,supportsComplex:r=!1,cpuKernelImpl:o,dtype:s}=e;return e=>{let{inputs:i,backend:l}=e;const{a:c,b:u}=i,d=l;if(r&&"complex64"===c.dtype){const e=d.texData.get(c.dataId),n=d.texData.get(u.dataId),[a,r]=[[e.complexTensorInfos.real,n.complexTensorInfos.real],[e.complexTensorInfos.imag,n.complexTensorInfos.imag]].map((e=>{const[n,a]=e,r={dataId:n.dataId,dtype:n.dtype,shape:c.shape},o={dataId:a.dataId,dtype:a.dtype,shape:u.shape},s=new YQ(t,c.shape,u.shape);return d.runWebGLProgram(s,[r,o],_x(n.dtype,a.dtype))})),o=eZ({inputs:{real:a,imag:r},backend:d});return d.disposeIntermediateTensorInfo(a),d.disposeIntermediateTensorInfo(r),o}const h=s||_x(c.dtype,u.dtype);if(("string"===c.dtype||"string"===u.dtype||d.shouldExecuteOnCPU([c,u]))&&null!=o){const e=d.texData.get(c.dataId).values,t=d.texData.get(u.dataId).values,n="string"===c.dtype?rD(e):e,a="string"===c.dtype?rD(t):t,[r,s]=o(c.shape,u.shape,n,a,h),i=d.makeTensorInfo(s,h);return d.texData.get(i.dataId).values=r,i}let p;return p=ty().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=n?new ZQ(n,c.shape,u.shape,a):new YQ(t,c.shape,u.shape),d.runWebGLProgram(p,[c,u],h)}}function dZ(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("linear"===e)return t?PQ:_Q;if("relu"===e)return t?jQ:OQ;if("elu"===e)return t?zQ:DQ;if("relu6"===e)return t?BQ:FQ;if("prelu"===e)return t?sZ:oZ;if("leakyrelu"===e)return t?aZ:nZ;if("sigmoid"===e)return t?WQ:MQ;throw new Error("Activation ".concat(e," has not been implemented for the WebGL backend."))}class hZ{constructor(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,i=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n,this.enableShapeUniforms=sY(this.outputShape.length);const c=a?e[1]:e[2],u=Math.ceil(c/2),d=a?"i * 2, rc.y":"rc.y, i * 2",h=r?"rc.z, i * 2":"i * 2, rc.z",p=a?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],f=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"];let m="",g="";s&&(m=i?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(s,"\n        }"):l?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(s,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(s,"\n        }"),g="result = activation(result);");const y=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),l&&this.variableNames.push("leakyreluAlpha");let b="rc.x",v="rc.x";e[0]<t[0]?b="imod(rc.x, ".concat(e[0],")"):t[0]<e[0]&&(v="imod(rc.x, ".concat(t[0],")")),this.userCode="\n      ".concat(m,"\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ").concat(u,".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        int batchA = ").concat(b,";\n        int batchB = ").concat(v,";\n        for (int i = 0; i < ").concat(u,"; i++) {\n          vec4 a = getMatrixA(batchA, ").concat(d,");\n          vec4 b = getMatrixB(batchB, ").concat(h,");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (").concat(p[0]," * ").concat(f[0],");\n          result += (").concat(p[1]," * ").concat(f[1],");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ").concat(y,"\n\n        ").concat(g,"\n\n        setOutput(result);\n      }\n    ")}}const pZ={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"};class fZ{constructor(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=hN(t,n),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ".concat(e,"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    ")}}const mZ="return a * b;";function gZ(e){const{inputs:t,backend:n}=e,{a:a,b:r}=t,o=_x(a.dtype,r.dtype);if("complex64"===a.dtype){const e=n.texData.get(a.dataId),t=n.texData.get(r.dataId),o=new fZ(pZ.REAL,a.shape,r.shape),s=new fZ(pZ.IMAG,a.shape,r.shape),i=[{dataId:e.complexTensorInfos.real.dataId,dtype:e.complexTensorInfos.real.dtype,shape:a.shape},{dataId:e.complexTensorInfos.imag.dataId,dtype:e.complexTensorInfos.imag.dtype,shape:a.shape},{dataId:t.complexTensorInfos.real.dataId,dtype:t.complexTensorInfos.real.dtype,shape:r.shape},{dataId:t.complexTensorInfos.imag.dataId,dtype:t.complexTensorInfos.imag.dtype,shape:r.shape}],l=n.runWebGLProgram(o,i,"float32"),c=n.runWebGLProgram(s,i,"float32"),u=eZ({inputs:{real:l,imag:c},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(c),u}if(n.shouldExecuteOnCPU([a,r])){const e=n.texData.get(a.dataId),t=n.texData.get(r.dataId),[s,i]=KY(a.shape,r.shape,e.values,t.values,o),l=n.makeTensorInfo(i,o);return n.texData.get(l.dataId).values=s,l}let s;return s=ty().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ZQ(mZ,a.shape,r.shape):new YQ(mZ,a.shape,r.shape),n.runWebGLProgram(s,[a,r],o)}const yZ={kernelName:nv,backendName:"webgl",kernelFunc:gZ};function bZ(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{shape:o}=a,s=n,i=mg(r.shape),l=Tg(o,i),c=mg(l);hg(i===c,(()=>"The new shape (".concat(l,") has ").concat(c," elements and the old ")+"shape (".concat(r.shape,") has ").concat(i," elements. The new shape and old ")+"shape must have the same number of elements."));const u=s.texData.get(r.dataId);return!u.isPacked||EX(r.shape,l)||null!==u.texture&&EX(u.shape,l)?(s.incRef(r.dataId),{dataId:r.dataId,shape:l,dtype:r.dtype}):function(e,t,n){const a=[NX(e.shape),...TX(e.shape)],r={dtype:e.dtype,shape:a,dataId:e.dataId},o=[NX(t),...TX(t)],s=new SQ(o,a),i=[a],l=n.runWebGLProgram(s,[r],e.dtype,i,!0);return{dataId:l.dataId,shape:t,dtype:l.dtype}}(r,l,s)}const vZ={kernelName:Sv,backendName:"webgl",kernelFunc:bZ};class wZ{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:a,inSize:r,outSize:o}=e;this.outputShape=[a,o];const s=4*Math.floor(n/4),i=n%4;let l="sumValue += dot(values, ones);";if(null!=t){const e=1/t;l="sumValue += dot(values * ".concat(vg(e)?e.toPrecision(2):e,", ones);")}let c="";r%n>0&&(c="\n        if (inIdx < 0 || inIdx >= ".concat(r,") {\n          return 0.0;\n        }\n      ")),this.userCode="\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ".concat(c,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(n,";\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(s,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(l,"\n        }\n\n        int inIdx = inOffset + ").concat(s,";\n        if (").concat(1===i,") {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ").concat(l,"\n        } else if (").concat(2===i,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ").concat(l,"\n        } else if (").concat(3===i,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ").concat(l,"\n        }\n        setOutput(sumValue);\n      }\n    ")}}class xZ{constructor(e,t){this.variableNames=["x"];const{windowSize:n,batchSize:a,inSize:r,outSize:o}=e;this.outputShape=[a,o];let s="0.0",i="";"prod"===t?s="1.0":"min"===t?(s="1.0 / 1e-20",i="min"):"max"===t&&(s="-1.0 / 1e-20",i="max");let l="".concat(t,"(").concat(t,"(").concat(t,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===t?l="sumValue":"prod"===t?l="prodValue":"all"===t?l="allValue":"any"===t&&(l="anyValue");const c=4*Math.floor(n/4),u=n%4;let d="\n      if (".concat("sum"===t,") {\n        sumValue += dot(values, ones);\n      } else if (").concat("prod"===t,") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ").concat(i,"(values, minMaxValue);\n        if (").concat("min"===t," || ").concat("max"===t,") {\n          minMaxValue = ").concat(i,"(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    "),h="vec4";"all"===t?(s="1.0",d="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",h="bvec4"):"any"===t&&(s="0.0",d="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",h="bvec4");let p="";r%n>0&&(p="\n        if (inIdx < 0 || inIdx >= ".concat(r,") {\n          return initializationValue;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat(s,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ").concat(p,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(n,";\n\n        vec4 minMaxValue = vec4(").concat(s,");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ").concat(c,"; i += 4) {\n          int inIdx = inOffset + i;\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(d,"\n        }\n\n        int inIdx = inOffset + ").concat(c,";\n        if (").concat(1===u,") {\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(d,"\n        } else if (").concat(2===u,") {\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(d,"\n        } else if (").concat(3===u,") {\n          ").concat(h," values = ").concat(h,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ").concat(d,"\n        }\n        setOutput(").concat(l,");\n      }\n    ")}}function kZ(e,t,n,a){const r=function(e){const t=[];for(;0===t.length||1!==t[t.length-1].outSize;){const n=t.length?t[t.length-1].outSize:e[1],a=cR(n);t.push({inSize:n,windowSize:a,outSize:Math.ceil(n/a)})}return t}(e.shape);let o=e;for(let s=0;s<r.length;s++){const{inSize:i,windowSize:l,outSize:c}=r[s];let u,d;u="mean"===n?0===s?new wZ({windowSize:l,inSize:i,batchSize:e.shape[0],outSize:c},i):new wZ({windowSize:l,inSize:i,batchSize:e.shape[0],outSize:c}):new xZ({windowSize:l,inSize:i,batchSize:e.shape[0],outSize:c},n),d=o,o=a.runWebGLProgram(u,[o],t),d.dataId!==e.dataId&&a.disposeIntermediateTensorInfo(d)}return o}class SZ{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let o=0;o<n.length;o++)n[o]=e[t[o]];this.outputShape=n,this.rank=n.length;const a=$X(this.rank),r=function(e){const t=e.length;if(t>6)throw Error("Transpose for rank ".concat(t," is not yet supported"));const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],a=new Array(t);for(let r=0;r<e.length;r++)a[e[r]]=n[r];return a.join()}(t);this.userCode="\n    void main() {\n      ".concat(a," resRC = getOutputCoords();\n      setOutput(getA(").concat(r,"));\n    }\n    ")}}class NZ{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;const n=new Array(e.length);for(let c=0;c<n.length;c++)n[c]=e[t[c]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank ".concat(this.rank," is not yet supported."));const a=$X(this.rank),r=wQ("rc",this.rank),o=new Array(this.rank);for(let c=0;c<t.length;c++)o[t[c]]=r[c];const s="vec2(".concat(o.slice(-2).join(),")"),i="++".concat(r[this.rank-1]," < ").concat(n[this.rank-1]),l="getChannel(getA(".concat(o.join(),"), ").concat(s,")");this.userCode="\n    void main() {\n      ".concat(a," rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ").concat(l,";\n      if(").concat(i,") {\n        result[1] = ").concat(l,";\n      }\n      --").concat(r[this.rank-1],";\n      if(++").concat(r[this.rank-2]," < ").concat(n[this.rank-2],") {\n        result[2] = ").concat(l,";\n        if(").concat(i,") {\n          result[3] = ").concat(l,";\n        }\n      }\n      setOutput(result);\n    }\n    ")}}function TZ(e,t,n){const a=ty().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new NZ(e.shape,t):new SZ(e.shape,t);return n.runWebGLProgram(a,[e],e.dtype)}function CZ(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,keepDims:s}=a;return function(e,t,n,a){const r=t,o=e.shape.length,s=Cg(r,e.shape);let i=s;const l=hI(i,o),c=null!=l;let u=e;c&&(u=TZ(e,l,a),i=fI(i.length,o)),dI("sum",i,o);const[d,h]=cI(u.shape,i);let p=d;n&&(p=uI(d,s));const f=mg(h),m=bZ({inputs:{x:u},attrs:{shape:[mg(e.shape)/f,f]},backend:a}),g=kZ(m,Rx(e.dtype),"sum",a),y=bZ({inputs:{x:g},attrs:{shape:p},backend:a});return a.disposeIntermediateTensorInfo(m),a.disposeIntermediateTensorInfo(g),c&&a.disposeIntermediateTensorInfo(u),y}(r,o,s,n)}const IZ={kernelName:Hv,backendName:"webgl",kernelFunc:CZ};function EZ(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{perm:o}=a,s=n,i=r.shape.length,l=new Array(i);for(let u=0;u<l.length;u++)l[u]=r.shape[o[u]];let c;if(s.shouldExecuteOnCPU([r])){const e=s.texData.get(r.dataId).values,t=bQ(e,r.shape,r.dtype,o,l);c=s.makeTensorInfo(l,r.dtype);s.texData.get(c.dataId).values=t}else c=TZ(r,o,s);return c}const AZ={kernelName:hw,backendName:"webgl",kernelFunc:EZ},_Z=1e3;function RZ(e){let{a:t,b:n,transposeA:a,transposeB:r,backend:o,bias:s=null,preluActivationWeights:i=null,leakyreluAlpha:l=0,activation:c=null}=e;const u=t.shape.length,d=n.shape.length,h=a?t.shape[u-2]:t.shape[u-1],p=r?n.shape[d-1]:n.shape[d-2],f=a?t.shape[u-1]:t.shape[u-2],m=r?n.shape[d-2]:n.shape[d-1],g=t.shape.slice(0,-2),y=n.shape.slice(0,-2),b=mg(g),v=mg(y),w=hN(t.shape.slice(0,-2),n.shape.slice(0,-2)).concat([f,m]);hg(h===p,(()=>"Error in matMul: inner shapes (".concat(h,") and (")+"".concat(p,") of Tensors with shapes ").concat(t.shape," and ")+"".concat(n.shape," and transposeA=").concat(a)+" and transposeB=".concat(r," must match.")));const x=a?[b,h,f]:[b,f,h],k=r?[v,m,p]:[v,p,m],S=bZ({inputs:{x:t},backend:o,attrs:{shape:x}}),N=bZ({inputs:{x:n},backend:o,attrs:{shape:k}}),T=[S,N],C=Math.max(b,v),I=a?S.shape[1]:S.shape[2],E=null!=s,A=null!=i,_="leakyrelu"===c,R=null!=c?dZ(c,!0):null;let D;if((1===f||1===m)&&I>_Z&&!1===(E||A||_||null!=R)){let e=S,t=N;a&&(e=EZ({inputs:{x:S},backend:o,attrs:{perm:[0,2,1]}}),T.push(e)),r&&(t=EZ({inputs:{x:N},backend:o,attrs:{perm:[0,2,1]}}),T.push(t));const n=1===m;let s=e;1!==m&&(s=bZ({inputs:{x:e},backend:o,attrs:{shape:[C,I,1]}}),T.push(s));const i=1===m?2:1;let l=t;n&&(l=bZ({inputs:{x:t},backend:o,attrs:{shape:[C,1,I]}}),T.push(l));const c=gZ({inputs:{a:s,b:l},backend:o});D=CZ({inputs:{x:c},backend:o,attrs:{axis:i,keepDims:!0}}),T.push(c)}else{const e=_x(t.dtype,n.dtype),c=new hZ(x,k,[C,f,m],a,r,E,R,A,_),u=[S,N];if(null!=s&&u.push(s),A&&u.push(i),_){const e=o.makeTensorInfo([],"float32",Jw(l,"float32"));u.push(e),T.push(e)}D=o.runWebGLProgram(c,u,e)}const O=bZ({inputs:{x:D},backend:o,attrs:{shape:w}});T.push(D);for(const F of T)o.disposeIntermediateTensorInfo(F);return O}const DZ={kernelName:xw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{a:r,b:o,bias:s,preluActivationWeights:i}=t,{transposeA:l,transposeB:c,activation:u,leakyreluAlpha:d}=a;return RZ({a:r,b:o,transposeA:l,transposeB:c,backend:n,bias:s,preluActivationWeights:i,leakyreluAlpha:d,activation:u})}},OZ="return abs(x);";const FZ={kernelName:sy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:a}=t;if(n.shouldExecuteOnCPU([a])&&"complex64"!==a.dtype){const e=n.texData.get(a.dataId),t=rQ(e.values);return n.makeTensorInfo(a.shape,a.dtype,t)}let r;return r=ty().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new UQ(a.shape,OZ):new EQ(a.shape,OZ),n.runWebGLProgram(r,[a],a.dtype)}},LZ=cZ({opSnippet:AQ+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),MZ={kernelName:iy,backendName:"webgl",kernelFunc:LZ},PZ=cZ({opSnippet:AQ+"\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),zZ={kernelName:ly,backendName:"webgl",kernelFunc:PZ},jZ="return a + b;",BZ=uZ({opSnippet:jZ,packedOpSnippet:jZ,supportsComplex:!0,cpuKernelImpl:TY}),WZ={kernelName:cy,backendName:"webgl",kernelFunc:BZ};class UZ{constructor(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map(((e,t)=>"T".concat(t)));const n=[];this.variableNames.forEach((e=>{n.push("float v".concat(e," = get").concat(e,"AtOutCoords();"))}));const a=this.variableNames.map((e=>"v".concat(e))).join(" + ");this.userCode="\n      void main() {\n        ".concat(n.join("\n        "),"\n\n        float result = ").concat(a,";\n        setOutput(result);\n      }\n    ")}}class VZ{constructor(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map(((e,t)=>"T".concat(t)));const n=[];this.variableNames.forEach((e=>{n.push("vec4 v".concat(e," = get").concat(e,"AtOutCoords();"))}));const a=this.variableNames.map((e=>"v".concat(e))).join(" + ");this.userCode="\n      void main() {\n        ".concat(n.join("\n        "),"\n\n        vec4 result = ").concat(a,";\n        setOutput(result);\n      }\n    ")}}const HZ={kernelName:uy,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:a}=t,r=n;if(1===r.length)return JQ({inputs:{x:r[0]},backend:a});if(r.length>ty().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){const t=Math.floor(r.length/2),n=e({inputs:r.slice(0,t),backend:a}),o=e({inputs:r.slice(t),backend:a});return e({inputs:[n,o],backend:a})}const o=r.map((e=>e.dtype)).reduce(((e,t)=>_x(e,t))),s=r.map((e=>e.shape)),i=ty().getBool("WEBGL_PACK")?new VZ(r[0].shape,s):new UZ(r[0].shape,s);return a.runWebGLProgram(i,r,o)}};const GZ={kernelName:dy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,keepDims:s}=a,i=r.shape.length,l=Cg(o,r.shape);let c=l;const u=hI(c,i);let d=r;null!=u&&(d=EZ({inputs:{x:r},backend:n,attrs:{perm:u}}),c=fI(c.length,i)),dI("all",c,i);const[h,p]=cI(d.shape,c),f=bZ({inputs:{x:d},backend:n,attrs:{shape:[-1,mg(p)]}}),m=kZ(f,f.dtype,"all",n);let g;if(s){g=bZ({inputs:{x:m},backend:n,attrs:{shape:uI(h,l)}})}else g=bZ({inputs:{x:m},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=u&&n.disposeIntermediateTensorInfo(d),g}};const qZ={kernelName:hy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,keepDims:s}=a,i=r.shape.length,l=Cg(o,r.shape);let c=l;const u=hI(c,i);let d=r;null!=u&&(d=EZ({inputs:{x:r},backend:n,attrs:{perm:u}}),c=fI(c.length,i)),dI("any",c,i);const[h,p]=cI(d.shape,c),f=bZ({inputs:{x:d},backend:n,attrs:{shape:[-1,mg(p)]}}),m=kZ(f,f.dtype,"any",n);let g;if(s){g=bZ({inputs:{x:m},backend:n,attrs:{shape:uI(h,l)}})}else g=bZ({inputs:{x:m},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=u&&n.disposeIntermediateTensorInfo(d),g}};class KZ{constructor(e,t,n){this.variableNames=["A"];const{windowSize:a,batchSize:r,outSize:o}=e;n||this.variableNames.push("bestIndicesA"),this.outputShape=[r,o];const s="max"===t?">":"<",i=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ".concat(a,";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ").concat(a,"; i++) {\n          int inIdx = ").concat(i,";\n          float candidate = getA(batch, inIdx);\n          if (candidate ").concat(s," bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    ")}}class XZ{constructor(e,t,n,a){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,hg(e.length>2,(()=>"Packed arg".concat(n.charAt(0).toUpperCase()+n.slice(1)," supports only inputs with rank above 2.")));const r=e[e.length-1],o=Math.ceil(r/t);this.outputShape=e.slice(0,-1),o>1&&this.outputShape.push(o),a||this.variableNames.push("bestIndicesA");const s=this.outputShape,i=s.length,l=$X(i),c=xQ("coords",i);let u,d;if(1===o){d=i+1;const e=$X(d);u="\n        ".concat(e," sourceLocR = ").concat(e,"(").concat(c.join(),", 0);\n        ++").concat(c[i-1],";\n        ").concat(e," sourceLocG = ").concat(e,"(").concat(c.join(),", 0);\n        ++").concat(c[i-2],";\n        ").concat(e," sourceLocA = ").concat(e,"(").concat(c.join(),", 0);\n        --").concat(c[i-1],";\n        ").concat(e," sourceLocB = ").concat(e,"(").concat(c.join(),", 0);\n        --").concat(c[i-2],";")}else d=i,u="\n        ".concat(l," sourceLocR = coords;\n        ++").concat(c[i-1],";\n        ").concat(l," sourceLocG = coords;\n        ++").concat(c[i-2],";\n        ").concat(l," sourceLocA = coords;\n        --").concat(c[i-1],";\n        ").concat(l," sourceLocB = coords;\n        --").concat(c[i-2],";");const h=["x","y","z","w","u","v"].slice(0,d),p="."+h[d-1],f=h.map((e=>"int "+e)),m=xQ("sourceLocR",d-1).concat("inIdx.r"),g=xQ("sourceLocG",d-1).concat("inIdx.g"),y=xQ("sourceLocB",d-1).concat("inIdx.b"),b=xQ("sourceLocA",d-1).concat("inIdx.a"),v="max"===n?"greaterThan":"lessThan",w=a?"":"\n          inIdx = round(vec4(getBestIndicesAChannel(".concat(m.join(),"),\n                             getBestIndicesAChannel(").concat(g.join(),"),\n                             getBestIndicesAChannel(").concat(y.join(),"),\n                             getBestIndicesAChannel(").concat(b.join(),")));"),x="vec4(\n            getAChannel(".concat(m.join(),"),\n            hasNextCol ? getAChannel(").concat(g.join(),") : 0.,\n            hasNextRow ? getAChannel(").concat(y.join(),") : 0.,\n            hasNextRow && hasNextCol ? getAChannel(").concat(b.join(),") : 0.)"),k=a?"":"\n      float getBestIndicesAChannel(".concat(f.join(),") {\n        return getChannel(getBestIndicesA(").concat(h.join(),"),\n                                          vec2(").concat(h.slice(-2).join(),"));\n      }");this.userCode="\n      float getAChannel(".concat(f.join(),") {\n        return getChannel(getA(").concat(h.join(),"),\n                               vec2(").concat(h.slice(-2).join(),"));\n      }\n      ").concat(k,"\n      void main() {\n        ").concat(l," coords = getOutputCoords();\n        bool hasNextCol = ").concat(c[i-1]," < ").concat(s[i-1]-1,";\n        bool hasNextRow = ").concat(c[i-2]," < ").concat(s[i-2]-1,";\n        ").concat(u,"\n        ivec4 srcIdx = ivec4(sourceLocR").concat(p,", sourceLocG").concat(p,",\n          sourceLocB").concat(p,", sourceLocA").concat(p,") * ").concat(t,";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ").concat(x,";\n\n        for (int i = 0; i < ").concat(t,"; i++) {\n          inIdx = srcIdx;\n          ").concat(w,"\n          vec4 candidate = ").concat(x,";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(").concat(v,"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    ")}}function YZ(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=t.shape[0],o=t.shape[1];null!=a&&(r=a.shape[0],o=a.shape[1]);const s=cR(o),i={windowSize:s,inSize:o,batchSize:r,outSize:Math.ceil(o/s)},l=new KZ(i,n,null==a),c=[t];null!=a&&c.push(a);const u=e.runWebGLProgram(l,c,"int32");if(1===u.shape[1])return u;const d=YZ(e,t,n,u);return e.disposeIntermediateTensorInfo(u),d}function QZ(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const r=null!=a?a.shape:t.shape,o=cR(r[r.length-1]),s=new XZ(r,o,n,null==a),i=null==a?[t]:[t,a],l=e.runWebGLProgram(s,i,"int32");if(l.shape.length===t.shape.length){const a=QZ(e,t,n,l);return e.disposeIntermediateTensorInfo(l),a}return l}function ZZ(e,t,n,a){const r=[n];if(dI("arg"+a.charAt(0).toUpperCase()+a.slice(1),r,t.shape.length),!ty().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){const n=[],o=e.texData.get(t.dataId);let s=t;null!==o&&o.isPacked&&(s=e.unpackTensor(t),n.push(s));const[i,l]=cI(s.shape,r),c=mg(l),u=bZ({inputs:{x:s},backend:e,attrs:{shape:[-1,c]}});n.push(u);const d=YZ(e,u,a);n.push(d);const h=bZ({inputs:{x:d},backend:e,attrs:{shape:i}});return n.forEach((t=>e.disposeIntermediateTensorInfo(t))),h}return QZ(e,t,a)}const JZ={kernelName:py,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o}=a;let s=Cg(o,r.shape);const i=hI(s,r.shape.length);let l=r;const c=[];null!=i&&(l=EZ({inputs:{x:r},backend:n,attrs:{perm:i}}),c.push(l),s=fI(s.length,l.shape.length)),dI("argMax",[s[0]],l.shape.length);const u=ZZ(n,l,s[0],"max");return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),u}};const $Z={kernelName:fy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o}=a;let s=Cg(o,r.shape);const i=hI(s,r.shape.length);let l=r;const c=[];null!=i&&(l=EZ({inputs:{x:r},backend:n,attrs:{perm:i}}),c.push(l),s=fI(s.length,l.shape.length)),dI("argMin",[s[0]],l.shape.length);const u=ZZ(n,l,s[0],"min");return c.forEach((e=>n.disposeIntermediateTensorInfo(e))),u}},eJ=cZ({opSnippet:AQ+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),tJ={kernelName:my,backendName:"webgl",kernelFunc:eJ},nJ=cZ({opSnippet:AQ+"return log(x + sqrt(x * x + 1.0));"}),aJ={kernelName:gy,backendName:"webgl",kernelFunc:nJ},rJ=cZ({opSnippet:AQ+"\n  return atan(x);\n"}),oJ={kernelName:yy,backendName:"webgl",kernelFunc:rJ},sJ=uZ({opSnippet:XQ+"\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+QQ+"\n  return result;\n"}),iJ={kernelName:vy,backendName:"webgl",kernelFunc:sJ},lJ=cZ({opSnippet:AQ+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),cJ={kernelName:by,backendName:"webgl",kernelFunc:lJ};class uJ{constructor(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const o=e.filterWidth,s=e.strideHeight,i=e.strideWidth,l=e.dilationHeight,c=e.dilationWidth,u=e.effectiveFilterHeight,d=e.effectiveFilterWidth,h=e.padInfo.top,p=e.padInfo.left;this.outputShape=e.outShape;const f="avg"===t,m="((batch  * ".concat(e.inHeight," + xR) * ").concat(e.inWidth," + xC) * ").concat(e.inChannels," + d"),g="(xR * ".concat(e.inWidth," + xC) * ").concat(e.inChannels," + d");let y="0.0";if(f||(y="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode="\n        const ivec2 strides = ivec2(".concat(s,", ").concat(i,");\n        const ivec2 pads = ivec2(").concat(h,", ").concat(p,");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ").concat(u,";\n              wR += ").concat(l,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(d,";\n                wC += ").concat(c,") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ").concat(t," currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ").concat(a?r?m:g:"wR * ".concat(d," + wC"),";\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      "))}let b="".concat(t,"(").concat(t,"(").concat(t,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(b="avgValue / max(count, 1.0)");const v=4*Math.floor(o/4),w=o%4,x="\n      if (".concat(f,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat("max","(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec2 strides = ivec2(".concat(s,", ").concat(i,");\n      const ivec2 pads = ivec2(").concat(h,", ").concat(p,");\n      const float initializationValue = ").concat(y,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ").concat(e.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(y,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ").concat(u,";\n            wR += ").concat(l,") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ").concat(e.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(v,"; wC += 4) {\n            int xC = xCCorner + wC * ").concat(c,";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(c,", d),\n              getValue(batch, xR, xC + 2 * ").concat(c,", d),\n              getValue(batch, xR, xC + 3 * ").concat(c,", d)\n            );\n\n            ").concat(x,"\n          }\n\n          int xC = xCCorner + ").concat(v,";\n          if (").concat(1===w,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(x,"\n          } else if (").concat(2===w,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(c,", d),\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(x,"\n          } else if (").concat(3===w,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(c,", d),\n              getValue(batch, xR, xC + 2 * ").concat(c,", d),\n              initializationValue\n            );\n\n            ").concat(x,"\n          }\n        }\n        setOutput(").concat(b,");\n      }\n    ")}}class dJ{constructor(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");const o=e.filterWidth,s=e.strideDepth,i=e.strideHeight,l=e.strideWidth,c=e.dilationDepth,u=e.dilationHeight,d=e.dilationWidth,h=e.effectiveFilterDepth,p=e.effectiveFilterHeight,f=e.effectiveFilterWidth,m=e.padInfo.front,g=e.padInfo.top,y=e.padInfo.left;this.outputShape=e.outShape;const b="avg"===t;let v="0.0";if(b||(v="-1.0 / 1e-20"),n){const t=">=";return void(this.userCode="\n        const ivec3 strides =\n            ivec3(".concat(s,", ").concat(i,", ").concat(l,");\n        const ivec3 pads = ivec3(").concat(m,", ").concat(g,", ").concat(y,");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ").concat(h,";\n              wD += ").concat(c,") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ").concat(e.inDepth,") {\n              continue;\n            }\n\n            for (int wR = 0; wR < ").concat(p,";\n                wR += ").concat(u,") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ").concat(e.inHeight,") {\n                continue;\n              }\n\n              for (int wC = 0; wC < ").concat(f,";\n                  wC += ").concat(d,") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ").concat(t," currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ").concat(a?r?"(((batch * ".concat(e.inDepth," + xD) * ").concat(e.inHeight," + xR) * ").concat(e.inWidth," + xC) * ").concat(e.inChannels," + ch"):"((xD * ".concat(e.inHeight," + xR) * ").concat(e.inWidth," + xC) * ").concat(e.inChannels," + ch"):"wD * ".concat(p," * ").concat(f," +\n                      wR * ").concat(f," + wC"),";\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      "))}let w="".concat(t,"(").concat(t,"(").concat(t,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(w="avgValue / max(count, 1.0)");const x=4*Math.floor(o/4),k=o%4,S="\n      if (".concat(b,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat("max","(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec3 strides =\n        ivec3(".concat(s,", ").concat(i,", ").concat(l,");\n      const ivec3 pads = ivec3(").concat(m,", ").concat(g,", ").concat(y,");\n      const float initializationValue = ").concat(v,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ").concat(e.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(v,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ").concat(h,";\n            wD += ").concat(c,") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ").concat(e.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(p,";\n            wR += ").concat(u,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(x,"; wC += 4) {\n              int xC = xCCorner + wC * ").concat(d,";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(d,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(d,", ch),\n                getValue(batch, xD, xR, xC + 3 * ").concat(d,", ch)\n              );\n\n              ").concat(S,"\n            }\n\n            int xC = xCCorner + ").concat(x,";\n            if (").concat(1===k,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(S,"\n            } else if (").concat(2===k,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(d,", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(S,"\n            } else if (").concat(3===k,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(d,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(d,", ch),\n                initializationValue\n              );\n\n              ").concat(S,"\n            }\n          }\n        }\n        setOutput(").concat(w,");\n      }\n    ")}}const hJ={kernelName:wy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t;LX(r,"avgPool");const{filterSize:o,strides:s,pad:i,dimRoundingMode:l}=a;hg(uC(s,1),(()=>"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(1,"'")));const c=eC(r.shape,o,s,1,i,l);if(1===c.filterWidth&&1===c.filterHeight&&bg(c.inShape,c.outShape))return JQ({inputs:{x:r},backend:n});const u=new uJ(c,"avg",!1);return n.runWebGLProgram(u,[r],"float32")}};const pJ={kernelName:ky,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{filterSize:o,strides:s,pad:i,dimRoundingMode:l,dataFormat:c}=a,u=tC(r.shape,o,s,[1,1,1],i,l,c),d=new dJ(u,"avg",!1);return n.runWebGLProgram(d,[r],"float32")}};class fJ{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,a=e.strideHeight,r=e.strideWidth,o=e.dilationHeight,s=e.dilationWidth,i=e.effectiveFilterHeight,l=e.effectiveFilterWidth,c=i-1-e.padInfo.top,u=l-1-e.padInfo.left,d=1/(t*n);this.userCode="\n      const ivec2 pads = ivec2(".concat(c,", ").concat(u,");\n      const float avgMultiplier = float(").concat(d,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(i,";\n            wR += ").concat(o,") {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(l,";\n            wC+= ").concat(s,") {\n            float dyC = float(dyCCorner + wC) / ").concat(r,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class mJ{constructor(e){this.variableNames=["dy"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,a=e.filterWidth,r=e.strideDepth,o=e.strideHeight,s=e.strideWidth,i=e.dilationDepth,l=e.dilationHeight,c=e.dilationWidth,u=e.effectiveFilterDepth,d=e.effectiveFilterHeight,h=e.effectiveFilterWidth,p=u-1-e.padInfo.front,f=d-1-e.padInfo.top,m=h-1-e.padInfo.left,g=1/(t*n*a);this.userCode="\n      const ivec3 pads = ivec3(".concat(p,", ").concat(f,", ").concat(m,");\n      const float avgMultiplier = float(").concat(g,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(u,";\n            wD += ").concat(i,") {\n          float dyD = float(dyDCorner + wD) / ").concat(r,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(e.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(d,";\n              wR += ").concat(l,") {\n            float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(h,";\n                wC += ").concat(c,") {\n              float dyC = float(dyCCorner + wC) / ").concat(s,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}const gJ={kernelName:Sy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:o}=t,s=o,{filterSize:i,strides:l,pad:c,dimRoundingMode:u}=a,d=tC(s.shape,i,l,[1,1,1],c,u),h=new mJ(d);return n.runWebGLProgram(h,[r],s.dtype)}};const yJ={kernelName:xy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:o}=t,s=o;LX([r,o],"avgPoolGrad");const{filterSize:i,strides:l,pad:c}=a,u=eC(s.shape,i,l,1,c),d=new fJ(u);return n.runWebGLProgram(d,[r],s.dtype)}};const bJ={kernelName:Ny,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{a:r,b:o}=t,{transposeA:s,transposeB:i}=a;return RZ({a:r,b:o,transposeA:s,transposeB:i,backend:n})}};class vJ{constructor(e,t,n,a,r,o){this.outputShape=[],this.variableNames=["x","mean","variance"],hN(e,t),hN(e,n);let s="0.0";null!=a&&(hN(e,a),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");let i="1.0";null!=r&&(hN(e,r),this.variableNames.push("scale"),i="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ".concat(s,";\n        float scale = ").concat(i,";\n        float inv = scale * inversesqrt(variance + float(").concat(o,"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    ")}}class wJ{constructor(e,t,n,a,r,o){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],hN(e,t),hN(e,n);let s="vec4(0.0)";null!=a&&(hN(e,a),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");let i="vec4(1.0)";null!=r&&(hN(e,r),this.variableNames.push("scale"),i="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        vec4 offset = ".concat(s,";\n        vec4 scale = ").concat(i,";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(").concat(o,"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    ")}}const xJ={kernelName:yb,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:n,attrs:a}=e;const{x:r,mean:o,variance:s,offset:i,scale:l}=t;hg(o.shape.length===s.shape.length,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),hg(null==i||o.shape.length===i.shape.length,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),hg(null==l||o.shape.length===l.shape.length,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));let{varianceEpsilon:c}=a;null==c&&(c=.001);const u=[r,o,s];let d=null;null!=i&&(d=i.shape,u.push(i));let h=null;null!=l&&(h=l.shape,u.push(l));const p=ty().getBool("WEBGL_PACK_NORMALIZATION")?new wJ(r.shape,o.shape,s.shape,d,h,c):new vJ(r.shape,o.shape,s.shape,d,h,c);return n.runWebGLProgram(p,u,u[0].dtype)}};class kJ{constructor(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;const t=$X(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const n=function(e){if(1===e)return"sourceLoc";if(e<=6)return SJ.slice(0,e).map((e=>"sourceLoc."+e)).join(",");throw Error("Slicing for rank ".concat(e," is not yet supported"))}(this.rank);let a;const r=e.map(((e,t)=>"sourceLoc.".concat(SJ[t]," = start[").concat(t,"] + coords.").concat(SJ[t],";")));a="\n        ".concat(t," sourceLoc;\n        ").concat(t," coords = getOutputCoords();\n        ").concat(r.join("\n"),"\n      "),this.userCode="\n      void main() {\n        ".concat(a,"\n        setOutput(getSource(").concat(n,"));\n      }\n    ")}}const SJ=["x","y","z","w","u","v"];class NJ{constructor(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];const t=$X(this.rank),n=xQ("coords",this.rank),a=xQ("sourceLoc",this.rank),r=1===this.rank?"sourceLoc":"vec2(".concat(a.slice(-2).join(),")"),o="getChannel(getSource(".concat(a.join(),"), ").concat(r,")"),s="\n      result.x = ".concat(o,";\n      if (++").concat(n[this.rank-1]," < ").concat(e[this.rank-1],") {\n        ++").concat(a[this.rank-1],";\n        result.y = ").concat(o,";\n        --").concat(a[this.rank-1],";\n      }\n    "),i=1===this.rank?"":"\n      --".concat(n[this.rank-1],";\n      if (++").concat(n[this.rank-2]," < ").concat(e[this.rank-2],") {\n        ++").concat(a[this.rank-2],";\n        result.z = ").concat(o,";\n        if (++").concat(n[this.rank-1]," < ").concat(e[this.rank-1],") {\n          ++").concat(a[this.rank-1],";\n          result.w = ").concat(o,";\n        }\n      }\n    "),l=this.rank<=4?"sourceLoc = coords +\n            ".concat(t,"(").concat(e.map(((e,t)=>"start[".concat(t,"]"))).join(),");"):e.map(((e,t)=>"".concat(a[t]," = ").concat(n[t]," + start[").concat(t,"];"))).join("\n");this.userCode="\n      void main() {\n        ".concat(t," coords = getOutputCoords();\n        ").concat(t," sourceLoc;\n        ").concat(l,"\n        vec4 result = vec4(0.);\n        ").concat(s,"\n        ").concat(i,"\n        setOutput(result);\n      }\n    ")}}function TJ(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{begin:o,size:s}=a,[i,l]=kT(r,o,s);if(lT(r,i,l),0===mg(l))return n.makeTensorInfo(l,r.dtype,[]);if(n.shouldExecuteOnCPU([r])||"string"===r.dtype){const e=n.texData.get(r.dataId),t=oQ(e.values,i,l,r.shape,r.dtype);return n.makeTensorInfo(l,r.dtype,t)}const{isPacked:c}=n.texData.get(r.dataId),u=wT(r.shape,i,l);if(c||!u){const e=ty().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new NJ(l):new kJ(l),t=[i];return n.runWebGLProgram(e,[r],r.dtype,t)}return n.uploadToGPU(r.dataId),function(e,t,n,a){const r=a.texData.get(e.dataId),o=a.makeTensorInfo(n,e.dtype),s=a.texData.get(o.dataId);Object.assign(s,r),s.refCount=1,s.shape=n,s.dtype=e.dtype;let i=xT(t,Wg(e.shape));r.slice&&(i+=r.slice.flatOffset),s.slice={flatOffset:i,origDataId:r.slice&&r.slice.origDataId||e.dataId};const l=a.dataRefCount.get(s.slice.origDataId)||1;return a.dataRefCount.set(s.slice.origDataId,l+1),o}(r,i,l,n)}const CJ={kernelName:Pv,backendName:"webgl",kernelFunc:TJ},IJ={kernelName:Ty,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{blockShape:o,crops:s}=a;hg(r.shape.length<=4,(()=>"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"));const i=o.reduce(((e,t)=>e*t)),l=dR(r.shape,o,i),c=hR(l.length,o.length),u=pR(r.shape,o,i),d=fR(s,o.length),h=mR(u,s,o.length),p=[],f=bZ({inputs:{x:r},backend:n,attrs:{shape:l}}),m=EZ({inputs:{x:f},backend:n,attrs:{perm:c}}),g=bZ({inputs:{x:m},backend:n,attrs:{shape:u}}),y=TJ({inputs:{x:g},backend:n,attrs:{begin:d,size:h}});return p.push(f),p.push(m),p.push(g),p.forEach((e=>n.disposeIntermediateTensorInfo(e))),y}};const EJ={kernelName:Cy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,weights:o}=t,{size:s}=a,i=n.readSync(r.dataId),l=n.readSync(o.dataId),c=CY(i,l,o.dtype,o.shape,s);return n.makeTensorInfo([s],o.dtype,c)}};const AJ={kernelName:Iy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{a:a,b:r}=t,o=ty().getBool("WEBGL_PACK_BINARY_OPERATIONS"),s=ty().getNumber("WEBGL_VERSION");if(n.shouldExecuteOnCPU([a,r])||1===s){const e=n.texData.get(a.dataId).values,t=n.texData.get(r.dataId).values,[o,s]=EY(a.shape,r.shape,e,t,a.dtype),i=n.makeTensorInfo(s,a.dtype);return n.texData.get(i.dataId).values=o,i}let i;return i=o?new ZQ("\n  int r = int(a.r) & int(b.r);\n  int g = int(a.g) & int(b.g);\n  int rb = int(a.b) & int(b.b);\n  int ra = int(a.a) & int(b.a);\n  return vec4(r, g, rb, ra);\n",a.shape,r.shape,!1):new YQ("\n  return float(int(a.r) & int(b.r));\n",a.shape,r.shape),n.runWebGLProgram(i,[a,r],a.dtype)}};const _J={kernelName:Ay,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{s0:a,s1:r}=t,o=n.readSync(a.dataId),s=n.readSync(r.dataId),i=hN(Array.from(o),Array.from(s));return n.makeTensorInfo([i.length],"int32",Int32Array.from(i))}},RJ=uZ({opSnippet:"return float(a != b);",cpuKernelImpl:YY,dtype:"bool"}),DJ={kernelName:rv,backendName:"webgl",kernelFunc:RJ};function OJ(e){const{inputs:t,backend:n}=e,{input:a}=t;return JQ({inputs:{x:n.texData.get(a.dataId).complexTensorInfos.real},backend:n})}const FJ={kernelName:wv,backendName:"webgl",kernelFunc:OJ},LJ="return float(int(x));";const MJ={kernelName:_y,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:a,attrs:r}=t,{x:o}=n,{dtype:s}=r;if("complex64"===s){if("complex64"===o.dtype)return JQ({inputs:{x:o},backend:a});const t=tE(o.shape),n=e({inputs:{x:o},backend:a,attrs:{dtype:"float32"}}),r=eZ({inputs:{real:n,imag:t},backend:a});return t.dispose(),a.disposeIntermediateTensorInfo(n),r}if("complex64"===o.dtype){const t=OJ({inputs:{input:o},backend:a}),n=e({inputs:{x:t},backend:a,attrs:{dtype:s}});return a.disposeIntermediateTensorInfo(t),n}if(!Dg(o.dtype,s)){const e=JQ({inputs:{x:o},backend:a});return{dataId:e.dataId,shape:e.shape,dtype:s}}if(a.shouldExecuteOnCPU([o])){const e=a.texData.get(o.dataId).values,[t,n,r]=AY(e,o.shape,o.dtype,s);return a.makeTensorInfo(t,n,r)}if("int32"===s)return function(e,t){const n=new EQ(e.shape,LJ),a=t.runWebGLProgram(n,[e],"int32");return{dataId:a.dataId,shape:a.shape,dtype:a.dtype}}(o,a);if("bool"===s){const e=a.makeTensorInfo([],"bool",Eg("bool",1)),t=RJ({inputs:{a:o,b:e},backend:a});return a.disposeIntermediateTensorInfo(e),t}throw new Error("Error in Cast: failed to cast ".concat(o.dtype," to ").concat(s))}},PJ="return ceil(x);",zJ=cZ({opSnippet:PJ,packedOpSnippet:PJ,cpuKernelImpl:_Y}),jJ={kernelName:Ry,backendName:"webgl",kernelFunc:zJ};class BJ{constructor(e){this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}}class WJ{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=e,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}}const UJ={kernelName:Dy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{clipValueMin:o,clipValueMax:s}=a;let i;i=ty().getBool("WEBGL_PACK_CLIP")?new WJ(r.shape):new BJ(r.shape);const l=[[o],[s]];return n.runWebGLProgram(i,[r],r.dtype,l)}};class VJ{constructor(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}}function HJ(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}const GJ={kernelName:Fy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:a}=t,r=n.texData.get(a.dataId),o=new VJ(a.shape),s=[HJ(a,r.complexTensorInfos.real),HJ(a,r.complexTensorInfos.imag)];return n.runWebGLProgram(o,s,s[0].dtype)}};class qJ{constructor(e){this.outputShape=[],this.outputShape=nR(e,1),this.variableNames=e.map(((e,t)=>"T".concat(t)));const t=new Array(e.length-1);t[0]=e[0][1];for(let o=1;o<t.length;o++)t[o]=t[o-1]+e[o][1];const n=["if (yC < ".concat(t[0],") setOutput(getT0(yR, yC));")];for(let o=1;o<t.length;o++){const e=t[o-1];n.push("else if (yC < ".concat(t[o],") ")+"setOutput(getT".concat(o,"(yR, yC-").concat(e,"));"))}const a=t.length,r=t[t.length-1];n.push("else setOutput(getT".concat(a,"(yR, yC-").concat(r,"));")),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ".concat(n.join("\n        "),"\n      }\n    ")}}class KJ{constructor(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=nR(e,t);const n=this.outputShape,a=n.length,r=$X(a),o=xQ("coords",a),s=["x","y","z","w","u","v"].slice(0,a);this.variableNames=e.map(((e,t)=>"T".concat(t)));const i=new Array(e.length-1);i[0]=e[0][t];for(let f=1;f<i.length;f++)i[f]=i[f-1]+e[f][t];const l=s[t],c=s.slice(-2),u=s.join();let d="if (".concat(l," < ").concat(i[0],") {\n        return getChannel(\n            getT0(").concat(u,"), vec2(").concat(c.join(),"));\n        }");for(let f=1;f<i.length;f++){const e=i[f-1];d+="\n        if (".concat(l," < ").concat(i[f],"  && ").concat(l," >= ").concat(i[f-1],") {\n          return getChannel(\n            getT").concat(f,"(").concat(XJ(s,l,e),"),\n            vec2(").concat(XJ(c,l,e),"));\n        }")}const h=i.length,p=i[i.length-1];d+="\n        return getChannel(\n          getT".concat(h,"(").concat(XJ(s,l,p),"),\n          vec2(").concat(XJ(c,l,p),"));"),this.userCode="\n      float getValue(".concat(s.map((e=>"int "+e)),") {\n        ").concat(d,"\n      }\n\n      void main() {\n        ").concat(r," coords = getOutputCoords();\n        vec4 result = vec4(getValue(").concat(o,"), 0., 0., 0.);\n\n        ").concat(o[a-1]," = ").concat(o[a-1]," + 1;\n        if (").concat(o[a-1]," < ").concat(n[a-1],") {\n          result.g = getValue(").concat(o,");\n        }\n\n        ").concat(o[a-2]," = ").concat(o[a-2]," + 1;\n        if (").concat(o[a-2]," < ").concat(n[a-2],") {\n          result.a = getValue(").concat(o,");\n        }\n\n        ").concat(o[a-1]," = ").concat(o[a-1]," - 1;\n        if (").concat(o[a-2]," < ").concat(n[a-2]," &&\n            ").concat(o[a-1]," < ").concat(n[a-1],") {\n          result.b = getValue(").concat(o,");\n        }\n        setOutput(result);\n      }\n    ")}}function XJ(e,t,n){const a=e.indexOf(t);return e.map(((e,t)=>t===a?"".concat(e," - ").concat(n):e)).join()}function YJ(e){const{inputs:t,backend:n}=e,{input:a}=t;return JQ({inputs:{x:n.texData.get(a.dataId).complexTensorInfos.imag},backend:n})}const QJ={kernelName:Nb,backendName:"webgl",kernelFunc:YJ};function ZJ(e,t,n){const a=e[0].dtype;if("complex64"===a){const a=e.map((e=>OJ({inputs:{input:e},backend:n}))),r=e.map((e=>YJ({inputs:{input:e},backend:n}))),o=ZJ(a,t,n),s=ZJ(r,t,n),i=eZ({inputs:{real:o,imag:s},backend:n});return a.forEach((e=>n.disposeIntermediateTensorInfo(e))),r.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),i}let r=n.shouldExecuteOnCPU(e);if("string"===a&&(r=!0),r){const r=e.map((e=>{const a=mg(e.shape.slice(t));return bZ({inputs:{x:e},backend:n,attrs:{shape:[-1,a]}})})),o=r.map((e=>({vals:n.readSync(e.dataId),shape:e.shape}))),s=nR(r.map((e=>e.shape)),1),i=1===r[0].shape[0],l=RY(o,s,a,i),c=nR(e.map((e=>e.shape)),t),u=n.makeTensorInfo(c,a,l);return r.forEach((e=>n.disposeIntermediateTensorInfo(e))),u}const o=e.filter((e=>mg(e.shape)>0)),s=ty().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&o[0].shape.length>1;if(1===o.length){const t=s?new EQ(e[0].shape,LQ):new UQ(e[0].shape,LQ);return n.runWebGLProgram(t,e,a)}const i=ty().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(o.length>i){const e=[];for(let r=0;r<o.length;r+=i){const a=o.slice(r,r+i);e.push(ZJ(a,t,n))}const a=ZJ(e,t,n);for(const t of e)n.disposeIntermediateTensorInfo(t);return a}if(s){const e=new KJ(o.map((e=>e.shape)),t);return n.runWebGLProgram(e,o,a)}const{tensors2D:l,outShape:c}=function(e,t,n){const a=nR(e.map((e=>e.shape)),t),r=e.map((e=>bZ({inputs:{x:e},attrs:{shape:[-1,mg(e.shape.slice(t))]},backend:n})));return{tensors2D:r,outShape:a}}(o,t,n),u=new qJ(l.map((e=>e.shape))),d=n.runWebGLProgram(u,l,a);l.forEach((e=>n.disposeIntermediateTensorInfo(e)));const h=bZ({inputs:{x:d},attrs:{shape:c},backend:n});return n.disposeIntermediateTensorInfo(d),h}function JJ(e){const{inputs:t,backend:n,attrs:a}=e,{axis:r}=a,o=Cg(r,t[0].shape)[0];tR(t.map((e=>e.shape)),o);const s=nR(t.map((e=>e.shape)),o);if(0===mg(s))return n.makeTensorInfo(s,t[0].dtype,[]);const i=t.filter((e=>mg(e.shape)>0));return 1===i.length?JQ({inputs:{x:i[0]},backend:n}):ZJ(i,o,n)}const $J={kernelName:Ly,backendName:"webgl",kernelFunc:JJ};class e${constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.outputShape=e.outShape;const o=e.padInfo.top,s=e.padInfo.left,i=e.strideHeight,l=e.strideWidth,c=e.dilationHeight,u=e.dilationWidth,d=e.filterHeight,h=e.filterWidth,p=4*Math.floor(e.inChannels/4),f=e.inChannels%4,m="channelsLast"===e.dataFormat,g=m?1:2,y=m?2:3,b=m?3:1;let v="",w="";n&&(v=a?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(n,"\n        }"):r?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(n,"\n        }"):"\n          float activation(float x) {\n            ".concat(n,"\n          }\n        "),w="result = activation(result);");const x=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),r&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(v,"\n\n      const ivec2 strides = ivec2(").concat(i,", ").concat(l,");\n      const ivec2 pads = ivec2(").concat(o,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[").concat(b,"];\n\n        ivec2 xRCCorner =\n            ivec2(coords[").concat(g,"], coords[").concat(y,"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(d,"; wR++) {\n          int xR = xRCorner + wR * ").concat(c,";\n\n          if (xR < 0 || xR >= ").concat(e.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(h,"; wC++) {\n            int xC = xCCorner + wC * ").concat(u,";\n\n            if (xC < 0 || xC >= ").concat(e.inWidth,") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ").concat(p,"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (").concat(m,") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (").concat(1===f,") {\n\n              if (").concat(m,") {\n                dotProd +=\n                    getX(batch, xR, xC, ").concat(p,") *\n                    getW(wR, wC, ").concat(p,", d2);\n              } else {\n                dotProd +=\n                    getX(batch, ").concat(p,", xR, xC) *\n                    getW(wR, wC, ").concat(p,", d2);\n              }\n\n            } else if (").concat(2===f,") {\n              vec2 wValues = vec2(\n                getW(wR, wC, ").concat(p,", d2),\n                getW(wR, wC, ").concat(p," + 1, d2)\n              );\n\n              if (").concat(m,") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ").concat(p,"),\n                  getX(batch, xR, xC, ").concat(p," + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ").concat(p,", xR, xC),\n                  getX(batch, ").concat(p," + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (").concat(3===f,") {\n              vec3 wValues = vec3(\n                getW(wR, wC, ").concat(p,", d2),\n                getW(wR, wC, ").concat(p," + 1, d2),\n                getW(wR, wC, ").concat(p," + 2, d2)\n              );\n\n              if (").concat(m,") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ").concat(p,"),\n                  getX(batch, xR, xC, ").concat(p," + 1),\n                  getX(batch, xR, xC, ").concat(p," + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ").concat(p,", xR, xC),\n                  getX(batch, ").concat(p," + 1, xR, xC),\n                  getX(batch, ").concat(p," + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ").concat(x,"\n        ").concat(w,"\n        setOutput(result);\n      }\n    ")}}class t${constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const t=e.padInfo.front,n=e.padInfo.top,a=e.padInfo.left,r=e.strideDepth,o=e.strideHeight,s=e.strideWidth,i=e.dilationDepth,l=e.dilationHeight,c=e.dilationWidth,u=e.filterDepth,d=e.filterHeight,h=e.filterWidth,p=4*Math.floor(e.inChannels/4),f=e.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3(".concat(r,", ").concat(o,", ").concat(s,");\n      const ivec3 pads = ivec3(").concat(t,", ").concat(n,", ").concat(a,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(u,"; wF++) {\n          int xF = xFCorner + wF * ").concat(i,";\n\n          if (xF < 0 || xF >= ").concat(e.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(d,"; wR++) {\n            int xR = xRCorner + wR * ").concat(l,";\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(h,"; wC++) {\n              int xC = xCCorner + wC * ").concat(c,";\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ").concat(p,"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (").concat(1===f,") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ").concat(p,") *\n                  getW(wF, wR, wC, ").concat(p,", d2);\n              } else if (").concat(2===f,") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ").concat(p,"),\n                  getX(batch, xF, xR, xC, ").concat(p," + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ").concat(p,", d2),\n                  getW(wF, wR, wC, ").concat(p," + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (").concat(3===f,") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ").concat(p,"),\n                  getX(batch, xF, xR, xC, ").concat(p," + 1),\n                  getX(batch, xF, xR, xC, ").concat(p," + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ").concat(p,", d2),\n                  getW(wF, wR, wC, ").concat(p," + 1, d2),\n                  getW(wF, wR, wC, ").concat(p," + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class n${constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=sY(this.outputShape.length);const o=e.padInfo.left,s=e.strideWidth,i=e.dilationWidth,l=e.filterHeight,c=e.filterWidth,u=c;let d="\n       int xR; int xC; int xCOffset;\n       vec4 wTexel; vec4 previous; vec4 final;";for(let m=0;m<c;m++)d+="\n           vec4 xTexelC".concat(2*m,";\n           int xTexelC").concat(2*m,"Ready;\n           vec4 xTexelC").concat(2*m+1,";\n           int xTexelC").concat(2*m+1,"Ready;\n           vec4 xC").concat(m,";");d+="\n     for (int r = 0; r < ".concat(l,"; r++) {\n      for (int d1 = 0; d1 < ").concat(e.inChannels,"; d1 += 2) {\n       ");for(let m=0;m<c;m++)d+="\n           xTexelC".concat(2*m," = vec4(0.0);\n           xTexelC").concat(2*m,"Ready = 0;\n           xTexelC").concat(2*m+1," = vec4(0.0);\n           xTexelC").concat(2*m+1,"Ready = 0;\n           xC").concat(m," = vec4(0.0);");d+="\n         xR = xRCorner + r * dilations[0];\n         if (xR >=0 && xR < inDims[0]) {\n       ";for(let m=0;m<(u+1)/2;m++){const t=2*m;if(d+="\n           xC = xCCorner + ".concat(t*i,";\n           "),1===s){if(t<c&&(o%2===1?(d+="\n                 xCOffset = xC + 1;\n                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(t,"Ready == 0) {\n                   xTexelC").concat(t," = getX(batch, xR, xCOffset, d1);\n\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(t,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(t,"Ready = 1;\n                 }\n               "),d+=1===i&&t>0?"\n                 xC".concat(t," = vec4(xTexelC").concat(t-2,".zw, xTexelC").concat(t,".xy);\n                 "):"\n                   xCOffset = xC + 1 - 2;\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       previous.zw = vec2(0.0);\n                     }\n\n                     xC".concat(t," = vec4(previous.zw, xTexelC").concat(t,".xy);\n                   } else {\n                     xC").concat(t," = vec4(0.0, 0.0, xTexelC").concat(t,".xy);\n                   }\n                   ")):d+="\n                 if (xC >= 0 && xC < inDims[1] && xTexelC".concat(t,"Ready == 0) {\n                   xTexelC").concat(t," = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC").concat(t,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(t,"Ready = 1;\n                 }\n\n                 xC").concat(t," = xTexelC").concat(t,";\n                 "),t+1<c)){const e=o%2===0?ig(i):i;i%2===0&&o%2===1||i%2!==0&&o%2!==1?(d+="\n                   xCOffset = xC + imod(pads[1], 2) + ".concat(e,";\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(t+1,"Ready == 0) {\n                     xTexelC").concat(t+1," = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       xTexelC").concat(t+1,".zw = vec2(0.0);\n                     }\n                     xTexelC").concat(t+1,"Ready = 1;\n                   }\n                   "),d+=i>1?"\n                     xCOffset -= 2;\n                     if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                      previous = getX(batch, xR, xCOffset, d1);\n                      xC".concat(t+1," = vec4(previous.zw, xTexelC").concat(t+1,".xy);\n                     } else {\n                      xC").concat(t+1," = vec4(0.0, 0.0, xTexelC").concat(t+1,".xy);\n                     }\n                     "):"\n                     xC".concat(t+1," = vec4(xTexelC").concat(t,".zw, xTexelC").concat(t+1,".xy);\n                     ")):d+=1===e?"\n                     xC".concat(t+1," = xTexelC").concat(t,";\n                     "):"\n                     xCOffset = xC + ".concat(e,";\n\n                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(t+1,"Ready == 0) {\n                       xTexelC").concat(t+1," = getX(batch, xR, xCOffset, d1);\n                       if (xCOffset + 1 >= inDims[1]) {\n                         xTexelC").concat(t+1,".zw = vec2(0.0);\n                       }\n                       xTexelC").concat(t+1,"Ready = 1;\n                     }\n\n                     xC").concat(t+1," = xTexelC").concat(t+1,";\n                     ")}}else t<c&&(o%2===1?(d+="\n                 xCOffset = xC + 1 - strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(t,"Ready == 0) {\n                   xTexelC").concat(t," = getX(batch, xR, xCOffset, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(t,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(t,"Ready = 1;\n                 }\n\n                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(t+1,"Ready == 0) {\n                   xTexelC").concat(t+1," = getX(batch, xR, xC + 1, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xC + 2 >= inDims[1]) {\n                     xTexelC").concat(t+1,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(t+1,"Ready = 1;\n                 }\n\n                 xC").concat(t," = vec4(xTexelC").concat(t,".zw, xTexelC").concat(t+1,".zw);\n               "),t+1<c&&(d+="\n                   final = vec4(0.0);\n                   xCOffset = xC + 1 + strides[1];\n                   if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                     final = getX(batch, xR, xCOffset, d1);\n                   }\n                   xC".concat(t+1," = vec4(xTexelC").concat(t+1,".xy, final.xy);\n                 "))):(d+="\n                 if(xC >= 0 && xC < inDims[1] && xTexelC".concat(t,"Ready == 0) {\n                   xTexelC").concat(t," = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC").concat(t,".zw = vec2(0.0);\n                   }\n                   xTexelC").concat(t,"Ready = 1;\n                 }\n\n                 xCOffset = xC + strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(t+1,"Ready == 0) {\n                   xTexelC").concat(t+1," = getX(batch, xR, xCOffset, d1);\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC").concat(t+1,".zw = vec2(0.);\n                   }\n                   xTexelC").concat(t+1,"Ready = 1;\n                 }\n\n                 xC").concat(t," = vec4(\n                   xTexelC").concat(t,".xy, xTexelC").concat(t+1,".xy);\n               "),t+1<c&&(d+="\n                   xC".concat(t+1," = vec4(xTexelC").concat(t,".zw, xTexelC").concat(t+1,".zw);\n                 "))));t<c&&(d+="\n             wTexel = getW(r, ".concat(t,", d1, d2);\n             dotProd += xC").concat(t,".xxzz * vec4(wTexel.xy, wTexel.xy);\n             if(d1 + 1 < ").concat(e.inChannels,") {\n               dotProd += xC").concat(t,".yyww * vec4(wTexel.zw, wTexel.zw);\n             }\n           "),t+1<c&&(d+="\n               wTexel = getW(r, ".concat(t+1,", d1, d2);\n               dotProd += xC").concat(t+1,".xxzz * vec4(wTexel.xy, wTexel.xy);\n               if(d1 + 1 < ").concat(e.inChannels,") {\n                 dotProd += xC").concat(t+1,".yyww * vec4(wTexel.zw, wTexel.zw);\n               }\n             ")))}d+="\n     }\n   ",d+="\n     }\n   ",d+="\n     }\n   ";let h="",p="";n&&(h=a?"vec4 activation(vec4 a) {\n           vec4 b = getPreluActivationWeightsAtOutCoords();\n           ".concat(n,"\n         }"):r?"vec4 activation(vec4 a) {\n           vec4 b = getLeakyreluAlphaAtOutCoords();\n           ".concat(n,"\n         }"):"vec4 activation(vec4 x) {\n           ".concat(n,"\n         }"),p="result = activation(result);");const f=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),r&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n       ".concat(h,"\n\n       void main() {\n         ivec4 coords = getOutputCoords();\n         int batch = coords.x;\n         ivec2 xRCCorner = coords.yz * strides - pads;\n         int d2 = coords.w;\n         int xRCorner = xRCCorner.x;\n         int xCCorner = xRCCorner.y;\n\n         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n         vec4 dotProd = vec4(0.000000000000001);\n\n         ").concat(d,"\n\n         vec4 result = dotProd - vec4(0.000000000000001);\n         ").concat(f,"\n         ").concat(p,"\n         setOutput(result);\n       }\n     ")}}class a${constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=e,this.enableShapeUniforms=sY(this.outputShape.length);const{dataFormat:n}=t,a=PX(),r="channelsLast"===n,o=r?1:2,s=r?2:3,i=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":"if(blockIndex < ".concat(e[2]," && pos < ").concat(e[1],") {");let l="";for(let c=0;c<=1;c++)for(let e=0;e<=1;e++)l+="\n          blockIndex = rc.z + ".concat(e,";\n          pos = rc.y + ").concat(c,";\n\n          ").concat(i,"\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[").concat(o,"] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[").concat(s,"] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (").concat(r,") {\n                  innerDims = vec2(d1, ch);\n                  result[").concat(2*c+e,"] = getChannel(\n                    getA(rc.x, d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[").concat(2*c+e,"] = getChannel(\n                    getA(rc.x, ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ");this.userCode="\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ".concat(l,"\n\n        ").concat(a.output," = result;\n      }\n    ")}}function r$(e,t){const n=e.length;return n>=3?t?[...e.slice(0,-3),e[n-3]*e[n-2],e[n-1]]:[...e.slice(0,-3),e[n-3],e[n-2]*e[n-1]]:!t&&1===n&&e[0]>1?[e[0],1]:null}function o$(e){let{x:t,filter:n,convInfo:a,backend:r,bias:o=null,preluActivationWeights:s=null,leakyreluAlpha:i=0,activation:l=null}=e;const c=t.shape,u=r.texData.get(t.dataId),d=a.inChannels,h=c[0]*c[1]*c[2],p=a.outChannels,f="channelsLast"===a.dataFormat;let m;const g=[];if(null!=s){const e=r$(s.shape,f);null!=e&&(s=bZ({inputs:{x:s},backend:r,attrs:{shape:e}}),g.push(s))}if(null!=o){const e=r$(o.shape,f);null!=e&&(o=bZ({inputs:{x:o},backend:r,attrs:{shape:e}}),g.push(o))}if(!((1===h||1===p)&&d>_Z)&&u.isPacked&&f&&null!=u.texture&&c[2]%2!==0&&bg(u.shape.slice(-3),c.slice(-3))){const e=c[0]*c[1]*(c[2]+1),d={dataId:t.dataId,shape:[1,e,a.inChannels],dtype:t.dtype},h=u.shape;u.shape=u.shape.slice(),u.shape[u.shape.length-2]++,hg(EX(u.shape,d.shape),(()=>"packed reshape ".concat(u.shape," to ").concat(d.shape," isn't free")));const p=bZ({inputs:{x:n},backend:r,attrs:{shape:[1,a.inChannels,a.outChannels]}});g.push(p);const f=RZ({a:d,b:p,backend:r,transposeA:false,transposeB:false,bias:o,activation:l,preluActivationWeights:s,leakyreluAlpha:i}),y=r.texData.get(f.dataId);hg(y.isPacked,(()=>"batchMatMul result is expected to be packed")),u.shape=h,y.shape=a.outShape,m=JQ({inputs:{x:f},backend:r}),m.shape=a.outShape,g.push(f)}else{const e=a.outHeight*a.outWidth,c=bZ({inputs:{x:t},backend:r,attrs:{shape:f?[a.batchSize,e,a.inChannels]:[a.batchSize,a.inChannels,e]}}),u=bZ({inputs:{x:n},backend:r,attrs:{shape:[1,a.inChannels,a.outChannels]}}),d=RZ({a:f?c:u,b:f?u:c,transposeA:!f,transposeB:false,backend:r,bias:o,activation:l,preluActivationWeights:s,leakyreluAlpha:i});m=bZ({inputs:{x:d},backend:r,attrs:{shape:a.outShape}}),g.push(c),g.push(u),g.push(d)}for(const y of g)r.disposeIntermediateTensorInfo(y);return m}function s$(e){let{x:t,filter:n,convInfo:a,backend:r,bias:o=null,preluActivationWeights:s=null,leakyreluAlpha:i=0,activation:l=null}=e;const{filterWidth:c,filterHeight:u,inChannels:d,outWidth:h,outHeight:p,dataFormat:f}=a,m="channelsLast"===f,g=c*u*d,y=p*h,b=[a.batchSize,g,y],v=[];if(null!=s){const e=r$(s.shape,m);null!=e&&(s=bZ({inputs:{x:s},backend:r,attrs:{shape:e}}),v.push(s))}if(null!=o){const e=r$(o.shape,m);null!=e&&(o=bZ({inputs:{x:o},backend:r,attrs:{shape:e}}),v.push(o))}const w=bZ({inputs:{x:n},backend:r,attrs:{shape:[1,g,mg(n.shape)/g]}});v.push(w);const x=new a$(b,a),k=[t.shape,[a.padInfo.top,a.padInfo.left],[a.strideHeight,a.strideWidth],[a.dilationHeight,a.dilationWidth],[a.inChannels],[a.filterWidth*a.inChannels],[a.outWidth]],S=r.runWebGLProgram(x,[t],"float32",k),N=bZ({inputs:{x:S},backend:r,attrs:{shape:b}});v.push(S),v.push(N);const T=null!=o,C=null!=s,I="leakyrelu"===l,E=l?dZ(l,!0):null,A=new hZ(m?N.shape:w.shape,m?w.shape:N.shape,m?[a.batchSize,y,a.outChannels]:[a.batchSize,a.outChannels,y],!0,!1,T,E,C,I),_=m?[N,w]:[w,N];if(o&&_.push(o),C&&_.push(s),I){const e=r.makeTensorInfo([],"float32",Jw(i,"float32"));_.push(e),v.push(e)}const R=r.runWebGLProgram(A,_,"float32"),D=bZ({inputs:{x:R},backend:r,attrs:{shape:a.outShape}});v.push(R);for(const O of v)r.disposeIntermediateTensorInfo(O);return D}const i$={kernelName:My,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:o}=t,{strides:s,pad:i,dataFormat:l,dilations:c,dimRoundingMode:u}=a,d=hC(l),h=nC(r.shape,o.shape,s,c,i,u,!1,d);let p;if(1!==h.filterHeight||1!==h.filterWidth||1!==h.dilationHeight||1!==h.dilationWidth||1!==h.strideHeight||1!==h.strideWidth||"SAME"!==h.padInfo.type&&"VALID"!==h.padInfo.type)if(h.strideWidth<=2&&"channelsLast"===d&&ty().getBool("WEBGL_EXP_CONV")){const e=new n$(h),t=[[h.padInfo.top,h.padInfo.left],[h.strideHeight,h.strideWidth],[h.dilationHeight,h.dilationWidth],[h.inHeight,h.inWidth]];p=n.runWebGLProgram(e,[r,o],"float32",t)}else if(ty().getBool("WEBGL_CONV_IM2COL"))p=s$({x:r,filter:o,convInfo:h,backend:n});else{const e=new e$(h);p=n.runWebGLProgram(e,[r,o],"float32")}else p=o$({x:r,filter:o,convInfo:h,backend:n});const f=bZ({inputs:{x:p},backend:n,attrs:{shape:h.outShape}});return n.disposeIntermediateTensorInfo(p),f}};class l${constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,a=e.padInfo.top,r=e.padInfo.left,o="channelsLast"===e.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(e.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(e.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(t," - ").concat(a,";\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(e.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(n," - ").concat(r,";\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              ").concat(o?"float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);":"float dyValue = getDy(b, d2, yR, yC);\n              float xValue = getX(b, d1, xR, xC);\n              dotProd += (xValue * dyValue);","\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class c${constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,a=e.strideHeight,r=e.strideWidth,o="channelsLast"===e.dataFormat,s=t-1-e.padInfo.top,i=n-1-e.padInfo.left,l=o?1:2,c=o?2:3,u=o?3:1;this.userCode="\n      const ivec2 pads = ivec2(".concat(s,", ").concat(i,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[").concat(u,"];\n\n        ivec2 dyCorner = ivec2(coords[").concat(l,"], coords[").concat(c,"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(t,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(t," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(n,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(r,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(n," - 1 - wC;\n\n            for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2++) {\n\n              if (").concat(o,") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class u${constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideDepth,n=e.strideHeight,a=e.strideWidth,r=e.padInfo.front,o=e.padInfo.top,s=e.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(e.batchSize,"; b++) {\n          for (int yF = 0; yF < ").concat(e.outDepth,"; yF++) {\n            int xF = wF + yF * ").concat(t," - ").concat(r,";\n\n            if (xF < 0 || xF >= ").concat(e.inDepth,") {\n              continue;\n            }\n\n            for (int yR = 0; yR < ").concat(e.outHeight,"; yR++) {\n              int xR = wR + yR * ").concat(n," - ").concat(o,";\n\n              if (xR < 0 || xR >= ").concat(e.inHeight,") {\n                continue;\n              }\n\n              for (int yC = 0; yC < ").concat(e.outWidth,"; yC++) {\n                int xC = wC + yC * ").concat(a," - ").concat(s,";\n\n                if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class d${constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterDepth,n=e.filterHeight,a=e.filterWidth,r=e.strideDepth,o=e.strideHeight,s=e.strideWidth,i=t-1-e.padInfo.front,l=n-1-e.padInfo.top,c=a-1-e.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3(".concat(i,", ").concat(l,", ").concat(c,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(t,"; wF++) {\n          float dyF = float(dyFCorner + wF) / ").concat(r,".0;\n\n          if (dyF < 0.0 || dyF >= ").concat(e.outDepth,".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ").concat(t," - 1 - wF;\n\n          for (int wR = 0; wR < ").concat(n,"; wR++) {\n            float dyR = float(dyRCorner + wR) / ").concat(o,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ").concat(n," - 1 - wR;\n\n            for (int wC = 0; wC < ").concat(a,"; wC++) {\n              float dyC = float(dyCCorner + wC) / ").concat(s,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ").concat(a," - 1 - wC;\n\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}const h$={kernelName:Py,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,dy:o}=t,{strides:s,pad:i,dataFormat:l,dimRoundingMode:c,filterShape:u}=a,d=hC(l),h=nC(r.shape,u,s,1,i,c,!1,d),p=new l$(h);return n.runWebGLProgram(p,[r,o],"float32")}};class p${constructor(e){this.variableNames=["dy","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"strides",type:"vec2"}],this.outputShape=e.inShape,this.enableShapeUniforms=sY(this.outputShape.length);const t=e.filterHeight,n=e.filterWidth,a=t-1-e.padInfo.top,r=n-1-e.padInfo.left;this.userCode="\n      const ivec2 pads = ivec2(".concat(a,", ").concat(r,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n\n        ivec2 dyCorner = ivec2(coords[1], coords[2]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        vec4 result = vec4(0.);\n        for (int wR = 0; wR < ").concat(t,"; wR++) {\n          float dyR = float(dyRCorner + wR) / strides[0];\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n          int wRPerm = ").concat(t," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(n,"; wC++) {\n            int wCPerm = ").concat(n," - 1 - wC;\n\n            float dyC = float(dyCCorner + wC) / strides[1];\n            bool idyCVal = (dyC >= 0.0) && (dyC < ").concat(e.outWidth,".0)\n              && (fract(dyC) == 0.0);\n            int idyC = int(dyC);\n\n            float dyC2 = float(dyCCorner + wC + 1) / strides[1];\n            bool idyCVal2 = (dyC2 >= 0.0) && (dyC2 < ").concat(e.outWidth,".0)\n              && (fract(dyC2) == 0.0);\n            int idyC2 = int(dyC2);\n\n            if (idyCVal && idyCVal2) {\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec4 dySample2 = (idyC / 2 == idyC2 / 2) ?\n                  dySample : getDy(batch, idyR, idyC2, d2);\n\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n\n                dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample2.xy : dySample2.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal) {\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC, d2);\n                vec2 dyValue = mod(float(idyC), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.xy += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            } else if (idyCVal2) {\n              for (int d2 = 0; d2 < ").concat(e.outChannels,"; d2 += 2) {\n                vec4 wValue = getW(wRPerm, wCPerm, d1, d2);\n                vec4 dySample = getDy(batch, idyR, idyC2, d2);\n                vec2 dyValue = mod(float(idyC2), 2.) == 0. ?\n                  dySample.xy : dySample.zw;\n                result.zw += vec2(dot(dyValue, wValue.xy),\n                  dot(dyValue, wValue.zw));\n              }\n            }\n          }\n        }\n        setOutput(result);\n      }\n    ")}}const f$={kernelName:zy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,filter:o}=t,{inputShape:s,strides:i,pad:l,dataFormat:c,dimRoundingMode:u}=a,d=hC(c),h=nC(s,o.shape,i,1,l,u,!1,d);if(ty().getBool("WEBGL_PACK_CONV2DTRANSPOSE")&&"channelsLast"===d){const e=[[h.strideHeight,h.strideWidth]],t=new p$(h);return n.runWebGLProgram(t,[r,o],"float32",e)}{const e=new c$(h);return n.runWebGLProgram(e,[r,o],"float32")}}};const m$={kernelName:jy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:o}=t,{strides:s,pad:i,dilations:l}=a,c=aC(r.shape,o.shape,s,l,i),u=new t$(c);return n.runWebGLProgram(u,[r,o],"float32")}};const g$={kernelName:By,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,dy:o}=t,{strides:s,pad:i,filterShape:l}=a,c=aC(r.shape,l,s,1,i),u=new u$(c);return n.runWebGLProgram(u,[r,o],"float32")}};const y$={kernelName:Wy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,filter:o}=t,{pad:s,strides:i,inputShape:l}=a,c=aC(l,o.shape,i,1,s),u=new d$(c);return n.runWebGLProgram(u,[r,o],"float32")}},b$=cZ({opSnippet:lZ+"\n  return cos(x);\n",packedOpSnippet:"\n  vec4 result = cos(x);\n  bvec4 isNaN = isnan(x);\n  ".concat(QQ,"\n  return result;\n")}),v$={kernelName:Uy,backendName:"webgl",kernelFunc:b$},w$=cZ({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),x$={kernelName:Vy,backendName:"webgl",kernelFunc:w$};class k${constructor(e,t,n,a,r){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];const[o,s,i,l]=e,[c]=t,[u,d]=n;this.outputShape=[c,u,d,l];const h="bilinear"===a?1:0,[p,f]=["".concat(s-1,".0"),"".concat(i-1,".0")],[m,g,y]=u>1?["".concat((s-1)/(u-1)),"(y2-y1) * height_ratio","y1*".concat(p," + float(y)*(height_scale)")]:["0.0","0.0","0.5 * (y1+y2) * ".concat(p)],[b,v,w]=d>1?["".concat((i-1)/(d-1)),"(x2-x1) * width_ratio","x1*".concat(f," + float(x)*(width_scale)")]:["0.0","0.0","0.5 * (x1+x2) * ".concat(f)];this.userCode="\n      const float height_ratio = float(".concat(m,");\n      const float width_ratio = float(").concat(b,");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ").concat(o,") {\n          return;\n        }\n\n        float height_scale = ").concat(g,";\n        float width_scale = ").concat(v,";\n\n        float in_y = ").concat(y,";\n        if( in_y < 0.0 || in_y > ").concat(p," ) {\n          setOutput(float(").concat(r,"));\n          return;\n        }\n        float in_x = ").concat(w,";\n        if( in_x < 0.0 || in_x > ").concat(f," ) {\n          setOutput(float(").concat(r,"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(").concat(h," == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    ")}}const S$={kernelName:qy,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:a}=e,{image:r,boxes:o,boxInd:s}=t,{cropSize:i,method:l,extrapolationValue:c}=a,u=new k$(r.shape,o.shape,i,l,c);return n.runWebGLProgram(u,[r,o,s],"float32")}};var N$;!function(e){e.Prod="*",e.Sum="+"}(N$||(N$={}));class T${constructor(e,t,n,a){this.op=e,this.outputShape=t,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];const r=this.outputShape.length,o=this.op===N$.Prod?"1.0":"0.0",s=n?o:"getX(".concat(C$(r,"coords",this.op),")"),i=this.outputShape[this.outputShape.length-1];let l="",c="";n?(l=a?"end != ".concat(i-1):"end != 0",c=a?"end + 1":"end - 1"):(l=a?"end + pow2 < ".concat(i):"end >= pow2",c=a?"end + pow2":"end - pow2"),this.userCode="\n      void main() {\n        ".concat($X(r)," coords = getOutputCoords();\n        int end = ").concat(I$(r,"coords",this.op),";\n        float val = ").concat(s,";\n        int pow2 = int(pow(2.0, index));\n        if (").concat(l,") {\n          int idx = ").concat(c,";\n          ").concat(I$(r,"coords",this.op)," = idx;\n          val ").concat(this.op,"= getX(").concat(C$(r,"coords",this.op),");\n        }\n        setOutput(val);\n      }\n    ")}}function C$(e,t,n){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".x, ").concat(t,".y");if(3===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z");if(4===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z, ").concat(t,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(e," is not yet supported"))}function I$(e,t,n){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".y");if(3===e)return"".concat(t,".z");if(4===e)return"".concat(t,".w");throw new Error("Cumulative ".concat(n," for rank ").concat(e," is not yet supported"))}function E$(e,t,n,a,r,o){const s=t.shape.length,i=hI([a],s);let l=t;null!=i&&(l=EZ({inputs:{x:t},backend:n,attrs:{perm:i}}));const c=fI(1,s)[0];if(c!==s-1)throw new Error("WebGL cumprod shader expects an inner-most axis=".concat(t.shape.length-1," ")+"but got axis=".concat(a));const u=l.shape[c];let d=JQ({inputs:{x:l},backend:n});for(let h=0;h<=Math.ceil(Math.log2(u))-1;h++){const t=new T$(e,l.shape,!1,o),a=[[h]],r=d;d=n.runWebGLProgram(t,[d],d.dtype,a),n.disposeIntermediateTensorInfo(r)}if(r){const t=new T$(e,l.shape,r,o),a=d;d=n.runWebGLProgram(t,[d],d.dtype),n.disposeIntermediateTensorInfo(a)}if(null!=i){const e=EZ({inputs:{x:d},backend:n,attrs:{perm:pI(i)}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(l),e}return d}const A$={kernelName:Hy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,exclusive:s,reverse:i}=a;return E$(N$.Prod,r,n,o,s,i)}};const _$={kernelName:Gy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,exclusive:s,reverse:i}=a;return E$(N$.Sum,r,n,o,s,i)}};const R$={kernelName:Ky,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,weights:o}=t,{size:s,binaryOutput:i}=a;if(1===r.shape.length){const e=n.readSync(r.dataId),t=n.readSync(o.dataId),a=CY(e,t,o.dtype,o.shape,s);return n.makeTensorInfo([s],o.dtype,a)}if(2===r.shape.length){const e=n.bufferSync(r),t=n.bufferSync(o),a=IY(e,t,s,i);return n.makeTensorInfo(a.shape,o.dtype,a.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(r.shape.length,"."))}};class D${constructor(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ".concat(this.getHeightCoordString(),";\n      int w = ").concat(this.getWidthCoordString(),";\n      int d = ").concat(this.getDepthCoordString(),";\n\n      int in_h = h / ").concat(t,";\n      int offset_h = imod(h, ").concat(t,");\n      int in_w = w / ").concat(t,";\n      int offset_w = imod(w, ").concat(t,");\n      int offset_d = (offset_h * ").concat(t," + offset_w) *\n        ").concat(this.getOutputDepthSize(),";\n      int in_d = d + offset_d;\n\n      float result = ").concat(this.getInputSamplingString(),";\n      setOutput(result);\n    }\n  ")}getHeightCoordString(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}getWidthCoordString(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}getDepthCoordString(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}getOutputDepthSize(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}getInputSamplingString(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}const O$={kernelName:Xy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{blockSize:o,dataFormat:s}=a,i=r.shape[0],l=("NHWC"===s?r.shape[1]:r.shape[2])*o,c=("NHWC"===s?r.shape[2]:r.shape[3])*o,u=("NHWC"===s?r.shape[3]:r.shape[1])/(o*o),d=new D$("NHWC"===s?[i,l,c,u]:[i,u,l,c],o,s);return n.runWebGLProgram(d,[r],r.dtype)}};class F${constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=sY(this.outputShape.length);const o=e.filterHeight,s=e.filterWidth,i=e.outChannels/e.inChannels;let l="",c="";n&&(l=a?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(n,"\n        }"):r?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(n,"\n        }"):"\n          float activation(float x) {\n            ".concat(n,"\n          }\n        "),c="result = activation(result);");const u=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),r&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(l,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(i,";\n        int q = d2 - d1 * ").concat(i,";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ").concat(o,"; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(s,"; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ").concat(u,"\n        ").concat(c,"\n        setOutput(result);\n      }\n    ")}}class L${constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=e.outShape,this.enableShapeUniforms=sY(this.outputShape.length);const o=e.outChannels/e.inChannels,s=e.padInfo.left,i=e.strideWidth,l=e.dilationWidth,c=e.filterHeight,u=e.filterWidth,d=u;let h="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;";for(let g=0;g<u;g++)h+="\n          vec4 xTexelC".concat(2*g,";\n          int xTexelC").concat(2*g,"Ready;\n          vec4 xTexelC").concat(2*g+1,";\n          int xTexelC").concat(2*g+1,"Ready;\n          vec4 xC").concat(g,";");h+="\n    for (int r = 0; r < ".concat(c,"; r++) {\n      ");for(let g=0;g<u;g++)h+="\n          xTexelC".concat(2*g," = vec4(0.0);\n          xTexelC").concat(2*g,"Ready = 0;\n          xTexelC").concat(2*g+1," = vec4(0.0);\n          xTexelC").concat(2*g+1,"Ready = 0;\n          xC").concat(g," = vec4(0.0);");h+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(let g=0;g<(d+1)/2;g++){const e=2*g;if(h+="\n          xC = xCCorner + ".concat(e*l,";\n          "),1===i){if(e<u&&(s%2===1?(h+="\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(e,"Ready == 0) {\n                  xTexelC").concat(e," = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(e,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(e,"Ready = 1;\n                }\n              "),h+=1===l&&e>0?"\n                xC".concat(e," = vec4(xTexelC").concat(e-2,".zw, xTexelC").concat(e,".xy);\n                "):"\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC".concat(e," = vec4(previous.zw, xTexelC").concat(e,".xy);\n                  } else {\n                    xC").concat(e," = vec4(0.0, 0.0, xTexelC").concat(e,".xy);\n                  }\n                  ")):h+="\n                if (xC >= 0 && xC < inDims[1] && xTexelC".concat(e,"Ready == 0) {\n                  xTexelC").concat(e," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(e,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(e,"Ready = 1;\n                }\n\n                xC").concat(e," = xTexelC").concat(e,";\n                "),e+1<u)){const t=s%2===0?ig(l):l;l%2===0&&s%2===1||l%2!==0&&s%2!==1?(h+="\n                  xCOffset = xC + imod(pads[1], 2) + ".concat(t,";\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(e+1,"Ready == 0) {\n                    xTexelC").concat(e+1," = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC").concat(e+1,".zw = vec2(0.0);\n                    }\n                    xTexelC").concat(e+1,"Ready = 1;\n                  }\n                  "),h+=l>1?"\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n                     xC".concat(e+1," = vec4(previous.zw, xTexelC").concat(e+1,".xy);\n                    } else {\n                     xC").concat(e+1," = vec4(0.0, 0.0, xTexelC").concat(e+1,".xy);\n                    }\n                    "):"\n                    xC".concat(e+1," = vec4(xTexelC").concat(e,".zw, xTexelC").concat(e+1,".xy);\n                    ")):h+=1===t?"\n                    xC".concat(e+1," = xTexelC").concat(e,";\n                    "):"\n                    xCOffset = xC + ".concat(t,";\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(e+1,"Ready == 0) {\n                      xTexelC").concat(e+1," = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC").concat(e+1,".zw = vec2(0.0);\n                      }\n                      xTexelC").concat(e+1,"Ready = 1;\n                    }\n\n                    xC").concat(e+1," = xTexelC").concat(e+1,";\n                    ")}}else e<u&&(s%2===1?(h+="\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(e,"Ready == 0) {\n                  xTexelC").concat(e," = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(e,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(e,"Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(e+1,"Ready == 0) {\n                  xTexelC").concat(e+1," = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC").concat(e+1,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(e+1,"Ready = 1;\n                }\n\n                xC").concat(e," = vec4(xTexelC").concat(e,".zw, xTexelC").concat(e+1,".zw);\n              "),e+1<u&&(h+="\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC".concat(e+1," = vec4(xTexelC").concat(e+1,".xy, final.xy);\n                "))):(h+="\n                if(xC >= 0 && xC < inDims[1] && xTexelC".concat(e,"Ready == 0) {\n                  xTexelC").concat(e," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(e,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(e,"Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(e+1,"Ready == 0) {\n                  xTexelC").concat(e+1," = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(e+1,".zw = vec2(0.);\n                  }\n                  xTexelC").concat(e+1,"Ready = 1;\n                }\n\n                xC").concat(e," = vec4(\n                  xTexelC").concat(e,".xy, xTexelC").concat(e+1,".xy);\n              "),e+1<u&&(h+="\n                  xC".concat(e+1," = vec4(xTexelC").concat(e,".zw, xTexelC").concat(e+1,".zw);\n                "))));e<u&&(h+="\n            wTexel = getW(r, ".concat(e,", d1, q);\n            dotProd += xC").concat(e," * vec4(wTexel.xz, wTexel.xz);\n          "),e+1<u&&(h+="\n              wTexel = getW(r, ".concat(e+1,", d1, q);\n              dotProd += xC").concat(e+1," * vec4(wTexel.xz, wTexel.xz);\n            ")))}h+="\n    }\n  ",h+="\n      }\n    ";let p="",f="";n&&(p=a?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(n,"\n        }"):r?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(n,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(n,"\n        }"),f="result = activation(result);");const m=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),r&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(p,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(o,";\n        int q = d2 - d1 * ").concat(o,";\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ").concat(h,"\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ").concat(m,"\n        ").concat(f,"\n        setOutput(result);\n      }\n    ")}}const M$={kernelName:Yy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:o}=t,{strides:s,pad:i,dilations:l,dimRoundingMode:c}=a;let u=l;null==u&&(u=[1,1]),hg(uC(s,u),(()=>"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(s," and dilations '").concat(u,"'")));const d=nC(r.shape,o.shape,s,u,i,c,!0);let h;h=ty().getBool("WEBGL_PACK_DEPTHWISECONV")&&d.strideWidth<=2&&d.outChannels/d.inChannels===1?new L$(d):new F$(d);const p=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];return n.runWebGLProgram(h,[r,o],"float32",p)}};class P${constructor(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;const t=e.strideHeight,n=e.strideWidth,a=e.padInfo.top,r=e.padInfo.left,o=e.outChannels/e.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ".concat(o," + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ").concat(e.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(e.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(t," - ").concat(a,";\n\n            if (xR < 0 || xR >= ").concat(e.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(e.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(n," - ").concat(r,";\n\n              if (xC < 0 || xC >= ").concat(e.inWidth,") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class z${constructor(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;const t=e.filterHeight,n=e.filterWidth,a=e.strideHeight,r=e.strideWidth,o=t-1-e.padInfo.top,s=n-1-e.padInfo.left,i=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 pads = ivec2(".concat(o,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ").concat(t,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(t," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(n,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(r,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(n," - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ").concat(i,"; dm++) {\n              int d2 = d1 * ").concat(i," + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}const j$={kernelName:Qy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,dy:o}=t,{strides:s,dilations:i,pad:l,dimRoundingMode:c,filterShape:u}=a,d=nC(r.shape,u,s,i,l,c,!0),h=new P$(d);return n.runWebGLProgram(h,[r,o],"float32")}};const B$={kernelName:Zy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,filter:o}=t,{strides:s,dilations:i,pad:l,dimRoundingMode:c,inputShape:u}=a,d=nC(u,o.shape,s,i,l,c,!0),h=new z$(d);return n.runWebGLProgram(h,[r,o],"float32")}};class W${constructor(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}}const U$={kernelName:Jy,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:a}=t,r=[...a.shape,...a.shape],o=mg(a.shape),s=bZ({inputs:{x:a},backend:n,attrs:{shape:[o]}}),i=new W$(o),l=n.runWebGLProgram(i,[s],s.dtype),c=bZ({inputs:{x:l},backend:n,attrs:{shape:r}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(l),c}};class V${constructor(e){this.variableNames=["x","W"],this.outputShape=e.outShape;const{inHeight:t,inWidth:n,padInfo:a,strideHeight:r,strideWidth:o,filterHeight:s,filterWidth:i,dilationHeight:l,dilationWidth:c}=e,{top:u,left:d}=a;this.userCode="\n      const ivec2 strides = ivec2(".concat(r,", ").concat(o,");\n      const ivec2 pads = ivec2(").concat(u,", ").concat(d,");\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ").concat(s,"; h++) {\n          int hIn = hBeg + h * ").concat(l,";\n\n          if (hIn >= 0 && hIn < ").concat(t,") {\n            for (int w = 0; w < ").concat(i,"; w++) {\n              int wIn = wBeg + w * ").concat(c,";\n\n              if (wIn >= 0 && wIn < ").concat(n,") {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    ")}}const H$={kernelName:$y,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:o}=t,{strides:s,pad:i,dilations:l}=a,c=$T(r.shape,o.shape,s,i,"NHWC",l);let u;const d=new V$(c);u=n.runWebGLProgram(d,[r,o],"float32");const h=bZ({inputs:{x:u},backend:n,attrs:{shape:c.outShape}});return n.disposeIntermediateTensorInfo(u),h}};const G$={kernelName:rb,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{equation:r}=a,o=t,{allDims:s,summedDims:i,idDims:l}=MR(r,o.length);zR(s.length,l,o);const{path:c,steps:u}=jR(i,l),d=u.length;let h=null,p=s.length;const f=[];for(let m=0;m<d;++m){for(const e of u[m]){const{permutationIndices:t,expandDims:a}=PR(p,l[e]);let r;BR(t)?r=o[e]:(r=EZ({inputs:{x:o[e]},backend:n,attrs:{perm:t}}),f.push(r));const s=r.shape.slice();for(let e=0;e<a.length;++e)s.splice(a[e],0,1);bg(r.shape,s)||(r=bZ({inputs:{x:r},backend:n,attrs:{shape:s}}),f.push(r)),null===h?h=r:(h=gZ({inputs:{a:r,b:h},backend:n}),f.push(h))}m<d-1&&(c[m]>=0&&(h=CZ({inputs:{x:h},backend:n,attrs:{axis:c[m]-(s.length-p),keepDims:!1}}),f.push(h)),p--)}for(const m of f)m!==h&&n.disposeIntermediateTensorInfo(m);return h}},q$=cZ({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),K$={kernelName:ob,backendName:"webgl",kernelFunc:q$},X$={kernelName:sb,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n}=e,{dy:a,y:r}=t,o=ty().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new ZQ("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",a.shape,r.shape):new YQ("return (b >= 0.0) ? a : a * (b + 1.0);",a.shape,r.shape);return n.runWebGLProgram(o,[a,r],a.dtype)}},Y$=uZ({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:DY}),Q$={kernelName:lb,backendName:"webgl",kernelFunc:Y$},Z$=cZ({opSnippet:'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = '.concat(bR,";\n  float a1 = ").concat(vR,";\n  float a2 = ").concat(wR,";\n  float a3 = ").concat(xR,";\n  float a4 = ").concat(kR,";\n  float a5 = ").concat(SR,";\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n")}),J$={kernelName:ib,backendName:"webgl",kernelFunc:Z$},$$=cZ({opSnippet:lZ+"\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:OY,dtype:"float32"}),e0={kernelName:cb,backendName:"webgl",kernelFunc:$$};function t0(e){const{inputs:t,attrs:n,backend:a}=e,{dim:r}=n,{input:o}=t,s=o.shape.length,i=o.shape.slice();let l=r;return r<0&&(hg(-(s+1)<=r,(()=>"Axis must be in the interval [".concat(-(s+1),", ").concat(s,"]"))),l=s+r+1),i.splice(l,0,1),bZ({inputs:{x:o},backend:a,attrs:{shape:i}})}const n0={kernelName:ub,backendName:"webgl",kernelFunc:t0},a0="return exp(x) - 1.0;",r0=cZ({opSnippet:a0,packedOpSnippet:a0,cpuKernelImpl:FY}),o0={kernelName:db,backendName:"webgl",kernelFunc:r0};class s0{constructor(e,t,n){this.variableNames=["real","imag"];const a=t[1];this.outputShape=t;const r=n?"2.0 * ".concat(Math.PI):"-2.0 * ".concat(Math.PI),o=n?"".concat(a,".0"):"1.0";let s;if("real"===e)s="return real * expR - imag * expI;";else{if("imag"!==e)throw new Error('FFT component must be either "real" or "imag", got '.concat(e,"."));s="return real * expI + imag * expR;"}this.userCode="\n      const float exponentMultiplier = ".concat(r,";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ").concat(s,"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(").concat(a,");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ").concat(a,"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ").concat(o,";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    ")}}function i0(e,t,n){const a=n.texData.get(e.dataId),r=mg(e.shape),o=e.shape[e.shape.length-1],s=bZ({inputs:{x:e},backend:n,attrs:{shape:[r/o,o]}}),i=s.shape,l=new s0("real",i,t),c=new s0("imag",i,t),u=[{dataId:a.complexTensorInfos.real.dataId,dtype:a.complexTensorInfos.real.dtype,shape:i},{dataId:a.complexTensorInfos.imag.dataId,dtype:a.complexTensorInfos.imag.dtype,shape:i}],d=n.runWebGLProgram(l,u,"float32"),h=n.runWebGLProgram(c,u,"float32"),p=eZ({inputs:{real:d,imag:h},backend:n});n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h);const f=bZ({inputs:{x:p},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(p),f}const l0={kernelName:hb,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:a}=t;return i0(a,!1,n)}};class c0{constructor(e,t){this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}}function u0(e){const{backend:t,attrs:n}=e,{shape:a,value:r}=n;let{dtype:o}=n;if(o=o||zg(r),"string"===o){const e=Ag(o,mg(a));return e.fill(r),t.makeTensorInfo(a,o,e)}{const e=new c0(a,r),n=[[r]];return t.runWebGLProgram(e,[],o,n)}}const d0={kernelName:pb,backendName:"webgl",kernelFunc:u0};class h0{constructor(e){this.variableNames=["Image"],this.outputShape=[];const t=e[2];this.outputShape=e,this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ".concat(t," - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ").concat(t,") {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")}}const p0={kernelName:fb,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:n}=e;const{image:a}=t,r=n,o=new h0(a.shape);return r.runWebGLProgram(o,[a],a.dtype)}},f0="return floor(x);",m0=cZ({opSnippet:f0,packedOpSnippet:f0,cpuKernelImpl:LY}),g0={kernelName:mb,backendName:"webgl",kernelFunc:m0},y0=uZ({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),b0={kernelName:gb,backendName:"webgl",kernelFunc:y0};class v0{constructor(e){this.variableNames=["A"];const t=PX(),[n,a]=e;this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(".concat(a,".0, ").concat(n,".0);\n\n        vec4 values = ").concat(t.texture2D,"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    ")}}class w0{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;const t=PX(),[n,a]=e;this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(".concat(a,".0, ").concat(n,".0);\n            vec4 values = ").concat(t.texture2D,"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ").concat(t.output," = result;\n      }\n    ")}}const x0={kernelName:vw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e;let{pixels:r}=t;const{numChannels:o}=a,s="undefined"!==typeof HTMLVideoElement&&r instanceof HTMLVideoElement,i="undefined"!==typeof HTMLImageElement&&r instanceof HTMLImageElement,[l,c]=s?[r.videoWidth,r.videoHeight]:[r.width,r.height],u=[c,l],d=[c,l,o];if(i||s){const e=ty().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");null!=k0&&e===S0||(S0=e,k0=document.createElement("canvas").getContext("2d",{willReadFrequently:S0})),k0.canvas.width=l,k0.canvas.height=c,k0.drawImage(r,0,0,l,c),r=k0.canvas}const h=n.makeTensorInfo(u,"int32");n.texData.get(h.dataId).usage=oX.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(h.dataId),r);const p=ty().getBool("WEBGL_PACK")?new w0(d):new v0(d),f=n.runWebGLProgram(p,[h],"int32");return n.disposeData(h.dataId),f}};let k0,S0=ty().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");const N0={kernelName:kw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:o,bias:s,preluActivationWeights:i}=t,{strides:l,pad:c,dataFormat:u,dilations:d,dimRoundingMode:h,activation:p,leakyreluAlpha:f}=a,m=hC(u),g=nC(r.shape,o.shape,l,d,c,h,!1,m);let y;const b=[],v=null!=s,w=null!=i,x="leakyrelu"===p,k=()=>{const e=[r,o],t=(e,t)=>{if("NCHW"===t&&1===e.shape.length&&1!==e.shape[0]){const t=bZ({inputs:{x:e},backend:n,attrs:{shape:[e.shape[0],1,1]}});return b.push(t),t}return e};if(v&&e.push(t(s,u)),w&&e.push(t(i,u)),x){const t=n.makeTensorInfo([],"float32",Jw(f,"float32"));e.push(t),b.push(t)}return e};if(1!==g.filterHeight||1!==g.filterWidth||1!==g.dilationHeight||1!==g.dilationWidth||1!==g.strideHeight||1!==g.strideWidth||"SAME"!==g.padInfo.type&&"VALID"!==g.padInfo.type)if(g.strideWidth<=2&&"channelsLast"===m&&ty().getBool("WEBGL_EXP_CONV")){const e=p?dZ(p,!0):null,t=new n$(g,v,e,w,x),a=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],r=k();y=n.runWebGLProgram(t,r,"float32",a)}else if(ty().getBool("WEBGL_CONV_IM2COL"))y=s$({x:r,filter:o,convInfo:g,backend:n,bias:s,activation:p,preluActivationWeights:i,leakyreluAlpha:f});else{const e=p?dZ(p,!1):null,t=new e$(g,v,e,w,x),a=k();y=n.runWebGLProgram(t,a,"float32")}else y=o$({x:r,filter:o,convInfo:g,backend:n,bias:s,activation:p,preluActivationWeights:i,leakyreluAlpha:f});const S=bZ({inputs:{x:y},backend:n,attrs:{shape:g.outShape}});return b.push(y),b.forEach((e=>n.disposeIntermediateTensorInfo(e))),S}};const T0={kernelName:Sw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,filter:o,bias:s,preluActivationWeights:i}=t,{strides:l,pad:c,dilations:u,dimRoundingMode:d,activation:h,leakyreluAlpha:p}=a,f=[];let m=u;null==m&&(m=[1,1]),hg(uC(l,m),(()=>"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(l," and dilations '").concat(m,"'")));const g=nC(r.shape,o.shape,l,m,c,d,!0),y=ty().getBool("WEBGL_PACK_DEPTHWISECONV")&&g.strideWidth<=2&&g.outChannels/g.inChannels===1,b=h?dZ(h,y):null,v=[r,o],w=null!=s,x=null!=i,k="leakyrelu"===h;if(w&&v.push(s),x&&v.push(i),k){const e=n.makeTensorInfo([],"float32",Jw(p,"float32"));v.push(e),f.push(e)}let S;S=y?new L$(g,w,b,x,k):new F$(g,w,b,x,k);const N=[[g.padInfo.top,g.padInfo.left],[g.strideHeight,g.strideWidth],[g.dilationHeight,g.dilationWidth],[g.inHeight,g.inWidth]],T=n.runWebGLProgram(S,v,"float32",N);return f.forEach((e=>n.disposeIntermediateTensorInfo(e))),T}};class C0{constructor(e,t,n,a){this.sliceDim=e,this.strides=t,this.paramsShape=a,this.variableNames=["x","indices"],this.outputShape=n;const r=$X(n.length);let o="\n    int index;";for(let s=0;s<this.sliceDim;s++)o+="\n          index = round(getIndices(coords[0], ".concat(s,"));\n          out_of_bounds = out_of_bounds || index < 0;\n          out_of_bounds = out_of_bounds || index >= ").concat(this.paramsShape[s],";\n          flattenIndex += index * ").concat(this.strides[s],";");this.userCode="\n         void main() {\n          ".concat(r," coords = getOutputCoords();\n          int flattenIndex = 0;\n          bool out_of_bounds = false;\n\n          ").concat(o,"\n\n          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));\n        }\n      ")}}const I0={kernelName:vb,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{params:a,indices:r}=t,o=r.shape,s=o[o.length-1],i=mg(a.shape),[l,c,u,d]=nT(a,r),h=bZ({inputs:{x:r},backend:n,attrs:{shape:[c,s]}}),p=bZ({inputs:{x:a},backend:n,attrs:{shape:[mg(a.shape)/u,u]}});if(n.shouldExecuteOnCPU([a,r])||"string"===a.dtype){const e=n.readSync(r.dataId),t=n.bufferSync(a),o=MY(e,t,a.dtype,c,s,u,d,a.shape,i);return n.makeTensorInfo(l,a.dtype,o.values)}const f=new C0(s,d,[c,u],a.shape),m=n.runWebGLProgram(f,[p,h],p.dtype),g=bZ({inputs:{x:m},backend:n,attrs:{shape:l}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(m),g}};class E0{constructor(e,t){this.variableNames=["A","indices"],this.outputShape=t,this.rank=t.length;const n=$X(this.rank),a=function(e,t){const n=["resRC.x","resRC.y","resRC.z","resRC.w"],a=[];for(let r=0;r<e.length;r++)2===r?a.push("index"):a.push("".concat(n[r]));return a.join()}(e);this.userCode="\n      void main() {\n        ".concat(n," resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ").concat(e[2],") ? 1.0 : 0.0;\n        setOutput(inBounds * getA(").concat(a,"));\n      }\n    ")}}function A0(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,indices:o}=t,{axis:s,batchDims:i}=a,l=Cg(s,r.shape)[0];if(ty().get("DEBUG")){const e=n.readSync(o.dataId),t=r.shape[l];for(let n=0;n<e.length;++n){const a=e[n];hg(a<=t-1&&a>=0,(()=>"GatherV2: the index value ".concat(a," is not in [0, ").concat(t-1,"]")))}}const c=aD(r,o,l,i),u=mg(o.shape),d=[],h=bZ({inputs:{x:r},backend:n,attrs:{shape:[c.batchSize,c.outerSize,c.dimSize,c.sliceSize]}}),p=bZ({inputs:{x:o},backend:n,attrs:{shape:[c.batchSize,u/c.batchSize]}});d.push(h),d.push(p);const f=[c.batchSize,c.outerSize,u/c.batchSize,c.sliceSize];if(n.shouldExecuteOnCPU([r,o])||"string"===r.dtype){const e=n.bufferSync(p),t=n.bufferSync(h),a=PY(t,e,f);return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),n.makeTensorInfo(c.outputShape,a.dtype,a.values)}const m=new E0(h.shape,f),g=n.runWebGLProgram(m,[h,p],h.dtype);d.push(g);const y=bZ({inputs:{x:g},backend:n,attrs:{shape:c.outputShape}});return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),y}const _0={kernelName:bb,backendName:"webgl",kernelFunc:A0},R0=uZ({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:zY,dtype:"bool"}),D0={kernelName:wb,backendName:"webgl",kernelFunc:R0},O0=uZ({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:jY}),F0={kernelName:xb,backendName:"webgl",kernelFunc:O0};const L0={kernelName:Sb,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{input:a}=t;return i0(a,!0,n)}},M0=cZ({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),P0={kernelName:Tb,backendName:"webgl",kernelFunc:M0},z0=cZ({opSnippet:"return float(isinf(x));",dtype:"bool"}),j0={kernelName:Cb,backendName:"webgl",kernelFunc:z0},B0=cZ({opSnippet:"return float(isnan(x));",dtype:"bool"}),W0={kernelName:Ib,backendName:"webgl",kernelFunc:B0},U0=uZ({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:BY,dtype:"bool"}),V0={kernelName:Ab,backendName:"webgl",kernelFunc:U0},H0=uZ({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:WY,dtype:"bool"}),G0={kernelName:_b,backendName:"webgl",kernelFunc:H0};const q0={kernelName:Rb,backendName:"webgl",kernelFunc:function(e){const{backend:t,attrs:n}=e,{start:a,stop:r,num:o}=n,s=UY(a,r,o);return t.makeTensorInfo([s.length],"float32",s)}},K0=cZ({opSnippet:lZ+"\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:VY}),X0={kernelName:Db,backendName:"webgl",kernelFunc:K0},Y0=cZ({opSnippet:lZ+"\n  return log(1.0 + x);\n"}),Q0={kernelName:Ob,backendName:"webgl",kernelFunc:Y0},Z0=uZ({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),J0={kernelName:Fb,backendName:"webgl",kernelFunc:Z0},$0=cZ({opSnippet:"return float(!(x >= 1.0));"}),e1={kernelName:Lb,backendName:"webgl",kernelFunc:$0},t1=uZ({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),n1={kernelName:Mb,backendName:"webgl",kernelFunc:t1};class a1{constructor(e,t,n,a,r){this.variableNames=["x"],this.outputShape=[];const o=t,s=e[3]-1;let i;this.outputShape=e;const l="float(".concat(n,") + float(").concat(a,") * sum");i=.5===r?"inversesqrt(".concat(l,")"):1===r?"1.0/(".concat(l,")"):"exp(log(".concat(l,") * float(-").concat(r,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -".concat(o,"; j <= ").concat(o,"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ").concat(s,") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ").concat(i,";\n        setOutput(val);\n      }\n    ")}}class r1{constructor(e,t,n,a,r){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;const o=t,s=e[3]-1;let i;this.outputShape=e;const l="float(".concat(n,") + float(").concat(a,") * sum");i=.5===r?"inversesqrt(".concat(l,")"):1===r?"1.0/(".concat(l,")"):"exp(log(".concat(l,") * float(-").concat(r,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ".concat(this.outputShape[3],";\n        bool hasNextRow = c < ").concat(this.outputShape[2],";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ").concat(o,";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ").concat(o,"; j <= ").concat(o,"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(").concat(s,"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ").concat(i,";\n        setOutput(result);\n      }\n    ")}}const o1={kernelName:Bb,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{depthRadius:o,bias:s,alpha:i,beta:l}=a,c=ty().getBool("WEBGL_PACK_NORMALIZATION")?new r1(r.shape,o,s,i,l):new a1(r.shape,o,s,i,l);return n.runWebGLProgram(c,[r],r.dtype)}};class s1{constructor(e,t,n,a,r){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=a,this.beta=r,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ".concat(this.depth,"; ++d) {\n          int depthBegin = int(max(0.0, float(d - ").concat(t,")));\n          int depthEnd = int(min(float(").concat(this.depth,"),\n              float(d + ").concat(t," + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ").concat(this.depth,";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(").concat(a,") * norm + float(").concat(n,");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(").concat(a,")\n                * float(").concat(r,")\n                * getInputImage(b, r, c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ").concat(r,");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    ")}}const i1={kernelName:Wb,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:a}=e,{x:r,y:o,dy:s}=t,{depthRadius:i,bias:l,alpha:c,beta:u}=a,d=new s1(r.shape,i,l,c,u);return n.runWebGLProgram(d,[r,o,s],r.dtype)}};function l1(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{reductionIndices:o,keepDims:s}=a,i=r.shape.length,l=Cg(o,r.shape);let c=l;const u=hI(c,i),d=null!=u,h=n.shouldExecuteOnCPU([r]);let p=r;if(d){if(h){const e=n.texData.get(p.dataId).values,t=new Array(i);for(let n=0;n<t.length;n++)t[n]=r.shape[u[n]];const a=bQ(e,r.shape,r.dtype,u,t);p=n.makeTensorInfo(t,r.dtype);n.texData.get(p.dataId).values=a}else p=TZ(r,u,n);c=fI(c.length,i)}dI("max",c,i);const[f,m]=cI(p.shape,c);let g,y=f;if(s&&(y=uI(f,l)),h){const e=n.texData.get(p.dataId).values,t=HY(e,mg(m),y,r.dtype);g=n.makeTensorInfo(y,r.dtype);n.texData.get(g.dataId).values=t}else g=function(e,t,n,a){const r=mg(t),o=bZ({inputs:{x:e},attrs:{shape:[mg(e.shape)/r,r]},backend:a}),s=kZ(o,e.dtype,"max",a),i=bZ({inputs:{x:s},attrs:{shape:n},backend:a});return a.disposeIntermediateTensorInfo(o),a.disposeIntermediateTensorInfo(s),i}(p,m,y,n);return d&&n.disposeIntermediateTensorInfo(p),g}const c1={kernelName:Vb,backendName:"webgl",kernelFunc:l1},u1=uZ({opSnippet:XQ+"\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+QQ+"\n  return result;\n",cpuKernelImpl:GY}),d1={kernelName:Hb,backendName:"webgl",kernelFunc:u1};const h1={kernelName:Gb,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t;LX(r,"maxPool");const{filterSize:o,strides:s,pad:i,dimRoundingMode:l}=a;hg(uC(s,1),(()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(1,"'")));const c=eC(r.shape,o,s,1,i,l);if(1===c.filterWidth&&1===c.filterHeight&&bg(c.inShape,c.outShape))return JQ({inputs:{x:r},backend:n});const u=new uJ(c,"max",!1);return n.runWebGLProgram(u,[r],r.dtype)}};const p1={kernelName:Kb,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{filterSize:o,strides:s,pad:i,dataFormat:l,dimRoundingMode:c}=a,u=tC(r.shape,o,s,[1,1,1],i,c,l),d=new dJ(u,"max",!1);return n.runWebGLProgram(d,[r],r.dtype)}};class f1{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideHeight,n=e.strideWidth,a=e.dilationHeight,r=e.effectiveFilterHeight,o=e.effectiveFilterWidth,s=r-1-e.padInfo.top,i=o-1-e.padInfo.left,l=r*o-1;this.userCode="\n      const ivec2 pads = ivec2(".concat(s,", ").concat(i,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(r,";\n          wR += ").concat(a,") {\n          float dyR = float(dyRCorner + wR) / ").concat(t,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(o,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(n,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ").concat(l," - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ").concat(o," + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}class m1{constructor(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;const t=e.strideDepth,n=e.strideHeight,a=e.strideWidth,r=e.dilationDepth,o=e.dilationHeight,s=e.dilationWidth,i=e.effectiveFilterDepth,l=e.effectiveFilterHeight,c=e.effectiveFilterWidth,u=i-1-e.padInfo.front,d=l-1-e.padInfo.top,h=c-1-e.padInfo.left,p=i*l*c-1;this.userCode="\n      const ivec3 pads = ivec3(".concat(u,", ").concat(d,", ").concat(h,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(i,";\n           wD += ").concat(r,") {\n          float dyD = float(dyDCorner + wD) / ").concat(t,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(e.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(l,";\n              wR += ").concat(o,") {\n            float dyR = float(dyRCorner + wR) / ").concat(n,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(e.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(c,";\n                wC += ").concat(s,") {\n              float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(e.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ").concat(p," -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ").concat(l," * ").concat(c," +\n                  wR * ").concat(c," + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}}const g1={kernelName:Xb,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:o}=t,s=o,{filterSize:i,strides:l,pad:c,dimRoundingMode:u}=a,d=tC(s.shape,i,l,[1,1,1],c,u),h=new dJ(d,"max",!0),p=n.runWebGLProgram(h,[s],s.dtype),f=new m1(d),m=n.runWebGLProgram(f,[r,p],s.dtype);return n.disposeIntermediateTensorInfo(p),m}};const y1={kernelName:qb,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{dy:r,input:o,output:s}=t,i=o;LX([o,s],"maxPoolGrad");const{filterSize:l,strides:c,pad:u,dimRoundingMode:d}=a,h=eC(i.shape,l,c,1,u,d),p=new uJ(h,"max",!0),f=n.runWebGLProgram(p,[i],i.dtype),m=new f1(h),g=n.runWebGLProgram(m,[r,f],i.dtype);return n.disposeIntermediateTensorInfo(f),g}};const b1={kernelName:Yb,backendName:"webgl",kernelFunc:e=>{let{inputs:t,attrs:n,backend:a}=e;const{x:r}=t,{filterSize:o,strides:s,pad:i,includeBatchInIndex:l}=n,c=a;hg(4===r.shape.length,(()=>"Error in maxPool: input must be rank 4 but got rank ".concat(r.shape.length,".")));const u=[1,1];hg(uC(s,u),(()=>"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(s," and dilations '").concat(u,"'")));const d=eC(r.shape,o,s,u,i),[h,p]=function(e,t,n,a){let r=new uJ(n,"max",!1);const o=a.runWebGLProgram(r,[e],"float32");return r=new uJ(n,"max",!0,!0,t),[o,a.runWebGLProgram(r,[e],"float32")]}(r,l,d,c);return[h,p]}};const v1={kernelName:Qb,backendName:"webgl",kernelFunc:e=>{let{inputs:t,attrs:n,backend:a}=e;const{x:r}=t,{keepDims:o,axis:s}=n,i=a,l=r.shape.length,c=Cg(s,r.shape);let u=c;const d=hI(u,l),h=null!=d,p=i.shouldExecuteOnCPU([r]),f=[];let m=r;if(h){if(p){const e=i.texData.get(m.dataId).values,t=new Array(l);for(let a=0;a<t.length;a++)t[a]=r.shape[d[a]];const n=bQ(e,r.shape,r.dtype,d,t);m=i.makeTensorInfo(t,r.dtype);i.texData.get(m.dataId).values=n}else m=TZ(r,d,i);f.push(m),u=fI(u.length,l)}dI("sum",u,l);const[g,y]=cI(m.shape,u);let b=g;o&&(b=uI(g,c));const v=function(e,t,n,a){const r=mg(t),o=bZ({inputs:{x:e},attrs:{shape:[mg(e.shape)/r,r]},backend:a}),s=kZ(o,"float32","mean",a),i=bZ({inputs:{x:s},attrs:{shape:n},backend:a});return a.disposeIntermediateTensorInfo(o),a.disposeIntermediateTensorInfo(s),i}(m,y,b,i);for(const w of f)i.disposeIntermediateTensorInfo(w);return v}};const w1={kernelName:Zb,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,keepDims:s}=a,i=r.shape.length,l=Cg(o,r.shape);let c=l;const u=hI(c,i);let d=r;null!=u&&(d=EZ({inputs:{x:r},backend:n,attrs:{perm:u}}),c=fI(c.length,r.shape.length)),dI("min",c,i);const[h,p]=cI(d.shape,c),f=bZ({inputs:{x:d},backend:n,attrs:{shape:[-1,mg(p)]}}),m=kZ(f,f.dtype,"min",n);let g;if(s){g=bZ({inputs:{x:m},backend:n,attrs:{shape:uI(h,l)}})}else g=bZ({inputs:{x:m},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),null!=u&&n.disposeIntermediateTensorInfo(d),g}},x1=uZ({opSnippet:XQ+"\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  bvec4 isNaNA = isnan(a);\n  bvec4 isNaNB = isnan(b);\n  bvec4 isNaN = bvec4(isNaNA.x || isNaNB.x, isNaNA.y || isNaNB.y, isNaNA.z || isNaNB.z, isNaNA.w || isNaNB.w);\n  "+QQ+"\n  return result;\n",cpuKernelImpl:qY}),k1={kernelName:Jb,backendName:"webgl",kernelFunc:x1};class S1{constructor(e,t,n){this.variableNames=["x"],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const a=e.length,r=$X(a),o=t.map((e=>e[0])).join(","),s=t.map(((t,n)=>t[0]+e[n])).join(","),i=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a),l="reflect"===n?0:1;this.userCode=1!==a?"\n      ".concat(r," start = ").concat(r,"(").concat(o,");\n      ").concat(r," end = ").concat(r,"(").concat(s,");\n\n      void main() {\n        ").concat(r," outC = getOutputCoords();\n        for (int i = 0; i < ").concat(a,"; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ").concat(l,";\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ").concat(l,";\n          }\n        }\n        ").concat(r," coords = outC - start;\n        setOutput(getX(").concat(i,"));\n      }\n    "):"\n        int start = ".concat(o,";\n        int end = ").concat(s,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ").concat(l,";\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ").concat(l,";\n          }\n          setOutput(getX(outC - start));\n        }\n      ")}}class N1{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const a=e.length,r=$X(a),o=t.map((e=>e[0])).join(","),s=t.map(((t,n)=>t[0]+e[n])).join(","),i=xQ("rc",a),l=xQ("source",a),c="".concat(i[a-1]," < ").concat(this.outputShape[a-1]),u=1===a?"source":"vec2(".concat(l.slice(-2).join(),")"),d="reflect"===n?0:1;let h="";if(1===a){const e="\n        ".concat(r," source = rc;\n        if (source < start) {\n          source = start * 2 - source - ").concat(d,";\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ").concat(d,";\n        }\n        source -= start;\n      ");h="\n        ".concat(r," rc = outputLoc;\n        ").concat(e,"\n        result[0] = getChannel(getX(").concat(l.join(),"), ").concat(u,");\n        ").concat(i[a-1]," += 1;\n        if(").concat(c,") {\n          ").concat(e,"\n          result[1] = getChannel(getX(").concat(l.join(),"), ").concat(u,");\n        }\n      ")}else{const e="\n        ".concat(r," source = rc;\n        ").concat(r," lt = ").concat(r,"(lessThan(source, start));\n        ").concat(r," gte = ").concat(r,"(greaterThanEqual(source, end));\n        ").concat(r," orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ").concat(d,") +\n                gte * ((end - 1) * 2 - source + ").concat(d,");\n        source -= start;\n      ");h="\n        ".concat(r," rc = outputLoc;\n        ").concat(e,"\n        result[0] = getChannel(getX(").concat(l.join(),"), ").concat(u,");\n        ").concat(i[a-1]," += 1;\n        if(").concat(c,") {\n          ").concat(e,"\n          result[1] = getChannel(getX(").concat(l.join(),"), ").concat(u,");\n        }\n        rc = outputLoc;\n        ").concat(i[a-2]," += 1;\n        if(").concat(i[a-2]," < ").concat(this.outputShape[a-2],") {\n          ").concat(e,"\n          result[2] = getChannel(getX(").concat(l.join(),"), ").concat(u,");\n          ").concat(i[a-1]," += 1;\n          if(").concat(c,") {\n            ").concat(e,"\n            result[3] = getChannel(getX(").concat(l.join(),"), ").concat(u,");\n          }\n        }\n      ")}this.userCode="\n      const ".concat(r," start = ").concat(r,"(").concat(o,");\n      const ").concat(r," end = ").concat(r,"(").concat(s,");\n\n      void main() {\n        ").concat(r," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(h,"\n        setOutput(result);\n      }\n    ")}}const T1={kernelName:$b,backendName:"webgl",kernelFunc:e=>{let{inputs:t,backend:n,attrs:a}=e;const{x:r}=t,{paddings:o,mode:s}=a,i=ty().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new N1(r.shape,o,s):new S1(r.shape,o,s);return n.runWebGLProgram(i,[r],r.dtype)}},C1=uZ({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  bvec4 isNaN = equal(b, vec4(0.0));\n  "+QQ+"\n  return result;\n"}),I1={kernelName:ev,backendName:"webgl",kernelFunc:C1};class E1{constructor(e,t,n){this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[e,n],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ".concat(t-1,"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(").concat(t-1,"));\n      }\n    ")}}const A1=uZ({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),_1={kernelName:ab,backendName:"webgl",kernelFunc:A1},R1="return a - b;",D1=uZ({opSnippet:R1,packedOpSnippet:R1,supportsComplex:!0,cpuKernelImpl:mQ}),O1={kernelName:sw,backendName:"webgl",kernelFunc:D1};function F1(e){const{inputs:t,backend:n,attrs:a}=e,{logits:r}=t,{dim:o}=a,s=Cg([o],r.shape),i=l1({inputs:{x:r},backend:n,attrs:{reductionIndices:s,keepDims:!1}}),l=uI(i.shape,s),c=bZ({inputs:{x:i},backend:n,attrs:{shape:l}}),u=D1({inputs:{a:r,b:c},backend:n}),d=$$({inputs:{x:u},backend:n}),h=CZ({inputs:{x:d},backend:n,attrs:{axis:s,keepDims:!1}}),p=bZ({inputs:{x:h},backend:n,attrs:{shape:l}}),f=A1({inputs:{a:d,b:p},backend:n});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(u),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(p),f}const L1={kernelName:Kv,backendName:"webgl",kernelFunc:F1};const M1={kernelName:tv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{logits:r}=t,{numSamples:o,seed:s,normalized:i}=a,l=i?r:F1({inputs:{logits:r},backend:n,attrs:{dim:r.shape.length-1}}),c=l.shape[0],u=l.shape[1],d=new E1(c,u,o),h=[[s]],p=n.runWebGLProgram(d,[l],"int32",h);return i||n.disposeIntermediateTensorInfo(l),p}},P1=AQ+"\n  return -x;\n";const z1={kernelName:av,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{x:a}=t;if(n.shouldExecuteOnCPU([a])){const e=n.texData.get(a.dataId),[t,r]=XY(e.values,a.shape,a.dtype);return n.makeTensorInfo(r,a.dtype,t)}let r;return r=ty().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new UQ(a.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new EQ(a.shape,P1),n.runWebGLProgram(r,[a],a.dtype)}},j1=i_;const B1={kernelName:ov,backendName:"webgl",kernelFunc:function(e){Nw("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:a}=e,{boxes:r,scores:o}=t,{maxOutputSize:s,iouThreshold:i,scoreThreshold:l}=a,c=n.readSync(r.dataId),u=n.readSync(o.dataId),{selectedIndices:d}=j1(c,u,s,i,l);return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},W1=l_;const U1={kernelName:sv,backendName:"webgl",kernelFunc:function(e){Nw("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:a}=e,{boxes:r,scores:o}=t,{maxOutputSize:s,iouThreshold:i,scoreThreshold:l,padToMaxOutputSize:c}=a,u=n.readSync(r.dataId),d=n.readSync(o.dataId),{selectedIndices:h,validOutputs:p}=W1(u,d,s,i,l,c);return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([p]))]}},V1=c_;const H1={kernelName:iv,backendName:"webgl",kernelFunc:function(e){Nw("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");const{inputs:t,backend:n,attrs:a}=e,{boxes:r,scores:o}=t,{maxOutputSize:s,iouThreshold:i,scoreThreshold:l,softNmsSigma:c}=a,u=n.readSync(r.dataId),d=n.readSync(o.dataId),h=s,p=i,f=l,m=c,{selectedIndices:g,selectedScores:y}=V1(u,d,h,p,f,m);return[n.makeTensorInfo([g.length],"int32",new Int32Array(g)),n.makeTensorInfo([y.length],"float32",new Float32Array(y))]}};class G1{constructor(e,t,n,a){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(".concat(a,"), float(").concat(n,"),\n                      float(index == coords.y)));\n      }\n    ")}}const q1={kernelName:cv,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:a}=e,{indices:r}=t,{dtype:o,depth:s,onValue:i,offValue:l}=a,c=mg(r.shape),u=new G1(c,s,i,l),d=bZ({inputs:{x:r},backend:n,attrs:{shape:[c]}}),h=n.runWebGLProgram(u,[d],o);n.disposeIntermediateTensorInfo(d);const p=bZ({inputs:{x:h},backend:n,attrs:{shape:[...r.shape,s]}});return n.disposeIntermediateTensorInfo(h),p}};function K1(e){const{inputs:t,backend:n}=e,{x:a}=t;if("complex64"===a.dtype){const e=OJ({inputs:{input:a},backend:n}),t=K1({inputs:{x:e},backend:n}),r=YJ({inputs:{input:a},backend:n}),o=K1({inputs:{x:r},backend:n}),s=eZ({inputs:{real:t,imag:o},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),n.disposeIntermediateTensorInfo(r),n.disposeIntermediateTensorInfo(o),s}return u0({attrs:{shape:a.shape,dtype:a.dtype,value:"string"===a.dtype?"":0},backend:n})}const X1={kernelName:yw,backendName:"webgl",kernelFunc:K1};const Y1={kernelName:lv,backendName:"webgl",kernelFunc:function e(t){const{inputs:n,backend:a}=t,{x:r}=n;if("string"===r.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===r.dtype){const t=OJ({inputs:{input:r},backend:a}),n=e({inputs:{x:t},backend:a}),o=YJ({inputs:{input:r},backend:a}),s=K1({inputs:{x:o},backend:a}),i=eZ({inputs:{real:n,imag:s},backend:a});return a.disposeIntermediateTensorInfo(t),a.disposeIntermediateTensorInfo(n),a.disposeIntermediateTensorInfo(o),a.disposeIntermediateTensorInfo(s),i}return u0({attrs:{shape:r.shape,dtype:r.dtype,value:1},backend:a})}};const Q1={kernelName:uv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{axis:r}=a;if(1===t.length)return t0({inputs:{input:t[0]},backend:n,attrs:{dim:r}});const o=t[0].shape,s=t[0].dtype;t.forEach((e=>{pg(o,e.shape,"All tensors passed to stack must have matching shapes"),hg(s===e.dtype,(()=>"All tensors passed to stack must have matching dtypes"))}));const i=[],l=JJ({inputs:t.map((e=>{const t=t0({inputs:{input:e},backend:n,attrs:{dim:r}});return i.push(t),t})),backend:n,attrs:{axis:r}});return i.forEach((e=>n.disposeIntermediateTensorInfo(e))),l}};class Z1{constructor(e,t,n){this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const a=e.length,r=$X(a),o=t.map((e=>e[0])).join(","),s=t.map(((t,n)=>t[0]+e[n])).join(","),i=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a);this.userCode=1!==a?"\n      ".concat(r," start = ").concat(r,"(").concat(o,");\n      ").concat(r," end = ").concat(r,"(").concat(s,");\n\n      void main() {\n        ").concat(r," outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ").concat(r," coords = outC - start;\n          setOutput(getX(").concat(i,"));\n        }\n      }\n    "):"\n        int start = ".concat(o,";\n        int end = ").concat(s,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      ")}}class J1{constructor(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=t.map(((t,n)=>t[0]+e[n]+t[1]));const a=e.length,r=$X(a),o=t.map((e=>e[0])).join(","),s=t.map(((t,n)=>t[0]+e[n])).join(","),i=xQ("rc",a),l=xQ("source",a),c="".concat(i[a-1]," < ").concat(this.outputShape[a-1]),u=1===a?"source":"vec2(".concat(l.slice(-2).join(),")"),d=["".concat(r," rc = outputLoc;"),"".concat(i[a-1]," += 1;\n       if(").concat(c,") {\n      "),1===a?"":"}\n       rc = outputLoc;\n       ".concat(i[a-2]," += 1;\n       if(").concat(i[a-2]," < ").concat(this.outputShape[a-2],") {"),1===a?"":"  ".concat(i[a-1]," += 1;\n         if(").concat(c,") {")],h=1===a?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))";let p="";for(let f=0,m=1===a?2:4;f<m;f++)p+="\n        ".concat(d[f],"\n        if (").concat(h,") {\n          result[").concat(f,"] = float(value);\n        } else {\n          ").concat(r," source = rc - start;\n          result[").concat(f,"] = getChannel(getX(").concat(l.join(),"), ").concat(u,");\n        }\n      ");p+=1===a?"} ":"}}",this.userCode="\n      const ".concat(r," start = ").concat(r,"(").concat(o,");\n      const ").concat(r," end = ").concat(r,"(").concat(s,");\n\n      void main() {\n        ").concat(r," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(p,"\n        setOutput(result);\n      }\n    ")}}const $1=e=>{const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{paddings:o,constantValue:s}=a;if(0===mg(r.shape)){const e=o.map(((e,t)=>e[0]+r.shape[t]+e[1]));return u0({backend:n,attrs:{shape:e,value:s,dtype:r.dtype}})}const i=ty().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new J1(r.shape,o,s):new Z1(r.shape,o,s),l=[[s]];return n.runWebGLProgram(i,[r],r.dtype,l)},e2={kernelName:dv,backendName:"webgl",kernelFunc:$1},t2=uZ({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  bvec4 isNaN1 = lessThan(a, vec4(0.0));\n  bvec4 isNaN2 = lessThan(floor(b), b);\n  bvec4 isNaN = bvec4(isNaN1.x && isNaN2.x, isNaN1.y && isNaN2.y, isNaN1.z && isNaN2.z, isNaN1.w && isNaN2.w);\n  "+QQ+"\n  return result;\n"}),n2={kernelName:pv,backendName:"webgl",kernelFunc:t2};const a2={kernelName:mv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{axis:o,keepDims:s}=a,i=r.shape.length,l=[],c=Cg(o,r.shape);let u=c;const d=hI(u,i);let h,p=r;if(null!=d&&(p=EZ({inputs:{x:r},backend:n,attrs:{perm:d}}),u=fI(u.length,i),l.push(p)),dI("prod",u,i),n.shouldExecuteOnCPU([p])){const e=n.texData.get(p.dataId).values,{outVals:t,outShape:a,outDtype:r}=QY(p.shape,p.dtype,e,u);h=n.makeTensorInfo(a,r,t)}else{const[e,t]=cI(p.shape,u),a=mg(t),o=bZ({inputs:{x:p},backend:n,attrs:{shape:[-1,a]}}),s=kZ(o,Rx(r.dtype),"prod",n);h=bZ({inputs:{x:s},backend:n,attrs:{shape:e}}),l.push(o),l.push(s)}if(s){l.push(h);const e=uI(h.shape,c);h=bZ({inputs:{x:h},backend:n,attrs:{shape:e}})}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),h}};const r2={kernelName:gv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{paramsNestedSplits:r,paramsDenseValues:o,indices:s}=t,{outputRaggedRank:i}=a,l=r.map((e=>n.readSync(e.dataId))),c=r.map((e=>e.shape)),u=n.readSync(o.dataId),d=n.readSync(s.dataId),[h,p,f]=ZY(l,c,u,o.shape,o.dtype,d,s.shape,i),m=h.map((e=>n.makeTensorInfo([e.length],"int32",e))),g=n.makeTensorInfo(f,o.dtype,p);return m.concat([g])}};const o2={kernelName:yv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{starts:a,limits:r,deltas:o}=t,s=n.readSync(a.dataId),i=n.readSync(r.dataId),l=n.readSync(o.dataId),[c,u]=JY(s,a.shape,a.dtype,i,r.shape,l,o.shape);return[n.makeTensorInfo([c.length],"int32",c),n.makeTensorInfo([u.length],a.dtype,u)]}};const s2={kernelName:bv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{shape:r,values:o,defaultValue:s,rowPartitionTensors:i}=t,{rowPartitionTypes:l}=a,c=n.readSync(r.dataId),u=n.readSync(o.dataId),d=n.readSync(s.dataId),h=i.map((e=>n.readSync(e.dataId))),p=i.map((e=>e.shape)),[f,m]=$Y(c,r.shape,u,o.shape,o.dtype,d,s.shape,h,p,l);return n.makeTensorInfo(f,o.dtype,m)}},i2=e=>{const{backend:t,attrs:n}=e,{start:a,stop:r,step:o,dtype:s}=n,i=eQ(a,r,o,s);return t.makeTensorInfo([i.length],s,i)},l2={kernelName:vv,backendName:"webgl",kernelFunc:i2},c2=cZ({opSnippet:"return 1.0 / x;"}),u2={kernelName:xv,backendName:"webgl",kernelFunc:c2},d2=cZ({opSnippet:AQ+"\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),h2={kernelName:kv,backendName:"webgl",kernelFunc:d2},p2=cZ({opSnippet:AQ+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),f2={kernelName:Ev,backendName:"webgl",kernelFunc:p2};class m2{constructor(e,t,n,a,r){this.variableNames=["A"],this.outputShape=[];const[o,s,i,l]=e;this.outputShape=[o,t,n,l];const c=[a&&t>1?s-1:s,a&&n>1?i-1:i],u=[a&&t>1?t-1:t,a&&n>1?n-1:n];let d;d=r?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(c[0]/u[0],",\n          ").concat(c[1]/u[1],");\n      const vec2 inputShapeRC = vec2(").concat(s,".0, ").concat(i,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    ")}}class g2{constructor(e,t,n,a,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[o,s,i,l]=e;this.outputShape=[o,t,n,l];const c=[a&&t>1?s-1:s,a&&n>1?i-1:i],u=[a&&t>1?t-1:t,a&&n>1?n-1:n];let d;d=r?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(c[0]/u[0],",\n          ").concat(c[1]/u[1],",\n          ").concat(c[1]/u[1],");\n      const vec3 inputShapeRC = vec3(").concat(s,".0, ").concat(i,".0,\n                                     ").concat(i,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(d,";\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(l-1,";\n        bool hasNextRow = coords.z < ").concat(n-1,";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    ")}}const y2={kernelName:Cv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:r}=t,{alignCorners:o,halfPixelCenters:s,size:i}=a,[l,c]=i,u=ty().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new g2(r.shape,l,c,o,s):new m2(r.shape,l,c,o,s);return n.runWebGLProgram(u,[r],"float32")}};class b2{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,a,r]=t,[,o,s]=e,i=[n&&o>1?a-1:a,n&&s>1?r-1:r],l=[n&&o>1?o-1:o,n&&s>1?s-1:s],c=i[0]/l[0],u=i[1]/l[1],d=1/c,h=1/u,p=2*Math.ceil(d)+2,f=2*Math.ceil(h)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(c,");\n        const float widthScale = float(").concat(u,");\n\n        const float invHeightScale = float(").concat(d,");\n        const float invWidthScale = float(").concat(h,");\n\n        const int winHeight = int(").concat(p,");\n        const int winWidth = int(").concat(f,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(o,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(s,") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ").concat(a-1,".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ").concat(r-1,".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}}const v2={kernelName:Iv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:r,dy:o}=t,{alignCorners:s}=a,i=new b2(o.shape,r.shape,s);return n.runWebGLProgram(i,[o],o.dtype)}};class w2{constructor(e,t,n,a,r){this.variableNames=["A"],this.outputShape=[];const[o,s,i,l]=e;this.outputShape=[o,t,n,l];const c=[a&&t>1?s-1:s,a&&n>1?i-1:i],u=[a&&t>1?t-1:t,a&&n>1?n-1:n],d=a?"0.5":"0.0";let h;h=r?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(c[0]/u[0],",\n          ").concat(c[1]/u[1],");\n      const vec2 inputShapeRC = vec2(").concat(s,".0, ").concat(i,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(h,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(d,")));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    ")}}class x2{constructor(e,t,n,a,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];const[o,s,i,l]=e;this.outputShape=[o,t,n,l];const c=[a&&t>1?s-1:s,a&&n>1?i-1:i],u=[a&&t>1?t-1:t,a&&n>1?n-1:n],d=a?"0.5":"0.0";let h;h=r?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(c[0]/u[0],",\n          ").concat(c[1]/u[1],",\n          ").concat(c[1]/u[1],");\n      const vec3 inputShapeRC = vec3(").concat(s,".0, ").concat(i,".0,\n                                     ").concat(i,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(h,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(d,")));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(l-1,";\n        bool hasNextRow = coords.z < ").concat(n-1,";\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    ")}}const k2={kernelName:Nv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:r}=t,{alignCorners:o,halfPixelCenters:s,size:i}=a,[l,c]=i,u=ty().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new x2(r.shape,l,c,o,s):new w2(r.shape,l,c,o,s);return n.runWebGLProgram(u,[r],r.dtype)}};class S2{constructor(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t;const[,a,r]=t,[,o,s]=e,i=[n&&o>1?a-1:a,n&&s>1?r-1:r],l=[n&&o>1?o-1:o,n&&s>1?s-1:s],c=i[0]/l[0],u=i[1]/l[1],d=1/c,h=1/u,p=2*Math.ceil(d)+2,f=2*Math.ceil(h)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(c,");\n        const float widthScale = float(").concat(u,");\n\n        const float invHeightScale = float(").concat(d,");\n        const float invWidthScale = float(").concat(h,");\n\n        const int winHeight = int(").concat(p,");\n        const int winWidth = int(").concat(f,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(o,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(s,") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(").concat(i[0],") *\n                (float(dyR) / float(").concat(l[0],"));\n\n            float sourceFracCol =\n                float(").concat(i[1],") *\n                  (float(dyC) / float(").concat(l[1],"));\n\n            int sourceNearestRow = int(min(\n                float(int(").concat(a,") - 1),\n                ").concat(n," ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(").concat(r,") - 1),\n                ").concat(n," ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}}const N2={kernelName:Tv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{images:r,dy:o}=t,{alignCorners:s}=a,i=new S2(o.shape,r.shape,s);return n.runWebGLProgram(i,[o],o.dtype)}};class T2{constructor(e,t){this.variableNames=["x"];const n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-".concat(n," tensor is not yet supported"));if(this.outputShape=e,1===n)return void(this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(".concat(e[0]," - coord - 1));\n        }\n      "));const a=e.map(((n,a)=>(n=>-1!==t.indexOf(n)&&1!==e[n]?"".concat(e[n]," - coords[").concat(n,"] - 1"):"coords[".concat(n,"]"))(a))).join(","),r=$X(n);this.userCode="\n      void main() {\n        ".concat(r," coords = getOutputCoords();\n        setOutput(getX(").concat(a,"));\n      }\n    ")}}class C2{constructor(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;const n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-".concat(n," tensor is not yet supported"));this.outputShape=e;const a=xQ("rc",n),r="".concat(a[n-1]," + 1 < ").concat(this.outputShape[n-1]),o="".concat(a[n-2]," + 1 < ").concat(this.outputShape[n-2]),s=$X(n);function i(n){const a=e.map(((a,r)=>function(n,a){return-1!==t.indexOf(n)&&1!==e[n]?"".concat(e[n]," - ").concat(a[n]," - 1"):"".concat(a[n])}(r,n))),r=a.join(","),o=a.slice(-2).join(",");return"getChannel(getX(".concat(r,"), vec2(").concat(o,"))")}this.userCode=1===n?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(".concat(e[0]," - rc - 1),\n            ").concat(e[0]," - rc - 1);\n          if(").concat(r,"){\n              result.g = getChannel(getX(").concat(e[0]," - (rc  + 1) - 1),\n                ").concat(e[0]," - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      "):"\n        void main() {\n          ".concat(s," rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ").concat(function(e){return i(e)}(a.slice()),";\n          if(").concat(r,"){\n            result.g = ").concat(function(e){return e[n-1]="("+e[n-1]+" + 1)",i(e)}(a.slice()),";\n          }\n          if(").concat(o,") {\n            result.b = ").concat(function(e){return e[n-2]="("+e[n-2]+" + 1)",i(e)}(a.slice()),";\n            if(").concat(r,") {\n              result.a = ").concat(function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",i(e)}(a.slice()),";\n            }\n          }\n          setOutput(result);\n        }\n    ")}}const I2={kernelName:Av,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{dims:o}=a,s=r.shape.length,i=Cg(o,r.shape);if(0===s)return JQ({inputs:{x:r},backend:n});const l=ty().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new C2(r.shape,i):new T2(r.shape,i);return n.runWebGLProgram(l,[r],r.dtype)}};class E2{constructor(e,t){this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];const n=e[1],a=e[2];this.outputShape=e;let r="";r="number"===typeof t?"float outputValue = ".concat(t.toFixed(2),";"):"\n        vec3 fill = vec3(".concat(t.join(","),");\n        float outputValue = fill[coords[3]];"),this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ".concat(r,"\n          if(coordX >= 0 && coordX < ").concat(a," && coordY >= 0 && coordY < ").concat(n,") {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")}}const A2={kernelName:ww,backendName:"webgl",kernelFunc:e=>{let{inputs:t,attrs:n,backend:a}=e;const{image:r}=t,{radians:o,fillValue:s,center:i}=n,l=a,c=new E2(r.shape,s),[u,d]=uR(i,r.shape[1],r.shape[2]),h=[[u,d,Math.sin(o),Math.cos(o)]];return l.runWebGLProgram(c,[r],r.dtype,h)}},_2=cZ({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),R2={kernelName:_v,backendName:"webgl",kernelFunc:_2},D2=cZ({opSnippet:"return inversesqrt(x);",cpuKernelImpl:tQ}),O2={kernelName:Rv,backendName:"webgl",kernelFunc:D2};class F2{constructor(e,t,n,a,r,o){let s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;const i=$X(r.length),l=$X(o.length);let c="";1===n?c="i":2===n&&(c="i, j");const u="getIndices(".concat(c,")");let d="";1===a?d="i":2===a&&(d="i, coords[1]");const h="getUpdates(".concat(d,")");let p="";s&&(p="coords[0], coords[1]");const f="getDefaultValue(".concat(p,")"),m=t>1?"strides[j]":"strides";this.userCode="\n        ".concat(i," strides = ").concat(i,"(").concat(r,");\n\n        void main() {\n          ").concat(l," coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ").concat(e,"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ").concat(t,"; j++) {\n              int index = round(").concat(u,");\n              flattenedIndex += index * ").concat(m,";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ").concat(h,";\n              found = true;\n            }\n          }\n          setOutput(mix(").concat(f,", sum, float(found)));\n        }\n      ")}}class L2{constructor(e,t,n,a,r,o){let s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.variableNames=["updates","indices","defaultValue"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=o;const i=$X(r.length),l=$X(o.length);let c="";1===n?c="i":2===n&&(c="i, j");const u="getIndices(".concat(c,")");let d="";1===a?d="i":2===a&&(d="i, coords[1]");const h="getUpdates(".concat(d,")");let p="";s&&(p="coords[0], coords[1]");const f="getDefaultValue(".concat(p,")"),m=t>1?"strides[j]":"strides",g=t>1?"strides[j + 1]":"strides";this.userCode="\n        ".concat(i," strides = ").concat(i,"(").concat(r,");\n\n        void main() {\n          ").concat(l," coords = getOutputCoords();\n          vec4 sum = vec4(0.);\n          vec4 found = vec4(0.);\n          for (int i = 0; i < ").concat(e,"; i+=2) {\n            ivec2 flattenedIndex = ivec2(0);\n            for (int j = 0; j < ").concat(t,"; j+=2) {\n              ivec4 index = round(").concat(u,");\n              flattenedIndex += index.xz * ").concat(m,";\n              if (j + 1 < ").concat(t,") {\n                flattenedIndex += index.yw * ").concat(g,";\n              }\n            }\n            if (flattenedIndex[0] == coords[0] || flattenedIndex[1] == coords[0] ||\n                flattenedIndex[0] == coords[0] + 1 || flattenedIndex[1] == coords[0] + 1) {\n              vec4 updVals = ").concat(h,";\n              if (flattenedIndex[0] == coords[0]) {\n                sum.xy += updVals.xy;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[0] == coords[0] + 1) {\n                sum.zw += updVals.xy;\n                found.zw = vec2(1.);\n              }\n              if (flattenedIndex[1] == coords[0]) {\n                sum.xy += updVals.zw;\n                found.xy = vec2(1.);\n              } else if (flattenedIndex[1] == coords[0] + 1) {\n                sum.zw += updVals.zw;\n                found.zw = vec2(1.);\n              }\n            }\n          }\n          setOutput(mix(").concat(f,", sum, found));\n        }\n      ")}}const M2={kernelName:Dv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{indices:r,updates:o}=t,{shape:s}=a,{sliceRank:i,numUpdates:l,sliceSize:c,strides:u,outputSize:d}=oT(0,r,s),h=[d/c,c];if(0===d)return n.makeTensorInfo(s,r.dtype);const p=bZ({inputs:{x:r},backend:n,attrs:{shape:[l,i]}}),f=bZ({inputs:{x:o},backend:n,attrs:{shape:[l,c]}}),m=n.makeTensorInfo([],"float32",new Float32Array([0]));let g;g=ty().getBool("WEBGL_PACK")?new L2(l,i,p.shape.length,f.shape.length,u,h):new F2(l,i,p.shape.length,f.shape.length,u,h);const y=n.runWebGLProgram(g,[f,p,m],f.dtype),b=bZ({inputs:{x:y},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(m),b}};class P2{constructor(e,t,n,a){this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[e,n];const r="for (int i = 0; i < ".concat(Math.ceil(Math.log2(t+1)),"; ++i) { if (left >= right) break;"),o=2===ty().getNumber("WEBGL_VERSION")?"while (left < right) {":r,s="left"===a?"<":"<=";this.userCode="\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ".concat(o,"\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ").concat(s," value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     ")}}const z2={kernelName:Fv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{sortedSequence:r,values:o}=t,{side:s}=a,i=new P2(r.shape[0],r.shape[1],o.shape[1],s),l=[[r.shape[1]]];return n.runWebGLProgram(i,[r,o],"int32",l)}};class j2{constructor(e,t,n){let a,r;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error("Where for rank ".concat(n," is not yet supported"));if(1===n)r="resRC",a="resRC";else{const n=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],s=[];for(let a=0;a<t.length;a++)s.push("".concat(n[a])),a<e&&o.push("".concat(n[a]));a=o.join(),r=s.join()}const o=$X(n);this.userCode="\n      void main() {\n        ".concat(o," resRC = getOutputCoords();\n        float cVal = getC(").concat(a,");\n        if (cVal >= 1.0) {\n          setOutput(getA(").concat(r,"));\n        } else {\n          setOutput(getB(").concat(r,"));\n        }\n      }\n    ")}}const B2={kernelName:Lv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{condition:a,t:r,e:o}=t,s=new j2(a.shape.length,r.shape,r.shape.length);return n.runWebGLProgram(s,[a,r,o],_x(r.dtype,o.dtype))}},W2=cZ({opSnippet:"\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ".concat(gR,";\n  float scale = ").concat(yR,";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n")}),U2={kernelName:Mv,backendName:"webgl",kernelFunc:W2},V2=cZ({opSnippet:lZ+"\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:aQ}),H2={kernelName:Wv,backendName:"webgl",kernelFunc:V2},G2=cZ({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),q2={kernelName:Bv,backendName:"webgl",kernelFunc:G2},K2=cZ({opSnippet:lZ+"\n  return sin(x);\n",packedOpSnippet:"\n  vec4 result = sin(x);\n  bvec4 isNaN = isnan(x);\n  ".concat(QQ,"\n  return result;\n")}),X2={kernelName:zv,backendName:"webgl",kernelFunc:K2},Y2=cZ({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),Q2={kernelName:jv,backendName:"webgl",kernelFunc:Y2},Z2=cZ({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),J2={kernelName:Uv,backendName:"webgl",kernelFunc:Z2},$2={kernelName:Gv,backendName:"webgl",kernelFunc:e=>{const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{blockShape:o,paddings:s}=a;hg(r.shape.length<=4,(()=>"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"));const i=o.reduce(((e,t)=>e*t)),l=[[0,0]];l.push(...s);for(let y=1+o.length;y<r.shape.length;++y)l.push([0,0]);const c=[],u=$1({inputs:{x:r},backend:n,attrs:{paddings:l,constantValue:0}}),d=dR(u.shape,o,i,!1),h=hR(d.length,o.length,!1),p=pR(u.shape,o,i,!1),f=bZ({inputs:{x:u},backend:n,attrs:{shape:d}}),m=EZ({inputs:{x:f},backend:n,attrs:{perm:h}}),g=bZ({inputs:{x:m},backend:n,attrs:{shape:p}});return c.push(u),c.push(f),c.push(m),c.forEach((e=>n.disposeIntermediateTensorInfo(e))),g}};const e3={kernelName:Xv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{indices:a,values:r,denseShape:o,defaultValue:s}=t;if(1!==o.shape.length)throw new Error("Dense shape must be a vector, saw:\n         ".concat(o.shape));if(2!==a.shape.length)throw new Error("Indices must be a matrix, saw:\n         ".concat(a.shape));if(1!==r.shape.length)throw new Error("Values must be a vector, saw:\n         ".concat(r.shape));if(0!==s.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(s.shape));const i=n.readSync(a.dataId),l=n.readSync(r.dataId),c=n.readSync(o.dataId),u=n.readSync(s.dataId)[0],[d,h,p,f,m]=sQ(i,a.shape,a.dtype,l,r.dtype,c,u);return[n.makeTensorInfo(h,a.dtype,d),n.makeTensorInfo([h[0]],r.dtype,p),n.makeTensorInfo([f.length],"bool",new Uint8Array(f.map((e=>Number(e))))),n.makeTensorInfo([m.length],a.dtype,new Int32Array(m))]}};const t3={kernelName:Yv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{inputIndices:a,inputShape:r,newShape:o}=t;if(2!==a.shape.length)throw new Error("Input indices should be a matrix but received shape ".concat(a.shape));if(1!==r.shape.length)throw new Error("Input shape should be a vector but received shape ".concat(r.shape));if(1!==o.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(o.shape));const s=Array.from(n.readSync(r.dataId)),i=n.readSync(a.dataId),l=Array.from(n.readSync(o.dataId)),[c,u,d]=iQ(i,a.shape,a.dtype,s,l);return[n.makeTensorInfo(u,a.dtype,c),n.makeTensorInfo([d.length],o.dtype,new Int32Array(d))]}};const n3={kernelName:Qv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:a,indices:r,segmentIds:o}=t;if(a.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error("Indices should be a vector but received shape\n              ".concat(r.shape));if(1!==o.shape.length)throw new Error("Segment ids should be a vector but received shape\n              ".concat(o.shape));const s=n.readSync(a.dataId),i=n.readSync(r.dataId),l=n.readSync(o.dataId),[c,u]=lQ(s,a.shape,a.dtype,i,l,!0);return n.makeTensorInfo(u,a.dtype,c)}};const a3={kernelName:Zv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n}=e,{data:a,indices:r,segmentIds:o}=t;if(a.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==r.shape.length)throw new Error("Indices should be a vector but received shape\n             ".concat(r.shape));if(1!==o.shape.length)throw new Error("Segment ids should be a vector but received shape\n             ".concat(o.shape));const s=n.readSync(a.dataId),i=n.readSync(r.dataId),l=n.readSync(o.dataId),[c,u]=lQ(s,a.shape,a.dtype,i,l);return n.makeTensorInfo(u,a.dtype,c)}};const r3={kernelName:Jv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{sparseIndices:r,sparseValues:o,defaultValue:s}=t,{outputShape:i}=a,{sliceRank:l,numUpdates:c,sliceSize:u,strides:d,outputSize:h}=oT(0,r,i);if("string"===o.dtype){const e=n.bufferSync(r),t=n.bufferSync(o),a=ax(n.readSync(s.dataId)[0]),p=nQ(e,t,i,h,u,c,l,d,a,false);return n.makeTensorInfo(i,p.dtype,p.values)}const p=new F2(c,l,r.shape.length,o.shape.length,d,[h,1],false),f=n.runWebGLProgram(p,[o,r,s],o.dtype),m=bZ({inputs:{x:f},backend:n,attrs:{shape:i}});return n.disposeIntermediateTensorInfo(f),m}};const o3={kernelName:qv,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{numOrSizeSplits:o,axis:s}=a,i=Cg(s,r.shape)[0],l=UR(r,o,i),c=r.shape.length,u=new Array(c).fill(0),d=r.shape.slice();return l.map((e=>{const t=[...d];t[i]=e;const a=TJ({inputs:{x:r},backend:n,attrs:{begin:u,size:t}});return u[i]+=e,a}))}},s3="return sqrt(x);",i3=cZ({opSnippet:s3,packedOpSnippet:s3,cpuKernelImpl:cQ}),l3={kernelName:Vv,backendName:"webgl",kernelFunc:i3},c3=cZ({opSnippet:"return x * x;"}),u3={kernelName:ew,backendName:"webgl",kernelFunc:c3},d3="return (a - b) * (a - b);",h3=uZ({opSnippet:d3,packedOpSnippet:d3}),p3={kernelName:$v,backendName:"webgl",kernelFunc:h3};const f3={kernelName:tw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t;if("string"!==r.dtype)throw new Error("Input must be of datatype string");const o=rD(n.readSync(r.dataId)),s=uQ(o,"string",a);return n.makeTensorInfo(r.shape,"string",s)}};const m3={kernelName:bw,backendName:"webgl",kernelFunc:function(e){let{inputs:t,attrs:n,backend:a}=e;const{x:r}=t,o=AQ+"\n    return x > 0.0 ? 1.0 : float(".concat(n.alpha,");\n  "),s=new EQ(r.shape,o);return a.runWebGLProgram(s,[r],r.dtype)}};class g3{constructor(e,t,n){this.variableNames=["x"],this.outputShape=n;const a=n.length,r=$X(n.length),o=$X(n.length);let s="";if(1===a)s="coords * strides + begin";else{let e=0;s=n.map(((t,a)=>(e++,1===n.length?"coords * strides[".concat(a,"] + begin[").concat(a,"]"):"coords[".concat(e-1,"] * strides[").concat(a,"] + begin[").concat(a,"]")))).join(",")}this.userCode="\n      ".concat(r," begin = ").concat(r,"(").concat(e,");\n      ").concat(r," strides = ").concat(r,"(").concat(t,");\n\n      void main() {\n        ").concat(o," coords = getOutputCoords();\n        setOutput(getX(").concat(s,"));\n      }\n    ")}}const y3={kernelName:nw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{begin:o,end:s,strides:i,beginMask:l,endMask:c,ellipsisMask:u,newAxisMask:d,shrinkAxisMask:h}=a,{finalShapeSparse:p,finalShape:f,isIdentity:m,sliceDim0:g,isSimpleSlice:y,begin:b,end:v,strides:w}=ST(r.shape,o,s,i,l,c,u,d,h);let x;if(m)x=bZ({inputs:{x:r},backend:n,attrs:{shape:f}});else if(g||y){hg(r.shape.length>=1,(()=>"Input must have rank at least 1, got: ".concat(r.shape.length)));const e=uT(b,v,w),t=TJ({inputs:{x:r},backend:n,attrs:{begin:b,size:e}});x=bZ({inputs:{x:t},backend:n,attrs:{shape:f}}),n.disposeIntermediateTensorInfo(t)}else{if(n.shouldExecuteOnCPU([r])){const e=n.readSync(r.dataId),t=RS(r.shape,r.dtype,e),a=dQ(p,t,w,b);x=n.makeTensorInfo(f,r.dtype,a.values)}else{const e=new g3(b,w,p);x=n.runWebGLProgram(e,[r],r.dtype)}}const k=bZ({inputs:{x:x},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(x),k}};const b3={kernelName:aw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{separator:r,nGramWidths:o,leftPad:s,rightPad:i,padWidth:l,preserveShortSequences:c}=a,{data:u,dataSplits:d}=t,h=n.readSync(u.dataId),p=n.readSync(d.dataId),[f,m]=hQ(h,p,r,o,s,i,l,c);return[n.makeTensorInfo([f.length],"string",f),n.makeTensorInfo(d.shape,"int32",m)]}};const v3={kernelName:rw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{skipEmpty:r}=a,{input:o,delimiter:s}=t;if("string"!==o.dtype)throw new Error("Input must be of datatype string");if(1!==o.shape.length)throw new Error("Input must be a vector, got shape: ".concat(o.shape));if(0!==s.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(s.shape));const i=n.readSync(o.dataId),l=n.readSync(s.dataId)[0],[c,u,d]=pQ(i,l,r),h=u.length;return[n.makeTensorInfo([h,2],"int32",c),n.makeTensorInfo([h],"string",u),n.makeTensorInfo([2],"int32",new Int32Array(d))]}};const w3={kernelName:ow,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{numBuckets:r}=a,{input:o}=t;if("string"!==o.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");const s=n.readSync(o.dataId),i=fQ(s,r);return n.makeTensorInfo(o.shape,"int32",i)}},x3=cZ({opSnippet:"return tan(x);"}),k3={kernelName:iw,backendName:"webgl",kernelFunc:x3},S3=cZ({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),N3={kernelName:lw,backendName:"webgl",kernelFunc:S3};const T3={kernelName:Ov,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{tensor:r,indices:o,updates:s}=t,{}=a,{sliceRank:i,numUpdates:l,sliceSize:c,strides:u,outputSize:d}=oT(0,o,r.shape),h=[d/c,c];if(0===d)return n.makeTensorInfo(r.shape,o.dtype);const p=bZ({inputs:{x:o},backend:n,attrs:{shape:[l,i]}}),f=bZ({inputs:{x:s},backend:n,attrs:{shape:[l,c]}}),m=bZ({inputs:{x:r},backend:n,attrs:{shape:h}}),g=new F2(l,i,p.shape.length,f.shape.length,u,h,!1,!0),y=n.runWebGLProgram(g,[f,p,m],m.dtype),b=bZ({inputs:{x:y},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),b}};class C3{constructor(e,t){this.variableNames=["A"];const n=new Array(e.length);for(let o=0;o<n.length;o++)n[o]=e[o]*t[o];this.outputShape=n,this.rank=n.length;const a=$X(this.rank),r=function(e){const t=e.length;if(t>5)throw Error("Tile for rank ".concat(t," is not yet supported"));if(1===t)return"imod(resRC, ".concat(e[0],")");const n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],a=[];for(let r=0;r<e.length;r++)a.push("imod(".concat(n[r],", ").concat(e[r],")"));return a.join()}(e);this.userCode="\n      void main() {\n        ".concat(a," resRC = getOutputCoords();\n        setOutput(getA(").concat(r,"));\n      }\n    ")}}function I3(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{reps:o}=a;if("string"===r.dtype||r.shape.length>5){const e=n.readSync(r.dataId),t="string"===r.dtype?e.map((e=>ax(e))):e,a=RS(r.shape,r.dtype,t),s=gQ(a,o);return n.makeTensorInfo(s.shape,s.dtype,s.values)}const s=new C3(r.shape,o);return n.runWebGLProgram(s,[r],r.dtype)}const E3={kernelName:cw,backendName:"webgl",kernelFunc:I3};class A3{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=e,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "}}class _3{constructor(e){this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=e,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}}function R3(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function D3(e){let t=1;for(;t<e;)t*=2;return t}const O3={kernelName:uw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r}=t,{k:o,sorted:s}=a,i=ty().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),l=ty().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),c=r.shape,u=c[c.length-1];if(n.shouldExecuteOnCPU([r])||u<i||o>l){const e=n.readSync(r.dataId),[t,a]=yQ(e,c,r.dtype,o,s);return[n.makeTensorInfo(t.shape,t.dtype,t.values),n.makeTensorInfo(a.shape,a.dtype,a.values)]}if(0===o)return c[c.length-1]=0,[n.makeTensorInfo(c,r.dtype,[]),n.makeTensorInfo(c,"int32",[])];if(1===u)return[r,u0({attrs:{shape:c,dtype:"int32",value:0},backend:n})];const d=n.texData.get(r.dataId),h=null!==d&&d.isPacked,p=h?n.unpackTensor(r):r,f=mg(c)/u,m=bZ({inputs:{x:p},attrs:{shape:[f,u]},backend:n});h&&R3(n,p);const g=D3(o),y=D3(u);let b=null;const v=()=>null===b?[m,m]:[m,b],w=(e,t,a)=>{const r=v(),o=new A3(a),s=[[u],[null===b?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],i=b;b=n.runWebGLProgram(o,r,"int32",s),R3(n,i)};for(let T=1;T<g;T*=2){const e=2*T;for(let t=T;t>=1;t/=2)w(e,t,[f,y])}for(let T=y;T>g;T/=2){const e=v(),t=new _3([f,T/2]),a=[[u],[null===b?1:0],[g]],r=b;b=n.runWebGLProgram(t,e,"int32",a),R3(n,r);const o=g/2,s=2*o;for(let n=o;n>=1;n/=2)w(s,n,b.shape)}let x=b;b=TJ({inputs:{x:b},backend:n,attrs:{begin:0,size:[f,o]}}),R3(n,x);let k=A0({inputs:{x:m,indices:b},backend:n,attrs:{axis:1,batchDims:1}});R3(n,m);const S=c.slice(0,-1);S.push(o),x=b,b=bZ({inputs:{x:b},attrs:{shape:S},backend:n}),R3(n,x);const N=k;return k=bZ({inputs:{x:k},attrs:{shape:S},backend:n}),R3(n,N),[k,b]}};class F3{constructor(e,t,n,a,r,o){this.variableNames=["Image","Transforms"],this.outputShape=o;const s="nearest"===n?1:2;let i;switch(a){case"constant":default:i=1;break;case"reflect":i=2;break;case"wrap":i=3;break;case"nearest":i=4}this.userCode="\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(".concat(i," == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(i," == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(i," == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ").concat(e," && 0 <= coordX && coordX < ").concat(t,") {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(").concat(r,");\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(").concat(r,");\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(").concat(t,"));\n                float mapY = mapCoord(inY, float(").concat(e,"));\n\n                if (").concat(s," == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        ")}}const L3={kernelName:dw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{image:r,transforms:o}=t,{interpolation:s,fillMode:i,fillValue:l,outputShape:c}=a,[u,d,h,p]=r.shape,[f,m]=null!=c?c:[d,h],g=new F3(d,h,s,i,l,[u,f,m,p]);return n.runWebGLProgram(g,[r,o],"float32")}};const M3={kernelName:pw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,attrs:n,backend:a}=e,{axis:r}=n,{x:o}=t;LX(o,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");const s=a.readSync(o.dataId),{outputValues:i,outputShape:l,indices:c}=vQ(s,r,o.shape,o.dtype);return[a.makeTensorInfo(l,o.dtype,i),a.makeTensorInfo([c.length],"int32",c)]}};const P3={kernelName:fw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{value:r}=t;let{axis:o}=a;o<0&&(o+=r.shape.length);const s=r,i=s.shape.length,l=r.shape[o],c=new Array(i-1);let u=0;for(let m=0;m<i;m++)m!==o&&(c[u++]=s.shape[m]);const d=[],h=new Array(i).fill(0),p=s.shape.slice();p[o]=1;const f=new Array(l);for(let m=0;m<f.length;m++){h[o]=m;const e=TJ({inputs:{x:s},backend:n,attrs:{begin:h,size:p}}),t=bZ({inputs:{x:e},backend:n,attrs:{shape:c}});f[m]=t,d.push(e)}return d.forEach((e=>n.disposeIntermediateTensorInfo(e))),f}};class z3{constructor(e,t){this.variableNames=["x","segmentIds"];const n=e.windowSize,a=e.batchSize,r=e.inSize,o=e.numSegments,s=o*Math.ceil(r/n);this.outputShape=[a,s];const i=4*Math.floor(n/4),l=n%4,c="\n        sumValue += dot(values, segFilter);\n    ";let u="";r%n>0&&(u="\n        if (inIdx < 0 || inIdx >= ".concat(r,") {\n          return initializationValue;\n        }\n      "));let d="";r%n>0&&(d="\n        if (inIdx < 0 || inIdx >= ".concat(r,") {\n          return -1.0;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat("0.0",";\n\n      float getValue(int batch, int inIdx) {\n        ").concat(u,"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ").concat(d,"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ").concat(o,")) * float(").concat(n,"));\n        int currentSeg = int(mod(float(outIdx), float(").concat(o,")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(i,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ").concat(c,"\n        }\n\n        int inIdx = inOffset + ").concat(i,";\n        if (").concat(1===l,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ").concat(c,"\n        } else if (").concat(2===l,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ").concat(c,"\n        } else if (").concat(3===l,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ").concat(c,"\n        }\n        setOutput(").concat("sumValue",");\n      }\n    ")}}const j3={kernelName:mw,backendName:"webgl",kernelFunc:function(e){const{inputs:t,backend:n,attrs:a}=e,{x:r,segmentIds:o}=t,{numSegments:s}=a,i=r.shape.length,l=[];let c=0;const u=hI([c],i);let d=r;null!=u&&(d=EZ({inputs:{x:r},backend:n,attrs:{perm:u}}),l.push(d),c=fI(1,i)[0]);const h=nD(d.shape,c,s),p=mg([d.shape[c]]),f=bZ({inputs:{x:d},backend:n,attrs:{shape:[-1,p]}});l.push(f);const m=Rx(r.dtype),g=(e,t,a,r,o)=>{const s=e.shape[0],i=e.shape[1],c=tD(i,o),u=new z3({windowSize:c,inSize:i,batchSize:s,numSegments:o},t),d=n.compileAndRun(u,[e,a],r);if(l.push(d),d.shape[1]===o)return d;const h=i2({backend:n,attrs:{start:0,stop:o,step:1,dtype:"float32"}}),p=I3({inputs:{x:h},backend:n,attrs:{reps:[i/c]}});l.push(h),l.push(p);return g(d,t,p,r,o)},y=bZ({inputs:{x:g(f,"unsortedSegmentSum",o,m,s)},backend:n,attrs:{shape:h}});let b=y;if(null!=u){l.push(y);const e=pI(u);b=EZ({inputs:{x:b},backend:n,attrs:{perm:e}})}return l.forEach((e=>n.disposeIntermediateTensorInfo(e))),b}},B3=[DZ,FZ,MZ,zZ,WZ,HZ,GZ,qZ,JZ,$Z,tJ,aJ,oJ,iJ,cJ,hJ,pJ,gJ,yJ,bJ,xJ,IJ,EJ,AJ,_J,MJ,jJ,UJ,tZ,GJ,$J,i$,h$,f$,m$,g$,y$,v$,x$,S$,A$,_$,R$,O$,M$,j$,B$,U$,H$,G$,K$,X$,Q$,J$,e0,n0,o0,l0,d0,p0,g0,b0,x0,N0,T0,I0,_0,D0,F0,$Q,L0,QJ,P0,j0,W0,rZ,V0,G0,q0,X0,Q0,J0,e1,n1,o1,i1,c1,d1,h1,p1,g1,y1,b1,v1,w1,k1,T1,I1,M1,yZ,z1,B1,U1,H1,DJ,q1,Y1,Q1,e2,n2,iZ,a2,r2,o2,s2,l2,FJ,_1,u2,h2,f2,vZ,y2,v2,k2,N2,I2,A2,R2,O2,M2,z2,B2,U2,H2,q2,X2,Q2,CJ,L1,J2,$2,e3,t3,n3,a3,r3,o3,l3,u3,p3,f3,m3,y3,b3,v3,w3,O1,IZ,k3,N3,T3,E3,O3,L3,AZ,M3,P3,j3,X1];for(const n of B3)Rw(n);const W3={initial:"initial",states:{initial:{on:{next:"loadingModel"}},loadingModel:{on:{next:"modelReady"}},modelReady:{on:{next:"imageReady"}},imageReady:{on:{next:"identifying"},displayImage:!0},identifying:{on:{next:"complete"}},complete:{on:{next:"modelReady"},displayImage:!0,displayResults:!0}}};const U3=function(){const[e,t]=(0,W.useState)([]),[n,a]=(0,W.useState)(null),[r,o]=(0,W.useState)(null),s=(0,W.useRef)(),i=(0,W.useRef)(),[l,c]=(0,W.useReducer)(((e,t)=>W3.states[e].on[t]||W3.initial),W3.initial),u=()=>c("next"),d={initial:{action:async()=>{u();const e=await function(e){return void 0===e&&(e={version:1,alpha:1}),CO(this,void 0,void 0,(function(){var t,n,a,r,o,s,i;return IO(this,(function(l){switch(l.label){case 0:if(null==v)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this model.");if(t=e.version.toFixed(2),n=e.alpha?e.alpha.toFixed(2):"",a=-1,r=1,null==e.modelUrl){if(!(t in RO))throw new Error("Invalid version of MobileNet. Valid versions are: "+Object.keys(RO));if(!(n in RO[t]))throw new Error("MobileNet constructed with invalid alpha "+e.alpha+". Valid multipliers for this version are: "+Object.keys(RO[t])+".");s=RO[t][n].inputRange,a=s[0],r=s[1]}return null!=e.inputRange&&(i=e.inputRange,a=i[0],r=i[1]),[4,(o=new DO(t,n,e.modelUrl,a,r)).load()];case 1:return l.sent(),[2,o]}}))}))}();o(e),u()},text:"Load Model"},loadingModel:{text:"Loading Model..."},modelReady:{action:()=>i.current.click(),text:"Upload Image"},imageReady:{action:async()=>{u();const e=await r.classify(s.current);t(e),u()},text:"Identify Breed"},identifying:{text:"Identifying..."},complete:{action:async()=>{t([]),u()},text:"Reset"}},{displayImage:h,displayResults:p}=W3.states[l];return(0,W.useEffect)((()=>{wk("webgl")}),[]),(0,ne.jsxs)("div",{children:[h&&(0,ne.jsx)("img",{className:"Detect-img",src:n,alt:"upload-preview",ref:s}),(0,ne.jsx)("input",{className:"Detection-input",type:"file",accept:"image/*",capture:"camera",onChange:e=>{const{files:t}=e.target;if(t.length>0){const t=URL.createObjectURL(e.target.files[0]);a(t),u()}},ref:i}),p&&(0,ne.jsx)("ul",{className:"detect-list",children:e.map((e=>{let{className:t,probability:n}=e;return(0,ne.jsx)("li",{children:"".concat(t,": %").concat((100*n).toFixed(2))},t)}))}),(0,ne.jsx)("button",{className:"detect-button",onClick:d[l].action||(()=>{}),children:d[l].text})]})},V3=JSON.parse('[{"fact":"Here\u2019s looking at you. Dogs have three eyelids, an upper lid, a lower lid and the third lid, called a nictitating membrane or \\"haw,\\" which helps keep the eye moist and protected."},{"fact":"Dogs are direct descendants of wolves."},{"fact":"Dachshunds were originally bred for fighting badgers."},{"fact":"The Chihuahua was named after the state in Mexico where they were discovered."},{"fact":"The earliest dog fossil dates back to nearly 10,000 B.C."},{"fact":"Dogs can smell about 1,000 times better than humans. While humans have 5 million smell-detecting cells, dogs have more than 220 million. The part of the brain that interprets smell is also four times larger in dogs than in humans."},{"fact":"Dogs who bark the most: Miniature Schnauzers, Cairn Terriers, Yorkshire Terriers, Fox Terriers and West Highland White Terriers."},{"fact":"Dogs can count up to five and can perform simple mathematical calculations."},{"fact":"Dogs belong to a biological family called the Canidae, a member of this family is called a canid. This is the origin of the adjective \\"canine\\" which means \\"of or like a dog, relating to or characteristic of dogs\\"."},{"fact":"The border collie or sheep dog is often considered to be the most intelligent breed of dog some of them have been trained to recognize the words for up to 1,000 objects and retrieved them by verbal command."},{"fact":"A dog\u2019s heart beats up to 120 times per minute, or 50 faster than the average human heartbeat of 80 times per minute"},{"fact":"In ancient Greece, kennels of dogs were kept at the sanctuary of Asclepius at Epidaurus. Dogs were frequently sacrificed there because they were plentiful, inexpensive, and easy to control. During the July 25 celebration of the kunophontis \\"the massacre of dogs\\", dog sacrifices were performed to appease the ancestors of Apollo\u2019s son, Linos, who was devoured by dogs.."},{"fact":"Dalmatians are completely white at birth."},{"fact":"The origin of amputating a dog\u2019s tail may go back to the Roman writer Lucius Columella\u2019s \\"A.D. 4-70\\"} assertion that tail docking prevented rabies. "},{"fact":"Is it a duck... or a dog? The Newfoundland breed has a water resistant coat and webbed feet. This dog was originally bred to help haul nets for fishermen and rescuing people at risk of drowning."},{"fact":"Dogs have twice as many muscles to move their ears as people."},{"fact":"A one year old dog is as physically mature as a 15 year old human."},{"fact":"Walt Disney\'s family dog -- named Sunnee -- was the inspiration behind \\"Lady and the Tramp.\\""},{"fact":"If your dog\u2019s acting funny, get out the umbrella! According to a Petside.com/Associated Press poll, 72 of dog owners believe their dog can detect when stormy weather is on the way."},{"fact":"Service dogs are trained to know when they are on duty. When their harness is on, they know it\'s business time. When you take it off, the pups immediately become playful and energetic."},{"fact":"There are 703 breeds of purebred dogs."},{"fact":"In general, smaller breeds live longer than larger breeds."},{"fact":"In 2002 alone, more people in the U.S. were killed by dogs than by sharks in the past 100 years."},{"fact":"Dogs can discriminate the emotional expressions of human faces."},{"fact":"Dogs with little human contact in the first three months typically don\u2019t make good pets."},{"fact":"Some studies believe that dogs started to be domesticated 33,000 years ago."},{"fact":"The Boy Scouts and Girl Scouts both offer merit badges in dog care."},{"fact":"Rin Tin Tin was the first Hollywood dog star."},{"fact":"The U.S. has the highest dog population in the world."},{"fact":"Humans can detect sounds at 20,000 times per second, while dogs can sense frequencies of 30,000 times per second."},{"fact":"Tired puppies get cranky just like little kids. If you have a fussy puppy, try nap time."},{"fact":"About one-third of a dog\u2019s brain is dedicated to smell."},{"fact":"The world\u2019s smallest dog breed is the Chihuahua."},{"fact":"Dogs are omnivores -- they eat meat, grains and vegetables."},{"fact":"President Lyndon Johnson\'s beagles were named Him and Her."},{"fact":"A dog\u2019s mouth exerts 150\u2013200 pounds of pressure per square inch with some dogs exerting up to 450 pounds per square inch."},{"fact":"Chocolate contains a substance known as theobromine \\"similar to caffeine\\" which can kill dogs or, at the very least, make them violently ill."},{"fact":"An elderly woman was saved by her 12-pound Yorkshire Terrier, who fought off an 80- pound Akita, and survived with only 9 stitches."},{"fact":"Why do they do that? When dogs kick after going to the bathroom, they are using the scent glands on their paws to further mark their territory."},{"fact":"The breed of dog with the best sense of smell is the bloodhound."},{"fact":"Plato once said that \\"a dog has the soul of a philosopher.\\" "},{"fact":"Dogs have twice as many muscles to move their ears as humans, if you\'re looking for unusual facts about dogs!"},{"fact":"Most dogs have 18 or more muscles to tilt, rotate, and move their ears."},{"fact":"A puppy is born blind, deaf, and toothless."},{"fact":"U.S. Customs dogs \\"Rocky\\" and \\"Barco\\" were so good at patrolling the border that Mexican drug lords put a $300,000 bounty on their heads."},{"fact":"Ancient Egyptians revered their dogs. When a pet dog would die, the owners shaved off their eyebrows, smeared mud in their hair, and mourned aloud for days."},{"fact":"Puppies are born deaf and cannot hear until they are about 21 days old. The young are born small, blind and helpless and require a long period of parental care."},{"fact":"The Basenji is the world\u2019s only barkless dog."},{"fact":"Female dogs carry puppies for about nine weeks before birth."},{"fact":"An estimated 1,000,000 dogs in the U.S. have been named as the primary beneficiaries in their owner\u2019s will."},{"fact":"The wetness of a dog\'s nose is essential for determining what direction a smell is coming from."},{"fact":"Dogs can be trained to detect epileptic seizures in humans."},{"fact":"Some Search and Rescue (SaR) Dogs are trained to sniff out humans 1/4 mile away or more."},{"fact":"Although it was once illegal to keep dogs as pets in Iceland\'s capital city, the laws have been relaxed."},{"fact":"In ancient China, people kept warm by putting dogs up their sleeves."},{"fact":"The best age to bring a puppy home is 8 to 12 weeks."},{"fact":"President Calvin Coolidge owned at least a dozen dogs."},{"fact":"More than half of all U.S. presidents have owned dogs."},{"fact":"Hound dogs and long-nosed dogs also have a unique name for their head-type: \\"Dolichocephalic.\\""},{"fact":"Big happy \\"helicopter\\" tail wagging is one sign of a really nice dog"},{"fact":"The Labrador Retriever has been the most popular dog breed since 1991."},{"fact":"Some dogs can smell dead bodies under water, where termites are hiding, and natural gas buried under 40 feet of dirt. They can even detect cancer that is too small to be detected by a doctor and can find lung cancer by sniffing a person\u2019s breath."},{"fact":"The first dog chapel was established in 2001. It was built in St. Johnsbury, Vermont, by Stephan Huneck, a children\u2019s book author whose five dogs helped him recuperate from a serious illness."},{"fact":"Endal was the first dog to ride on the London Eye (the characteristic ferris wheel in London, England), and was also the first known dog to successfully use a ATM machine."},{"fact":"Yummy! Dogs have about 1,700 taste buds. Humans have approximately 9,000 and cats have around 473."},{"fact":"Pugs and other dogs with short muzzles have a peculiar head-type known as \\"Brachycephalic.\\""},{"fact":"The longer a dog\u2019s nose, the more effective it\u2019s internal cooling system."},{"fact":"Revolutionary War soldiers sometimes brought their dogs with them into battle. Such was the case with George Washington and his dog, Sweetlips."},{"fact":"The Beatles song \\"A day in the Life\\" has an extra high-pitched whistle, audible only to dogs. It was recorded by Paul McCartney for the enjoyment of his Shetland sheepdog."},{"fact":"Puppies can sleep 18 to 20 hours a day during that rapid body growth phase."},{"fact":"During the Middle Ages, mixed breeds of peasants\u2019 dogs were required to wear blocks around their necks to keep them from breeding with noble hunting dogs. Purebred dogs were very expensive and hunting became the province of the rich."},{"fact":"The Beagle came into prominence in the 1300s and 1400s during the days of King Henry VII of England. Elizabeth I was fond of Pocket Beagles, which were only 9\\" high."},{"fact":"Watch that plate of cookies! A Dog\u2019s sense of smell is 10,000 \u2013 100,000 times more acute as that of humans."},{"fact":"When dogs have been doing a lot of exercise, they pant. It is not because they are out of breath like a human would be. Dogs have developed the method of losing heat by panting because sweating would not be very efficient due to all the fur."},{"fact":"Obesity is the #1 health problem among dogs."},{"fact":"Greyhounds can reach a speed of up to 45 miles per hour."},{"fact":"Dogs often bury bones so that they can dig them up at some moment in the future when they are hungry."},{"fact":"The smallest dog on record was a matchbox-size Yorkshire Terrier. It was 2.5\\" tall at the shoulder, 3.5\\" from nose tip to tail, and weighed only 4 ounces."},{"fact":"Two stray dogs in Afghanistan saved 50 American soliders. A Facebook group raised $21,000 to bring the dogs back to the US and reunite them with the soldiers."},{"fact":"Touch is the first sense the dog develops. The entire body, including the paws, is covered with touch-sensitive nerve endings."},{"fact":"Dogs with big, square heads and large ears \\"like the Saint Bernard\\"} are the best at hearing subsonic sounds."},{"fact":"The oldest dog on record was an Australian cattle dog named Bluey who lived 29 years and 5 months. In human years, that is more than 160 years old."},{"fact":"Pregnancy can be prevented by spaying the female dog, this involves removing both the ovaries and the uterus."},{"fact":"The name of the dog on the Cracker Jacks box is Bingo. The Taco Bell Chihuahua is a rescued dog named Gidget."},{"fact":"A dog\u2019s shoulder blades are unattached to the rest of the skeleton to allow greater flexibility for running."},{"fact":"The world\'s oldest breed, the Saluki, originated in Egypt around 329 B.C."},{"fact":"The most dogs ever owned by one person were 5,000 Mastiffs owned by Kublai Khan."},{"fact":"Fifteen people die in the U.S. every year from dog bites."},{"fact":"The average dog can run about 19 mph. Greyhounds are the fastest dogs on Earth and can run at speeds of 45 mph."},{"fact":"Upright, stiff, rapid tail movement is not wagging or \\"friendly\\" but indicates a dog who\'s rather excited and focused."},{"fact":"The Chihuahua was named for the state in northwestern Mexico where they were discovered."},{"fact":"Puppies\u2019 eyes do not fully open until they\u2019re about 12 days old."},{"fact":"\'Frito Feet\' is the name of the phenomenon in which the bacteria on a dog\'s paws cause them to smell like corn chips. Because a pup\'s feet are in constant contact with the ground, they pick up tons of microorganisms in their paws. When dogs cool off by sweating through the pads of their feet, the combo of moisture and bacteria releaces a nutty, popcorn-like aroma. Basically it\'s dog B.O."},{"fact":"A Beatles hit. It\u2019s rumored that, at the end of the Beatles song, \\"A Day in the Life,\\" Paul McCartney recorded an ultrasonic whistle, audible only to dogs, just for his Shetland sheepdog."},{"fact":"It pays to be a lap dog. Three dogs \\"from First Class cabins!\\" survived the sinking of the Titanic \u2013 two Pomeranians and one Pekingese."},{"fact":"Every dog on earth likely descended from a species knows as the Tomarctus \u2013 a creature that roamed the earth over 15 million years ago."},{"fact":"Chase that tail! Dogs chase their tails for a variety of reasons: curiosity, exercise, anxiety, predatory instinct or, they might have fleas! If your dog is chasing his tail excessively, talk with your vet."},{"fact":"Move over Rover! 45 of dogs sleep in their owner\u2019s bed \\"we\u2019re pretty sure a large percentage also hog the blankets!\\" "},{"fact":"Dogs are mentioned in the Bible more than 35 times."},{"fact":"Female dogs are only ready to mate\u2013\\"in heat\\"\u2013twice a year for a total of roughly 20 days."},{"fact":"Like human babies, Chihuahuas are born with a soft spot in their skull which closes with age."},{"fact":"The Berger Picard, Miniature American Shepherd and Lagotto Romagnolo are the newest dog breeds recognized by the American Kennel Club in 2015."},{"fact":"Smaller breeds of dogs mature faster than larger breeds."},{"fact":"Dogs have a wet nose to collect more of the tiny droplets of smelling chemicals in the air."},{"fact":"Two Labradors, Lucky and Flo, were the first dogs known for sniffing out pirated DVDs."},{"fact":"National Geographic\'s Dr. Brady Barr measured a dog\'s average bite force at 320 pounds of pressure per square inch."},{"fact":"If you want a dog to see things in a green background the best color is blue."},{"fact":"In 1969, Lassie was the first animal inducted into the Animal Hall of Fame."},{"fact":"The most popular male dog names are Max and Jake. The most popular female dog names are Maggie and Molly."},{"fact":"Cerberus was the tri-headed dog that guarded the underworld in Greek mythology."},{"fact":"Dogs in a pack are more likely to chase and hunt than a single dog on its own. Two dogs are enough to form a pack."},{"fact":"In Australia, a man who was arrested for drug possession argued his civil rights were violated when the drug-sniffing dog nuzzled his crotch. While the judge dismissed the charges, they were later reinstated when a prosecutor pointed out that in the animal kingdom, crotch nuzzling was a friendly gesture."},{"fact":"Pekingese and Japanese Chins were so important in the ancient Far East that they had their own servants and were carried around trade routes as gifts for kings and emperors. Pekingese were even worshipped in the temples of China for centuries."},{"fact":"Dogs are all direct descendants of wolves."},{"fact":"The world\u2019s smartest dogs are thought to be \\"1\\" the Border Collie, \\"2\\" the Poodle, and \\"3\\" the Golden Retriever and the dumbest dog is believed to be the Afghan Hound."},{"fact":"More than one in three U.S. families owns a dog."},{"fact":"Dogs like sweets a lot more than cats do. While cats have around only 473 taste buds, dogs have about 1,700 taste buds. Humans have approximately 9,000."},{"fact":"In Old England, the word \\"hound\\" was used to refer to all types of dogs."},{"fact":"Mastiffs wore armor and were sent after mounted knights in Roman times."},{"fact":"All breeds of dog have been found to attack livestock, from 3-month-old puppies to 13-year-old poodles."},{"fact":"Why are dogs\u2019 noses so wet? Dogs\u2019 noses secrete a thin layer of mucous that helps them absorb scent. They then lick their noses to sample the scent through their mouth."},{"fact":"Most experts believe humans domesticated dogs before donkeys, horses, sheep, goats, cattle, cats, or chickens."},{"fact":"The Russians trained dogs during WWII to run suicide missions with mines strapped to their backs."},{"fact":"When \\"Bobbie,\\" a Collie/Shepherd mix, was accidentally abandoned on a family vacation, he traveled 2,551 miles over six months to return to his home."},{"fact":"Dogs can see in color, though they most likely see colors similar to a color-blind human. They can see better when the light is low."},{"fact":"Hyenas aren\'t actually dogs. They are more closely related to cats."},{"fact":"Puppies sleep 90 of the day for their first few weeks."},{"fact":"There is a dog-shaped building in New Zealand."},{"fact":"There are hundreds of breeds of dogs."},{"fact":"It is not possible to know how many puppies a dog will have just by looking. The appearance can be very deceptive."},{"fact":"Dogs don\'t enjoy being hugged as much as humans and other primates. Canines interpret putting a limb over another animal as a sign of dominance."},{"fact":"Within hours of the September 11, 2001, attack on the World Trade Center, specially trained dogs were on the scene, including German Shepherds, Labs, and even a few little Dachshunds."},{"fact":"Dog\u2019s don\u2019t see in black-and-white, they have 2 color receptors, and can see yellow and blue."},{"fact":"There are an estimated 400 million dogs in the world."},{"fact":"The smallest known adult dog was a Yorkshire Terrier that was only 2.5 inches at the shoulder, and weighed only 4 ounces."},{"fact":"Teddy Roosevelt\u2019s dog, Pete, ripped a French ambassador\u2019s pants off at the White House."},{"fact":"Zorba, an English mastiff, is the biggest dog ever recorded. He weighed 343 pounds and measured 8\u2019 3\\" from his nose to his tail."},{"fact":"The dog was frequently depicted in Greek art, including Cerberus, the three-headed hound guarding the entrance to the underworld, and the hunting dogs which accompanied the virgin goddess of the chase, Diana."},{"fact":"It is a myth that dogs are color blind. They can actually see in color, just not as vividly as humans. It is akin to our vision at dusk."},{"fact":"During the Middle Ages, Great Danes and Mastiffs were sometimes suited with armor and spiked collars to enter a battle or to defend supply caravans."},{"fact":"In Iran, it is against the law to own a dog as a pet. However, if an owner can prove the dog is a guard or hunting dog, this restriction doesn\u2019t apply. Muslim reticence concerning dogs is perhaps due to the fact that rabies has always been endemic in the Middle East."},{"fact":"A person standing still 300 yards away is almost invisible to a dog. But a dog can easily identify its owner standing a mile away if the owner is waving his arms."},{"fact":"New puppies have heat sensors in their noses to help find their moms while their eyes and ears are closed."},{"fact":"The Labrador is so popular, in 2006 there were approximately 3-5 times more Labs as there were German Shepherds or Golden Retrievers."},{"fact":"Most dogs are capable of understanding up to 250 words and gestures."},{"fact":"The Basenji is the only barkless dog."},{"fact":"The heaviest breed, the Mastiff, weighs about 200 pounds."},{"fact":"The oldest known breed is likely the Saluki, originally trained by Egyptians to help them track game."},{"fact":"Dogs are pack animals -- they don\'t enjoy being alone."},{"fact":"Dogs can learn more than 1000 words."},{"fact":"Chihuahuas are born with soft spots in their skulls, just like human babies."},{"fact":"At the end of WWI, the German government trained the first guide dogs for war-blinded soldiers."},{"fact":"An African wolf dog known as the Basenji is the only dog in the world that cannot bark."},{"fact":"The U.S. has the highest dog population in the world. France has the second highest."},{"fact":"According to a study shared by Cornell University, dogs were domesticated between 9,000 and 34,000 years ago."},{"fact":"Puppies are sometimes rejected by their mother if they are born by cesarean and cleaned up before being given back to her."},{"fact":"Max, Jake, Maggie and Molly are the most popular dog names."},{"fact":"No night vision goggles needed! Dogs\u2019 eyes contain a special membrane, called the tapetum lucidum, which allows them to see in the dark."},{"fact":"A Great Dane named \\"Just Nuisance\\" is the only dog to have officially enlisted in the Royal Navy."},{"fact":"Those born under the sign of the dog in Chinese astrology are considered to be loyal and discreet, though slightly temperamental."},{"fact":"Small quantities of grapes and raisins can cause renal failure in dogs. Chocolate, macadamia nuts, cooked onions, or anything with caffeine can also be harmful."},{"fact":"There are almost 5 million dog bites per year; children are the main victims. Dog bites cause losses of over $1 billion a year."},{"fact":"Search and Rescue dog training begin as games played while puppies."},{"fact":"Dogs have lived with humans for over 14,000 years. Cats have lived with people for only 7,000 years."},{"fact":"The largest breed of dog is the Irish Wolfhound."},{"fact":"Average body temperature for a dog is 101.2 degrees."},{"fact":"Some dogs have shown remarkable ability to detect certain cancers."},{"fact":"Dogs cannot distinguish between red and green as these colors would appear as shades of grey to a dog."},{"fact":"Only dogs and humans have prostates."},{"fact":"The Newfoundland has a water-resistant coat and webbed feet."},{"fact":"Dogs do not have an appendix. Why haven\u2019t humans gotten rid of theirs yet?"},{"fact":"The Golden Retriever, one of the most popular dog breeds, was first bred in Scotland in the mid 1800s."},{"fact":"Dogs are all direct descendants of wolves."},{"fact":"Service dogs are recognized in the U.S. as \\"necessary medical equipment.\\""},{"fact":"Chocolate is poisonous to dogs because it contains theobromine."},{"fact":"Male dogs have a bone in their penis."},{"fact":"At the age of 4 weeks, most dogs have developed the majority of their vocalizations."},{"fact":"One kind of Pekingese is referred to as a \\"sleeve\\" because it was bred to fit into a Chinese empress\u2019 sleeves, which was how it was often carried around."},{"fact":"Female dogs can get pregnant when their bodies undergo changes which make them receptive to male dogs. This is called being on heat or in estrus."},{"fact":"Dogs\u2019 nose prints are as unique as a human\u2019s finger prints, and can be used to accurately identify them."},{"fact":"The most popular dog breed in Canada, U.S., and Great Britain is the Labrador retriever."},{"fact":"In 2001, it was estimated that there are approximately 400 million dogs in the world."},{"fact":"Greyhounds are the fastest dogs on earth, with speeds of up to 45 miles per hour."},{"fact":"Dogs can be trained to detect cancer and other diseases in humans."},{"fact":"Dogs are capable of understanding up to 250 words and gestures, can count up to five and can perform simple mathematical calculations. The average dog is as intelligent as a two-year-old child."},{"fact":"The famous nickname, \\"man\u2019s best friend,\\" is used in many other languages as well as English."},{"fact":"Davy Crockett had a dog named Sport."},{"fact":"Unlike cats, dogs are not exclusively carnivores: they can adapt to different foods, and a percentage of their diets can be fruits and vegetables."},{"fact":"The Beagle and Collie are the nosiest dogs, while the Akbash Dog and the Basenji are the quietest."},{"fact":"The average number of puppies in a litter is four to six."},{"fact":"Dogs normally have between one to sixteen or even more puppies."},{"fact":"The most popular breed of domestic dog in the US and the UK is the Labrador Retriever."},{"fact":"In Egypt, a person bitten by a rabid dog was encouraged to eat the roasted liver of a dog infected with rabies to avoid contracting the disease. The tooth of a dog infected with rabies would also be put in a band tied to the arm of the person bitten. The menstrual blood of a female dog was used for hair removal, while dog genitals were used for preventing the whitening of hair."},{"fact":"It\u2019s been demonstrated that dogs can reduce both physical and emotional anxiety."},{"fact":"The average dog is as intelligent as a two-year-old child."},{"fact":"The normal body temperature of a dog is 100.94 degrees Fahrenheit (38.3 Celsius) to 102.56 F (39.2 C) whereas human normal body temperature 98.6 F (37 C)."},{"fact":"Flyball, a dog sport consisting of relays, hurdles, and ball retrieving, was developed in the late 60s, and the first tournament was held in 1983."},{"fact":"The bible mentions dogs 14 times."},{"fact":"Stray dogs in Moscow have learned to ride the subway to find food."},{"fact":"One unspayed female dog, her mate and their puppies can produce 67,000 puppies in six years."},{"fact":"The ancient Mbaya Indians of the Gran Chaco in South America believed that humans originally lived underground until dogs dug them up."},{"fact":"Growing up. While the Chow Chow dogs are well known for their distinctive blue-black tongues, they\u2019re actually born with pink tongues. They turn blue-black at 8-10 weeks of age."},{"fact":"About 12 percent of the air that a dog breathes goes into a special area in the back of the nose that is dedicated to smelling."},{"fact":"Seventy percent of people sign their pet\u2019s name on greeting and holiday cards."},{"fact":"Petting a dog can lower your blood pressure."},{"fact":"Dogs aren\'t colorblind but their eyes don\'t have receptors for red. They see in shades of black and white and also in shades of blue and yellow."},{"fact":"Three of the 12 dogs on the Titanic survived."},{"fact":"The average city dog lives 3 years longer than a country dog."},{"fact":"Dogs have a ligament in the neck which allows them to conserve energy while running long distances following scent trails with their nose to the ground. Many other species have a similar ligament and it is called a Paddywhack."},{"fact":"A dog\u2019s sense of smell is more than 100,000 times stronger than that of a human."},{"fact":"The phrase \\"raining cats and dogs\\" originated in 17th century England when it is believed that many cats and dogs drowned during heavy periods of rain."},{"fact":"It costs approximately $10,000 to train a federally certified search and rescue dog."},{"fact":"A dog\u2019s pregnancy lasts for approximately 60 days."},{"fact":"After the fall of Rome, human survival often became more important than breeding and training dogs. Legends of werewolves emerged during this time as abandoned dogs traveling in packs commonly roamed streets and terrified villagers."},{"fact":"Petting dogs is proven to lower blood pressure of dog owners."},{"fact":"A couple presidential dogs were Golden Retrievers: \\"Liberty,\\" the presidential dog of Gerald Ford, and \\"Victory,\\" Ronald Reagan\u2019s dog."},{"fact":"French poodles did not originate in France but in Germany \\"poodle\\" comes from the German pudel or pudelhund, meaning \\"splashing dog\\". Some scholars speculate the poodle\u2019s puffs of hair evolved when hunters shaved the poodle for more efficient swimming, while leaving the pom-poms around the major joints to keep them warm."},{"fact":"The St. Bernard is the heaviest dog breed."},{"fact":"Bloodhounds are prized for their ability to single out and identify a number of scents simultaneously."},{"fact":"An American Animal Hospital Association poll found that 33 of dog owners admit to talking to their dogs on the phone and leaving answering machine messages for them while away."},{"fact":"Dogs\u2019 only sweat glands are between their paw pads."},{"fact":"Puppies have 28 teeth and adult dogs have 42."},{"fact":"Dogs evolved from an extinct wolf-like creature in Eurasia 40,000 years ago."},{"fact":"In 2003, Dr. Roger Mugford invented the \\"wagometer,\\" a device that claims to interpret a dog\u2019s exact mood by measuring the wag of its tail."},{"fact":"Male dogs know the female is in heat due to a smell emitted from the female dog."},{"fact":"Dogs with a flesh colored nose is said to have a \\"Dudley Nose.\\""},{"fact":"The World Canine Organization recognizes 339 breeds of dogs."},{"fact":"Humans generally see better than dogs, but dogs see much better when there is low-light."},{"fact":"Most dogs go in heat every 6 months and estrus lasts between 7 and 18 days."},{"fact":"Puppies grow to half their body weight in the first four to five months!"},{"fact":"Dog nose prints are as unique as human finger prints and can be used to identify them."},{"fact":"The oldest dog on record \u2013 a Queensland Heeler named Bluey \u2013 was 29 years, 5 months old."},{"fact":"As Disney\'s Cruella De Vil was aware, Dalmatian puppies are born pure white and develop spots as they grow older."},{"fact":"Seeing spots? Or not...  Dalmatian puppies are pure white when they are born and develop their spots as they grow older."},{"fact":"Eighty-seven percent of dog owners say their dog curls up beside them or at their feet while they watch T.V."},{"fact":"Dogs see in colors of various shades of blue and yellow."},{"fact":"There are nearly 14,000 animal shelters and rescue groups across North America."},{"fact":"Dogs curl up to keep themselves warm and protect vital organs."},{"fact":"The Border Collie, Poodle and Golden Retriever are considered the world\'s smartest dog breeds."},{"fact":"Dog\u2019s definitely don\u2019t see like hawks. They have very poor eyesight, but can distinguish movement 10-20 times better than humans."},{"fact":"Over half of dog owners include their dogs in annual holiday photos."},{"fact":"Puppies love games such as hide and seek! Hide, then call your pup\'s name so she can try to find you."},{"fact":"More than 5,000,000 puppies are born in the U.S. every year."},{"fact":"Spiked dog collars were invented in ancient Greece and were originally designed to protect dogs throats from wolf attacks."},{"fact":"Wolves and dogs can mate to produce fertile offspring."},{"fact":"While not the best when it comes to sight, dogs have a keen sense of hearing, and can hear sounds at 4 times the distance of humans."},{"fact":"In early Christian tradition, Saint Christopher, the patron saint of travelers, is sometimes depicted with a dog\u2019s head."},{"fact":"The most intelligent dogs are reportedly the Border Collie and the Poodle, while the least intelligent dogs are the Afghan Hound and the Basenji."},{"fact":"n ancient China, an emperor\'s last line of defense was a small Pekingese dog literally hidden up his sleeve."},{"fact":"Apple and pear seeds contain arsenic, which may be deadly to dogs."},{"fact":"The Labrador Retriever is the most popular breed, according to the American Kennel Club."},{"fact":"Dogs like to chew bones but cooked bones and bones that can splinter such as cooked chicken bones should not be given to dogs."},{"fact":"Dogs who have been spayed or neutered live longer than intact dogs."},{"fact":"Just like human fingerprints, no two dogs\' nose prints are alike."},{"fact":"Many foot disorders in dogs are caused by long toenails."},{"fact":"President Franklin Roosevelt created a minor international incident when he claimed he sent a destroyer to the Aleutian Islands just to pick up his Scottish Terrier, Fala, who had been left behind."},{"fact":"All dogs can be traced back 40 million years ago to a weasel-like animal called the Miacis which dwelled in trees and dens. The Miacis later evolved into the Tomarctus, a direct forbear of the genus Canis, which includes the wolf and jackal as well as the dog."},{"fact":"The Akita is one of the most challenging dogs to own. Some insurance companies have even characterized it as the #1 \\"bad dog\\" and may even raise an Akita owner\u2019s homeowner insurance costs."},{"fact":"Basset Hounds cannot swim."},{"fact":"Scholars have argued over the metaphysical interpretation of Dorothy\u2019s pooch, Toto, in the Wizard of Oz. One theory postulates that Toto represents Anubis, the dog-headed Egyptian god of death, because Toto consistently keeps Dorothy from safely returning home."},{"fact":"Fifty-eight percent of people put pets in family and holiday portraits."},{"fact":"Wow, check out those choppers! Puppies have 28 teeth and normal adult dogs have 42."},{"fact":"Paul McCartney of the Beatles recorded a high pitched whistle at the end of \\"A Day in the Life\\" for his dog."},{"fact":"A dog\'s sense of smell is reduced by up to 40 percent when he\'s overheated and panting."},{"fact":"Bichons, Portuguese Water Dogs, Kerry Blue Terriers, Maltese and Poodles are all good choices if you have allergies since they shed less than other breeds."},{"fact":"Is something wet? Unlike humans who sweat everywhere, dogs only sweat through the pads of their feet."},{"fact":"There are about 400 million dogs in the world."},{"fact":"The are 4 constellations named after dogs."},{"fact":"In 1860\'s San Francisco, two stray dogs who were best friends became local celebrities. Their exploits were celebrated in local papers and they were granted immunity from the city\'s dog catchers."},{"fact":"It is much easier for dogs to learn spoken commands if they are given in conjunction with hand signals or gestures."},{"fact":"Bingo is the name of the dog on the side of the Cracker Jack box."},{"fact":"The American Water Spaniel was the first hunting breed developed to retrieve from boats."},{"fact":"Dogs have been used since the 1700\u2019s for therapy."},{"fact":"A Russian dog named Laika was the first animal in space, traveling around Earth in 1957."},{"fact":"Highly trainable dog breeds like Golden Retrievers, Labrador Retrievers, German Shepherds and Collies are more kid-friendly than some other breeds."},{"fact":"Dogs can be trained to detect cancer in humans."},{"fact":"Countess Karlotta Libenstein of Germany left approximately $106 million to her Alsatin, Gunther III, when she died in 1992."},{"fact":"Dogs judge objects first by their movement, then by their brightness, and lastly by their shape."},{"fact":"Wolves and dogs can mate to produce fertile offspring."},{"fact":"Conservationists have used dogs to find bumblebee hives in order to protect endangered species."},{"fact":"Pitter patter. A large breed dog\u2019s resting heart beats between 60 and 100 times per minute, and a small dog breed\u2019s heart beats between 100-140. Comparatively, a resting human heart beats 60-100 times per minute."},{"fact":"More than 1 in 3 American families own a dog."},{"fact":"In 1957, Laika became the first living being in space via an earth satellite and JFK\u2019s terrier, Charlie, fathered 4 puppies with Laika\u2019s daughter."},{"fact":"Americans love dogs! 44 of U.S. households have a dog, which equates to 55.3 million homes"},{"fact":"A dog can locate the source of a sound in 1/600 of a second and can hear sounds four times farther away than a human can."},{"fact":"All dogs are identical in anatomy, with 321 bones and 42 permanent teeth."},{"fact":"A Border Collie named Chaser has learned the names of 1,022 toys, and can retrieve each by name."},{"fact":"It\u2019s not so black and white. It\u2019s a myth that dogs only see in black and white. In fact, it\u2019s believed that dogs see primarily in blue, greenish-yellow, yellow and various shades of gray."},{"fact":"Smaller breeds mature faster than larger breeds."},{"fact":"Seeing eye dogs pee and poo on command so that their owners can clean up after them. \\"The command is usually \\"Get busy!\\" and pups will pace back and forth until they do their business. Male dogs are also trained to do their business without lifting their leg."},{"fact":"The first dogs were self-domesticated wolves which, at least 12,000 years ago, became attracted to the first sites of permanent human habitation."},{"fact":"Dogs do not have an appendix."},{"fact":"The oldest known dog bones were found in Asia and date as far back as 10,000 B.C. The first identifiable dog breed appeared about 9000 B.C. and was probably a type of Greyhound dog used for hunting."},{"fact":"Dogs are naturally submissive to any creature with higher pack status, human or canine."},{"fact":"In Roman times, mastiffs donned light armor and were sent after mounted knights."},{"fact":"The Alaskan Malamute can withstand temperatures as low as 70 degrees below zero."},{"fact":"Dogs have a very good sense of smell. The part of a dog\u2019s brain that analyses smell is 40 times larger than a human\u2019s and they can smell 1,000 to 10,000 times better than us."},{"fact":"The largest breed of dog is the Irish Wolfhound."},{"fact":"The current world record for a Flyball race is 14.413 seconds, set by the team \\"Touch N Go\\" of Las Vegas."},{"fact":"Dalmatian puppies are born completely white."},{"fact":"This dog, Naki\'o, lost all of his legs to frostbite in Colorado, but now has four prosthetic legs and can run around like normal."},{"fact":"Dogs are about as smart as a two- or three-year-old child. This means they can understand about 150-200 words, including signals and hand movements with the same meaning as words."},{"fact":"The earliest European images of dogs are found in cave paintings dating back 12,000 years ago in Spain."},{"fact":"Puppies then take a year or more to gain the other half of their body weight."},{"fact":"Dog noses are also very cute and easy to boop."},{"fact":"Stroking dogs and gazing into their eyes releases the \\"feel good\\" hormone oxytocin for both people and dogs."},{"fact":"One of Michael Vick\'s former fighting dogs, Leo, went on to be a therapy dog who comforted dying children."},{"fact":"Dogs sweat through the pads of their feet."},{"fact":"Although dogs have some sweat glands in their feet, their principal way of losing heat when they are too hot is by panting."},{"fact":"Corgi is Welsh for \\"dwarf dog\\"."},{"fact":"Dogs don\u2019t go into menopause and will continue to go on heat indefinitely unless they are spayed."},{"fact":"A dog\u2019s powerful sense of smell is frequently called upon to detect anything from mines and explosives to termites and bed bugs."},{"fact":"Dogs are naturally submissive to any creature with a higher pack status."},{"fact":"During the Renaissance, detailed portraits of the dog as a symbol of fidelity and loyalty appeared in mythological, allegorical, and religious art throughout Europe, including works by Leonardo da Vinci, Diego Vel\xe1zquez, Jan van Eyck, and Albrecht Durer."},{"fact":"Dogs need a strong sense of smell because their eyesight is not as keen as a human\u2019s."},{"fact":"The Saint Bernard gains its name from the \\"Great St. Bernard Hospice;\\" the monastery where Barry and other mountain dogs was raised by monks to rescue victims from the snowy Alps."},{"fact":"Dogs sometimes appear to smile -- much like humans -- with open mouth grinning. This may indicate a relaxed, submissive state."},{"fact":"Dachshunds were bred to fight badgers in their dens."},{"fact":"There are only 350 Cisky Terriers in the world, possibly making it the rarest breed."},{"fact":"One female dog and her female children could produce 4,372 puppies in seven years."},{"fact":"The Girl Scouts and Boy Scouts both offer merit badges in dog care."},{"fact":"The shape of a dog\u2019s face suggests how long it will live. Dogs with sharp, pointed faces that look more like wolves typically live longer. Dogs with very flat faces, such as bulldogs, often have shorter lives."},{"fact":"The U.S. has the highest dog population in the world."},{"fact":"Different smells in the a dog\u2019s urine can tell other dogs whether the dog leaving the message is female or male, old or young, sick or healthy, happy or angry."},{"fact":"Irish Wolfhounds, the tallest breed, are 30 to 35 inches tall."},{"fact":"Dogs know from which nostril a smell has entered."},{"fact":"Dogs can use their sense of smell to gauge our emotions, they can smell fear, anxiety, even sadness. This is because they can smell hormones such as adrenaline."},{"fact":"Dachshunds were originally bred to fight badgers."},{"fact":"Eighteen muscles or more can move a dog\u2019s ear."},{"fact":"A person should never kick a dog facing him or her. Some dogs can bite 10 times before a human can respond."},{"fact":"The fastest breed, the Greyhound, can run up to 44 miles per hour."},{"fact":"Dogs have sweat glands in between their paws."},{"fact":"The best dog to reportedly attract a date is the Golden Retriever. The worst is the Pit Bull."},{"fact":"If never spayed or neutered, a female dog, her mate, and their puppies could produce over 66,000 dogs in 6 years!"},{"fact":"The phrase \\"raining cats and dogs\\" originated in seventeenth-century England. During heavy rainstorms, many homeless animals would drown and float down the streets, giving the appearance that it had actually rained cats and dogs."},{"fact":"The term \\"dog days of summer\\" was coined by the ancient Greeks and Romans to describe the hottest days of summer that coincided with the rising of the Dog Star, Sirius."},{"fact":"Alexander the Great is said to have founded and named a city Peritas, in memory of his dog."},{"fact":"The French Bulldog is incapable of reproducing naturally."},{"fact":"A dog could detect a teaspoon of sugar if you added it to an Olympic-sized swimming pool full of water."},{"fact":"In addition to \\"formal\\" forms of dog training (operant conditioning, reinforcement, or classical conditioning), dogs are able to learn merely from observation."},{"fact":"It\u2019s not a fever... A dog\u2019s normal temperature is between 101 and 102.5 degrees Fahrenheit. How much do you know about dog health? Take our Doggy First Aid Quiz!"},{"fact":"Teams of dogs compete for the fastest time without errors in Flyball races."},{"fact":"France has the 2nd highest dog population."},{"fact":"A dog\'s average body temperature is 101.2 degrees."},{"fact":"Your pup reaches his full size between 12 and 24 months."},{"fact":"Toto in The Wizard of Oz was played by a female Cairn Terrier named Terry."},{"fact":"The names of 77 ancient Egyptian dogs have been recorded. The names refer to color and character, such as Blackie, Ebony, Good Herdsman, Reliable, and Brave One."},{"fact":"Chow Chows are born with pink tongues, which turn blue-black at 8 to 10 weeks."},{"fact":"The largest dog was an English Mastiff who weighed 343 pounds."},{"fact":"Tiger Woods stuttered as a child and used to talk to his dog until he fell asleep in an effort to get rid of it."},{"fact":"Most dogs have 42 teeth."},{"fact":"Dogs\u2019 sense of hearing is more than ten times more acute than a human\u2019s."},{"fact":"At about 6 inches, the Chihuahua is the shortest breed."},{"fact":"Many foot disorders in dogs are simply an issue of too-long toenails."},{"fact":"One of the most famous Labrador Retrievers was \\"Endal,\\" an assistance dog recognized as the most decorated dog in the world."},{"fact":"Rin Tin Tin was the first Hollywood dog star and he really signed his movie contracts \u2013 all 22 of them \u2013 with a paw-print."},{"fact":"George Washington had 36 dogs\u2013all Foxhounds\u2013with one named Sweetlips."},{"fact":"Dogs can be taught to count and solve simple math problems."},{"fact":"President Theodore Roosevelt\'s Bull Terrier Pete ripped the pants off French Ambassador Jules Jusserand."},{"fact":"A dog\'s whiskers are used as sensing devices."},{"fact":"Dogs engage in rapid-eye-movement when they sleep, and have dreams just like humans do."},{"fact":"Most vets recommend that female dogs don\u2019t get pregnant until the third estrus."},{"fact":"Even with their poor eyesight, dogs can still see better at night than humans do."},{"fact":"A dog\u2019s heart beats up to 120 times per minute, or 50 faster than the average human heartbeat of 80 times per minute."},{"fact":"Rock star Ozzy Osborne saved his wife Sharon\u2019s Pomeranian from a coyote by tackling ad wresting the coyote until it released the dog."},{"fact":"Dogs can get jealous when their humans display affection toward someone or something else."},{"fact":"Dogs DO have better low-light vision than humans because of a special light-reflecting layer behind their retinas."},{"fact":"Did you hear that? Sound frequency is measured in Hertz \\"Hz\\"}. The higher the Hertz, the higher-pitched the sound. Dogs hear best at 8,000 Hz, while humans hear best at around 2,000 Hz."},{"fact":"The average dog lives 10 to 14 years."},{"fact":"With love and a little patience, dogs can learn to walk backwards, salute and bow."},{"fact":"Newfoundlands are great swimmers because of their webbed feet."},{"fact":"At the end of the Beatles\u2019 song \\"A Day in the Life,\\" a high-pitched dog whistle was recorded by Paul McCartney for his sheepdog."},{"fact":"Female wolves have been known to travel great distances to regurgitate full meals for their hungry pups."},{"fact":"This pup, Nesbit, earned over one million Delta airline miles in his life and had his own frequent flier card."},{"fact":"The Labrador Retriever is the #1 favorite breed in the U.S., Canada, and the U.K."},{"fact":"Some dogs can tell if a human is about to have an epileptic fit."},{"fact":"Dogs were first domesticated by cavemen."},{"fact":"A dog\u2019s vision is not fully developed until after the first month."},{"fact":"The Mayans and Aztecs symbolized every tenth day with the dog, and those born under this sign were believed to have outstanding leadership skills."},{"fact":"The American Kennel Club, the most influential dog club in the United States, was founded in 1884."},{"fact":"Hollywood\u2019s first and arguably best canine superstar was Rin Tin Tin, a five-day-old German Shepherd found wounded in battle in WWI France and adopted by an American soldier, Lee Duncan. He would sign his own contracts with his paw print."},{"fact":"The Norwegian Lundehund is the only dog with six toes on each foot."},{"fact":"Dogs have three eyelids, including one to keep their eyes moist and protected."},{"fact":"When dogs copulate, it is very normal for them to get stuck together and it may last for up to 45 minutes."},{"fact":"Weird dog laws include allowing police offers in Palding, Ohio, to bite a dog to quiet it. In Ventura County, California, cats and dogs are not allowed to have sex without a permit."},{"fact":"Dogs sleep for an average of 10 hours per day."},{"fact":"Gidget is the name of the Taco Bell dog."},{"fact":"Thomas Jefferson helped enact a dog tax in Virginia, because he was annoyed that dogs were killing his sheep."},{"fact":"Dog trainers in ancient China were held in high esteem. A great deal of dog domestication also took place in China, especially dwarfing and miniaturization."},{"fact":"Puppies are blind, deaf and toothless when born."},{"fact":"Laika, a Russian stray, was the first living mammal to orbit the Earth, in the Soviet Sputnik spacecraft in 1957. Though she died in space, her daughter Pushnika had four puppies with President John F. Kennedy\u2019s terrier, Charlie."},{"fact":"Greyhounds appear to be the most ancient dog breed. \\"Greyhound\\" comes from a mistake in translating the early German name Greishund, which means \\"old\\" or \\"ancient dog\\" not from the color gray."},{"fact":"Pit bulls have been given a bad rap. BADRAP was started in the San Francisco Bay area on behalf of \\"pit bulls and their people\\" and was ranked nationally as a No. 1 high-impact nonprofit for animal welfare."},{"fact":"One survey reports that 33 of dog owners admit they talk to their dogs on the phone or leave messages on answering machines while they are away.."},{"fact":"Franklin Roosevelt spent $15,000 for a destroyer to pick up his Scottie in the Aleutian Islands."},{"fact":"One of Shakespeare\u2019s most mischievous characters is Crab, the dog belonging to Launce in the Two Gentlemen of Verona. The word \\"watchdog\\" is first found in The Tempest."},{"fact":"A lost Dachshund was found swallowed whole in the stomach of a giant catfish in Berlin on July 2003."},{"fact":"No, it\u2019s not just to make themselves look adorable. Dogs curl up in a ball when they sleep due to an age-old instinct to keep themselves warm and protect their abdomen and vital organs from predators."},{"fact":"Therapy dogs, who bring healing to individuals and families by visiting hospitals schools or retirement homes, differ from service dogs, who assist individuals who have disabilities."},{"fact":"Bloodhound dogs have a keen sense of smell and have been used since the Middle Ages to track criminals."},{"fact":"Some stray Russian dogs have figured out how to use the subway system in order to travel to more populated areas in search of food."},{"fact":"President Lyndon Johnson had two beagles named Him and Her."},{"fact":"Thirty percent of all Dalmatians are deaf in one or both ears. Because bulldogs have extremely short muzzles, many spend their lives fighting suffocation. Because Chihuahuas have such small skulls, the flow of spinal fluid can be restricted, causing hydrocephalus, a swelling of the brain."},{"fact":"Baks the blind boxer has a seeing eye goose named Buttons. Buttons the four-year-old goose leads her pup around everywhere either by hanging onto him with her neck, or by honking to tell him which way to go."},{"fact":"A German Shepherd named Orient accompanied her blind owner Bill Irwin as he became the first blind person to through-hike the 2,100-mile Appalachian Trail in 1990."},{"fact":"The ancient Chinese carried Pekingese puppies in the sleeves of their robes."},{"fact":"A dog can both sniff and breathe at the same time."},{"fact":"Bingo is the name of the dog on the box of Cracker Jacks."},{"fact":"Analysis of the dog genome demonstrate only 4 major types of dogs: \\"Old Lineage Dogs,\\" \\"Mastiff-type Dogs,\\" \\"Herding Dogs,\\" and \\"Modern Hunting Dogs\\"."},{"fact":"Male dogs will raise their legs while urinating to aim higher on a tree or lamppost because they want to leave a message that they are tall and intimidating. Some wild dogs in Africa try to run up tree trunks while they are urinating to appear to be very large."},{"fact":"Dogs have no sense of time."},{"fact":"Obesity is the top health problem among dogs."},{"fact":"The ancient religion Zoroastrianism includes in its religious text titled the Zend Avesta a section devoted to the care and breeding of dogs."},{"fact":"In Croatia, scientists discovered that lampposts were falling down because a chemical in the urine of male dogs was rotting the metal."},{"fact":"Spiked dog collars were used to protect dogs\' throats from wolf attacks in ancient Greece."},{"fact":"The grief suffered after a pet dog dies can be the same as that experienced after the death of a person."},{"fact":"Dogs live an average of 15 years."},{"fact":"Police dogs can smell human bodies even when they are buried up to 3 meters in the ground."},{"fact":"Dogs have three eyelids. The third lid, called a nictitating membrane or \\"haw,\\" keeps the eye lubricated and protected."},{"fact":"A dog most likely interprets a smiling person as baring their teeth, which is an act of aggression."},{"fact":"Three dogs survived the sinking of the Titanic: a Newfoundland, a Pomeranian, and a Pekingese."},{"fact":"Perky-eared dogs hear sounds better than floppy-eared dogs."},{"fact":"A dog\'s sense of smell is 10,000 times stronger than a human\'s."},{"fact":"Humans have kept dogs as pets for over 12,000 years."},{"fact":"A German Shepherd guide dog led her blind companion the entire 2,100 mile Appalachian Trail."},{"fact":"Dogs can see best at dawn and dusk."},{"fact":"Express yourself. Dogs\u2019 ears are extremely expressive. It\u2019s no wonder! There are more than a dozen separate muscles that control a dog\u2019s ear movements."},{"fact":"The breed Lundehune has 6 toes and can close its ears."},{"fact":"The process of birthing puppies is called \\"whelping.\\""},{"fact":"When dogs were evolving, bone marrow could sometimes form an important part of their diet."},{"fact":"Dogs do dream! Dogs and humans have the same type of slow wave sleep \\"SWS\\"} and rapid eye movement \\"REM\\" and during this REM stage dogs can dream. The twitching and paw movements that occur during their sleep are signs that your pet is dreaming"},{"fact":"When Lord Byron was informed that his dog was not allowed to come with him to Cambridge Trinity College, he retaliated by bringing a bear instead."},{"fact":"Dogs are natural pack animals."},{"fact":"Boxers are so named because of their manner of playing using their front paws."},{"fact":"A bloodhound named Tigger holds the record for the longest ears, each measuring more than 13 inches."}]');const H3=function(){const[e,t]=(0,W.useState)("");return(0,W.useEffect)((()=>{const e=()=>{const e=Math.floor(Math.random()*V3.length);return V3[e].fact};t(e());const n=setInterval((()=>{t(e())}),3e4);return()=>clearInterval(n)}),[]),(0,ne.jsx)("div",{className:"block-facts",children:(0,ne.jsx)("h2",{className:"fts",children:(0,ne.jsx)("p",{children:e})})})};const G3=function(){return(0,ne.jsxs)("div",{className:"bg-classification",children:[(0,ne.jsx)(bo,{}),(0,ne.jsx)("span",{children:"\xa0\xa0"}),(0,ne.jsx)("span",{children:"\xa0\xa0"}),(0,ne.jsx)(H3,{}),(0,ne.jsx)("span",{children:"\xa0\xa0"}),(0,ne.jsx)("span",{children:"\xa0\xa0"}),(0,ne.jsx)("span",{children:"\xa0\xa0"}),(0,ne.jsx)("span",{children:"\xa0\xa0"}),(0,ne.jsx)("h3",{className:"ic",children:"Load model to know your dog's breed"}),(0,ne.jsx)(U3,{})]})};const q3=function(){const[e,t]=(0,W.useState)(""),[n,a]=(0,W.useState)([]),[r,o]=(0,W.useState)(null),[s,i]=(0,W.useState)(!1),[l,c]=(0,W.useState)(""),[u,d]=(0,W.useState)([]),[h,p]=(0,W.useState)(-1);(0,W.useEffect)((()=>(window.addEventListener("popstate",f),()=>{window.removeEventListener("popstate",f)})),[]);const f=()=>{const e=u.indexOf(window.location.pathname);p(e)},m=async e=>{o(e),i(!0);try{const t=await Nm.get("https://en.wikipedia.org/w/api.php",{params:{action:"parse",page:e,format:"json",origin:"*",prop:"text"}});c(t.data.parse.text["*"]);const n=[...u.slice(0,h+1),e];d(n),p(h+1),window.history.pushState({page:"wiki"},"","")}catch(t){console.error("Error fetching page content:",t)}finally{i(!1)}};return(0,ne.jsx)("div",{className:"Wikipedia-img",children:(0,ne.jsxs)(W.StrictMode,{children:[(0,ne.jsx)(bo,{}),(0,ne.jsx)("h1",{children:"Have Doubts about Dogs ? Search here "}),(0,ne.jsx)("span",{children:"\xa0\xa0"}),(0,ne.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Enter search term",className:"search-input",style:{width:"70%",padding:"12px",borderRadius:"8px",border:"2px solid #007bff",outline:"none"}}),(0,ne.jsx)("span",{children:"\xa0\xa0"}),(0,ne.jsx)("button",{onClick:async()=>{try{const t=await Nm.get("https://en.wikipedia.org/w/api.php",{params:{action:"query",list:"search",srsearch:e,format:"json",origin:"*"}});a(t.data.query.search)}catch(t){console.error("Error fetching search results:",t)}},className:"search-btn",children:"Search"}),(0,ne.jsx)("button",{onClick:()=>{o(null),a([]),t("")},className:"reset-btn",children:"Reset"}),(0,ne.jsx)("button",{onClick:()=>{if(h>0){const t=u[h-1];m(t),p(h-1);try{window.history.back()}catch(e){console.error("Error going back:",e)}}},disabled:h<=0,className:"back-btn",children:"Back"}),(0,ne.jsx)("div",{id:"display-result",className:"result-container",children:r?(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h2",{children:r}),s?(0,ne.jsx)("p",{children:"Loading content..."}):(0,ne.jsx)("div",{dangerouslySetInnerHTML:{__html:l},onClick:e=>{const t=e.target.getAttribute("href");if(t&&t.startsWith("/wiki/")){e.preventDefault();const n=decodeURIComponent(t.substring(6));m(n)}else if(t&&!t.startsWith("#"))try{window.open(t,"_blank"),e.preventDefault()}catch(n){console.error("Error opening link:",n)}}})]}):(0,ne.jsx)("div",{children:n.map(((e,t)=>(0,ne.jsx)("p",{children:(0,ne.jsx)("button",{onClick:()=>m(e.title),className:"result-btn",children:e.title})},t)))})})]})})},K3=e=>{let{memorial:t,onCommentSubmit:n}=e;const[a,r]=(0,W.useState)("");return(0,ne.jsx)(gh,{style:{marginBottom:"20px"},children:(0,ne.jsxs)(gh.Body,{children:[(0,ne.jsx)(gh.Title,{children:t.petName}),(0,ne.jsx)(gh.Img,{src:t.photo,alt:t.petName,style:{maxWidth:"300px",maxHeight:"300px"}}),(0,ne.jsx)(gh.Text,{children:t.story}),(0,ne.jsx)(gh.Text,{children:t.memories}),(0,ne.jsxs)(Ja,{onSubmit:e=>{e.preventDefault(),n(t.id,a),r("")},children:[(0,ne.jsx)(Ja.Group,{controlId:"comment",children:(0,ne.jsx)(Ja.Control,{type:"text",placeholder:"Leave a comment",value:a,onChange:e=>{r(e.target.value)}})}),(0,ne.jsx)(ba,{type:"submit",children:"Submit Comment"})]}),t.comments&&t.comments.length>0&&(0,ne.jsxs)("div",{children:[(0,ne.jsx)("h5",{children:"Comments:"}),t.comments.map(((e,t)=>(0,ne.jsx)("p",{children:e},t)))]})]})})},X3=()=>{const[e,t]=(0,W.useState)([]),[n,a]=(0,W.useState)({petName:"",photo:null,story:"",memories:""}),r=e=>{a({...n,[e.target.name]:e.target.value})},o=(e,n)=>{t((t=>t.map((t=>t.id===e?{...t,comments:[...t.comments,n]}:t))))};return(0,ne.jsxs)("div",{className:"Memorials-bgm",children:[(0,ne.jsx)(bo,{}),(0,ne.jsx)("div",{className:"background-image",children:(0,ne.jsx)("div",{className:"auth-wrapper",children:(0,ne.jsxs)(go,{children:[(0,ne.jsx)(Pa,{md:6,children:(0,ne.jsx)(Xm.ur,{style:{width:"100%",height:"calc(100vh - 80px)"},children:e.map((e=>(0,ne.jsx)(gh,{style:{marginBottom:"10px"},children:(0,ne.jsx)(K3,{memorial:e,onCommentSubmit:o})},e.id)))})}),(0,ne.jsx)(Pa,{md:6,children:(0,ne.jsxs)("div",{className:"auth-inner",children:[(0,ne.jsx)("h3",{className:"login-title",children:"Memorials Page"}),(0,ne.jsxs)(Ja,{onSubmit:r=>{r.preventDefault();const o={id:Math.floor(1e6*Math.random()),petName:n.petName,photo:URL.createObjectURL(n.photo),story:n.story,memories:n.memories,comments:[]};t([...e,o]),a({petName:"",photo:null,story:"",memories:""})},style:{marginBottom:"20px"},children:[(0,ne.jsxs)(Ja.Group,{controlId:"petName",children:[(0,ne.jsx)(Ja.Label,{children:"Pet Name:"}),(0,ne.jsx)(Ja.Control,{type:"text",name:"petName",value:n.petName,onChange:r,required:!0})]}),(0,ne.jsxs)(Ja.Group,{controlId:"photo",children:[(0,ne.jsx)(Ja.Label,{children:"Photo:"}),(0,ne.jsx)(Ja.Control,{type:"file",name:"photo",onChange:e=>{a({...n,photo:e.target.files[0]})},accept:"image/*",required:!0})]}),(0,ne.jsxs)(Ja.Group,{controlId:"story",children:[(0,ne.jsx)(Ja.Label,{children:"Story:"}),(0,ne.jsx)(Ja.Control,{as:"textarea",name:"story",value:n.story,onChange:r,required:!0})]}),(0,ne.jsxs)(Ja.Group,{controlId:"memories",children:[(0,ne.jsx)(Ja.Label,{children:"Memories:"}),(0,ne.jsx)(Ja.Control,{as:"textarea",name:"memories",value:n.memories,onChange:r,required:!0})]}),(0,ne.jsx)(ba,{type:"submit",children:"Share"})]})]})})]})})})]})},Y3=e=>{const{cartItems:t,addItemToCart:n,showCart:a,setShowCart:r,User:o}=e,s=qr();return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)("div",{className:"marquee-header",children:(0,ne.jsx)(yo,{})}),(0,ne.jsxs)(Tn,{bg:"dark",variant:"dark",sticky:"top",children:[(0,ne.jsxs)(pe,{children:[(0,ne.jsx)("img",{src:ga,className:"Logo-style",alt:"Logo"}),"Dog Care"]}),(0,ne.jsx)("div",{className:"ml-auto",children:(0,ne.jsx)(Jn,{children:""!==o?(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(Jn.Link,{children:"Welcome to inventory page"}),(0,ne.jsx)(ba,{variant:"outline-light",onClick:()=>{s("/")},children:"Logout"})]}):null})})]})]})},Q3=()=>{const[e,t]=(0,W.useState)([]),[n,a]=(0,W.useState)(""),[r,o]=(0,W.useState)(""),[s,i]=(0,W.useState)(null),[l,c]=(0,W.useState)(null),[u,d]=(0,W.useState)(""),[h,p]=(0,W.useState)("");(0,W.useEffect)((()=>{f()}),[]);const f=async()=>{try{const e=await Nm.get("".concat(Rp)+"/getInventoryManagmentProducts");t(e.data)}catch(e){console.error("Error fetching products:",e)}};return(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Y3,{}),(0,ne.jsxs)("div",{style:{fontFamily:"Arial, sans-serif",maxWidth:"1200px",margin:"0 auto",display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,ne.jsx)("h1",{style:{textAlign:"center",fontSize:"2rem",marginBottom:"1rem"},children:"Inventory Management"}),(0,ne.jsxs)("div",{style:{marginBottom:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[(0,ne.jsx)("input",{type:"text",placeholder:"Name",value:n,onChange:e=>a(e.target.value),style:{padding:"0.5rem",marginRight:"1rem",flex:"1"}}),(0,ne.jsx)("input",{type:"number",placeholder:"Price",value:r,onChange:e=>o(e.target.value),style:{padding:"0.5rem",marginRight:"1rem",width:"120px"}}),(0,ne.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{i(e.target.files[0])},style:{marginRight:"1rem"}}),(0,ne.jsx)("button",{onClick:async()=>{try{const e=new FormData;e.append("name",n),e.append("price",r),s&&e.append("file",s),await Nm.post("".concat(Rp)+"/addInventoryManagmentProducts",e,{headers:{"Content-Type":"multipart/form-data"}}),f(),a(""),o(""),i(null)}catch(e){console.error("Error adding product:",e)}},style:{padding:"0.5rem 1rem",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Add Product"})]}),(0,ne.jsx)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"1rem",width:"100%"},children:e.map((e=>(0,ne.jsxs)("div",{style:{width:"calc(25% - 1rem)",border:"1px solid #ccc",borderRadius:"5px",padding:"1rem",position:"relative"},children:[(0,ne.jsx)("img",{src:"data:image/jpeg;base64,".concat(e.image),alt:e.name,style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"5px"}}),(0,ne.jsx)("div",{style:{marginTop:"0.5rem"},children:l===e.id?(0,ne.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,ne.jsx)("input",{type:"text",value:u,onChange:e=>d(e.target.value),style:{padding:"0.5rem",marginBottom:"0.5rem"}}),(0,ne.jsx)("input",{type:"number",value:h,onChange:e=>p(e.target.value),style:{padding:"0.5rem",marginBottom:"0.5rem"}}),(0,ne.jsx)("button",{onClick:()=>(async e=>{try{await Nm.put("".concat(Rp)+"/updateInventoryManagment/".concat(e),{name:u,price:h}),c(null),f()}catch(t){console.error("Error updating product:",t)}})(e.id),style:{padding:"0.5rem 1rem",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Save"})]}):(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)("p",{style:{fontSize:"1.2rem",fontWeight:"bold",marginBottom:"0.5rem"},children:e.name}),(0,ne.jsxs)("p",{style:{marginBottom:"0.5rem"},children:["$",e.price]}),(0,ne.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,ne.jsx)("button",{onClick:()=>(async e=>{try{await Nm.delete("".concat(Rp)+"/deleteInventoryManagment/".concat(e)),f()}catch(t){console.error("Error deleting product:",t)}})(e.id),style:{padding:"0.5rem 1rem",backgroundColor:"#dc3545",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",marginRight:"0.5rem"},children:"Delete"}),(0,ne.jsx)("button",{onClick:()=>{return t=e.id,n=e.name,a=e.price,c(t),d(n),void p(a);var t,n,a},style:{padding:"0.5rem 1rem",backgroundColor:"#ffc107",color:"black",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Edit"})]})]})})]},e.id)))})]})]})},Z3={container:{display:"flex",flexDirection:"column",minHeight:"100vh"},content:{flex:1,padding:"20px"},searchBar:{width:"100%",padding:"10px",fontSize:"16px",marginBottom:"20px"},itemList:{listStyleType:"none",margin:0,padding:0,display:"flex",flexWrap:"wrap"},listHeader:{display:"flex",justifyContent:"space-between",fontWeight:"bold",borderBottom:"1px solid #ccc",padding:"10px 0",width:"100%"},heading:{flexBasis:"50%",textAlign:"center"},listItem:{display:"flex",justifyContent:"space-between",borderBottom:"1px solid #ccc",padding:"10px 0",width:"100%"}},J3=()=>{const[e,t]=(0,W.useState)([]),[n,a]=(0,W.useState)("");(0,W.useEffect)((()=>{Nm.get("".concat(Rp)+"/getInventoryManagmentProducts").then((e=>t(e.data))).catch((e=>console.error("Error fetching items:",e)))}),[]);const r=e.filter((e=>e.name.toLowerCase().includes(n.toLowerCase())));return(0,ne.jsxs)("div",{className:"inventory-page",style:Z3.container,children:[(0,ne.jsx)(Zm,{}),(0,ne.jsxs)("div",{style:Z3.content,children:[(0,ne.jsx)("input",{type:"text",placeholder:"Search by product name",value:n,onChange:e=>a(e.target.value),style:Z3.searchBar}),(0,ne.jsxs)("ul",{style:Z3.itemList,children:[(0,ne.jsxs)("li",{style:Z3.listHeader,children:[(0,ne.jsx)("span",{style:Z3.heading,children:"Name"}),(0,ne.jsx)("span",{style:Z3.heading,children:"Price"})]}),r.map((e=>(0,ne.jsxs)("li",{style:Z3.listItem,children:[(0,ne.jsx)("span",{children:e.name}),(0,ne.jsxs)("span",{children:["$",e.price]})]},e.id)))]})]})]})},$3={table:{width:"100%",borderCollapse:"collapse",border:"1px solid #ddd"},th:{border:"1px solid #ddd",padding:"8px",textAlign:"left",backgroundColor:"#f2f2f2"},td:{border:"1px solid #ddd",padding:"8px",textAlign:"left"}},e4=()=>{const[e,t]=(0,W.useState)([]);(0,W.useEffect)((()=>{n()}),[]);const n=async()=>{try{const e=await Nm.get("".concat(Rp)+"/getUsersData");t(e.data)}catch(e){console.error("Error fetching users:",e)}};return(0,ne.jsxs)("div",{children:[(0,ne.jsx)(Zm,{}),(0,ne.jsxs)("table",{style:$3.table,children:[(0,ne.jsx)("thead",{children:(0,ne.jsxs)("tr",{children:[(0,ne.jsx)("th",{children:"Email"}),(0,ne.jsx)("th",{children:"First Name"}),(0,ne.jsx)("th",{children:"Last Name"}),(0,ne.jsx)("th",{children:"Password"})]})}),(0,ne.jsx)("tbody",{children:e.map((e=>(0,ne.jsxs)("tr",{children:[(0,ne.jsx)("td",{children:e.email}),(0,ne.jsx)("td",{children:e.firstName}),(0,ne.jsx)("td",{children:e.lastName}),(0,ne.jsx)("td",{children:e.password})]},e.email)))})]})]})};const t4=function(e){let{results:t=[],reset:n}=e;return(0,ne.jsxs)("div",{children:[t&&t.length>0?(0,ne.jsx)("ul",{className:"detect-list",children:t.map((e=>{let{className:t,probability:n}=e;return(0,ne.jsx)("li",{children:"".concat(t,": %").concat((100*n).toFixed(2))},t)}))}):(0,ne.jsx)("p",{children:"No results found"}),(0,ne.jsx)("button",{className:"detect-button",onClick:()=>{n(),window.location.href="/detection"},children:"Reset"})]})};const n4=function(){const[e,t]=(0,W.useState)("home"),[n,a]=(0,W.useState)(""),[r,o]=(0,W.useState)(""),[s,i]=(0,W.useState)({image:Np,title:"GROOMING HEALTH-TIPS AND TRICKS",description:"6 Tips to Keep Your French Bulldogs Smelling Fresh",introduction:"Are you looking for ways to maintain your French Bulldog's pleasant scent? Look no further! Our guide offers a variety of Effective Bathing Methods that will leave your four-legged companion smelling wonderful. You'll learn how to select the ideal shampoo and conditioner, as well as achieve optimal water temperature during bath time - all guaranteed to make an impact. Discover more about maintaining your furry friend's odor by continuing to read on below.",headingsAndParas:{"Regular Grooming":["Keeping your French Bulldog smelling fresh begins with Regular Grooming. This practice not only ensures your furry companion looks their best but also plays a significant role in managing their aroma.","Start by brushing your Frenchie's coat regularly to remove loose hair and dirt. This simple step not only keeps their fur clean but also reduces shedding, which can contribute to odors around your home.","Pay special attention to their facial wrinkles. These adorable folds can trap moisture and debris, creating the perfect breeding ground for unpleasant smells. Gently clean these areas to prevent any build-up.","Trimming your Frenchie's nails is another essential grooming task. Overgrown nails can collect dirt and odors from their paws, so keeping them well-maintained can help manage any unpleasant scents.","Additionally, don't forget to keep your French Bulldog's ears clean. Ear-related odors can develop if wax and debris accumulate. Use gentle cleaning solutions and seek advice from your veterinarian if you notice any unusual ear odor or discharge.","For added convenience, consider using Paw.com's pet wipes and beauty kit. These specially designed products can make your grooming routine more efficient, leaving your Frenchie smelling fresh and looking fabulous."],"A Balanced Diet":["What your French Bulldog eats has a direct impact on their overall aroma. A Balanced Diet is crucial for ensuring they smell pleasant and stay healthy.","Begin by selecting high-quality dog food with the right ingredients. Look for options that include real meat as the primary source of protein and avoid the ones with   fillers or artificial additives.","Proper hydration is equally important. Ensure your Frenchie has access to clean water at all times. Dehydration can lead to concentrated urine, which can be a source of strong odors.","Resist the temptation to overfeed your Frenchie or offer excessive treats. Obesity and indigestion can contribute to unpleasant body odors. Stick to recommended portion sizes and opt for healthy treat alternatives.","Monitor your French Bulldog for food allergies or sensitivities. Allergic reactions can manifest as skin issues or gastrointestinal problems, both of which can lead to unwanted odors. Consult your vet if you suspect food-related issues.","Remember, a well-balanced diet not only promotes good health but also contributes to a pleasant, fresh scent for your French Bulldog."],"Dental Care":["Maintaining proper oral hygiene for your French Bulldog is a key element in aroma management. Dental Care plays a significant role in keeping your Frenchie's breath and overall scent pleasant.","Start by brushing your Frenchie's teeth regularly. This simple yet effective practice helps prevent the build-up of plaque and tartar, which can lead to bad breath and oral odor.","Incorporate dental chews or toys into your Frenchie's routine. These can help reduce plaque and tartar build-up while keeping them mentally stimulated.","Regular visits to the vet for professional dental cleanings are essential. Your vet can perform a thorough examination of your Frenchie's oral health and address any dental issues promptly.","Fresh breath is not only a sign of good dental health but also contributes to a fresher overall scent for your furry friend.","Consider using dental care products to maintain your Frenchie's oral health. These specially designed products can complement your dental care routine and contribute to a more pleasant aroma management strategy."],"Clean Environment":["Maintaining a Clean Environment is crucial in your quest to keep your French Bulldog smelling fresh. This aspect encompasses not only your Frenchie's belongings but also your home environment.","Start by washing your Frenchie's bedding and toys frequently. Over time, these items can accumulate odors, and regular cleaning helps prevent them from becoming a source of unwanted smells.","To tackle the issue at its source, vacuum and mop your home regularly. Pet hair, dander, and debris can accumulate on your floors and furniture, leading to lingering odors. A clean living space goes a long way in aroma management.","Should accidents happen, eliminate urine or feces promptly. Prompt cleanup not only maintains a fresh environment but also discourages repeat incidents.","Consider using pet-friendly air purifiers if needed. These devices help remove airborne allergens and odors, creating a cleaner and more pleasant atmosphere for both you and your Frenchie Remember, a clean environment is an effective way to reduce lingering odors and contribute to a fresher living space for you and your French Bulldog."],"Regular Vet Check-Ups":["Regular veterinary check-ups are a cornerstone of Aroma Management for your French Bulldog. These visits are essential not only for their overall health but also for addressing potential odor-related issues","Schedule routine vet visits for comprehensive health assessments. Your veterinarian can detect underlying health problems that may contribute to unpleasant odors.","Address any identified health issues promptly. Skin conditions, allergies, or infections can be a source of persistent odors. Your vet can provide guidance on appropriate treatments and management strategies.","Seek professional advice if you notice persistent odors despite following other aroma management techniques. Your vet can investigate and offer tailored solutions.","Keeping your Frenchie's vaccinations and preventatives up to date is equally crucial. Preventing diseases and parasites not only ensures their well-being but also helps maintain a healthier, odor-free pet.","A healthy French Bulldog is less likely to have odor problems, so prioritize regular vet check-ups to keep them in top shape."],"Natural Remedies":["Exploring Natural Remedies is an eco-friendly and effective approach to aroma management for your French Bulldog. These solutions can complement your efforts to keep your furry friend smelling fresh.","Consider natural odor-neutralizing options such as activated charcoal or bamboo charcoal bags. These natural absorbents can help eliminate unwanted scents in your home.","Use pet-safe air fresheners or diffusers that emit natural fragrances like lavender or eucalyptus. These aromas can create a pleasant environment without the use of harsh chemicals.","Aromatherapy is another intriguing option. Essential oils like lavender or chamomile, when used cautiously and in moderation, can help maintain a soothing and pleasant atmosphere.","Baking soda is a well-known natural deodorizer. Sprinkle it on carpets, furniture, or other odor-prone areas, let it sit, and then vacuum it up to neutralize smells effectively.","For the best results, consider combining these natural solutions with Paw.com's quality products. Their expertise in pet care can help you achieve a harmonious and aromatic living space for both you and your French Bulldog."],"Final Thoughts":["In your journey to maintain a delightful aroma for your beloved French Bulldog, you've explored an array of effective strategies. These tips, ranging from proper grooming to natural remedies, offer a holistic approach to Aroma Management that ensures a fresh and pleasant environment for both you and your furry companion.","Remember, consistency is key. Regular grooming, a balanced diet, dental care, and a clean living space all contribute to a harmonious atmosphere. Seeking professional veterinary care and exploring natural remedies further enhance your efforts.","As you implement these strategies, consider the advantages of Paw.com's quality pet care products. Their specially designed shampoo, conditioner, pet wipes, and beauty kit can elevate your aroma management routine, providing convenience and effectiveness.","So, in conclusion, take these valuable insights and make them a part of your daily routine. By doing so, you'll not only ensure that your French Bulldog smells fresh and delightful but also enjoy the rewards of a stronger bond with your cherished companion. Here's to an odor-free and joyful journey with your Frenchie!"]}}),[l,c]=(0,W.useState)(!1),[u,d]=(0,W.useState)({}),[h,p]=(0,W.useState)([]),[f,m]=(0,W.useState)({breed:"Golden Retriever",overview:{description:"Friendly and Gentle. Known for their friendly and gentle nature, making them wonderful family companions.",size:"Medium-to-Large",height_range:"21.5 to 24 inches at the shoulder",weight_range:"55 to 75 pounds",coat_colors:["golden"]},temperament_and_personality:{traits:["Social and Affectionate","Intelligent and Trainable"],description:"Highly social dogs that thrive on human companionship. With high intelligence, they're easily trainable, making them excellent family pets and therapy dogs."},feeding_recommendations:{diet:"Balanced Nutrition",special_consideration:"Coat Health",description:"Provide a diet with balanced nutrition to support their overall health, including coat health. Foods rich in omega-3 fatty acids contribute to a healthy, shiny coat."},nutritional_essentials:{protein:"18-25%",fats:"8-15%, with omega-3 and omega-6",carbohydrates:"30-70% from whole grains and vegetables",vitamins_and_minerals:["A","D","E","B-complex","balanced minerals"],antioxidants:"From fruits and vegetables",coat_health:"Omega-3 fatty acids for a healthy coat",avoid:"Artificial additives",hydration:"Provide fresh water always"},portion_guidelines:{puppies:"Feed 3-4 times a day to support their growth",adults:"Feed twice a day, adjusting portions based on weight and activity level",seniors:"Consider a diet tailored to their changing nutritional needs"},additional_information:"Golden Retrievers are known for their friendly and gentle temperament, and they require regular exercise to stay healthy and happy. Consult your vet for personalized advice based on your Golden Retriever's specific needs."});return(0,ne.jsx)(ne.Fragment,{children:(0,ne.jsx)(wo,{children:(0,ne.jsxs)(io,{children:[(0,ne.jsx)(oo,{path:"/",element:(0,ne.jsx)(Ph,{product:u,setProduct:d,cartItems:h,addItemToCart:p,setShowCart:c,showCart:l})}),(0,ne.jsx)(oo,{path:"/home",element:(0,ne.jsx)(Ph,{User:n,product:u,setProduct:d,cartItems:h,addItemToCart:p,setShowCart:c,showCart:l})}),(0,ne.jsx)(oo,{path:"/Product",element:(0,ne.jsx)(zh,{User:n,product:u,cartItems:h,addItemToCart:p,setProduct:d,setShowCart:c,showCart:l})}),(0,ne.jsx)(oo,{path:"/Breeds",element:(0,ne.jsx)(Sp,{setProductCat:o,User:n,breed:f,setBreed:m,cartItems:h,addItemToCart:p}),setShowCart:c,showCart:l}),(0,ne.jsx)(oo,{path:"/BlogPage",element:(0,ne.jsx)(jm,{User:n,product:u,setProduct:d,cartItems:h,addItemToCart:p,setShowCart:c,showCart:l,setBlog:i})}),(0,ne.jsx)(oo,{path:"/Blog",element:(0,ne.jsx)(Bm,{User:n,product:u,setProduct:d,cartItems:h,addItemToCart:p,setShowCart:c,showCart:l,blog:s,setBlog:i})}),(0,ne.jsx)(oo,{path:"/ContactUs",element:(0,ne.jsx)(Um,{User:n,product:u,setProduct:d,cartItems:h,addItemToCart:p,setShowCart:c,showCart:l})}),(0,ne.jsx)(oo,{path:"/ProductList",element:(0,ne.jsx)(Vm,{productCat:r,User:n,product:u,cartItems:h,addItemToCart:p,setProduct:d,setShowCart:c,showCart:l})}),(0,ne.jsx)(oo,{path:"/sign-in",element:(0,ne.jsx)(Dp,{User:n,changeUser:a,page:e,changePage:t,product:u,setProduct:d,cartItems:h,addItemToCart:p,setShowCart:c,showCart:l})}),(0,ne.jsx)(oo,{path:"/sign-up",element:(0,ne.jsx)(Hm,{User:n,page:e,changePage:t,product:u,setProduct:d,cartItems:h,addItemToCart:p,setShowCart:c,showCart:l})}),(0,ne.jsx)(oo,{path:"/Pawsonality",element:(0,ne.jsx)(Gm,{User:n,page:e,changePage:t,product:u,setProduct:d,cartItems:h,addItemToCart:p,setShowCart:c,showCart:l})}),(0,ne.jsx)(oo,{path:"/admin",element:(0,ne.jsx)(Jm,{})}),(0,ne.jsx)(oo,{path:"/payment",element:(0,ne.jsx)(eg,{User:n,page:e,changePage:t,product:u,setShowCart:c,showCart:l,cartItems:h,addItemToCart:p})}),(0,ne.jsx)(oo,{path:"/ImageClassification",element:(0,ne.jsx)(G3,{})}),(0,ne.jsx)(oo,{path:"/Wikipedia",element:(0,ne.jsx)(q3,{})}),(0,ne.jsx)(oo,{path:"/memorials",element:(0,ne.jsx)(X3,{})}),(0,ne.jsx)(oo,{path:"/im",element:(0,ne.jsx)(Q3,{})}),(0,ne.jsx)(oo,{path:"/inventory",element:(0,ne.jsx)(J3,{})}),(0,ne.jsx)(oo,{path:"/UserDetails",element:(0,ne.jsx)(e4,{})}),(0,ne.jsx)(oo,{path:"/image",element:(0,ne.jsx)(t4,{})}),(0,ne.jsx)(oo,{path:"/detection",element:(0,ne.jsx)(U3,{})})]})})})};V.createRoot(document.getElementById("root")).render((0,ne.jsx)(W.StrictMode,{children:(0,ne.jsx)(n4,{})}))})()})();
//# sourceMappingURL=main.f38b5455.js.map